"use strict";(self.webpackChunkspark_village_16=self.webpackChunkspark_village_16||[]).push([[792],{76:(ul,gs,Pt)=>{Pt.d(gs,{Am:()=>pl,Bd:()=>Ce,FA:()=>li,Fy:()=>sr,I9:()=>Ta,Im:()=>bo,Ku:()=>Ee,Ll:()=>it,T9:()=>rr,Uj:()=>di,XA:()=>Yi,ZQ:()=>Bt,bD:()=>Fo,c1:()=>xi,cY:()=>Bi,dM:()=>je,eX:()=>Te,g:()=>Oe,gR:()=>wr,hp:()=>so,jZ:()=>Qe,lT:()=>Zn,lV:()=>un,mS:()=>Li,nr:()=>we,p7:()=>ri,sr:()=>Dn,tD:()=>fs,u:()=>Ie,zW:()=>oe,zw:()=>wt});const _e=function(U){const $=[];let X=0;for(let ie=0;ie<U.length;ie++){let de=U.charCodeAt(ie);de<128?$[X++]=de:de<2048?($[X++]=de>>6|192,$[X++]=63&de|128):55296==(64512&de)&&ie+1<U.length&&56320==(64512&U.charCodeAt(ie+1))?(de=65536+((1023&de)<<10)+(1023&U.charCodeAt(++ie)),$[X++]=de>>18|240,$[X++]=de>>12&63|128,$[X++]=de>>6&63|128,$[X++]=63&de|128):($[X++]=de>>12|224,$[X++]=de>>6&63|128,$[X++]=63&de|128)}return $},dn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,$){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let de=0;de<U.length;de+=3){const rt=U[de],Ze=de+1<U.length,cn=Ze?U[de+1]:0,pr=de+2<U.length,Zt=pr?U[de+2]:0;let xs=(15&cn)<<2|Zt>>6,ce=63&Zt;pr||(ce=64,Ze||(xs=64)),ie.push(X[rt>>2],X[(3&rt)<<4|cn>>4],X[xs],X[ce])}return ie.join("")},encodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(U):this.encodeByteArray(_e(U),$)},decodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(U):function(U){const $=[];let X=0,ie=0;for(;X<U.length;){const de=U[X++];if(de<128)$[ie++]=String.fromCharCode(de);else if(de>191&&de<224){const rt=U[X++];$[ie++]=String.fromCharCode((31&de)<<6|63&rt)}else if(de>239&&de<365){const pr=((7&de)<<18|(63&U[X++])<<12|(63&U[X++])<<6|63&U[X++])-65536;$[ie++]=String.fromCharCode(55296+(pr>>10)),$[ie++]=String.fromCharCode(56320+(1023&pr))}else{const rt=U[X++],Ze=U[X++];$[ie++]=String.fromCharCode((15&de)<<12|(63&rt)<<6|63&Ze)}}return $.join("")}(this.decodeStringToByteArray(U,$))},decodeStringToByteArray(U,$){this.init_();const X=$?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let de=0;de<U.length;){const rt=X[U.charAt(de++)],cn=de<U.length?X[U.charAt(de)]:0;++de;const Zt=de<U.length?X[U.charAt(de)]:64;++de;const Xt=de<U.length?X[U.charAt(de)]:64;if(++de,null==rt||null==cn||null==Zt||null==Xt)throw new fn;ie.push(rt<<2|cn>>4),64!==Zt&&(ie.push(cn<<4&240|Zt>>2),64!==Xt&&ie.push(Zt<<6&192|Xt))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class fn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const di=function(U){return function(U){const $=_e(U);return dn.encodeByteArray($,!0)}(U).replace(/\./g,"")},Ie=function(U){try{return dn.decodeString(U,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function wt(U,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return $}for(const X in $)!$.hasOwnProperty(X)||!Ii(X)||(U[X]=wt(U[X],$[X]));return U}function Ii(U){return"__proto__"!==U}function Li(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yt=()=>{try{return Li().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=U&&Ie(U[1]);return $&&JSON.parse($)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},rr=()=>{var U;return null===(U=Yt())||void 0===U?void 0:U.config},Yi=U=>{var $;return null===($=Yt())||void 0===$?void 0:$[`_${U}`]};class Bi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,X)=>{this.resolve=$,this.reject=X})}wrapCallback($){return(X,ie)=>{X?this.reject(X):this.resolve(ie),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(X):$(X,ie))}}}function sr(U,$){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=$||"demo-project",de=U.iat||0,rt=U.sub||U.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:de,exp:de+3600,auth_time:de,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},U);return[di(JSON.stringify({alg:"none",type:"JWT"})),di(JSON.stringify(Ze)),""].join(".")}function Bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function it(){var U;const $=null===(U=Yt())||void 0===U?void 0:U.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ce(){return typeof window<"u"||ri()}function ri(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function xi(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Dn(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function un(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Zn(){const U=Bt();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function we(){return!it()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise((U,$)=>{try{let X=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(ie);de.onsuccess=()=>{de.result.close(),X||self.indexedDB.deleteDatabase(ie),U(!0)},de.onupgradeneeded=()=>{X=!1},de.onerror=()=>{var rt;$((null===(rt=de.error)||void 0===rt?void 0:rt.message)||"")}}catch(X){$(X)}})}function je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Oe extends Error{constructor($,X,ie){super(X),this.code=$,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,li.prototype.create)}}class li{constructor($,X,ie){this.service=$,this.serviceName=X,this.errors=ie}create($,...X){const ie=X[0]||{},de=`${this.service}/${$}`,rt=this.errors[$],Ze=rt?function nt(U,$){return U.replace(kt,(X,ie)=>{const de=$[ie];return null!=de?String(de):`<${ie}?>`})}(rt,ie):"Error";return new Oe(de,`${this.serviceName}: ${Ze} (${de}).`,ie)}}const kt=/\{\$([^}]+)}/g;function wr(U,$){return Object.prototype.hasOwnProperty.call(U,$)}function bo(U){for(const $ in U)if(Object.prototype.hasOwnProperty.call(U,$))return!1;return!0}function Fo(U,$){if(U===$)return!0;const X=Object.keys(U),ie=Object.keys($);for(const de of X){if(!ie.includes(de))return!1;const rt=U[de],Ze=$[de];if(ra(rt)&&ra(Ze)){if(!Fo(rt,Ze))return!1}else if(rt!==Ze)return!1}for(const de of ie)if(!X.includes(de))return!1;return!0}function ra(U){return null!==U&&"object"==typeof U}function pl(U){const $=[];for(const[X,ie]of Object.entries(U))Array.isArray(ie)?ie.forEach(de=>{$.push(encodeURIComponent(X)+"="+encodeURIComponent(de))}):$.push(encodeURIComponent(X)+"="+encodeURIComponent(ie));return $.length?"&"+$.join("&"):""}function Ta(U){const $={};return U.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[de,rt]=ie.split("=");$[decodeURIComponent(de)]=decodeURIComponent(rt)}}),$}function so(U){const $=U.indexOf("?");if(!$)return"";const X=U.indexOf("#",$);return U.substring($,X>0?X:void 0)}function fs(U,$){const X=new sa(U,$);return X.subscribe.bind(X)}class sa{constructor($,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{$(this)}).catch(ie=>{this.error(ie)})}next($){this.forEachObserver(X=>{X.next($)})}error($){this.forEachObserver(X=>{X.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,X,ie){let de;if(void 0===$&&void 0===X&&void 0===ie)throw new Error("Missing Observer.");de=function Ws(U,$){if("object"!=typeof U||null===U)return!1;for(const X of $)if(X in U&&"function"==typeof U[X])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:X,complete:ie},void 0===de.next&&(de.next=Bn),void 0===de.error&&(de.error=Bn),void 0===de.complete&&(de.complete=Bn);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),rt}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,$)}sendOne($,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{X(this.observers[$])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}function Ee(U){return U&&U._delegate?U._delegate:U}},65:(ul,gs,Pt)=>{function j(e){return"function"==typeof e}function Gt(e){const i=e(n=>{Error.call(n),n.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const ft=Gt(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function _e(e,t){if(e){const i=e.indexOf(t);0<=i&&e.splice(i,1)}}class Rt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const s of i)s.remove(this);else i.remove(this);const{initialTeardown:n}=this;if(j(n))try{n()}catch(s){t=s instanceof ft?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Sn(s)}catch(o){t=t??[],o instanceof ft?t=[...t,...o.errors]:t.push(o)}}if(t)throw new ft(t)}}add(t){var i;if(t&&t!==this)if(this.closed)Sn(t);else{if(t instanceof Rt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}}_hasParent(t){const{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){const{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&_e(i,t)}remove(t){const{_finalizers:i}=this;i&&_e(i,t),t instanceof Rt&&t._removeParent(this)}}Rt.EMPTY=(()=>{const e=new Rt;return e.closed=!0,e})();const dn=Rt.EMPTY;function fn(e){return e instanceof Rt||e&&"closed"in e&&j(e.remove)&&j(e.add)&&j(e.unsubscribe)}function Sn(e){j(e)?e():e.unsubscribe()}const di={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ie={setTimeout(e,t,...i){const{delegate:n}=Ie;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){const{delegate:t}=Ie;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function We(e){Ie.setTimeout(()=>{const{onUnhandledError:t}=di;if(!t)throw e;t(e)})}function wt(){}const Ii=ai("C",void 0,void 0);function ai(e,t,i){return{kind:e,value:t,error:i}}let Lt=null;function Yt(e){if(di.useDeprecatedSynchronousErrorHandling){const t=!Lt;if(t&&(Lt={errorThrown:!1,error:null}),e(),t){const{errorThrown:i,error:n}=Lt;if(Lt=null,i)throw n}}else e()}class dr extends Rt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fn(t)&&t.add(this)):this.destination=Ce}static create(t,i,n){return new sr(t,i,n)}next(t){this.isStopped?it(function Lr(e){return ai("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?it(function Li(e){return ai("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?it(Ii,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rr=Function.prototype.bind;function Yi(e,t){return rr.call(e,t)}class Bi{constructor(t){this.partialObserver=t}next(t){const{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(n){Bt(n)}}error(t){const{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(n){Bt(n)}else Bt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){Bt(i)}}}class sr extends dr{constructor(t,i,n){let r;if(super(),j(t)||!t)r={next:t??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&di.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Yi(t.next,s),error:t.error&&Yi(t.error,s),complete:t.complete&&Yi(t.complete,s)}):r=t}this.destination=new Bi(r)}}function Bt(e){di.useDeprecatedSynchronousErrorHandling?function Nn(e){di.useDeprecatedSynchronousErrorHandling&&Lt&&(Lt.errorThrown=!0,Lt.error=e)}(e):We(e)}function it(e,t){const{onStoppedNotification:i}=di;i&&Ie.setTimeout(()=>i(e,t))}const Ce={closed:!0,next:wt,error:function Qe(e){throw e},complete:wt},ri="function"==typeof Symbol&&Symbol.observable||"@@observable";function xi(e){return e}function un(e){return 0===e.length?xi:1===e.length?e[0]:function(i){return e.reduce((n,r)=>r(n),i)}}let Qt=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){const n=new e;return n.source=this,n.operator=i,n}subscribe(i,n,r){const s=function me(e){return e&&e instanceof dr||function Us(e){return e&&j(e.next)&&j(e.error)&&j(e.complete)}(e)&&fn(e)}(i)?i:new sr(i,n,r);return Yt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return new(n=Zn(n))((r,s)=>{const o=new sr({next:a=>{try{i(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(i)}[ri](){return this}pipe(...i){return un(i)(this)}toPromise(i){return new(i=Zn(i))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=t=>new e(t),e})();function Zn(e){var t;return null!==(t=e??di.Promise)&&void 0!==t?t:Promise}const we=Gt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let oe=(()=>{class e extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const n=new Te(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new we}next(i){Yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(i)}})}error(i){Yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){Yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:n,isStopped:r,observers:s}=this;return n||r?dn:(this.currentObservers=null,s.push(i),new Rt(()=>{this.currentObservers=null,_e(s,i)}))}_checkFinalizedStatuses(i){const{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){const i=new Qt;return i.source=this,i}}return e.create=(t,i)=>new Te(t,i),e})();class Te extends oe{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===n||n.call(i,t)}error(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===n||n.call(i,t)}complete(){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===i||i.call(t)}_subscribe(t){var i,n;return null!==(n=null===(i=this.source)||void 0===i?void 0:i.subscribe(t))&&void 0!==n?n:dn}}function je(e){return j(e?.lift)}function be(e){return t=>{if(je(t))return t.lift(function(i){try{return e(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(e,t,i,n,r){return new li(e,t,i,n,r)}class li extends dr{constructor(t,i,n,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function nt(e,t){return be((i,n)=>{let r=0;i.subscribe(Oe(n,s=>{n.next(e.call(t,s,r++))}))})}var kt=Pt(635);const vi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function mn(e){return j(e?.then)}function Vn(e){return j(e[ri])}function Ki(e){return Symbol.asyncIterator&&j(e?.[Symbol.asyncIterator])}function ur(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ln=function Mn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wr(e){return j(e?.[ln])}function hl(e){return(0,kt.AQ)(this,arguments,function*(){const i=e.getReader();try{for(;;){const{value:n,done:r}=yield(0,kt.N3)(i.read());if(r)return yield(0,kt.N3)(void 0);yield yield(0,kt.N3)(n)}}finally{i.releaseLock()}})}function bo(e){return j(e?.getReader)}function En(e){if(e instanceof Qt)return e;if(null!=e){if(Vn(e))return function Fo(e){return new Qt(t=>{const i=e[ri]();if(j(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(vi(e))return function ra(e){return new Qt(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}(e);if(mn(e))return function Fc(e){return new Qt(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,We)})}(e);if(Ki(e))return Ta(e);if(wr(e))return function pl(e){return new Qt(t=>{for(const i of e)if(t.next(i),t.closed)return;t.complete()})}(e);if(bo(e))return function so(e){return Ta(hl(e))}(e)}throw ur(e)}function Ta(e){return new Qt(t=>{(function Cd(e,t){var i,n,r,s;return(0,kt.sH)(this,void 0,void 0,function*(){try{for(i=(0,kt.xN)(e);!(n=yield i.next()).done;)if(t.next(n.value),t.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(i=>t.error(i))})}function fs(e,t,i,n=0,r=!1){const s=t.schedule(function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function Qn(e,t,i=1/0){return j(t)?Qn((n,r)=>nt((s,o)=>t(n,s,r,o))(En(e(n,r))),i):("number"==typeof t&&(i=t),be((n,r)=>function sa(e,t,i,n,r,s,o,a){const l=[];let c=0,d=0,u=!1;const h=()=>{u&&!l.length&&!c&&t.complete()},g=y=>c<n?m(y):l.push(y),m=y=>{s&&t.next(y),c++;let _=!1;En(i(y,d++)).subscribe(Oe(t,x=>{r?.(x),s?g(x):t.next(x)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<n;){const x=l.shift();o?fs(t,o,()=>m(x)):m(x)}h()}catch(x){t.error(x)}}))};return e.subscribe(Oe(t,g,()=>{u=!0,h()})),()=>{a?.()}}(n,r,e,i)))}function Ws(e=1/0){return Qn(xi,e)}const Bn=new Qt(e=>e.complete());function _o(e){return e&&j(e.schedule)}function ms(e){return e[e.length-1]}function Lo(e){return j(ms(e))?e.pop():void 0}function No(e){return _o(ms(e))?e.pop():void 0}function hr(e,t=0){return be((i,n)=>{i.subscribe(Oe(n,r=>fs(n,e,()=>n.next(r),t),()=>fs(n,e,()=>n.complete(),t),r=>fs(n,e,()=>n.error(r),t)))})}function vn(e,t=0){return be((i,n)=>{n.add(e.schedule(()=>i.subscribe(n),t))})}function fl(e,t){if(!e)throw new Error("Iterable cannot be null");return new Qt(i=>{fs(i,t,()=>{const n=e[Symbol.asyncIterator]();fs(i,t,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function U(e,t){return t?function Ee(e,t){if(null!=e){if(Vn(e))return function Ra(e,t){return En(e).pipe(vn(t),hr(t))}(e,t);if(vi(e))return function tc(e,t){return new Qt(i=>{let n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}(e,t);if(mn(e))return function ec(e,t){return En(e).pipe(vn(t),hr(t))}(e,t);if(Ki(e))return fl(e,t);if(wr(e))return function wd(e,t){return new Qt(i=>{let n;return fs(i,t,()=>{n=e[ln](),fs(i,t,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void i.error(o)}s?i.complete():i.next(r)},0,!0)}),()=>j(n?.return)&&n.return()})}(e,t);if(bo(e))return function at(e,t){return fl(hl(e),t)}(e,t)}throw ur(e)}(e,t):En(e)}function $(...e){const t=No(e),i=function Jl(e,t){return"number"==typeof ms(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?En(n[0]):Ws(i)(U(n,t)):Bn}class X extends oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){const{hasError:t,thrownError:i,_value:n}=this;if(t)throw i;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function ie(...e){return U(e,No(e))}function de(e={}){const{connector:t=(()=>new oe),resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,c=0,d=!1,u=!1;const h=()=>{a?.unsubscribe(),a=void 0},g=()=>{h(),o=l=void 0,d=u=!1},m=()=>{const y=o;g(),y?.unsubscribe()};return be((y,_)=>{c++,!u&&!d&&h();const x=l=l??t();_.add(()=>{c--,0===c&&!u&&!d&&(a=rt(m,r))}),x.subscribe(_),!o&&c>0&&(o=new sr({next:D=>x.next(D),error:D=>{u=!0,h(),a=rt(g,i,D),x.error(D)},complete:()=>{d=!0,h(),a=rt(g,n),x.complete()}}),En(y).subscribe(o))})(s)}}function rt(e,t,...i){if(!0===t)return void e();if(!1===t)return;const n=new sr({next:()=>{n.unsubscribe(),e()}});return En(t(...i)).subscribe(n)}function Ze(e,t){return be((i,n)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&n.complete();i.subscribe(Oe(n,l=>{r?.unsubscribe();let c=0;const d=s++;En(e(l,d)).subscribe(r=Oe(n,u=>n.next(t?t(l,u,d,c++):u),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function cn(e,t=xi){return e=e??pr,be((i,n)=>{let r,s=!0;i.subscribe(Oe(n,o=>{const a=t(o);(s||!e(r,a))&&(s=!1,r=a,n.next(o))}))})}function pr(e,t){return e===t}function Zt(e){for(let t in e)if(e[t]===Zt)return t;throw Error("Could not find renamed property on target object.")}function Nr(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Xt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Xt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function xs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ce=Zt({__forward_ref__:Zt});function he(e){return e.__forward_ref__=he,e.toString=function(){return Xt(this())},e}function ke(e){return bt(e)?e():e}function bt(e){return"function"==typeof e&&e.hasOwnProperty(ce)&&e.__forward_ref__===he}function hi(e){return e&&!!e.\u0275providers}const ye="https://g.co/ng/security#xss";class se extends Error{constructor(t,i){super(function Ft(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,i)),this.code=t}}function xt(e){return"string"==typeof e?e:null==e?"":String(e)}function oo(e,t){throw new se(-201,!1)}function ml(e,t){null==e&&function ci(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${i} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sy(e){return TC(e,Nf)||TC(e,sh)}function TC(e,t){return e.hasOwnProperty(t)?e[t]:null}function Dy(e){return e&&(e.hasOwnProperty(RC)||e.hasOwnProperty(pM))?e[RC]:null}const Nf=Zt({\u0275prov:Zt}),RC=Zt({\u0275inj:Zt}),sh=Zt({ngInjectableDef:Zt}),pM=Zt({ngInjectorDef:Zt});var Ni=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ni||{});let kC;function aa(e){const t=kC;return kC=e,t}function Ey(e,t,i){const n=Sy(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&Ni.Optional?null:void 0!==t?t:void oo(Xt(e))}const zn=globalThis;class Me{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Pe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bf={},zf="__NG_DI_FLAG__",iu="ngTempTokenPath",NC=/\n/gm,ic="__source";let Lp;function nu(e){const t=Lp;return Lp=e,t}function BC(e,t=Ni.Default){if(void 0===Lp)throw new se(-203,!1);return null===Lp?Ey(e,void 0,t):Lp.get(e,t&Ni.Optional?null:void 0,t)}function ne(e,t=Ni.Default){return(function My(){return kC}()||BC)(ke(e),t)}function ze(e,t=Ni.Default){return ne(e,Ty(t))}function Ty(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Gf(e){const t=[];for(let i=0;i<e.length;i++){const n=ke(e[i]);if(Array.isArray(n)){if(0===n.length)throw new se(900,!1);let r,s=Ni.Default;for(let o=0;o<n.length;o++){const a=n[o],l=gP(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(ne(r,s))}else t.push(ne(n))}return t}function nc(e,t){return e[zf]=t,e.prototype[zf]=t,e}function gP(e){return e[zf]}function ru(e){return{toString:e}.toString()}var Np=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Np||{}),Ss=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ss||{});const Bo={},zi=[],jf=Zt({\u0275cmp:Zt}),Ry=Zt({\u0275dir:Zt}),ky=Zt({\u0275pipe:Zt}),yM=Zt({\u0275mod:Zt}),la=Zt({\u0275fac:Zt}),Uf=Zt({__NG_ELEMENT_ID__:Zt}),Wf=Zt({__NG_ENV_ID__:Zt});function zC(e,t,i){let n=e.length;for(;;){const r=e.indexOf(t,i);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}i=r+1}}function Py(e,t,i){let n=0;for(;n<i.length;){const r=i[n];if("number"==typeof r){if(0!==r)break;n++;const s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{const s=r,o=i[++n];ka(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}return n}function Fy(e){return 3===e||4===e||6===e}function ka(e){return 64===e.charCodeAt(0)}function Vp(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?i=r:0===i||bM(e,i,r,null,-1===i||2===i?t[++n]:null)}}return e}function bM(e,t,i,n,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===i){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}const Oy="ng-template";function Ly(e,t,i){let n=0,r=!0;for(;n<e.length;){let s=e[n++];if("string"==typeof s&&r){const o=e[n++];if(i&&"class"===s&&-1!==zC(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function GC(e){return 4===e.type&&e.value!==Oy}function _M(e,t,i){return t===(4!==e.type||i?e.value:Oy)}function mP(e,t,i){let n=4;const r=e.attrs||[],s=function jC(e){for(let t=0;t<e.length;t++)if(Fy(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!_M(e,l,i)||""===l&&1===t.length){if(Pa(n))return!1;o=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Ly(e.attrs,c,i)){if(Pa(n))return!1;o=!0}continue}const u=HC(8&n?"class":l,r,GC(e),i);if(-1===u){if(Pa(n))return!1;o=!0;continue}if(""!==c){let h;h=u>s?"":r[u+1].toLowerCase();const g=8&n?h:null;if(g&&-1!==zC(g,c,0)||2&n&&c!==h){if(Pa(n))return!1;o=!0}}}}else{if(!o&&!Pa(n)&&!Pa(l))return!1;if(o&&Pa(l))continue;o=!1,n=l|1&n}}return Pa(n)||o}function Pa(e){return 0==(1&e)}function HC(e,t,i,n){if(null===t)return-1;let r=0;if(n||!i){let s=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function CM(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function Ny(e,t,i=!1){for(let n=0;n<t.length;n++)if(mP(e,t[n],i))return!0;return!1}function UC(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue e;return!0}}return!1}function WC(e,t){return e?":not("+t.trim()+")":t}function $C(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){const a=e[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Pa(o)&&(t+=WC(s,r),r=""),n=o,s=s||!Pa(n);i++}return""!==r&&(t+=WC(s,r)),t}function Be(e){return ru(()=>{const t=SM(e),i={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Np.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ss.Emulated,styles:e.styles||zi,_:null,schemas:e.schemas||null,tView:null,id:""};zy(i);const n=e.dependencies;return i.directiveDefs=Gy(n,!1),i.pipeDefs=Gy(n,!0),i.id=function vP(e){let t=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of i)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(i),i})}function wM(e){return qi(e)||Os(e)}function qC(e){return null!==e}function Mi(e){return ru(()=>({type:e.type,bootstrap:e.bootstrap||zi,declarations:e.declarations||zi,imports:e.imports||zi,exports:e.exports||zi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function xM(e,t){if(null==e)return Bo;const i={};for(const n in e)if(e.hasOwnProperty(n)){let r=e[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,t&&(t[r]=s)}return i}function tt(e){return ru(()=>{const t=SM(e);return zy(t),t})}function $s(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function qi(e){return e[jf]||null}function Os(e){return e[Ry]||null}function Ys(e){return e[ky]||null}function zo(e,t){const i=e[yM]||null;if(!i&&!0===t)throw new Error(`Type ${Xt(e)} does not have '\u0275mod' property.`);return i}function SM(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Bo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||zi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xM(e.inputs,t),outputs:xM(e.outputs)}}function zy(e){e.features?.forEach(t=>t(e))}function Gy(e,t){if(!e)return null;const i=t?Ys:wM;return()=>("function"==typeof e?e():e).map(n=>i(n)).filter(qC)}const Sr=0,vt=1,bi=2,Dr=3,Fa=4,$f=5,Ks=6,Bp=7,vs=8,Oc=9,zp=10,_i=11,oh=12,DM=13,ou=14,ys=15,ah=16,Gp=17,vl=18,Yf=19,Hy=20,au=21,rc=22,Kf=23,lh=24,Gi=25,jy=1,Uy=2,Lc=7,ch=9,ao=11;function ca(e){return Array.isArray(e)&&"object"==typeof e[jy]}function Go(e){return Array.isArray(e)&&!0===e[jy]}function MM(e){return 0!=(4&e.flags)}function Hp(e){return e.componentOffset>-1}function XC(e){return 1==(1&e.flags)}function Oa(e){return!!e.template}function JC(e){return 0!=(512&e[bi])}function dh(e,t){return e.hasOwnProperty(la)?e[la]:null}let Mr=null,$y=!1;function yl(e){const t=Mr;return Mr=e,t}const Up={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function bs(e){if(!Wp(e)||e.dirty){if(!e.producerMustRecompute(e)&&!FM(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function PM(e){e.dirty=!0,function kM(e){if(void 0===e.liveConsumerNode)return;const t=$y;$y=!0;try{for(const i of e.liveConsumerNode)i.dirty||PM(i)}finally{$y=t}}(e),e.consumerMarkedDirty?.(e)}function Qf(e){return e&&(e.nextProducerIndex=0),yl(e)}function iw(e,t){if(yl(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Wp(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)hh(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function FM(e){Nc(e);for(let t=0;t<e.producerNode.length;t++){const i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(bs(i),n!==i.version))return!0}return!1}function nw(e){if(Nc(e),Wp(e))for(let t=0;t<e.producerNode.length;t++)hh(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function hh(e,t){if(function Xf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Nc(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)hh(e.producerNode[n],e.producerIndexOfThis[n]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Nc(r),r.producerIndexOfThis[n]=t}}function Wp(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Nc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let sw=null;function GM(e){const t=yl(null);try{return e()}finally{yl(t)}}const Ky=()=>{},EP=(()=>({...Up,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Ky}))();class IP{constructor(t,i,n){this.previousValue=t,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}}function Xn(){return aw}function aw(e){return e.type.prototype.ngOnChanges&&(e.setInput=TP),AP}function AP(){const e=qy(this),t=e?.current;if(t){const i=e.previous;if(i===Bo)e.previous=t;else for(let n in t)i[n]=t[n];e.current=null,this.ngOnChanges(t)}}function TP(e,t,i,n){const r=this.declaredInputs[i],s=qy(e)||function RP(e,t){return e[HM]=t}(e,{previous:Bo,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new IP(l&&l.currentValue,t,a===Bo),e[n]=t}Xn.ngInherit=!0;const HM="__ngSimpleChanges__";function qy(e){return e[HM]||null}const bl=function(e,t,i){},jM="svg";function In(e){for(;Array.isArray(e);)e=e[Sr];return e}function Qy(e,t){return In(t[e])}function Co(e,t){return In(t[e.index])}function lu(e,t){return e.data[t]}function cu(e,t){return e[t]}function La(e,t){const i=t[e];return ca(i)?i:i[Sr]}function Md(e,t){return null==t?null:e[t]}function UM(e){e[Gp]=0}function OP(e){1024&e[bi]||(e[bi]|=1024,WM(e,1))}function Xy(e){1024&e[bi]&&(e[bi]&=-1025,WM(e,-1))}function WM(e,t){let i=e[Dr];if(null===i)return;i[$f]+=t;let n=i;for(i=i[Dr];null!==i&&(1===t&&1===n[$f]||-1===t&&0===n[$f]);)i[$f]+=t,n=i,i=i[Dr]}const si={lFrame:am(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tb(){return si.bindingsEnabled}function du(){return null!==si.skipHydrationRootTNode}function Ge(){return si.lFrame.lView}function en(){return si.lFrame.tView}function Le(e){return si.lFrame.contextLView=e,e[vs]}function Ve(e){return si.lFrame.contextLView=null,e}function lo(){let e=ib();for(;null!==e&&64===e.type;)e=e.parent;return e}function ib(){return si.lFrame.currentTNode}function Vc(e,t){const i=si.lFrame;i.currentTNode=e,i.isParent=t}function sm(){return si.lFrame.isParent}function uw(){si.lFrame.isParent=!1}function wo(){const e=si.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ph(){return si.lFrame.bindingIndex++}function Bc(e){const t=si.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function QM(e,t){const i=si.lFrame;i.bindingIndex=i.bindingRootIndex=e,fw(t)}function fw(e){si.lFrame.currentDirectiveIndex=e}function mw(e){const t=si.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function XM(){return si.lFrame.currentQueryIndex}function om(e){si.lFrame.currentQueryIndex=e}function zP(e){const t=e[vt];return 2===t.type?t.declTNode:1===t.type?e[Ks]:null}function JM(e,t,i){if(i&Ni.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||i&Ni.Host||(r=zP(s),null===r||(s=s[ou],10&r.type))););if(null===r)return!1;t=r,e=s}const n=si.lFrame=eE();return n.currentTNode=t,n.lView=e,!0}function rb(e){const t=eE(),i=e[vt];si.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function eE(){const e=si.lFrame,t=null===e?null:e.child;return null===t?am(e):t}function am(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function tE(){const e=si.lFrame;return si.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const iE=tE;function vw(){const e=tE();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ho(){return si.lFrame.selectedIndex}function gh(e){si.lFrame.selectedIndex=e}function Vr(){const e=si.lFrame;return lu(e.tView,e.selectedIndex)}function ki(){si.lFrame.currentNamespace=jM}function Ji(){!function UP(){si.lFrame.currentNamespace=null}()}let rE=!0;function lm(){return rE}function uu(e){rE=e}function sb(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const s=e.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(e.contentHooks??=[]).push(-i,o),a&&((e.contentHooks??=[]).push(i,a),(e.contentCheckHooks??=[]).push(i,a)),l&&(e.viewHooks??=[]).push(-i,l),c&&((e.viewHooks??=[]).push(i,c),(e.viewCheckHooks??=[]).push(i,c)),null!=d&&(e.destroyHooks??=[]).push(i,d)}}function ob(e,t,i){lb(e,t,3,i)}function ab(e,t,i,n){(3&e[bi])===i&&lb(e,t,i,n)}function cm(e,t){let i=e[bi];(3&i)===t&&(i&=8191,i+=1,e[bi]=i)}function lb(e,t,i,n){const s=n??-1,o=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Gp]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Gp]+=65536),(a<s||-1==s)&&(yw(e,i,t,l),e[Gp]=(4294901760&e[Gp])+l+2),l++}function sE(e,t){bl(4,e,t);const i=yl(null);try{t.call(e)}finally{yl(i),bl(5,e,t)}}function yw(e,t,i,n){const r=i[n]<0,s=i[n+1],a=e[r?-i[n]:i[n]];r?e[bi]>>13<e[Gp]>>16&&(3&e[bi])===t&&(e[bi]+=8192,sE(a,s)):sE(a,s)}const $p=-1;class Yp{constructor(t,i,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}}function cb(e){return e!==$p}function dm(e){return 32767&e}function um(e,t){let i=function YP(e){return e>>16}(e),n=t;for(;i>0;)n=n[ou],i--;return n}let ww=!0;function db(e){const t=ww;return ww=e,t}const cE=255,qP=5;let ZP=0;const xo={};function ub(e,t){const i=dE(e,t);if(-1!==i)return i;const n=t[vt];n.firstCreatePass&&(e.injectorIndex=t.length,hm(n.data,e),hm(t,null),hm(n.blueprint,null));const r=Kp(e,t),s=e.injectorIndex;if(cb(r)){const o=dm(r),a=um(r,t),l=a[vt].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function hm(e,t){e.push(0,0,0,0,0,0,0,0,t)}function dE(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Kp(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;null!==r;){if(n=pm(r),null===n)return $p;if(i++,r=r[ou],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return $p}function xw(e,t,i){!function QP(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Uf)&&(n=i[Uf]),null==n&&(n=i[Uf]=ZP++);const r=n&cE;t.data[e+(r>>qP)]|=1<<r}(e,t,i)}function hb(e,t,i){if(i&Ni.Optional||void 0!==e)return e;oo()}function uE(e,t,i,n){if(i&Ni.Optional&&void 0===n&&(n=null),!(i&(Ni.Self|Ni.Host))){const r=e[Oc],s=aa(void 0);try{return r?r.get(t,n,i&Ni.Optional):Ey(t,n,i&Ni.Optional)}finally{aa(s)}}return hb(n,0,i)}function hE(e,t,i,n=Ni.Default,r){if(null!==e){if(2048&t[bi]&&!(n&Ni.Self)){const o=function iF(e,t,i,n,r){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[bi]&&!(512&o[bi]);){const a=pb(s,o,i,n|Ni.Self,xo);if(a!==xo)return a;let l=s.parent;if(!l){const c=o[Hy];if(c){const d=c.get(i,xo,n);if(d!==xo)return d}l=pm(o),o=o[ou]}s=l}return r}(e,t,i,n,xo);if(o!==xo)return o}const s=pb(e,t,i,n,xo);if(s!==xo)return s}return uE(t,i,n,r)}function pb(e,t,i,n,r){const s=function eF(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Uf)?e[Uf]:void 0;return"number"==typeof t?t>=0?t&cE:Dw:t}(i);if("function"==typeof s){if(!JM(t,e,n))return n&Ni.Host?hb(r,0,n):uE(t,i,n,r);try{let o;if(o=s(n),null!=o||n&Ni.Optional)return o;oo()}finally{iE()}}else if("number"==typeof s){let o=null,a=dE(e,t),l=$p,c=n&Ni.Host?t[ys][Ks]:null;for((-1===a||n&Ni.SkipSelf)&&(l=-1===a?Kp(e,t):t[a+8],l!==$p&&Sw(n,!1)?(o=t[vt],a=dm(l),t=um(l,t)):a=-1);-1!==a;){const d=t[vt];if(pE(s,a,d.data)){const u=JP(a,t,i,o,n,c);if(u!==xo)return u}l=t[a+8],l!==$p&&Sw(n,t[vt].data[a+8]===c)&&pE(s,a,t)?(o=d,a=dm(l),t=um(l,t)):a=-1}}return r}function JP(e,t,i,n,r,s){const o=t[vt],a=o.data[e+8],d=gb(a,o,i,null==n?Hp(a)&&ww:n!=o&&0!=(3&a.type),r&Ni.Host&&s===a);return null!==d?fh(t,o,d,a):xo}function gb(e,t,i,n,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,d=s>>20,h=r?a+d:e.directiveEnd;for(let g=n?a:a+d;g<h;g++){const m=o[g];if(g<l&&i===m||g>=l&&m.type===i)return g}if(r){const g=o[l];if(g&&Oa(g)&&g.type===i)return l}return null}function fh(e,t,i,n){let r=e[i];const s=t.data;if(function oE(e){return e instanceof Yp}(r)){const o=r;o.resolving&&function yi(e,t){const i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new se(-200,`Circular dependency in DI detected for ${e}${i}`)}(function zt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():xt(e)}(s[i]));const a=db(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?aa(o.injectImpl):null;JM(e,n,Ni.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&function WP(e,t,i){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){const o=aw(t);(i.preOrderHooks??=[]).push(e,o),(i.preOrderCheckHooks??=[]).push(e,o)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}(i,s[i],t)}finally{null!==c&&aa(c),db(a),o.resolving=!1,iE()}}return r}function pE(e,t,i){return!!(i[t+(e>>qP)]&1<<e)}function Sw(e,t){return!(e&Ni.Self||e&Ni.Host&&t)}class jo{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,n){return hE(this._tNode,this._lView,t,Ty(n),i)}}function Dw(){return new jo(lo(),Ge())}function An(e){return ru(()=>{const t=e.prototype.constructor,i=t[la]||Mw(t),n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){const s=r[la]||Mw(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Mw(e){return bt(e)?()=>{const t=Mw(ke(e));return t&&t()}:dh(e)}function pm(e){const t=e[vt],i=t.type;return 2===i?t.declTNode:1===i?e[Ks]:null}function Ed(e){return function XP(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const n=i.length;let r=0;for(;r<n;){const s=i[r];if(Fy(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof i[r];)r++;else{if(s===t)return i[r+1];r+=2}}}return null}(lo(),e)}const Zp="__parameters__";function Qp(e,t,i){return ru(()=>{const n=function Ew(e){return function(...i){if(e){const n=e(...i);for(const r in n)this[r]=n[r]}}}(t);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,d){const u=l.hasOwnProperty(Zp)?l[Zp]:Object.defineProperty(l,Zp,{value:[]})[Zp];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(o),l}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function zc(e,t){e.forEach(i=>Array.isArray(i)?zc(i,t):t(i))}function Tw(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function fb(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _h(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function Ms(e,t,i){let n=Xp(e,t);return n>=0?e[1|n]=i:(n=~n,function fE(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(1===r)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function mb(e,t){const i=Xp(e,t);if(i>=0)return e[1|i]}function Xp(e,t){return function mE(e,t,i){let n=0,r=e.length>>i;for(;r!==n;){const s=n+(r-n>>1),o=e[s<<i];if(t===o)return s<<i;o>t?r=s:n=s+1}return~(r<<i)}(e,t,1)}const Fw=nc(Qp("Inject",e=>({token:e})),-1),_l=nc(Qp("Optional"),8),hu=nc(Qp("SkipSelf"),4);function xE(e){return 128==(128&e.flags)}var Jp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Jp||{});const hhe=/^>|^->|<!--|-->|--!>|<!-$/g,phe=/(<|>)/g,ghe="\u200b$1\u200b";const dF=new Map;let fhe=0;const hF="__ngContext__";function ua(e,t){ca(t)?(e[hF]=t[Yf],function vhe(e){dF.set(e[Yf],e)}(t)):e[hF]=t}let pF;function gF(e,t){return pF(e,t)}function jw(e){const t=e[Dr];return Go(t)?t[Dr]:t}function ZH(e){return XH(e[oh])}function QH(e){return XH(e[Fa])}function XH(e){for(;null!==e&&!Go(e);)e=e[Fa];return e}function _b(e,t,i,n,r){if(null!=n){let s,o=!1;Go(n)?s=n:ca(n)&&(o=!0,n=n[Sr]);const a=In(n);0===e&&null!==i?null==r?i7(t,i,a):mm(t,i,a,r||null,!0):1===e&&null!==i?mm(t,i,a,r||null,!0):2===e?function TE(e,t,i){const n=IE(e,t);n&&function Lhe(e,t,i,n){e.removeChild(t,i,n)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function Bhe(e,t,i,n,r){const s=i[Lc];s!==In(i)&&_b(t,e,n,s,r);for(let a=ao;a<i.length;a++){const l=i[a];Ww(l[vt],l,e,t,n,s)}}(t,e,s,i,r)}}function fF(e,t){return e.createComment(function HH(e){return e.replace(hhe,t=>t.replace(phe,ghe))}(t))}function ME(e,t,i){return e.createElement(t,i)}function e7(e,t){const i=e[ch],n=i.indexOf(t);Xy(t),i.splice(n,1)}function EE(e,t){if(e.length<=ao)return;const i=ao+t,n=e[i];if(n){const r=n[ah];null!==r&&r!==e&&e7(r,n),t>0&&(e[i-1][Fa]=n[Fa]);const s=fb(e,ao+t);!function Ihe(e,t){Ww(e,t,t[_i],2,null,null),t[Sr]=null,t[Ks]=null}(n[vt],n);const o=s[vl];null!==o&&o.detachView(s[vt]),n[Dr]=null,n[Fa]=null,n[bi]&=-129}return n}function mF(e,t){if(!(256&t[bi])){const i=t[_i];t[Kf]&&nw(t[Kf]),t[lh]&&nw(t[lh]),i.destroyNode&&Ww(e,t,i,3,null,null),function Rhe(e){let t=e[oh];if(!t)return vF(e[vt],e);for(;t;){let i=null;if(ca(t))i=t[oh];else{const n=t[ao];n&&(i=n)}if(!i){for(;t&&!t[Fa]&&t!==e;)ca(t)&&vF(t[vt],t),t=t[Dr];null===t&&(t=e),ca(t)&&vF(t[vt],t),i=t&&t[Fa]}t=i}}(t)}}function vF(e,t){if(!(256&t[bi])){t[bi]&=-129,t[bi]|=256,function Ohe(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const r=t[i[n]];if(!(r instanceof Yp)){const s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];bl(4,a,l);try{l.call(a)}finally{bl(5,a,l)}}else{bl(4,r,s);try{s.call(r)}finally{bl(5,r,s)}}}}}(e,t),function Fhe(e,t){const i=e.cleanup,n=t[Bp];if(null!==i)for(let s=0;s<i.length-1;s+=2)if("string"==typeof i[s]){const o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else i[s].call(n[i[s+1]]);null!==n&&(t[Bp]=null);const r=t[au];if(null!==r){t[au]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,t),1===t[vt].type&&t[_i].destroy();const i=t[ah];if(null!==i&&Go(t[Dr])){i!==t[Dr]&&e7(i,t);const n=t[vl];null!==n&&n.detachView(e)}!function yhe(e){dF.delete(e[Yf])}(t)}}function yF(e,t,i){return function t7(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[Sr];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=e.data[n.directiveStart+r];if(s===Ss.None||s===Ss.Emulated)return null}return Co(n,i)}}(e,t.parent,i)}function mm(e,t,i,n,r){e.insertBefore(t,i,n,r)}function i7(e,t,i){e.appendChild(t,i)}function n7(e,t,i,n,r){null!==n?mm(e,t,i,n,r):i7(e,t,i)}function IE(e,t){return e.parentNode(t)}function r7(e,t,i){return o7(e,t,i)}let bF,RE,xF,kE,o7=function s7(e,t,i){return 40&e.type?Co(e,i):null};function AE(e,t,i,n){const r=yF(e,n,t),s=t[_i],a=r7(n.parent||t[Ks],n,t);if(null!=r)if(Array.isArray(i))for(let l=0;l<i.length;l++)n7(s,r,i[l],a,!1);else n7(s,r,i,a,!1);void 0!==bF&&bF(s,n,t,i,r)}function Uw(e,t){if(null!==t){const i=t.type;if(3&i)return Co(t,e);if(4&i)return _F(-1,e[t.index]);if(8&i){const n=t.child;if(null!==n)return Uw(e,n);{const r=e[t.index];return Go(r)?_F(-1,r):In(r)}}if(32&i)return gF(t,e)()||In(e[t.index]);{const n=l7(e,t);return null!==n?Array.isArray(n)?n[0]:Uw(jw(e[ys]),n):Uw(e,t.next)}}return null}function l7(e,t){return null!==t?e[ys][Ks].projection[t.projection]:null}function _F(e,t){const i=ao+e+1;if(i<t.length){const n=t[i],r=n[vt].firstChild;if(null!==r)return Uw(n,r)}return t[Lc]}function CF(e,t,i,n,r,s,o){for(;null!=i;){const a=n[i.index],l=i.type;if(o&&0===t&&(a&&ua(In(a),n),i.flags|=2),32!=(32&i.flags))if(8&l)CF(e,t,i.child,n,r,s,!1),_b(t,e,r,a,s);else if(32&l){const c=gF(i,n);let d;for(;d=c();)_b(t,e,r,d,s);_b(t,e,r,a,s)}else 16&l?d7(e,t,n,i,r,s):_b(t,e,r,a,s);i=o?i.projectionNext:i.next}}function Ww(e,t,i,n,r,s){CF(i,n,e.firstChild,t,r,s,!1)}function d7(e,t,i,n,r,s){const o=i[ys],l=o[Ks].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)_b(t,e,r,l[c],s);else{let c=l;const d=o[Dr];xE(n)&&(c.flags|=128),CF(e,t,c,d,r,s,!0)}}function u7(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function h7(e,t,i){const{mergedAttrs:n,classes:r,styles:s}=i;null!==n&&Py(e,t,n),null!==r&&u7(e,t,r),null!==s&&function Ghe(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}function Cb(e){return function wF(){if(void 0===RE&&(RE=null,zn.trustedTypes))try{RE=zn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return RE}()?.createHTML(e)||e}function f7(e){return function SF(){if(void 0===kE&&(kE=null,zn.trustedTypes))try{kE=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return kE}()?.createScriptURL(e)||e}class vm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ye})`}}class $he extends vm{getTypeName(){return"HTML"}}class Yhe extends vm{getTypeName(){return"Style"}}class Khe extends vm{getTypeName(){return"Script"}}class qhe extends vm{getTypeName(){return"URL"}}class Zhe extends vm{getTypeName(){return"ResourceURL"}}function ac(e){return e instanceof vm?e.changingThisBreaksApplicationSecurity:e}function pu(e,t){const i=function Qhe(e){return e instanceof vm&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${ye})`)}return i===t}class npe{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const i=(new window.DOMParser).parseFromString(Cb(t),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(t):(i.removeChild(i.firstChild),i)}catch{return null}}}class rpe{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const i=this.inertDocument.createElement("template");return i.innerHTML=Cb(t),i}}const ope=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PE(e){return(e=String(e)).match(ope)?e:"unsafe:"+e}function xh(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function $w(...e){const t={};for(const i of e)for(const n in i)i.hasOwnProperty(n)&&(t[n]=!0);return t}const v7=xh("area,br,col,hr,img,wbr"),y7=xh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b7=xh("rp,rt"),DF=$w(v7,$w(y7,xh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$w(b7,xh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$w(b7,y7)),MF=xh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_7=$w(MF,xh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ape=xh("script,style,template");class lpe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let i=t.firstChild,n=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let r=this.checkClobberedElement(i,i.nextSibling);if(r){i=r;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(t){const i=t.nodeName.toLowerCase();if(!DF.hasOwnProperty(i))return this.sanitizedSomething=!0,!ape.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const n=t.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,a=o.toLowerCase();if(!_7.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;MF[a]&&(l=PE(l)),this.buf.push(" ",o,'="',C7(l),'"')}return this.buf.push(">"),!0}endElement(t){const i=t.nodeName.toLowerCase();DF.hasOwnProperty(i)&&!v7.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(t){this.buf.push(C7(t))}checkClobberedElement(t,i){if(i&&(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return i}}const cpe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dpe=/([^\#-~ |!])/g;function C7(e){return e.replace(/&/g,"&amp;").replace(cpe,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dpe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let FE;function w7(e,t){let i=null;try{FE=FE||function m7(e){const t=new rpe(e);return function spe(){try{return!!(new window.DOMParser).parseFromString(Cb(""),"text/html")}catch{return!1}}()?new npe(t):t}(e);let n=t?String(t):"";i=FE.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=FE.getInertBodyElement(n)}while(n!==s);return Cb((new lpe).sanitizeChildren(EF(i)||i))}finally{if(i){const n=EF(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function EF(e){return"content"in e&&function upe(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Uo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Uo||{});function Sh(e){const t=Yw();return t?t.sanitize(Uo.URL,e)||"":pu(e,"URL")?ac(e):PE(xt(e))}function x7(e){const t=Yw();if(t)return f7(t.sanitize(Uo.RESOURCE_URL,e)||"");if(pu(e,"ResourceURL"))return f7(ac(e));throw new se(904,!1)}function Yw(){const e=Ge();return e&&e[zp].sanitizer}const Kw=new Me("ENVIRONMENT_INITIALIZER"),D7=new Me("INJECTOR",-1),M7=new Me("INJECTOR_DEF_TYPES");class IF{get(t,i=Bf){if(i===Bf){const n=new Error(`NullInjectorError: No provider for ${Xt(t)}!`);throw n.name="NullInjectorError",n}return i}}function ype(...e){return{\u0275providers:E7(0,e),\u0275fromNgModule:!0}}function E7(e,...t){const i=[],n=new Set;let r;const s=o=>{i.push(o)};return zc(t,o=>{const a=o;OE(a,s,[],n)&&(r||=[],r.push(a))}),void 0!==r&&I7(r,s),i}function I7(e,t){for(let i=0;i<e.length;i++){const{ngModule:n,providers:r}=e[i];TF(r,s=>{t(s,n)})}}function OE(e,t,i,n){if(!(e=ke(e)))return!1;let r=null,s=Dy(e);const o=!s&&qi(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=Dy(l),!s)return!1;r=l}const a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)OE(c,t,i,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;n.add(r);try{zc(s.imports,d=>{OE(d,t,i,n)&&(c||=[],c.push(d))})}finally{}void 0!==c&&I7(c,t)}if(!a){const c=dh(r)||(()=>new r);t({provide:r,useFactory:c,deps:zi},r),t({provide:M7,useValue:r,multi:!0},r),t({provide:Kw,useValue:()=>ne(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=e;TF(l,d=>{t(d,c)})}}}return r!==e&&void 0!==e.providers}function TF(e,t){for(let i of e)hi(i)&&(i=i.\u0275providers),Array.isArray(i)?TF(i,t):t(i)}const bpe=Zt({provide:String,useValue:Zt});function RF(e){return null!==e&&"object"==typeof e&&bpe in e}function ym(e){return"function"==typeof e}const kF=new Me("Set Injector scope."),LE={},Cpe={};let PF;function NE(){return void 0===PF&&(PF=new IF),PF}class lc{}class xb extends lc{get destroyed(){return this._destroyed}constructor(t,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,OF(t,o=>this.processProvider(o)),this.records.set(D7,Sb(void 0,this)),r.has("environment")&&this.records.set(lc,Sb(void 0,this));const s=this.records.get(kF);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(M7.multi,zi,Ni.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const i=nu(this),n=aa(void 0);try{return t()}finally{nu(i),aa(n)}}get(t,i=Bf,n=Ni.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Wf))return t[Wf](this);n=Ty(n);const s=nu(this),o=aa(void 0);try{if(!(n&Ni.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function Mpe(e){return"function"==typeof e||"object"==typeof e&&e instanceof Me}(t)&&Sy(t);l=c&&this.injectableDefInScope(c)?Sb(FF(t),LE):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Ni.Self?NE():this.parent).get(t,i=n&Ni.Optional&&i===Bf?null:i)}catch(a){if("NullInjectorError"===a.name){if((a[iu]=a[iu]||[]).unshift(Xt(t)),s)throw a;return function fP(e,t,i,n){const r=e[iu];throw t[ic]&&r.unshift(t[ic]),e.message=function Hf(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Xt(t);if(Array.isArray(t))r=t.map(Xt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Xt(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(NC,"\n  ")}`}("\n"+e.message,r,i,n),e.ngTokenPath=r,e[iu]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{aa(o),nu(s)}}resolveInjectorInitializers(){const t=nu(this),i=aa(void 0);try{const r=this.get(Kw.multi,zi,Ni.Self);for(const s of r)s()}finally{nu(t),aa(i)}}toString(){const t=[],i=this.records;for(const n of i.keys())t.push(Xt(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(t){let i=ym(t=ke(t))?t:ke(t&&t.provide);const n=function xpe(e){return RF(e)?Sb(void 0,e.useValue):Sb(R7(e),LE)}(t);if(ym(t)||!0!==t.multi)this.records.get(i);else{let r=this.records.get(i);r||(r=Sb(void 0,LE,!0),r.factory=()=>Gf(r.multi),this.records.set(i,r)),i=t,r.multi.push(t)}this.records.set(i,n)}hydrate(t,i){return i.value===LE&&(i.value=Cpe,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Dpe(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(t){if(!t.providedIn)return!1;const i=ke(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){const i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}function FF(e){const t=Sy(e),i=null!==t?t.factory:dh(e);if(null!==i)return i;if(e instanceof Me)throw new se(204,!1);if(e instanceof Function)return function wpe(e){const t=e.length;if(t>0)throw _h(t,"?"),new se(204,!1);const i=function hM(e){return e&&(e[Nf]||e[sh])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new se(204,!1)}function R7(e,t,i){let n;if(ym(e)){const r=ke(e);return dh(r)||FF(r)}if(RF(e))n=()=>ke(e.useValue);else if(function T7(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Gf(e.deps||[]));else if(function A7(e){return!(!e||!e.useExisting)}(e))n=()=>ne(ke(e.useExisting));else{const r=ke(e&&(e.useClass||e.provide));if(!function Spe(e){return!!e.deps}(e))return dh(r)||FF(r);n=()=>new r(...Gf(e.deps))}return n}function Sb(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function OF(e,t){for(const i of e)Array.isArray(i)?OF(i,t):i&&hi(i)?OF(i.\u0275providers,t):t(i)}const VE=new Me("AppId",{providedIn:"root",factory:()=>Epe}),Epe="ng",k7=new Me("Platform Initializer"),Gc=new Me("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hc=new Me("AnimationModuleType"),P7=new Me("CSP nonce",{providedIn:"root",factory:()=>function wb(){if(void 0!==xF)return xF;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let F7=(e,t,i)=>null;function jF(e,t,i=!1){return F7(e,t,i)}class Npe{}class N7{}class Bpe{resolveComponentFactory(t){throw function Vpe(e){const t=Error(`No component factory found for ${Xt(e)}.`);return t.ngComponent=e,t}(t)}}let Eb=(()=>{class e{static{this.NULL=new Bpe}}return e})();function zpe(){return Ib(lo(),Ge())}function Ib(e,t){return new ti(Co(e,t))}let ti=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=zpe}}return e})();function Gpe(e){return e instanceof ti?e.nativeElement:e}class Qw{}let Dh=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Hpe(){const e=Ge(),i=La(lo().index,e);return(ca(i)?i:e)[_i]}()}}return e})(),jpe=(()=>{class e{static{this.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>null})}}return e})();class eg{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const B7=new eg("16.2.12"),$F={};function j7(e,t=null,i=null,n){const r=U7(e,t,i,n);return r.resolveInjectorInitializers(),r}function U7(e,t=null,i=null,n,r=new Set){const s=[i||zi,ype(e)];return n=n||("object"==typeof e?void 0:Xt(e)),new xb(s,t||NE(),n||null,r)}let ts=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Bf}static{this.NULL=new IF}static create(i,n){if(Array.isArray(i))return j7({name:""},n,i,"");{const r=i.name??"";return j7({name:r},i.parent,i.providers,r)}}static{this.\u0275prov=Pe({token:e,providedIn:"any",factory:()=>ne(D7)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function KF(e){return e.ngOriginalError}class jc{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&KF(t);for(;i&&KF(i);)i=KF(i);return i||null}}function qF(e){return t=>{setTimeout(e,void 0,t)}}const pe=class Qpe extends oe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,n){let r=t,s=i||(()=>null),o=n;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=qF(s),r&&(r=qF(r)),o&&(o=qF(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Rt&&t.add(a),a}};function $7(...e){}class Mt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pe(!1),this.onMicrotaskEmpty=new pe(!1),this.onStable=new pe(!1),this.onError=new pe(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Xpe(){const e="function"==typeof zn.requestAnimationFrame;let t=zn[e?"requestAnimationFrame":"setTimeout"],i=zn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&i){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function tge(e){const t=()=>{!function ege(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(zn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,QF(e),e.isCheckStableRunning=!0,ZF(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),QF(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(function nge(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return i.invokeTask(r,s,o,a);try{return Y7(e),i.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),K7(e)}},onInvoke:(i,n,r,s,o,a,l)=>{try{return Y7(e),i.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),K7(e)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,QF(e),ZF(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new se(909,!1)}run(t,i,n){return this._inner.run(t,i,n)}runTask(t,i,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Jpe,$7,$7);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(t,i,n){return this._inner.runGuarded(t,i,n)}runOutsideAngular(t){return this._outer.run(t)}}const Jpe={};function ZF(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function QF(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Y7(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function K7(e){e._nesting--,ZF(e)}class ige{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pe,this.onMicrotaskEmpty=new pe,this.onStable=new pe,this.onError=new pe}run(t,i,n){return t.apply(i,n)}runGuarded(t,i,n){return t.apply(i,n)}runOutsideAngular(t){return t()}runTask(t,i,n,r){return t.apply(i,n)}}const q7=new Me("",{providedIn:"root",factory:Z7});function Z7(){const e=ze(Mt);let t=!0;return $(new Qt(r=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(t),r.complete()})}),new Qt(r=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=e.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(de()))}function Mh(e){return e instanceof Function?e():e}let XF=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Xw(e){for(;e;){e[bi]|=64;const t=jw(e);if(JC(e)&&!t)return e;e=t}return null}const tj=new Me("",{providedIn:"root",factory:()=>!1});let $E=null;function sj(e,t){return e[t]??lj()}function oj(e,t){const i=lj();i.producerNode?.length&&(e[t]=$E,i.lView=e,$E=aj())}const pge={...Up,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Xw(e.lView)},lView:null};function aj(){return Object.create(pge)}function lj(){return $E??=aj(),$E}const Ai={};function T(e){cj(en(),Ge(),Ho()+e,!1)}function cj(e,t,i,n){if(!n)if(3==(3&t[bi])){const s=e.preOrderCheckHooks;null!==s&&ob(t,s,i)}else{const s=e.preOrderHooks;null!==s&&ab(t,s,0,i)}gh(i)}function R(e,t=Ni.Default){const i=Ge();return null===i?ne(e,t):hE(lo(),i,ke(e),t)}function Rb(){throw new Error("invalid")}function YE(e,t,i,n,r,s,o,a,l,c,d){const u=t.blueprint.slice();return u[Sr]=r,u[bi]=140|n,(null!==c||e&&2048&e[bi])&&(u[bi]|=2048),UM(u),u[Dr]=u[ou]=e,u[vs]=i,u[zp]=o||e&&e[zp],u[_i]=a||e&&e[_i],u[Oc]=l||e&&e[Oc]||null,u[Ks]=s,u[Yf]=function mhe(){return fhe++}(),u[rc]=d,u[Hy]=c,u[ys]=2==t.type?e[ys]:u,u}function kb(e,t,i,n,r){let s=e.data[t];if(null===s)s=function JF(e,t,i,n,r){const s=ib(),o=sm(),l=e.data[t]=function Cge(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return du()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,i,t,n,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,i,n,r),function qM(){return si.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=n,s.attrs=r;const o=function rm(){const e=si.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Vc(s,!0),s}function Jw(e,t,i,n){if(0===i)return-1;const r=t.length;for(let s=0;s<i;s++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function dj(e,t,i,n,r){const s=sj(t,Kf),o=Ho(),a=2&n;try{gh(-1),a&&t.length>Gi&&cj(e,t,Gi,!1),bl(a?2:0,r);const c=a?s:null,d=Qf(c);try{null!==c&&(c.dirty=!1),i(n,r)}finally{iw(c,d)}}finally{a&&null===t[Kf]&&oj(t,Kf),gh(o),bl(a?3:1,r)}}function eO(e,t,i){if(MM(t)){const n=yl(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,i[o],o)}}finally{yl(n)}}}function tO(e,t,i){tb()&&(function Ige(e,t,i,n){const r=i.directiveStart,s=i.directiveEnd;Hp(i)&&function Oge(e,t,i){const n=Co(t,e),r=uj(i);let o=16;i.signals?o=4096:i.onPush&&(o=64);const a=KE(e,YE(e,r,null,o,n,t,null,e[zp].rendererFactory.createRenderer(n,i),null,null,null));e[t.index]=a}(t,i,e.data[r+i.componentOffset]),e.firstCreatePass||ub(i,t),ua(n,t);const o=i.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],c=fh(t,e,a,i);ua(c,t),null!==o&&Lge(0,a-r,c,l,0,o),Oa(l)&&(La(i.index,t)[vs]=fh(t,e,a,i))}}(e,t,i,Co(i,t)),64==(64&i.flags)&&mj(e,t,i))}function iO(e,t,i=Co){const n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?i(t,e):e[o];e[r++]=a}}}function uj(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nO(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nO(e,t,i,n,r,s,o,a,l,c,d){const u=Gi+n,h=u+r,g=function fge(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:Ai);return i}(u,h),m="function"==typeof c?c():c;return g[vt]={type:e,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:d}}let hj=e=>null;function pj(e,t,i,n){for(let r in e)if(e.hasOwnProperty(r)){i=null===i?{}:i;const s=e[r];null===n?gj(i,t,r,s):n.hasOwnProperty(r)&&gj(i,t,n[r],s)}return i}function gj(e,t,i,n){e.hasOwnProperty(i)?e[i].push(t,n):e[i]=[t,n]}function cc(e,t,i,n,r,s,o,a){const l=Co(t,i);let d,c=t.inputs;!a&&null!=c&&(d=c[n])?(lO(e,i,d,n,r),Hp(t)&&function Sge(e,t){const i=La(t,e);16&i[bi]||(i[bi]|=64)}(i,t.index)):3&t.type&&(n=function xge(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,t.value||"",n):r,s.setProperty(l,n,r))}function rO(e,t,i,n){if(tb()){const r=null===n?null:{"":-1},s=function Tge(e,t){const i=e.directiveRegistry;let n=null,r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];if(Ny(t,o.selectors,!1))if(n||(n=[]),Oa(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o),sO(e,t,a.length)}else n.unshift(o),sO(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,i);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&fj(e,t,i,o,r,a),r&&function Rge(e,t,i){if(t){const n=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=i[t[r+1]];if(null==s)throw new se(-301,!1);n.push(t[r],s)}}}(i,n,r)}i.mergedAttrs=Vp(i.mergedAttrs,i.attrs)}function fj(e,t,i,n,r,s){for(let c=0;c<n.length;c++)xw(ub(i,t),e,n[c].type);!function Pge(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,n.length);for(let c=0;c<n.length;c++){const d=n[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Jw(e,t,n.length,null);for(let c=0;c<n.length;c++){const d=n[c];i.mergedAttrs=Vp(i.mergedAttrs,d.hostAttrs),Fge(e,i,t,l,d),kge(l,d,r),null!==d.contentQueries&&(i.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(i.flags|=64);const u=d.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}!function wge(e,t,i){const r=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<r;d++){const u=s[d],h=i?i.get(u):null,m=h?h.outputs:null;l=pj(u.inputs,d,l,h?h.inputs:null),c=pj(u.outputs,d,c,m);const y=null===l||null===o||GC(t)?null:Nge(l,d,o);a.push(y)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,i,s)}function mj(e,t,i){const n=i.directiveStart,r=i.directiveEnd,s=i.index,o=function gw(){return si.lFrame.currentDirectiveIndex}();try{gh(s);for(let a=n;a<r;a++){const l=e.data[a],c=t[a];fw(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Age(l,c)}}finally{gh(-1),fw(o)}}function Age(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function sO(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function kge(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Oa(t)&&(i[""]=e)}}function Fge(e,t,i,n,r){e.data[n]=r;const s=r.factory||(r.factory=dh(r.type)),o=new Yp(s,Oa(r),R);e.blueprint[n]=o,i[n]=o,function Mge(e,t,i,n,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function Ege(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(o)!=a&&o.push(a),o.push(i,n,s)}}(e,t,n,Jw(e,i,r.hostVars,Ai),r)}function gu(e,t,i,n,r,s){const o=Co(e,t);!function oO(e,t,i,n,r,s,o){if(null==s)e.removeAttribute(t,r,i);else{const a=null==o?xt(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}(t[_i],o,s,e.value,i,n,r)}function Lge(e,t,i,n,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)vj(n,i,o[a++],o[a++],o[a++])}function vj(e,t,i,n,r){const s=yl(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(n)&&(r=o[n].call(t,r)),null!==e.setInput?e.setInput(t,r,i,n):t[n]=r}finally{yl(s)}}function Nge(e,t,i){let n=null,r=0;for(;r<i.length;){const s=i[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){n.push(s,o[a+1],i[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function yj(e,t,i,n){return[e,!0,!1,t,null,0,n,i,null,null,null]}function bj(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const s=i[n+1];if(-1!==s){const o=e.data[s];om(i[n]),o.contentQueries(2,t[s],s)}}}function KE(e,t){return e[oh]?e[DM][Fa]=t:e[oh]=t,e[DM]=t,t}function aO(e,t,i){om(0);const n=yl(null);try{t(e,i)}finally{yl(n)}}function _j(e){return e[Bp]||(e[Bp]=[])}function Cj(e){return e.cleanup||(e.cleanup=[])}function wj(e,t,i){return(null===e||Oa(e))&&(i=function tm(e){for(;Array.isArray(e);){if("object"==typeof e[jy])return e;e=e[Sr]}return null}(i[t.index])),i[_i]}function xj(e,t){const i=e[Oc],n=i?i.get(jc,null):null;n&&n.handleError(t)}function lO(e,t,i,n,r){for(let s=0;s<i.length;){const o=i[s++],a=i[s++];vj(e.data[o],t[o],n,a,r)}}function Eh(e,t,i){const n=Qy(t,e);!function JH(e,t,i){e.setValue(t,i)}(e[_i],n,i)}function Vge(e,t){const i=La(t,e),n=i[vt];!function Bge(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i);const r=i[Sr];null!==r&&null===i[rc]&&(i[rc]=jF(r,i[Oc])),cO(n,i,i[vs])}function cO(e,t,i){rb(t);try{const n=e.viewQuery;null!==n&&aO(1,n,i);const r=e.template;null!==r&&dj(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&bj(e,t),e.staticViewQueries&&aO(2,e.viewQuery,i);const s=e.components;null!==s&&function zge(e,t){for(let i=0;i<t.length;i++)Vge(e,t[i])}(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[bi]&=-5,vw()}}let Sj=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(i,n,r){const s=typeof Zone>"u"?null:Zone.current,o=function MP(e,t,i){const n=Object.create(EP);i&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=t;const r=o=>{n.cleanupFn=o};return n.ref={notify:()=>PM(n),run:()=>{if(n.dirty=!1,n.hasRun&&!FM(n))return;n.hasRun=!0;const o=Qf(n);try{n.cleanupFn(),n.cleanupFn=Ky,n.fn(r)}finally{iw(n,o)}},cleanup:()=>n.cleanupFn()},n.ref}(i,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=n?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[i,n]of this.queue)this.queue.delete(i),n?n.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}}return e})();function qE(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=xs(r,a):2==s&&(n=xs(n,a+": "+t[++o]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}function ex(e,t,i,n,r=!1){for(;null!==i;){const s=t[i.index];null!==s&&n.push(In(s)),Go(s)&&Dj(s,n);const o=i.type;if(8&o)ex(e,t,i.child,n);else if(32&o){const a=gF(i,t);let l;for(;l=a();)n.push(l)}else if(16&o){const a=l7(t,i);if(Array.isArray(a))n.push(...a);else{const l=jw(t[ys]);ex(l[vt],l,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function Dj(e,t){for(let i=ao;i<e.length;i++){const n=e[i],r=n[vt].firstChild;null!==r&&ex(n[vt],n,r,t)}e[Lc]!==e[Sr]&&t.push(e[Lc])}function ZE(e,t,i,n=!0){const r=t[zp],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{Mj(e,t,e.template,i)}catch(l){throw n&&xj(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function Mj(e,t,i,n){const r=t[bi];if(256!=(256&r)){t[zp].effectManager?.flush(),rb(t);try{UM(t),function KM(e){return si.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&dj(e,t,i,2,n);const o=3==(3&r);if(o){const c=e.preOrderCheckHooks;null!==c&&ob(t,c,null)}else{const c=e.preOrderHooks;null!==c&&ab(t,c,0,null),cm(t,0)}if(function jge(e){for(let t=ZH(e);null!==t;t=QH(t)){if(!t[Uy])continue;const i=t[ch];for(let n=0;n<i.length;n++){OP(i[n])}}}(t),Ej(t,2),null!==e.contentQueries&&bj(e,t),o){const c=e.contentCheckHooks;null!==c&&ob(t,c)}else{const c=e.contentHooks;null!==c&&ab(t,c,1),cm(t,1)}!function gge(e,t){const i=e.hostBindingOpCodes;if(null===i)return;const n=sj(t,lh);try{for(let r=0;r<i.length;r++){const s=i[r];if(s<0)gh(~s);else{const o=s,a=i[++r],l=i[++r];QM(a,o),n.dirty=!1;const c=Qf(n);try{l(2,t[o])}finally{iw(n,c)}}}}finally{null===t[lh]&&oj(t,lh),gh(-1)}}(e,t);const a=e.components;null!==a&&Aj(t,a,0);const l=e.viewQuery;if(null!==l&&aO(2,l,n),o){const c=e.viewCheckHooks;null!==c&&ob(t,c)}else{const c=e.viewHooks;null!==c&&ab(t,c,2),cm(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[bi]&=-73,Xy(t)}finally{vw()}}}function Ej(e,t){for(let i=ZH(e);null!==i;i=QH(i))for(let n=ao;n<i.length;n++)Ij(i[n],t)}function Uge(e,t,i){Ij(La(t,e),i)}function Ij(e,t){if(!function FP(e){return 128==(128&e[bi])}(e))return;const i=e[vt],n=e[bi];if(80&n&&0===t||1024&n||2===t)Mj(i,e,i.template,e[vs]);else if(e[$f]>0){Ej(e,1);const r=i.components;null!==r&&Aj(e,r,1)}}function Aj(e,t,i){for(let n=0;n<t.length;n++)Uge(e,t[n],i)}class tx{get rootNodes(){const t=this._lView,i=t[vt];return ex(i,t,i.firstChild,[])}constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vs]}set context(t){this._lView[vs]=t}get destroyed(){return 256==(256&this._lView[bi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Dr];if(Go(t)){const i=t[8],n=i?i.indexOf(this):-1;n>-1&&(EE(t,n),fb(i,n))}this._attachedToViewContainer=!1}mF(this._lView[vt],this._lView)}onDestroy(t){!function Jy(e,t){if(256==(256&e[bi]))throw new se(911,!1);null===e[au]&&(e[au]=[]),e[au].push(t)}(this._lView,t)}markForCheck(){Xw(this._cdRefInjectingView||this._lView)}detach(){this._lView[bi]&=-129}reattach(){this._lView[bi]|=128}detectChanges(){ZE(this._lView[vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function The(e,t){Ww(e,t,t[_i],2,null,null)}(this._lView[vt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=t}}class Wge extends tx{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ZE(t[vt],t,t[vs],!1)}checkNoChanges(){}get context(){return null}}class Tj extends Eb{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=qi(t);return new ix(i,this.ngModule)}}function Rj(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}class Yge{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,n){n=Ty(n);const r=this.injector.get(t,$F,n);return r!==$F||i===$F?r:this.parentInjector.get(t,i,n)}}class ix extends N7{get inputs(){const t=this.componentDef,i=t.inputTransforms,n=Rj(t.inputs);if(null!==i)for(const r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return Rj(this.componentDef.outputs)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function By(e){return e.map($C).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,n,r){let s=(r=r||this.ngModule)instanceof lc?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Yge(t,s):t,a=o.get(Qw,null);if(null===a)throw new se(407,!1);const u={rendererFactory:a,sanitizer:o.get(jpe,null),effectManager:o.get(Sj,null),afterRenderEventManager:o.get(XF,null)},h=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=n?function mge(e,t,i,n){const s=n.get(tj,!1)||i===Ss.ShadowDom,o=e.selectRootElement(t,s);return function vge(e){hj(e)}(o),o}(h,n,this.componentDef.encapsulation,o):ME(h,g,function $ge(e){const t=e.toLowerCase();return"svg"===t?jM:"math"===t?"math":null}(g)),x=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==m&&(D=jF(m,o,!0));const M=nO(0,null,null,1,0,null,null,null,null,null,null),k=YE(null,M,null,x,null,null,u,h,o,null,D);let V,H;rb(k);try{const F=this.componentDef;let P,G=null;F.findHostDirectiveDefs?(P=[],G=new Map,F.findHostDirectiveDefs(F,P,G),P.push(F)):P=[F];const Y=function qge(e,t){const i=e[vt],n=Gi;return e[n]=t,kb(i,n,2,"#host",null)}(k,m),q=function Zge(e,t,i,n,r,s,o){const a=r[vt];!function Qge(e,t,i,n){for(const r of e)t.mergedAttrs=Vp(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(qE(t,t.mergedAttrs,!0),null!==i&&h7(n,i,t))}(n,e,t,o);let l=null;null!==t&&(l=jF(t,r[Oc]));const c=s.rendererFactory.createRenderer(t,i);let d=16;i.signals?d=4096:i.onPush&&(d=64);const u=YE(r,uj(i),null,d,r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&sO(a,e,n.length-1),KE(r,u),r[e.index]=u}(Y,m,F,P,k,u,h);H=lu(M,Gi),m&&function Jge(e,t,i,n){if(n)Py(e,i,["ng-version",B7.full]);else{const{attrs:r,classes:s}=function YC(e){const t=[],i=[];let n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++n]):8===r&&i.push(s);else{if(!Pa(r))break;r=s}n++}return{attrs:t,classes:i}}(t.selectors[0]);r&&Py(e,i,r),s&&s.length>0&&u7(e,i,s.join(" "))}}(h,F,m,n),void 0!==i&&function efe(e,t,i){const n=e.projection=[];for(let r=0;r<t.length;r++){const s=i[r];n.push(null!=s?Array.from(s):null)}}(H,this.ngContentSelectors,i),V=function Xge(e,t,i,n,r,s){const o=lo(),a=r[vt],l=Co(o,r);fj(a,r,o,i,null,n);for(let d=0;d<i.length;d++)ua(fh(r,a,o.directiveStart+d,o),r);mj(a,r,o),l&&ua(l,r);const c=fh(r,a,o.directiveStart+o.componentOffset,o);if(e[vs]=r[vs]=c,null!==s)for(const d of s)d(c,t);return eO(a,o,e),c}(q,F,P,G,k,[tfe]),cO(M,k,null)}finally{vw()}return new Kge(this.componentType,V,Ib(H,k),k,H)}}class Kge extends Npe{constructor(t,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Wge(r),this.componentType=t}setInput(t,i){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;const s=this._rootLView;lO(s[vt],s,r,t,i),this.previousInputValues.set(t,i),Xw(La(this._tNode.index,s))}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function tfe(){const e=lo();sb(Ge()[vt],e)}function Ht(e){let t=function kj(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const n=[e];for(;t;){let r;if(Oa(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new se(903,!1);r=t.\u0275dir}if(r){if(i){n.push(r);const o=e;o.inputs=QE(e.inputs),o.inputTransforms=QE(e.inputTransforms),o.declaredInputs=QE(e.declaredInputs),o.outputs=QE(e.outputs);const a=r.hostBindings;a&&sfe(e,a);const l=r.viewQuery,c=r.contentQueries;if(l&&nfe(e,l),c&&rfe(e,c),Nr(e.inputs,r.inputs),Nr(e.declaredInputs,r.declaredInputs),Nr(e.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Nr(o.inputTransforms,r.inputTransforms)),Oa(r)&&r.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Ht&&(i=!1)}}t=Object.getPrototypeOf(t)}!function ife(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Vp(r.hostAttrs,i=Vp(i,r.hostAttrs))}}(n)}function QE(e){return e===Bo?{}:e===zi?[]:e}function nfe(e,t){const i=e.viewQuery;e.viewQuery=i?(n,r)=>{t(n,r),i(n,r)}:t}function rfe(e,t){const i=e.contentQueries;e.contentQueries=i?(n,r,s)=>{t(n,r,s),i(n,r,s)}:t}function sfe(e,t){const i=e.hostBindings;e.hostBindings=i?(n,r)=>{t(n,r),i(n,r)}:t}function Lj(e){const t=e.inputConfig,i={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];Array.isArray(r)&&r[2]&&(i[n]=r[2])}e.inputTransforms=i}function XE(e){return!!dO(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function dO(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function fu(e,t,i){return e[t]=i}function ha(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function bm(e,t,i,n){const r=ha(e,t,i);return ha(e,t+1,n)||r}function gi(e,t,i,n){const r=Ge();return ha(r,ph(),t)&&(en(),gu(Vr(),r,e,t,i,n)),gi}function Fb(e,t,i,n){return ha(e,ph(),i)?t+xt(i)+n:Ai}function Ob(e,t,i,n,r,s){const a=bm(e,function sc(){return si.lFrame.bindingIndex}(),i,r);return Bc(2),a?t+xt(i)+n+xt(r)+s:Ai}function te(e,t,i,n,r,s,o,a){const l=Ge(),c=en(),d=e+Gi,u=c.firstCreatePass?function Tfe(e,t,i,n,r,s,o,a,l){const c=t.consts,d=kb(t,e,4,o||null,Md(c,a));rO(t,i,d,Md(c,l)),sb(t,d);const u=d.tView=nO(2,d,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,i,n,r,s,o):c.data[d];Vc(u,!1);const h=qj(c,l,u,e);lm()&&AE(c,l,h,u),ua(h,l),KE(l,l[d]=yj(h,l,h,u)),XC(u)&&tO(c,l,u),null!=o&&iO(l,u,a)}let qj=function Zj(e,t,i,n){return uu(!0),t[_i].createComment("")};function Wc(e){return cu(function hw(){return si.lFrame.contextLView}(),Gi+e)}function B(e,t,i){const n=Ge();return ha(n,ph(),t)&&cc(en(),Vr(),n,e,t,n[_i],i,!1),B}function mO(e,t,i,n,r){const o=r?"class":"style";lO(e,i,t.inputs[o],o,n)}function w(e,t,i,n){const r=Ge(),s=en(),o=Gi+e,a=r[_i],l=s.firstCreatePass?function Ffe(e,t,i,n,r,s){const o=t.consts,l=kb(t,e,2,n,Md(o,r));return rO(t,i,l,Md(o,s)),null!==l.attrs&&qE(l,l.attrs,!1),null!==l.mergedAttrs&&qE(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,i,n):s.data[o],c=Qj(s,r,l,a,t,e);r[o]=c;const d=XC(l);return Vc(l,!0),h7(a,c,l),32!=(32&l.flags)&&lm()&&AE(s,r,c,l),0===function nm(){return si.lFrame.elementDepthCount}()&&ua(c,r),function NP(){si.lFrame.elementDepthCount++}(),d&&(tO(s,r,l),eO(s,l,r)),null!==n&&iO(r,l),w}function S(){let e=lo();sm()?uw():(e=e.parent,Vc(e,!1));const t=e;(function cw(e){return si.skipHydrationRootTNode===e})(t)&&function YM(){si.skipHydrationRootTNode=null}(),function VP(){si.lFrame.elementDepthCount--}();const i=en();return i.firstCreatePass&&(sb(i,e),MM(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function _w(e){return 0!=(8&e.flags)}(t)&&mO(i,t,Ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function lE(e){return 0!=(16&e.flags)}(t)&&mO(i,t,Ge(),t.stylesWithoutHost,!1),S}function Z(e,t,i,n){return w(e,t,i,n),S(),Z}let Qj=(e,t,i,n,r,s)=>(uu(!0),ME(n,r,function nE(){return si.lFrame.currentNamespace}()));function Ih(e,t,i){const n=Ge(),r=en(),s=e+Gi,o=r.firstCreatePass?function Nfe(e,t,i,n,r){const s=t.consts,o=Md(s,n),a=kb(t,e,8,"ng-container",o);return null!==o&&qE(a,o,!0),rO(t,i,a,Md(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,n,t,i):r.data[s];Vc(o,!0);const a=Jj(r,n,o,e);return n[s]=a,lm()&&AE(r,n,a,o),ua(a,n),XC(o)&&(tO(r,n,o),eO(r,o,n)),null!=i&&iO(n,o),Ih}function Ah(){let e=lo();const t=en();return sm()?uw():(e=e.parent,Vc(e,!1)),t.firstCreatePass&&(sb(t,e),MM(e)&&t.queries.elementEnd(e)),Ah}let Jj=(e,t,i,n)=>(uu(!0),fF(t[_i],""));function ct(){return Ge()}function ax(e){return!!e&&"function"==typeof e.then}function eU(e){return!!e&&"function"==typeof e.subscribe}function Q(e,t,i,n){const r=Ge(),s=en(),o=lo();return tU(s,r,r[_i],o,e,t,n),Q}function nI(e,t){const i=lo(),n=Ge(),r=en();return tU(r,n,wj(mw(r.data),i,n),i,e,t),nI}function tU(e,t,i,n,r,s,o){const a=XC(n),c=e.firstCreatePass&&Cj(e),d=t[vs],u=_j(t);let h=!0;if(3&n.type||o){const y=Co(n,t),_=o?o(y):y,x=u.length,D=o?k=>o(In(k[n.index])):n.index;let M=null;if(!o&&a&&(M=function zfe(e,t,i,n){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===i&&r[s+1]===n){const a=t[Bp],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,r,n.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,h=!1;else{s=nU(n,t,d,s,!1);const k=i.listen(_,r,s);u.push(s,k),c&&c.push(r,D,x,x+1)}}else s=nU(n,t,d,s,!1);const g=n.outputs;let m;if(h&&null!==g&&(m=g[r])){const y=m.length;if(y)for(let _=0;_<y;_+=2){const V=t[m[_]][m[_+1]].subscribe(s),H=u.length;u.push(s,V),c&&c.push(r,n.index,H,-(H+1))}}}function iU(e,t,i,n){try{return bl(6,t,i),!1!==i(n)}catch(r){return xj(e,r),!1}finally{bl(7,t,i)}}function nU(e,t,i,n,r){return function s(o){if(o===Function)return n;Xw(e.componentOffset>-1?La(e.index,t):t);let l=iU(t,i,n,o),c=s.__ngNextListenerFn__;for(;c;)l=iU(t,i,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function ae(e=1){return function GP(e){return(si.lFrame.contextLView=function HP(e,t){for(;e>0;)t=t[ou],e--;return t}(e,si.lFrame.contextLView))[vs]}(e)}function Gfe(e,t){let i=null;const n=function Vy(e){const t=e.attrs;if(null!=t){const i=t.indexOf(5);if(!(1&i))return t[i+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===n?Ny(e,s,!0):UC(n,s))return r}else i=r}return i}function co(e){const t=Ge()[ys][Ks];if(!t.projection){const n=t.projection=_h(e?e.length:1,null),r=n.slice();let s=t.child;for(;null!==s;){const o=e?Gfe(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Zi(e,t=0,i){const n=Ge(),r=en(),s=kb(r,Gi+e,16,null,i||null);null===s.projection&&(s.projection=t),uw(),(!n[rc]||du())&&32!=(32&s.flags)&&function Vhe(e,t,i){d7(t[_i],0,t,i,yF(e,i,t),r7(i.parent||t[Ks],i,t))}(r,n,s)}function rI(e,t,i){return vO(e,"",t,"",i),rI}function vO(e,t,i,n,r){const s=Ge(),o=Fb(s,t,i,n);return o!==Ai&&cc(en(),Vr(),s,e,o,s[_i],r,!1),vO}function sI(e,t){return e<<17|t<<2}function tg(e){return e>>17&32767}function yO(e){return 2|e}function _m(e){return(131068&e)>>2}function bO(e,t){return-131069&e|t<<2}function _O(e){return 1|e}function hU(e,t,i,n,r){const s=e[i+1],o=null===t;let a=n?tg(s):_m(s),l=!1;for(;0!==a&&(!1===l||o);){const d=e[a+1];Yfe(e[a],t)&&(l=!0,e[a+1]=n?_O(d):yO(d)),a=n?tg(d):_m(d)}l&&(e[i+1]=n?yO(s):_O(s))}function Yfe(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Xp(e,t)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pU(e){return e.substring(uo.key,uo.keyEnd)}function gU(e,t){const i=uo.textEnd;return i===t?-1:(t=uo.keyEnd=function Qfe(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,uo.key=t,i),Hb(e,t,i))}function Hb(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function mu(e,t,i){return Ad(e,t,i,!1),mu}function ei(e,t){return Ad(e,t,null,!0),ei}function yu(e,t){for(let i=function qfe(e){return function mU(e){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=e.length}(e),gU(e,Hb(e,0,uo.textEnd))}(t);i>=0;i=gU(t,i))Ms(e,pU(t),!0)}function Ad(e,t,i,n){const r=Ge(),s=en(),o=Bc(2);s.firstUpdatePass&&CU(s,e,o,n),t!==Ai&&ha(r,o,t)&&xU(s,s.data[Ho()],r,r[_i],e,r[o+1]=function lme(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Xt(ac(e)))),e}(t,i),n,o)}function Td(e,t,i,n){const r=en(),s=Bc(2);r.firstUpdatePass&&CU(r,null,s,n);const o=Ge();if(i!==Ai&&ha(o,s,i)){const a=r.data[Ho()];if(DU(a,n)&&!_U(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(i=xs(l,i||"")),mO(r,a,o,i,n)}else!function ame(e,t,i,n,r,s,o,a){r===Ai&&(r=zi);let l=0,c=0,d=0<r.length?r[0]:null,u=0<s.length?s[0]:null;for(;null!==d||null!==u;){const h=l<r.length?r[l+1]:void 0,g=c<s.length?s[c+1]:void 0;let y,m=null;d===u?(l+=2,c+=2,h!==g&&(m=u,y=g)):null===u||null!==d&&d<u?(l+=2,m=d):(c+=2,m=u,y=g),null!==m&&xU(e,t,i,n,m,y,o,a),d=l<r.length?r[l]:null,u=c<s.length?s[c]:null}}(r,a,o,o[_i],o[s+1],o[s+1]=function sme(e,t,i){if(null==i||""===i)return zi;const n=[],r=ac(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else"string"==typeof r&&t(n,r);return n}(e,t,i),n,s)}}function _U(e,t){return t>=e.expandoStartIndex}function CU(e,t,i,n){const r=e.data;if(null===r[i+1]){const s=r[Ho()],o=_U(e,i);DU(s,n)&&null===t&&!o&&(t=!1),t=function tme(e,t,i,n){const r=mw(e);let s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(i=lx(i=CO(null,e,t,i,n),t.attrs,n),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(i=CO(r,e,t,i,n),null===s){let l=function ime(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==_m(n))return e[tg(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=CO(null,e,t,l[1],n),l=lx(l,t.attrs,n),function nme(e,t,i,n){e[tg(i?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else s=function rme(e,t,i){let n;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=lx(n,e[s].hostAttrs,i);return lx(n,t.attrs,i)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),i}(r,s,t,n),function Wfe(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=tg(o),l=_m(o);e[n]=i;let d,c=!1;if(Array.isArray(i)?(d=i[1],(null===d||Xp(i,d)>0)&&(c=!0)):d=i,r)if(0!==l){const h=tg(e[a+1]);e[n+1]=sI(h,a),0!==h&&(e[h+1]=bO(e[h+1],n)),e[a+1]=function jfe(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=sI(a,0),0!==a&&(e[a+1]=bO(e[a+1],n)),a=n;else e[n+1]=sI(l,0),0===a?a=n:e[l+1]=bO(e[l+1],n),l=n;c&&(e[n+1]=yO(e[n+1])),hU(e,d,n,!0),hU(e,d,n,!1),function $fe(e,t,i,n,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Xp(s,t)>=0&&(i[n+1]=_O(i[n+1]))}(t,d,e,n,s),o=sI(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,i,o,n)}}function CO(e,t,i,n,r){let s=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],n=lx(n,s.hostAttrs,r),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function lx(e,t,i){const n=i?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ms(e,o,!!i||t[++s]))}return void 0===e?null:e}function ome(e,t,i){const n=String(t);""!==n&&!n.includes(" ")&&Ms(e,n,i)}function xU(e,t,i,n,r,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function Ufe(e){return 1==(1&e)}(c)?SU(l,t,i,r,_m(c),o):void 0;oI(d)||(oI(s)||function Hfe(e){return 2==(2&e)}(c)&&(s=SU(l,null,i,r,a,o)),function zhe(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let s=-1===n.indexOf("-")?void 0:Jp.DashCase;null==r?e.removeStyle(i,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Jp.Important),e.setStyle(i,n,r,s))}}(n,o,Qy(Ho(),i),r,s))}function SU(e,t,i,n,r,s){const o=null===t;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),d=c?l[1]:l,u=null===d;let h=i[r+1];h===Ai&&(h=u?zi:void 0);let g=u?mb(h,n):d===n?h:void 0;if(c&&!oI(g)&&(g=mb(l,n)),oI(g)&&(a=g,o))return a;const m=e[r+1];r=o?tg(m):_m(m)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=mb(l,n))}return a}function oI(e){return void 0!==e}function DU(e,t){return 0!=(e.flags&(t?8:16))}function O(e,t=""){const i=Ge(),n=en(),r=e+Gi,s=n.firstCreatePass?kb(n,r,1,t,null):n.data[r],o=MU(n,i,s,t,e);i[r]=o,lm()&&AE(n,i,o,s),Vc(s,!1)}let MU=(e,t,i,n,r)=>(uu(!0),function DE(e,t){return e.createText(t)}(t[_i],n));function Et(e){return _t("",e,""),Et}function _t(e,t,i){const n=Ge(),r=Fb(n,e,t,i);return r!==Ai&&Eh(n,Ho(),r),_t}function wO(e,t,i,n,r){const s=Ge(),o=Ob(s,e,t,i,n,r);return o!==Ai&&Eh(s,Ho(),o),wO}function dc(e,t,i){const n=Ge();return ha(n,ph(),t)&&cc(en(),Vr(),n,e,t,n[_i],i,!0),dc}function aI(e,t,i){const n=Ge();if(ha(n,ph(),t)){const s=en(),o=Vr();cc(s,o,n,e,t,wj(mw(s.data),o,n),i,!0)}return aI}const Cm=void 0;var Ame=["en",[["a","p"],["AM","PM"],Cm],[["AM","PM"],Cm,Cm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cm,"{1} 'at' {0}",Cm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ime(e){const i=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===n?1:5}];let jb={};function Na(e){const t=function Tme(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=WU(t);if(i)return i;const n=t.split("-")[0];if(i=WU(n),i)return i;if("en"===n)return Ame;throw new se(701,!1)}function WU(e){return e in jb||(jb[e]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[e]),jb[e]}var Ir=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ir||{});const Ub="en-US";let $U=Ub;function DO(e,t,i,n,r){if(e=ke(e),Array.isArray(e))for(let s=0;s<e.length;s++)DO(e[s],t,i,n,r);else{const s=en(),o=Ge(),a=lo();let l=ym(e)?e:ke(e.provide);const c=R7(e),d=1048575&a.providerIndexes,u=a.directiveStart,h=a.providerIndexes>>20;if(ym(e)||!e.multi){const g=new Yp(c,r,R),m=EO(l,t,r?d:d+h,u);-1===m?(xw(ub(a,o),s,l),MO(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(g),o.push(g)):(i[m]=g,o[m]=g)}else{const g=EO(l,t,d+h,u),m=EO(l,t,d,d+h),_=m>=0&&i[m];if(r&&!_||!r&&!(g>=0&&i[g])){xw(ub(a,o),s,l);const x=function Ive(e,t,i,n,r){const s=new Yp(e,i,R);return s.multi=[],s.index=t,s.componentProviders=0,v9(s,r,n&&!i),s}(r?Eve:Mve,i.length,r,n,c);!r&&_&&(i[m].providerFactory=x),MO(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(x),o.push(x)}else MO(s,e,g>-1?g:m,v9(i[r?m:g],c,!r&&n));!r&&n&&_&&i[m].componentProviders++}}}function MO(e,t,i,n){const r=ym(t),s=function _pe(e){return!!e.useClass}(t);if(r||s){const l=(s?ke(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const d=c.indexOf(i);-1===d?c.push(i,[n,l]):c[d+1].push(n,l)}else c.push(i,l)}}}function v9(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function EO(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function Mve(e,t,i,n){return IO(this.multi,[])}function Eve(e,t,i,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=fh(i,i[vt],this.providerFactory.index,n);s=a.slice(0,o),IO(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],IO(r,s);return s}function IO(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function Ri(e,t=[]){return i=>{i.providersResolver=(n,r)=>function Dve(e,t,i){const n=en();if(n.firstCreatePass){const r=Oa(e);DO(i,n.data,n.blueprint,r,!0),DO(t,n.data,n.blueprint,r,!1)}}(n,r?r(e):e,t)}}class wm{}class y9{}class AO extends wm{constructor(t,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tj(this);const r=zo(t);this._bootstrapComponents=Mh(r.bootstrap),this._r3Injector=U7(t,i,[{provide:wm,useValue:this},{provide:Eb,useValue:this.componentFactoryResolver},...n],Xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class TO extends y9{constructor(t){super(),this.moduleType=t}create(t){return new AO(this.moduleType,t,[])}}class b9 extends wm{constructor(t){super(),this.componentFactoryResolver=new Tj(this),this.instance=null;const i=new xb([...t.providers,{provide:wm,useValue:this},{provide:Eb,useValue:this.componentFactoryResolver}],t.parent||NE(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function RO(e,t,i=null){return new b9({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}let Rve=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const n=E7(0,i.type),r=n.length>0?RO([n],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,r)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Pe({token:e,providedIn:"environment",factory:()=>new e(ne(lc))})}}return e})();function gx(e){e.getStandaloneInjector=t=>t.get(Rve).getOrCreateStandaloneInjector(e)}function xl(e,t,i){const n=wo()+e,r=Ge();return r[n]===Ai?fu(r,n,i?t.call(i):t()):function nx(e,t){return e[t]}(r,n)}function fx(e,t,i,n){return M9(Ge(),wo(),e,t,i,n)}function PO(e,t,i,n,r){return E9(Ge(),wo(),e,t,i,n,r)}function mx(e,t){const i=e[t];return i===Ai?void 0:i}function M9(e,t,i,n,r,s){const o=t+i;return ha(e,o,r)?fu(e,o+1,s?n.call(s,r):n(r)):mx(e,o+1)}function E9(e,t,i,n,r,s,o){const a=t+i;return bm(e,a,r,s)?fu(e,a+2,o?n.call(o,r,s):n(r,s)):mx(e,a+2)}function I9(e,t,i,n,r,s,o,a){const l=t+i;return function JE(e,t,i,n,r){const s=bm(e,t,i,n);return ha(e,t+2,r)||s}(e,l,r,s,o)?fu(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):mx(e,l+3)}function Va(e,t){const i=en();let n;const r=e+Gi;i.firstCreatePass?(n=function Yve(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];const s=n.factory||(n.factory=dh(n.type)),a=aa(R);try{const l=db(!1),c=s();return db(l),function Pfe(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(i,Ge(),r,c),c}finally{aa(a)}}function $c(e,t,i){const n=e+Gi,r=Ge(),s=cu(r,n);return vx(r,n)?M9(r,wo(),t,s.transform,i,s):s.transform(i)}function FO(e,t,i,n,r){const s=e+Gi,o=Ge(),a=cu(o,s);return vx(o,s)?I9(o,wo(),t,a.transform,i,n,r,a):a.transform(i,n,r)}function vx(e,t){return e[vt].data[t].pure}function Zve(){return this._results[Symbol.iterator]()}class Wb{get changes(){return this._changes||(this._changes=new pe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Wb.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Zve)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){const n=this;n.dirty=!1;const r=function Er(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function sF(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}(n._results,r,i))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Xve(e,t,i,n=!0){const r=t[vt];if(function khe(e,t,i,n){const r=ao+n,s=i.length;n>0&&(i[r-1][Fa]=t),n<s-ao?(t[Fa]=i[r],Tw(i,ao+n,t)):(i.push(t),t[Fa]=null),t[Dr]=i;const o=t[ah];null!==o&&i!==o&&function Phe(e,t){const i=e[ch];t[ys]!==t[Dr][Dr][ys]&&(e[Uy]=!0),null===i?e[ch]=[t]:i.push(t)}(o,t);const a=t[vl];null!==a&&a.insertView(e),t[bi]|=128}(r,t,e,i),n){const s=_F(i,e),o=t[_i],a=IE(o,e[Lc]);null!==a&&function Ahe(e,t,i,n,r,s){n[Sr]=r,n[Ks]=t,Ww(e,n,i,1,r,s)}(r,e[Ks],o,t,a,s)}}let uc=(()=>{class e{static{this.__NG_ELEMENT_ID__=tye}}return e})();const Jve=uc,eye=class extends Jve{constructor(t,i,n){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,n){const r=function Qve(e,t,i,n){const r=t.tView,a=YE(e,r,i,4096&e[bi]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[ah]=e[t.index];const c=e[vl];return null!==c&&(a[vl]=c.createEmbeddedView(r)),cO(r,a,i),a}(this._declarationLView,this._declarationTContainer,t,{injector:i,hydrationInfo:n});return new tx(r)}};function tye(){return hI(lo(),Ge())}function hI(e,t){return 4&e.type?new eye(t,e,Ib(e,t)):null}let pa=(()=>{class e{static{this.__NG_ELEMENT_ID__=aye}}return e})();function aye(){return V9(lo(),Ge())}const lye=pa,L9=class extends lye{constructor(t,i,n){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=n}get element(){return Ib(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Kp(this._hostTNode,this._hostLView);if(cb(t)){const i=um(t,this._hostLView),n=dm(t);return new jo(i[vt].data[n+8],i)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=N9(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-ao}createEmbeddedView(t,i,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const a=t.createEmbeddedViewImpl(i||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,i,n,r,s){const o=t&&!function bh(e){return"function"==typeof e}(t);let a;if(o)a=i;else{const y=i||{};a=y.index,n=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}const l=o?t:new ix(qi(t)),c=n||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?c:this.parentInjector).get(lc,null);_&&(s=_)}qi(l.componentType??{});const g=l.create(c,r,null,s);return this.insertImpl(g.hostView,a,false),g}insert(t,i){return this.insertImpl(t,i,!1)}insertImpl(t,i,n){const r=t._lView;if(function lw(e){return Go(e[Dr])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[Dr],d=new L9(c,c[Ks],c[Dr]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(i),a=this._lContainer;return Xve(a,r,o,!n),t.attachToViewContainerRef(),Tw(OO(a),o,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=N9(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),n=EE(this._lContainer,i);n&&(fb(OO(this._lContainer),i),mF(n[vt],n))}detach(t){const i=this._adjustIndex(t,-1),n=EE(this._lContainer,i);return n&&null!=fb(OO(this._lContainer),i)?new tx(n):null}_adjustIndex(t,i=0){return t??this.length+i}};function N9(e){return e[8]}function OO(e){return e[8]||(e[8]=[])}function V9(e,t){let i;const n=t[e.index];return Go(n)?i=n:(i=yj(n,t,null,e),t[e.index]=i,KE(t,i)),B9(i,t,e,n),new L9(i,e,t)}let B9=function z9(e,t,i,n){if(e[Lc])return;let r;r=8&i.type?In(n):function cye(e,t){const i=e[_i],n=i.createComment(""),r=Co(t,e);return mm(i,IE(i,r),n,function Nhe(e,t){return e.nextSibling(t)}(i,r),!1),n}(t,i),e[Lc]=r};class LO{constructor(t){this.queryList=t,this.matches=null}clone(){return new LO(this.queryList)}setDirty(){this.queryList.setDirty()}}class NO{constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const n=null!==t.contentQueries?t.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){const o=i.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new NO(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==W9(t,i).matches&&this.queries[i].setDirty()}}class G9{constructor(t,i,n=null){this.predicate=t,this.flags=i,this.read=n}}class VO{constructor(t=[]){this.queries=t}elementStart(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let n=0;n<this.length;n++){const r=null!==i?i.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,null!==i?i.push(s):i=[s])}return null!==i?new VO(i):null}template(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class BO{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new BO(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==i;)n=n.parent;return i===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(t,i,hye(i,s)),this.matchTNodeWithReadOption(t,i,gb(i,t,s,!1,!1))}else n===uc?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,gb(i,t,n,!1,!1))}matchTNodeWithReadOption(t,i,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ti||r===pa||r===uc&&4&i.type)this.addMatch(i.index,-2);else{const s=gb(i,t,r,!1,!1);null!==s&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function hye(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function gye(e,t,i,n){return-1===i?function pye(e,t){return 11&e.type?Ib(e,t):4&e.type?hI(e,t):null}(t,e):-2===i?function fye(e,t,i){return i===ti?Ib(t,e):i===uc?hI(t,e):i===pa?V9(t,e):void 0}(e,t,n):fh(e,e[vt],i,t)}function H9(e,t,i,n){const r=t[vl].queries[n];if(null===r.matches){const s=e.data,o=i.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:gye(t,s[c],o[l+1],i.metadata.read))}r.matches=a}return r.matches}function zO(e,t,i,n){const r=e.queries.getByIndex(i),s=r.matches;if(null!==s){const o=H9(e,t,r,i);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const c=s[a+1],d=t[-l];for(let u=ao;u<d.length;u++){const h=d[u];h[ah]===h[Dr]&&zO(h[vt],h,c,n)}if(null!==d[ch]){const u=d[ch];for(let h=0;h<u.length;h++){const g=u[h];zO(g[vt],g,c,n)}}}}}return n}function ii(e){const t=Ge(),i=en(),n=XM();om(n+1);const r=W9(i,n);if(e.dirty&&function PP(e){return 4==(4&e[bi])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?zO(i,t,n,[]):H9(i,t,r,n);e.reset(s,Gpe),e.notifyOnChanges()}return!0}return!1}function Jn(e,t,i){const n=en();n.firstCreatePass&&(U9(n,new G9(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),j9(n,Ge(),t)}function zr(e,t,i,n){const r=en();if(r.firstCreatePass){const s=lo();U9(r,new G9(t,i,n),s.index),function vye(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(r,e),2==(2&i)&&(r.staticContentQueries=!0)}j9(r,Ge(),i)}function ni(){return function mye(e,t){return e[vl].queries[t].queryList}(Ge(),XM())}function j9(e,t,i){const n=new Wb(4==(4&i));(function _ge(e,t,i,n){const r=_j(t);r.push(i),e.firstCreatePass&&Cj(e).push(n,r.length-1)})(e,t,n,n.destroy),null===t[vl]&&(t[vl]=new NO),t[vl].queries.push(new LO(n))}function U9(e,t,i){null===e.queries&&(e.queries=new VO),e.queries.track(new BO(t,i))}function W9(e,t){return e.queries.getByIndex(t)}function GO(e,t){return hI(e,t)}const YO=new Me("Application Initializer");let KO=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n}),this.appInits=ze(YO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const r of this.appInits){const s=r();if(ax(s))i.push(s);else if(eU(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});i.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{n()}).catch(r=>{this.reject(r)}),0===i.length&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lW=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const bu=new Me("LocaleId",{providedIn:"root",factory:()=>ze(bu,Ni.Optional|Ni.SkipSelf)||function Vye(){return typeof $localize<"u"&&$localize.locale||Ub}()});let fI=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class Gye{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let cW=(()=>{class e{compileModuleSync(i){return new TO(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const n=this.compileModuleSync(i),s=Mh(zo(i).declarations).reduce((o,a)=>{const l=qi(a);return l&&o.push(new ix(l)),o},[]);return new Gye(n,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const pW=new Me(""),vI=new Me("");let JO,QO=(()=>{class e{constructor(i,n,r){this._ngZone=i,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,JO||(function cbe(e){JO=e}(r),r.addToWindow(n)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(i)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),i(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:r})}whenStable(i,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,n,r){return[]}static{this.\u0275fac=function(n){return new(n||e)(ne(Mt),ne(XO),ne(vI))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})(),XO=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,n){this._applications.set(i,n)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,n=!0){return JO?.findTestabilityInTree(this,i,n)??null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ig=null;const gW=new Me("AllowMultipleToken"),e3=new Me("PlatformDestroyListeners"),t3=new Me("appBootstrapListener");class mW{constructor(t,i){this.name=t,this.token=i}}function yW(e,t,i=[]){const n=`Platform: ${t}`,r=new Me(n);return(s=[])=>{let o=i3();if(!o||o.injector.get(gW,!1)){const a=[...i,...s,{provide:r,useValue:!0}];e?e(a):function hbe(e){if(ig&&!ig.get(gW,!1))throw new se(400,!1);(function fW(){!function wP(e){sw=e}(()=>{throw new se(600,!1)})})(),ig=e;const t=e.get(_W);(function vW(e){e.get(k7,null)?.forEach(i=>i())})(e)}(function bW(e=[],t){return ts.create({name:t,providers:[{provide:kF,useValue:"platform"},{provide:e3,useValue:new Set([()=>ig=null])},...e]})}(a,n))}return function gbe(e){const t=i3();if(!t)throw new se(401,!1);return t}()}}function i3(){return ig?.get(_W)??null}let _W=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,n){const r=function fbe(e="zone.js",t){return"noop"===e?new ige:"zone.js"===e?new Mt(t):e}(n?.ngZone,function CW(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Tve(e,t,i){return new AO(e,t,i)}(i.moduleType,this.injector,function MW(e){return[{provide:Mt,useFactory:e},{provide:Kw,multi:!0,useFactory:()=>{const t=ze(vbe,{optional:!0});return()=>t.initialize()}},{provide:DW,useFactory:mbe},{provide:q7,useFactory:Z7}]}(()=>r)),o=s.injector.get(jc,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{yI(this._modules,s),a.unsubscribe()})}),function wW(e,t,i){try{const n=i();return ax(n)?n.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(o,r,()=>{const a=s.injector.get(KO);return a.runInitializers(),a.donePromise.then(()=>(function YU(e){ml(e,"Expected localeId to be defined"),"string"==typeof e&&($U=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(bu,Ub)||Ub),this._moduleDoBootstrap(s),s))})})}bootstrapModule(i,n=[]){const r=xW({},n);return function dbe(e,t,i){const n=new TO(i);return Promise.resolve(n)}(0,0,i).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(i){const n=i.injector.get(ng);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!i.instance.ngDoBootstrap)throw new se(-403,!1);i.instance.ngDoBootstrap(n)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const i=this._injector.get(e3,null);i&&(i.forEach(n=>n()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(n){return new(n||e)(ne(ts))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function xW(e,t){return Array.isArray(t)?t.reduce(xW,e):{...e,...t}}let ng=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ze(DW),this.zoneIsStable=ze(q7),this.componentTypes=[],this.components=[],this.isStable=ze(fI).hasPendingTasks.pipe(Ze(i=>i?ie(!1):this.zoneIsStable),cn(),de()),this._injector=ze(lc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,n){const r=i instanceof N7;if(!this._injector.get(KO).done)throw!r&&function su(e){const t=qi(e)||Os(e)||Ys(e);return null!==t&&t.standalone}(i),new se(405,!1);let o;o=r?i:this._injector.get(Eb).resolveComponentFactory(i),this.componentTypes.push(o.componentType);const a=function ube(e){return e.isBoundToModule}(o)?void 0:this._injector.get(wm),c=o.create(ts.NULL,[],n||o.selector,a),d=c.location.nativeElement,u=c.injector.get(pW,null);return u?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),yI(this.components,c),u?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const n=i;this._views.push(n),n.attachToAppRef(this)}detachView(i){const n=i;yI(this._views,n),n.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const n=this._injector.get(t3,[]);n.push(...this._bootstrapListeners),n.forEach(r=>r(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>yI(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new se(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yI(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const DW=new Me("",{providedIn:"root",factory:()=>ze(jc).handleError.bind(void 0)});function mbe(){const e=ze(Mt),t=ze(jc);return i=>e.runOutsideAngular(()=>t.handleError(i))}let vbe=(()=>{class e{constructor(){this.zone=ze(Mt),this.applicationRef=ze(ng)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let Es=(()=>{class e{static{this.__NG_ELEMENT_ID__=bbe}}return e})();function bbe(e){return function _be(e,t,i){if(Hp(e)&&!i){const n=La(e.index,t);return new tx(n,n)}return 47&e.type?new tx(t[ys],t):null}(lo(),Ge(),16==(16&e))}class kW{constructor(){}supports(t){return XE(t)}create(t){return new Dbe(t)}}const Sbe=(e,t)=>t;class Dbe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sbe}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){const o=!n||i&&i.currentIndex<FW(n,r,s)?i:n,a=FW(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,d=l-r;if(c!=d){for(let h=0;h<c;h++){const g=h<s.length?s[h]:s[h]=0,m=g+h;d<=m&&m<c&&(s[h]=g+1)}s[o.previousIndex]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!XE(t))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,i=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==i&&Object.is(i.trackById,o)?(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,o,a),n=!0),i=i._next}else r=0,function hfe(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Symbol.iterator]();let n;for(;!(n=i.next()).done;)t(n.value)}}(t,a=>{o=this._trackByFn(r,a),null!==i&&Object.is(i.trackById,o)?(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)):(i=this._mismatch(i,a,o,r),n=!0),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,n,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,s,r)):t=this._addAfter(new Mbe(i,n),s,r),t}_verifyReinsertion(t,i,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,i,n),this._addToMoves(t,n),t}_moveAfter(t,i,n){return this._unlink(t),this._insertAfter(t,i,n),this._addToMoves(t,n),t}_addAfter(t,i,n){return this._insertAfter(t,i,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,n){const r=null===i?this._itHead:i._next;return t._next=r,t._prev=i,null===r?this._itTail=t:r._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new PW),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,n=t._next;return null===i?this._itHead=n:i._next=n,null===n?this._itTail=i:n._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PW),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Mbe{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ebe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===i||i<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const i=t._prevDup,n=t._nextDup;return null===i?this._head=n:i._nextDup=n,null===n?this._tail=i:n._prevDup=i,null===this._head}}class PW{constructor(){this.map=new Map}put(t){const i=t.trackById;let n=this.map.get(i);n||(n=new Ebe,this.map.set(i,n)),n.add(t)}get(t,i){const r=this.map.get(t);return r?r.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FW(e,t,i){const n=e.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}class OW{constructor(){}supports(t){return t instanceof Map||dO(t)}create(){return new Ibe}}class Ibe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||dO(t)))throw new se(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{const s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const n=t._prev;return i._next=t,i._prev=n,t._prev=i,n&&(n._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,i);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new Abe(t);return this._records.set(t,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(n=>i(t[n],n))}}class Abe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LW(){return new CI([new kW])}let CI=(()=>{class e{static{this.\u0275prov=Pe({token:e,providedIn:"root",factory:LW})}constructor(i){this.factories=i}static create(i,n){if(null!=n){const r=n.factories.slice();i=i.concat(r)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||LW()),deps:[[e,new hu,new _l]]}}find(i){const n=this.factories.find(r=>r.supports(i));if(null!=n)return n;throw new se(901,!1)}}return e})();function NW(){return new _x([new OW])}let _x=(()=>{class e{static{this.\u0275prov=Pe({token:e,providedIn:"root",factory:NW})}constructor(i){this.factories=i}static create(i,n){if(n){const r=n.factories.slice();i=i.concat(r)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||NW()),deps:[[e,new hu,new _l]]}}find(i){const n=this.factories.find(r=>r.supports(i));if(n)return n;throw new se(901,!1)}}return e})();const kbe=yW(null,"core",[]);let Pbe=(()=>{class e{constructor(i){}static{this.\u0275fac=function(n){return new(n||e)(ne(ng))}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({})}}return e})();function Kb(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let l3=null;function rg(){return l3}class Ybe{}const fi=new Me("DocumentToken");let c3=(()=>{class e{historyGo(i){throw new Error("Not implemented")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(){return ze(qbe)},providedIn:"platform"})}}return e})();const Kbe=new Me("Location Initialized");let qbe=(()=>{class e extends c3{constructor(){super(),this._doc=ze(fi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rg().getBaseHref(this._doc)}onPopState(i){const n=rg().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){const n=rg().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,n,r){this._history.pushState(i,n,r)}replaceState(i,n,r){this._history.replaceState(i,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function d3(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function $W(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function Th(e){return e&&"?"!==e[0]?"?"+e:e}let Sm=(()=>{class e{historyGo(i){throw new Error("Not implemented")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(){return ze(KW)},providedIn:"root"})}}return e})();const YW=new Me("appBaseHref");let KW=(()=>{class e extends Sm{constructor(i,n){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??ze(fi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return d3(this._baseHref,i)}path(i=!1){const n=this._platformLocation.pathname+Th(this._platformLocation.search),r=this._platformLocation.hash;return r&&i?`${n}${r}`:n}pushState(i,n,r,s){const o=this.prepareExternalUrl(r+Th(s));this._platformLocation.pushState(i,n,o)}replaceState(i,n,r,s){const o=this.prepareExternalUrl(r+Th(s));this._platformLocation.replaceState(i,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static{this.\u0275fac=function(n){return new(n||e)(ne(c3),ne(YW,8))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zbe=(()=>{class e extends Sm{constructor(i,n){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(i){const n=d3(this._baseHref,i);return n.length>0?"#"+n:n}pushState(i,n,r,s){let o=this.prepareExternalUrl(r+Th(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(i,n,o)}replaceState(i,n,r,s){let o=this.prepareExternalUrl(r+Th(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(i,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static{this.\u0275fac=function(n){return new(n||e)(ne(c3),ne(YW,8))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})(),Cx=(()=>{class e{constructor(i){this._subject=new pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const n=this._locationStrategy.getBaseHref();this._basePath=function Jbe(e){if(new RegExp("^(https?:)?//").test(e)){const[,i]=e.split(/\/\/[^\/]+/);return i}return e}($W(qW(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+Th(n))}normalize(i){return e.stripTrailingSlash(function Xbe(e,t){if(!e||!t.startsWith(e))return t;const i=t.substring(e.length);return""===i||["/",";","?","#"].includes(i[0])?i:t}(this._basePath,qW(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,n="",r=null){this._locationStrategy.pushState(r,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Th(n)),r)}replaceState(i,n="",r=null){this._locationStrategy.replaceState(r,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Th(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(r=>r(i,n))}subscribe(i,n,r){return this._subject.subscribe({next:i,error:n,complete:r})}static{this.normalizeQueryParams=Th}static{this.joinWithSlash=d3}static{this.stripTrailingSlash=$W}static{this.\u0275fac=function(n){return new(n||e)(ne(Sm))}}static{this.\u0275prov=Pe({token:e,factory:function(){return function Qbe(){return new Cx(ne(Sm))}()},providedIn:"root"})}}return e})();function qW(e){return e.replace(/\/index.html$/,"")}var za=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(za||{}),gr=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(gr||{}),hc=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(hc||{}),Ls=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Ls||{});function SI(e,t){return Kc(Na(e)[Ir.DateFormat],t)}function DI(e,t){return Kc(Na(e)[Ir.TimeFormat],t)}function MI(e,t){return Kc(Na(e)[Ir.DateTimeFormat],t)}function Yc(e,t){const i=Na(e),n=i[Ir.NumberSymbols][t];if(typeof n>"u"){if(t===Ls.CurrencyDecimal)return i[Ir.NumberSymbols][Ls.Decimal];if(t===Ls.CurrencyGroup)return i[Ir.NumberSymbols][Ls.Group]}return n}function QW(e){if(!e[Ir.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ir.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Kc(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function h3(e){const[t,i]=e.split(":");return{hours:+t,minutes:+i}}const p0e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wx={},g0e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rh=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Rh||{}),Tn=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Tn||{}),Rn=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Rn||{});function f0e(e,t,i,n){let r=function S0e(e){if(e$(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,s=1,o=1]=e.split("-").map(a=>+a);return EI(r,s-1,o)}const i=parseFloat(e);if(!isNaN(e-i))return new Date(i);let n;if(n=e.match(p0e))return function D0e(e){const t=new Date(0);let i=0,n=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,c),t}(n)}const t=new Date(e);if(!e$(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=kh(i,t)||t;let a,o=[];for(;t;){if(a=g0e.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const d=o.pop();if(!d)break;t=d}}let l=r.getTimezoneOffset();n&&(l=JW(n,l),r=function x0e(e,t,i){const n=i?-1:1,r=e.getTimezoneOffset();return function w0e(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(JW(t,r)-r))}(r,n,!0));let c="";return o.forEach(d=>{const u=function C0e(e){if(g3[e])return g3[e];let t;switch(e){case"G":case"GG":case"GGG":t=Ar(Rn.Eras,gr.Abbreviated);break;case"GGGG":t=Ar(Rn.Eras,gr.Wide);break;case"GGGGG":t=Ar(Rn.Eras,gr.Narrow);break;case"y":t=qs(Tn.FullYear,1,0,!1,!0);break;case"yy":t=qs(Tn.FullYear,2,0,!0,!0);break;case"yyy":t=qs(Tn.FullYear,3,0,!1,!0);break;case"yyyy":t=qs(Tn.FullYear,4,0,!1,!0);break;case"Y":t=RI(1);break;case"YY":t=RI(2,!0);break;case"YYY":t=RI(3);break;case"YYYY":t=RI(4);break;case"M":case"L":t=qs(Tn.Month,1,1);break;case"MM":case"LL":t=qs(Tn.Month,2,1);break;case"MMM":t=Ar(Rn.Months,gr.Abbreviated);break;case"MMMM":t=Ar(Rn.Months,gr.Wide);break;case"MMMMM":t=Ar(Rn.Months,gr.Narrow);break;case"LLL":t=Ar(Rn.Months,gr.Abbreviated,za.Standalone);break;case"LLLL":t=Ar(Rn.Months,gr.Wide,za.Standalone);break;case"LLLLL":t=Ar(Rn.Months,gr.Narrow,za.Standalone);break;case"w":t=p3(1);break;case"ww":t=p3(2);break;case"W":t=p3(1,!0);break;case"d":t=qs(Tn.Date,1);break;case"dd":t=qs(Tn.Date,2);break;case"c":case"cc":t=qs(Tn.Day,1);break;case"ccc":t=Ar(Rn.Days,gr.Abbreviated,za.Standalone);break;case"cccc":t=Ar(Rn.Days,gr.Wide,za.Standalone);break;case"ccccc":t=Ar(Rn.Days,gr.Narrow,za.Standalone);break;case"cccccc":t=Ar(Rn.Days,gr.Short,za.Standalone);break;case"E":case"EE":case"EEE":t=Ar(Rn.Days,gr.Abbreviated);break;case"EEEE":t=Ar(Rn.Days,gr.Wide);break;case"EEEEE":t=Ar(Rn.Days,gr.Narrow);break;case"EEEEEE":t=Ar(Rn.Days,gr.Short);break;case"a":case"aa":case"aaa":t=Ar(Rn.DayPeriods,gr.Abbreviated);break;case"aaaa":t=Ar(Rn.DayPeriods,gr.Wide);break;case"aaaaa":t=Ar(Rn.DayPeriods,gr.Narrow);break;case"b":case"bb":case"bbb":t=Ar(Rn.DayPeriods,gr.Abbreviated,za.Standalone,!0);break;case"bbbb":t=Ar(Rn.DayPeriods,gr.Wide,za.Standalone,!0);break;case"bbbbb":t=Ar(Rn.DayPeriods,gr.Narrow,za.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ar(Rn.DayPeriods,gr.Abbreviated,za.Format,!0);break;case"BBBB":t=Ar(Rn.DayPeriods,gr.Wide,za.Format,!0);break;case"BBBBB":t=Ar(Rn.DayPeriods,gr.Narrow,za.Format,!0);break;case"h":t=qs(Tn.Hours,1,-12);break;case"hh":t=qs(Tn.Hours,2,-12);break;case"H":t=qs(Tn.Hours,1);break;case"HH":t=qs(Tn.Hours,2);break;case"m":t=qs(Tn.Minutes,1);break;case"mm":t=qs(Tn.Minutes,2);break;case"s":t=qs(Tn.Seconds,1);break;case"ss":t=qs(Tn.Seconds,2);break;case"S":t=qs(Tn.FractionalSeconds,1);break;case"SS":t=qs(Tn.FractionalSeconds,2);break;case"SSS":t=qs(Tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=AI(Rh.Short);break;case"ZZZZZ":t=AI(Rh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=AI(Rh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=AI(Rh.Long);break;default:return null}return g3[e]=t,t}(d);c+=u?u(r,i,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function EI(e,t,i){const n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function kh(e,t){const i=function t0e(e){return Na(e)[Ir.LocaleId]}(e);if(wx[i]=wx[i]||{},wx[i][t])return wx[i][t];let n="";switch(t){case"shortDate":n=SI(e,hc.Short);break;case"mediumDate":n=SI(e,hc.Medium);break;case"longDate":n=SI(e,hc.Long);break;case"fullDate":n=SI(e,hc.Full);break;case"shortTime":n=DI(e,hc.Short);break;case"mediumTime":n=DI(e,hc.Medium);break;case"longTime":n=DI(e,hc.Long);break;case"fullTime":n=DI(e,hc.Full);break;case"short":const r=kh(e,"shortTime"),s=kh(e,"shortDate");n=II(MI(e,hc.Short),[r,s]);break;case"medium":const o=kh(e,"mediumTime"),a=kh(e,"mediumDate");n=II(MI(e,hc.Medium),[o,a]);break;case"long":const l=kh(e,"longTime"),c=kh(e,"longDate");n=II(MI(e,hc.Long),[l,c]);break;case"full":const d=kh(e,"fullTime"),u=kh(e,"fullDate");n=II(MI(e,hc.Full),[d,u])}return n&&(wx[i][t]=n),n}function II(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(i,n){return null!=t&&n in t?t[n]:i})),e}function Rd(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function qs(e,t,i=0,n=!1,r=!1){return function(s,o){let a=function v0e(e,t){switch(e){case Tn.FullYear:return t.getFullYear();case Tn.Month:return t.getMonth();case Tn.Date:return t.getDate();case Tn.Hours:return t.getHours();case Tn.Minutes:return t.getMinutes();case Tn.Seconds:return t.getSeconds();case Tn.FractionalSeconds:return t.getMilliseconds();case Tn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||a>-i)&&(a+=i),e===Tn.Hours)0===a&&-12===i&&(a=12);else if(e===Tn.FractionalSeconds)return function m0e(e,t){return Rd(e,3).substring(0,t)}(a,t);const l=Yc(o,Ls.MinusSign);return Rd(a,t,l,n,r)}}function Ar(e,t,i=za.Format,n=!1){return function(r,s){return function y0e(e,t,i,n,r,s){switch(i){case Rn.Months:return function r0e(e,t,i){const n=Na(e),s=Kc([n[Ir.MonthsFormat],n[Ir.MonthsStandalone]],t);return Kc(s,i)}(t,r,n)[e.getMonth()];case Rn.Days:return function n0e(e,t,i){const n=Na(e),s=Kc([n[Ir.DaysFormat],n[Ir.DaysStandalone]],t);return Kc(s,i)}(t,r,n)[e.getDay()];case Rn.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const c=function l0e(e){const t=Na(e);return QW(t),(t[Ir.ExtraData][2]||[]).map(n=>"string"==typeof n?h3(n):[h3(n[0]),h3(n[1])])}(t),d=function c0e(e,t,i){const n=Na(e);QW(n);const s=Kc([n[Ir.ExtraData][0],n[Ir.ExtraData][1]],t)||[];return Kc(s,i)||[]}(t,r,n),u=c.findIndex(h=>{if(Array.isArray(h)){const[g,m]=h,y=o>=g.hours&&a>=g.minutes,_=o<m.hours||o===m.hours&&a<m.minutes;if(g.hours<m.hours){if(y&&_)return!0}else if(y||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function i0e(e,t,i){const n=Na(e),s=Kc([n[Ir.DayPeriodsFormat],n[Ir.DayPeriodsStandalone]],t);return Kc(s,i)}(t,r,n)[o<12?0:1];case Rn.Eras:return function s0e(e,t){return Kc(Na(e)[Ir.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,s,e,t,i,n)}}function AI(e){return function(t,i,n){const r=-1*n,s=Yc(i,Ls.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Rh.Short:return(r>=0?"+":"")+Rd(o,2,s)+Rd(Math.abs(r%60),2,s);case Rh.ShortGMT:return"GMT"+(r>=0?"+":"")+Rd(o,1,s);case Rh.Long:return"GMT"+(r>=0?"+":"")+Rd(o,2,s)+":"+Rd(Math.abs(r%60),2,s);case Rh.Extended:return 0===n?"Z":(r>=0?"+":"")+Rd(o,2,s)+":"+Rd(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const b0e=0,TI=4;function XW(e){return EI(e.getFullYear(),e.getMonth(),e.getDate()+(TI-e.getDay()))}function p3(e,t=!1){return function(i,n){let r;if(t){const s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{const s=XW(i),o=function _0e(e){const t=EI(e,b0e,1).getDay();return EI(e,0,1+(t<=TI?TI:TI+7)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Rd(r,e,Yc(n,Ls.MinusSign))}}function RI(e,t=!1){return function(i,n){return Rd(XW(i).getFullYear(),e,Yc(n,Ls.MinusSign),t)}}const g3={};function JW(e,t){e=e.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function e$(e){return e instanceof Date&&!isNaN(e.valueOf())}function r$(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const n=i.indexOf("="),[r,s]=-1==n?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const _3=/\s+/,s$=[];let Ph=(()=>{class e{constructor(i,n,r,s){this._iterableDiffers=i,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this.initialClasses=s$,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(_3):s$}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(_3):i}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const n of i)this._updateState(n,!0);else if(null!=i)for(const n of Object.keys(i))this._updateState(n,!!i[n]);this._applyStateDiff()}_updateState(i,n){const r=this.stateMap.get(i);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(i,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const n=i[0],r=i[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(i,n){(i=i.trim()).length>0&&i.split(_3).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(n){return new(n||e)(R(CI),R(_x),R(ti),R(Dh))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class V0e{constructor(t,i,n,r){this.$implicit=t,this.ngForOf=i,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dl=(()=>{class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,n,r){this._viewContainer=i,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const n=this._viewContainer;i.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new V0e(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const a=n.get(s);n.move(a,o),a$(a,r)}});for(let r=0,s=n.length;r<s;r++){const a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}i.forEachIdentityChange(r=>{a$(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(i,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(R(pa),R(uc),R(CI))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function a$(e,t){e.context.$implicit=t.item}let ui=(()=>{class e{constructor(i,n){this._viewContainer=i,this._context=new B0e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){l$("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){l$("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(R(pa),R(uc))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class B0e{constructor(){this.$implicit=null,this.ngIf=null}}function l$(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Xt(t)}'.`)}class C3{constructor(t,i){this._viewContainerRef=t,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Dm=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const n=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const n of this._defaultViews)n.enforceState(i)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=tt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return e})(),Sx=(()=>{class e{constructor(i,n,r){this.ngSwitch=r,r._addCase(),this._view=new C3(i,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(n){return new(n||e)(R(pa),R(uc),R(Dm,9))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return e})(),c$=(()=>{class e{constructor(i,n,r){r._addDefault(new C3(i,n))}static{this.\u0275fac=function(n){return new(n||e)(R(pa),R(uc),R(Dm,9))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return e})(),PI=(()=>{class e{constructor(i,n,r){this._ngEl=i,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,n){const[r,s]=i.split("."),o=-1===r.indexOf("-")?void 0:Jp.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(i){i.forEachRemovedItem(n=>this._setStyle(n.key,null)),i.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),i.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static{this.\u0275fac=function(n){return new(n||e)(R(ti),R(_x),R(Dh))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})(),u$=(()=>{class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=n.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(n){return new(n||e)(R(pa))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Xn]})}}return e})();function kd(e,t){return new se(2100,!1)}class G0e{createSubscription(t,i){return GM(()=>t.subscribe({next:i,error:n=>{throw n}}))}dispose(t){GM(()=>t.unsubscribe())}}class H0e{createSubscription(t,i){return t.then(i,n=>{throw n})}dispose(t){}}const j0e=new H0e,U0e=new G0e;let w3=(()=>{class e{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,n=>this._updateLatestValue(i,n))}_selectStrategy(i){if(ax(i))return j0e;if(eU(i))return U0e;throw kd()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,n){i===this._obj&&(this._latestValue=n,this._ref.markForCheck())}static{this.\u0275fac=function(n){return new(n||e)(R(Es,16))}}static{this.\u0275pipe=$s({name:"async",type:e,pure:!1,standalone:!0})}}return e})();const Z0e=new Me("DATE_PIPE_DEFAULT_TIMEZONE"),Q0e=new Me("DATE_PIPE_DEFAULT_OPTIONS");let x3=(()=>{class e{constructor(i,n,r){this.locale=i,this.defaultTimezone=n,this.defaultOptions=r}transform(i,n,r,s){if(null==i||""===i||i!=i)return null;try{return f0e(i,n??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw kd()}}static{this.\u0275fac=function(n){return new(n||e)(R(bu,16),R(Z0e,24),R(Q0e,24))}}static{this.\u0275pipe=$s({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),p$=(()=>{class e{transform(i,n,r){if(null==i)return null;if(!this.supports(i))throw kd();return i.slice(n,r)}supports(i){return"string"==typeof i||Array.isArray(i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=$s({name:"slice",type:e,pure:!1,standalone:!0})}}return e})(),Fh=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({})}}return e})();const g$="browser";function FI(e){return"server"===e}let u_e=(()=>{class e{static{this.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>new h_e(ne(fi),window)})}}return e})();class h_e{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const i=function p_e(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class f${}class L_e extends Ybe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I3 extends L_e{static makeCurrent(){!function $be(e){l3||(l3=e)}(new I3)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}getBaseHref(t){const i=function N_e(){return Mx=Mx||document.querySelector("base"),Mx?Mx.getAttribute("href"):null}();return null==i?null:function V_e(e){NI=NI||document.createElement("a"),NI.setAttribute("href",e);const t=NI.pathname;return"/"===t.charAt(0)?t:`/${t}`}(i)}resetBaseElement(){Mx=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return r$(document.cookie,t)}}let NI,Mx=null,z_e=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();const A3=new Me("EventManagerPlugins");let _$=(()=>{class e{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(r=>{r.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,r){return this._findPluginFor(n).addEventListener(i,n,r)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(s=>s.supports(i)),!n)throw new se(5101,!1);return this._eventNameToPlugin.set(i,n),n}static{this.\u0275fac=function(n){return new(n||e)(ne(A3),ne(Mt))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();class C${constructor(t){this._doc=t}}const T3="ng-app-id";let w$=(()=>{class e{constructor(i,n,r,s={}){this.doc=i,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FI(s),this.resetHostNodes()}addStyles(i){for(const n of i)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(i){for(const n of i)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(n=>n.remove()),i.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){const n=this.styleRef;n.get(i)?.elements?.forEach(r=>r.remove()),n.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${T3}="${this.appId}"]`);if(i?.length){const n=new Map;return i.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(i,n){const r=this.styleRef;if(r.has(i)){const s=r.get(i);return s.usage+=n,s.usage}return r.set(i,{usage:n,elements:[]}),n}getStyleElement(i,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===i)return r.delete(n),s.removeAttribute(T3),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(T3,this.appId),o}}addStyleToHost(i,n){const r=this.getStyleElement(i,n);i.appendChild(r);const s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||e)(ne(fi),ne(VE),ne(P7,8),ne(Gc))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();const R3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k3=/%COMP%/g,U_e=new Me("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function S$(e,t){return t.map(i=>i.replace(k3,e))}let P3=(()=>{class e{constructor(i,n,r,s,o,a,l,c=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=FI(a),this.defaultRenderer=new F3(i,o,l,this.platformIsServer)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Ss.ShadowDom&&(n={...n,encapsulation:Ss.Emulated});const r=this.getOrCreateRenderer(i,n);return r instanceof M$?r.applyToHost(i):r instanceof O3&&r.applyStyles(),r}getOrCreateRenderer(i,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(n.encapsulation){case Ss.Emulated:s=new M$(l,c,n,this.appId,d,o,a,u);break;case Ss.ShadowDom:return new K_e(l,c,i,n,o,a,this.nonce,u);default:s=new O3(l,c,n,d,o,a,u)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||e)(ne(_$),ne(w$),ne(VE),ne(U_e),ne(fi),ne(Gc),ne(Mt),ne(P7))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();class F3{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(R3[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(D$(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(D$(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new se(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;const s=R3[r];s?t.setAttributeNS(s,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){const r=R3[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(Jp.DashCase|Jp.Important)?t.style.setProperty(i,n,r&Jp.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&Jp.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t[i]=n}setValue(t,i){t.nodeValue=i}listen(t,i,n){if("string"==typeof t&&!(t=rg().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if("__ngUnwrap__"===i)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))&&i.preventDefault()}}}function D$(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class K_e extends F3{constructor(t,i,n,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=S$(r.id,r.styles);for(const d of c){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class O3 extends F3{constructor(t,i,n,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?S$(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class M$ extends O3{constructor(t,i,n,r,s,o,a,l){const c=r+"-"+n.id;super(t,i,n,s,o,a,l,c),this.contentAttr=function W_e(e){return"_ngcontent-%COMP%".replace(k3,e)}(c),this.hostAttr=function $_e(e){return"_nghost-%COMP%".replace(k3,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){const n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}}let q_e=(()=>{class e extends C${constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,r){return i.addEventListener(n,r,!1),()=>this.removeEventListener(i,n,r)}removeEventListener(i,n,r){return i.removeEventListener(n,r)}static{this.\u0275fac=function(n){return new(n||e)(ne(fi))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();const E$=["alt","control","meta","shift"],Z_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q_e={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let X_e=(()=>{class e extends C${constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,n,r){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rg().onAndCancel(i,s.domEventName,o))}static parseEventName(i){const n=i.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),E$.forEach(c=>{const d=n.indexOf(c);d>-1&&(n.splice(d,1),o+=c+".")}),o+=s,0!=n.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(i,n){let r=Z_e[i.key]||i.key,s="";return n.indexOf("code.")>-1&&(r=i.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),E$.forEach(o=>{o!==r&&(0,Q_e[o])(i)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(i,n,r){return s=>{e.matchEventFullKeyCode(s,i)&&r.runGuarded(()=>n(s))}}static _normalizeKey(i){return"esc"===i?"escape":i}static{this.\u0275fac=function(n){return new(n||e)(ne(fi))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();const iCe=yW(kbe,"browser",[{provide:Gc,useValue:g$},{provide:k7,useValue:function J_e(){I3.makeCurrent()},multi:!0},{provide:fi,useFactory:function tCe(){return function Whe(e){xF=e}(document),document},deps:[]}]),nCe=new Me(""),T$=[{provide:vI,useClass:class B_e{addToWindow(t){zn.getAngularTestability=(n,r=!0)=>{const s=t.findTestabilityInTree(n,r);if(null==s)throw new se(5103,!1);return s},zn.getAllAngularTestabilities=()=>t.getAllTestabilities(),zn.getAllAngularRootElements=()=>t.getAllRootElements(),zn.frameworkStabilizers||(zn.frameworkStabilizers=[]),zn.frameworkStabilizers.push(n=>{const r=zn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&n(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,i,n){return null==i?null:t.getTestability(i)??(n?rg().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},deps:[]},{provide:pW,useClass:QO,deps:[Mt,XO,vI]},{provide:QO,useClass:QO,deps:[Mt,XO,vI]}],R$=[{provide:kF,useValue:"root"},{provide:jc,useFactory:function eCe(){return new jc},deps:[]},{provide:A3,useClass:q_e,multi:!0,deps:[fi,Mt,Gc]},{provide:A3,useClass:X_e,multi:!0,deps:[fi]},P3,w$,_$,{provide:Qw,useExisting:P3},{provide:f$,useClass:z_e,deps:[]},[]];let k$=(()=>{class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:VE,useValue:i.appId}]}}static{this.\u0275fac=function(n){return new(n||e)(ne(nCe,12))}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({providers:[...R$,...T$],imports:[Fh,Pbe]})}}return e})(),P$=(()=>{class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static{this.\u0275fac=function(n){return new(n||e)(ne(fi))}}static{this.\u0275prov=Pe({token:e,factory:function(n){let r=null;return r=n?new n:function sCe(){return new P$(ne(fi))}(),r},providedIn:"root"})}}return e})();typeof window<"u"&&window;let VI=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(n){let r=null;return r=n?new(n||e):ne(L$),r},providedIn:"root"})}}return e})(),L$=(()=>{class e extends VI{constructor(i){super(),this._doc=i}sanitize(i,n){if(null==n)return null;switch(i){case Uo.NONE:return n;case Uo.HTML:return pu(n,"HTML")?ac(n):w7(this._doc,String(n)).toString();case Uo.STYLE:return pu(n,"Style")?ac(n):n;case Uo.SCRIPT:if(pu(n,"Script"))return ac(n);throw new se(5200,!1);case Uo.URL:return pu(n,"URL")?ac(n):PE(String(n));case Uo.RESOURCE_URL:if(pu(n,"ResourceURL"))return ac(n);throw new se(5201,!1);default:throw new se(5202,!1)}}bypassSecurityTrustHtml(i){return function Xhe(e){return new $he(e)}(i)}bypassSecurityTrustStyle(i){return function Jhe(e){return new Yhe(e)}(i)}bypassSecurityTrustScript(i){return function epe(e){return new Khe(e)}(i)}bypassSecurityTrustUrl(i){return function tpe(e){return new qhe(e)}(i)}bypassSecurityTrustResourceUrl(i){return function ipe(e){return new Zhe(e)}(i)}static{this.\u0275fac=function(n){return new(n||e)(ne(fi))}}static{this.\u0275prov=Pe({token:e,factory:function(n){let r=null;return r=n?new n:function cCe(e){return new L$(e.get(fi))}(ne(ts)),r},providedIn:"root"})}}return e})();const{isArray:dCe}=Array,{getPrototypeOf:uCe,prototype:hCe,keys:pCe}=Object;function B$(e){if(1===e.length){const t=e[0];if(dCe(t))return{args:t,keys:null};if(function gCe(e){return e&&"object"==typeof e&&uCe(e)===hCe}(t)){const i=pCe(t);return{args:i.map(n=>t[n]),keys:i}}}return{args:e,keys:null}}const{isArray:fCe}=Array;function N3(e){return nt(t=>function mCe(e,t){return fCe(t)?e(...t):e(t)}(e,t))}function z$(e,t){return e.reduce((i,n,r)=>(i[n]=t[r],i),{})}function BI(...e){const t=No(e),i=Lo(e),{args:n,keys:r}=B$(e);if(0===n.length)return U([],t);const s=new Qt(function vCe(e,t,i=xi){return n=>{G$(t,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)G$(t,()=>{const c=U(e[l],t);let d=!1;c.subscribe(Oe(n,u=>{s[l]=u,d||(d=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,t,r?o=>z$(r,o):xi));return i?s.pipe(N3(i)):s}function G$(e,t,i){e?fs(i,e,t):t()}const zI=Gt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Zb(...e){return function yCe(){return Ws(1)}()(U(e,No(e)))}function Qb(e){return new Qt(t=>{En(e()).subscribe(t)})}function Mm(e,t){const i=j(e)?e:()=>e,n=r=>r.error(i());return new Qt(t?r=>t.schedule(n,0,r):n)}function V3(){return be((e,t)=>{let i=null;e._refCount++;const n=Oe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(i=null);const r=e._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(i=e.connect())})}class H$ extends Qt{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,je(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Rt;const i=this.getSubject();t.add(this.source.subscribe(Oe(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Rt.EMPTY)}return t}refCount(){return V3()(this)}}function Gr(e){return e<=0?()=>Bn:be((t,i)=>{let n=0;t.subscribe(Oe(i,r=>{++n<=e&&(i.next(r),e<=n&&i.complete())}))})}function Zs(...e){const t=No(e);return be((i,n)=>{(t?Zb(e,i,t):Zb(e,i)).subscribe(n)})}function Tr(e,t){return be((i,n)=>{let r=0;i.subscribe(Oe(n,s=>e.call(t,s,r++)&&n.next(s)))})}function Ex(e){return be((t,i)=>{let n=!1;t.subscribe(Oe(i,r=>{n=!0,i.next(r)},()=>{n||i.next(e),i.complete()}))})}function j$(e=bCe){return be((t,i)=>{let n=!1;t.subscribe(Oe(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(e())))})}function bCe(){return new zI}function og(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Tr((r,s)=>e(r,s,n)):xi,Gr(1),i?Ex(t):j$(()=>new zI))}function Xb(e,t){return j(t)?Qn(e,t,1):Qn(e,1)}function er(e,t,i){const n=j(e)||t||i?{next:e,error:t,complete:i}:e;return n?be((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let a=!0;r.subscribe(Oe(s,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),s.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),s.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),s.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):xi}function Rr(e){return be((t,i)=>{let s,n=null,r=!1;n=t.subscribe(Oe(i,void 0,void 0,o=>{s=En(e(o,Rr(e)(t))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function GI(e,t){return be(function _Ce(e,t,i,n,r){return(s,o)=>{let a=i,l=t,c=0;s.subscribe(Oe(o,d=>{const u=c++;l=a?e(l,d,u):(a=!0,d),n&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}function B3(e){return e<=0?()=>Bn:be((t,i)=>{let n=[];t.subscribe(Oe(i,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(const r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function U$(e){return nt(()=>e)}function _u(e){return be((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}function kr(e){return be((t,i)=>{En(e).subscribe(Oe(i,()=>i.complete(),wt)),!i.closed&&t.subscribe(i)})}const Pi="primary",Ix=Symbol("RouteTitle");class wCe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Jb(e){return new wCe(e)}function xCe(e,t,i){const n=i.path.split("/");if(n.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function Cu(e,t){const i=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!W$(e[r],t[r]))return!1;return!0}function W$(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),n=[...t].sort();return i.every((r,s)=>n[s]===r)}return e===t}function $$(e){return e.length>0?e[e.length-1]:null}function ag(e){return function V$(e){return!!e&&(e instanceof Qt||j(e.lift)&&j(e.subscribe))}(e)?e:ax(e)?U(Promise.resolve(e)):ie(e)}const DCe={exact:function q$(e,t,i){if(!Em(e.segments,t.segments)||!HI(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!q$(e.children[n],t.children[n],i))return!1;return!0},subset:Z$},Y$={exact:function MCe(e,t){return Cu(e,t)},subset:function ECe(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>W$(e[i],t[i]))},ignored:()=>!0};function K$(e,t,i){return DCe[i.paths](e.root,t.root,i.matrixParams)&&Y$[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function Z$(e,t,i){return Q$(e,t,t.segments,i)}function Q$(e,t,i,n){if(e.segments.length>i.length){const r=e.segments.slice(0,i.length);return!(!Em(r,i)||t.hasChildren()||!HI(r,i,n))}if(e.segments.length===i.length){if(!Em(e.segments,i)||!HI(e.segments,i,n))return!1;for(const r in t.children)if(!e.children[r]||!Z$(e.children[r],t.children[r],n))return!1;return!0}{const r=i.slice(0,e.segments.length),s=i.slice(e.segments.length);return!!(Em(e.segments,r)&&HI(e.segments,r,n)&&e.children[Pi])&&Q$(e.children[Pi],t,s,n)}}function HI(e,t,i){return t.every((n,r)=>Y$[i](e[r].parameters,n.parameters))}class e0{constructor(t=new tr([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jb(this.queryParams)),this._queryParamMap}toString(){return TCe.serialize(this)}}class tr{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jI(this)}}class Ax{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Jb(this.parameters)),this._parameterMap}toString(){return eY(this)}}function Em(e,t){return e.length===t.length&&e.every((i,n)=>i.path===t[n].path)}let Tx=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(){return new z3},providedIn:"root"})}}return e})();class z3{parse(t){const i=new GCe(t);return new e0(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){const i=`/${Rx(t.root,!0)}`,n=function PCe(e){const t=Object.keys(e).map(i=>{const n=e[i];return Array.isArray(n)?n.map(r=>`${UI(i)}=${UI(r)}`).join("&"):`${UI(i)}=${UI(n)}`}).filter(i=>!!i);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${i}${n}${"string"==typeof t.fragment?`#${function RCe(e){return encodeURI(e)}(t.fragment)}`:""}`}}const TCe=new z3;function jI(e){return e.segments.map(t=>eY(t)).join("/")}function Rx(e,t){if(!e.hasChildren())return jI(e);if(t){const i=e.children[Pi]?Rx(e.children[Pi],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Pi&&n.push(`${r}:${Rx(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=function ACe(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===Pi&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==Pi&&(i=i.concat(t(r,n)))}),i}(e,(n,r)=>r===Pi?[Rx(e.children[Pi],!1)]:[`${r}:${Rx(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Pi]?`${jI(e)}/${i[0]}`:`${jI(e)}/(${i.join("//")})`}}function X$(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function UI(e){return X$(e).replace(/%3B/gi,";")}function G3(e){return X$(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function WI(e){return decodeURIComponent(e)}function J$(e){return WI(e.replace(/\+/g,"%20"))}function eY(e){return`${G3(e.path)}${function kCe(e){return Object.keys(e).map(t=>`;${G3(t)}=${G3(e[t])}`).join("")}(e.parameters)}`}const FCe=/^[^\/()?;#]+/;function H3(e){const t=e.match(FCe);return t?t[0]:""}const OCe=/^[^\/()?;=#]+/,NCe=/^[^=?&#]+/,BCe=/^[^&#]+/;class GCe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tr([],{}):new tr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[Pi]=new tr(t,i)),n}parseSegment(){const t=H3(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(t),new Ax(WI(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const i=function LCe(e){const t=e.match(OCe);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const r=H3(this.remaining);r&&(n=r,this.capture(n))}t[WI(i)]=WI(n)}parseQueryParam(t){const i=function VCe(e){const t=e.match(NCe);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const o=function zCe(e){const t=e.match(BCe);return t?t[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=J$(i),s=J$(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=H3(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new se(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Pi);const o=this.parseChildren();i[s]=1===Object.keys(o).length?o[Pi]:new tr([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new se(4011,!1)}}function tY(e){return e.segments.length>0?new tr([],{[Pi]:e}):e}function iY(e){const t={};for(const n of Object.keys(e.children)){const s=iY(e.children[n]);if(n===Pi&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}return function HCe(e){if(1===e.numberOfChildren&&e.children[Pi]){const t=e.children[Pi];return new tr(e.segments.concat(t.segments),t.children)}return e}(new tr(e.segments,t))}function Im(e){return e instanceof e0}function nY(e){let t;const r=tY(function i(s){const o={};for(const l of s.children){const c=i(l);o[l.outlet]=c}const a=new tr(s.url,o);return s===e&&(t=a),a}(e.root));return t??r}function rY(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(0===t.length)return j3(r,r,r,i,n);const s=function UCe(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new oY(!0,0,e);let t=0,i=!1;const n=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?i=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new oY(i,t,n)}(t);if(s.toRoot())return j3(r,r,new tr([],{}),i,n);const o=function WCe(e,t,i){if(e.isAbsolute)return new YI(t,!0,0);if(!i)return new YI(t,!1,NaN);if(null===i.parent)return new YI(i,!0,0);const n=$I(e.commands[0])?0:1;return function $Ce(e,t,i){let n=e,r=t,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new se(4005,!1);r=n.segments.length}return new YI(n,!1,r-s)}(i,i.segments.length-1+n,e.numberOfDoubleDots)}(s,r,e),a=o.processChildren?Px(o.segmentGroup,o.index,s.commands):aY(o.segmentGroup,o.index,s.commands);return j3(r,o.segmentGroup,a,i,n)}function $I(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function kx(e){return"object"==typeof e&&null!=e&&e.outlets}function j3(e,t,i,n,r){let o,s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),o=e===t?i:sY(e,t,i);const a=tY(iY(o));return new e0(a,s,r)}function sY(e,t,i){const n={};return Object.entries(e.children).forEach(([r,s])=>{n[r]=s===t?i:sY(s,t,i)}),new tr(e.segments,n)}class oY{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&$I(n[0]))throw new se(4003,!1);const r=n.find(kx);if(r&&r!==$$(n))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class YI{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}}function aY(e,t,i){if(e||(e=new tr([],{})),0===e.segments.length&&e.hasChildren())return Px(e,t,i);const n=function KCe(e,t,i){let n=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return s;const o=e.segments[r],a=i[n];if(kx(a))break;const l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!cY(l,c,o))return s;n+=2}else{if(!cY(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const s=new tr(e.segments.slice(0,n.pathIndex),{});return s.children[Pi]=new tr(e.segments.slice(n.pathIndex),e.children),Px(s,0,r)}return n.match&&0===r.length?new tr(e.segments,{}):n.match&&!e.hasChildren()?U3(e,t,i):n.match?Px(e,0,r):U3(e,t,i)}function Px(e,t,i){if(0===i.length)return new tr(e.segments,{});{const n=function YCe(e){return kx(e[0])?e[0].outlets:{[Pi]:e}}(i),r={};if(Object.keys(n).some(s=>s!==Pi)&&e.children[Pi]&&1===e.numberOfChildren&&0===e.children[Pi].segments.length){const s=Px(e.children[Pi],t,i);return new tr(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=aY(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new tr(e.segments,r)}}function U3(e,t,i){const n=e.segments.slice(0,t);let r=0;for(;r<i.length;){const s=i[r];if(kx(s)){const l=qCe(s.outlets);return new tr(n,l)}if(0===r&&$I(i[0])){n.push(new Ax(e.segments[t].path,lY(i[0]))),r++;continue}const o=kx(s)?s.outlets[Pi]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&$I(a)?(n.push(new Ax(o,lY(a))),r+=2):(n.push(new Ax(o,{})),r++)}return new tr(n,{})}function qCe(e){const t={};return Object.entries(e).forEach(([i,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=U3(new tr([],{}),0,n))}),t}function lY(e){const t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function cY(e,t,i){return e==i.path&&Cu(t,i.parameters)}const Fx="imperative";class wu{constructor(t,i){this.id=t,this.url=i}}class KI extends wu{constructor(t,i,n="imperative",r=null){super(t,i),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lg extends wu{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ox extends wu{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class t0 extends wu{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=16}}class qI extends wu{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dY extends wu{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZCe extends wu{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QCe extends wu{constructor(t,i,n,r,s){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XCe extends wu{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JCe extends wu{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ewe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class twe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iwe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nwe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rwe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class swe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uY{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class W3{}class $3{constructor(t){this.url=t}}class owe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lx,this.attachRef=null}}let Lx=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const r=this.getOrCreateContext(i);r.outlet=n,this.contexts.set(i,r)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new owe,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class hY{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){const i=Y3(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){const i=Y3(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){const i=K3(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return K3(t,this._root).map(i=>i.value)}}function Y3(e,t){if(e===t.value)return t;for(const i of t.children){const n=Y3(e,i);if(n)return n}return null}function K3(e,t){if(e===t.value)return[t];for(const i of t.children){const n=K3(e,i);if(n.length)return n.unshift(t),n}return[]}class Oh{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}}function n0(e){const t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}class pY extends hY{constructor(t,i){super(t),this.snapshot=i,q3(this,t)}toString(){return this.snapshot.toString()}}function gY(e,t){const i=function awe(e,t){const o=new ZI([],{},{},"",{},Pi,t,null,{});return new mY("",new Oh(o,[]))}(0,t),n=new X([new Ax("",{})]),r=new X({}),s=new X({}),o=new X({}),a=new X(""),l=new r0(n,r,o,a,s,Pi,t,i.root);return l.snapshot=i.root,new pY(new Oh(l,[]),i)}class r0{constructor(t,i,n,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(nt(c=>c[Ix]))??ie(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(nt(t=>Jb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(nt(t=>Jb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fY(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const r=i[n],s=i[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function lwe(e){return e.reduce((t,i)=>({params:{...t.params,...i.params},data:{...t.data,...i.data},resolve:{...i.data,...t.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(n))}class ZI{get title(){return this.data?.[Ix]}constructor(t,i,n,r,s,o,a,l,c){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mY extends hY{constructor(t,i){super(i),this.url=t,q3(this,i)}toString(){return vY(this._root)}}function q3(e,t){t.value._routerState=e,t.children.forEach(i=>q3(e,i))}function vY(e){const t=e.children.length>0?` { ${e.children.map(vY).join(", ")} } `:"";return`${e.value}${t}`}function Z3(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Cu(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Cu(t.params,i.params)||e.paramsSubject.next(i.params),function SCe(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Cu(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.urlSubject.next(i.url),Cu(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Q3(e,t){const i=Cu(e.params,t.params)&&function ICe(e,t){return Em(e,t)&&e.every((i,n)=>Cu(i.parameters,t[n].parameters))}(e.url,t.url);return i&&!(!e.parent!=!t.parent)&&(!e.parent||Q3(e.parent,t.parent))}let s0=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pi,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=ze(Lx),this.location=ze(pa),this.changeDetector=ze(Es),this.environmentInjector=ze(lc),this.inputBinder=ze(QI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:n,previousValue:r}=i.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=i;const r=this.location,o=i.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new cwe(i,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=tt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]})}}return e})();class cwe{constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===r0?this.route:t===Lx?this.childContexts:this.parent.get(t,i)}}const QI=new Me("");let yY=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:n}=i,r=BI([n.queryParams,n.params,n.data]).pipe(Ze(([s,o,a],l)=>(a={...s,...o,...a},0===l?ie(a):Promise.resolve(a)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(i);const o=function Wbe(e){const t=qi(e);if(!t)return null;const i=new ix(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(n.component);if(o)for(const{templateName:a}of o.inputs)i.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,r)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();function Nx(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=t.value;const r=function uwe(e,t,i){return t.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return Nx(e,n,r);return Nx(e,n)})}(e,t,i);return new Oh(n,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Nx(e,a)),o}}const n=function hwe(e){return new r0(new X(e.url),new X(e.params),new X(e.queryParams),new X(e.fragment),new X(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>Nx(e,s));return new Oh(n,r)}}const X3="ngNavigationCancelingError";function bY(e,t){const{redirectTo:i,navigationBehaviorOptions:n}=Im(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=_Y(!1,0,t);return r.url=i,r.navigationBehaviorOptions=n,r}function _Y(e,t,i){const n=new Error("NavigationCancelingError: "+(e||""));return n[X3]=!0,n.cancellationCode=t,i&&(n.url=i),n}function CY(e){return e&&e[X3]}let wY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["ng-component"]],standalone:!0,features:[gx],decls:1,vars:0,template:function(n,r){1&n&&Z(0,"router-outlet")},dependencies:[s0],encapsulation:2})}}return e})();function J3(e){const t=e.children&&e.children.map(J3),i=t?{...e,children:t}:{...e};return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==Pi&&(i.component=wY),i}function Pd(e){return e.outlet||Pi}function Vx(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class _we{constructor(t,i,n,r,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),Z3(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){const r=n0(i);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,i,n){const r=t.value,s=i?i.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){const n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=n0(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){const n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=n0(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){const r=n0(i);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new swe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new nwe(t.value.snapshot))}activateRoutes(t,i,n){const r=t.value,s=i?i.value:null;if(Z3(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Z3(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Vx(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}class xY{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class XI{constructor(t,i){this.component=t,this.route=i}}function Cwe(e,t,i){const n=e._root;return Bx(n,t?t._root:null,i,[n.value])}function o0(e,t){const i=Symbol(),n=t.get(e,i);return n===i?"function"!=typeof e||function hP(e){return null!==Sy(e)}(e)?t.get(e):e:n}function Bx(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n0(t);return e.children.forEach(o=>{(function xwe(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Swe(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!Em(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Em(e.url,t.url)||!Cu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q3(e,t)||!Cu(e.queryParams,t.queryParams);default:return!Q3(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new xY(n)):(s.data=o.data,s._resolvedData=o._resolvedData),Bx(e,t,s.component?a?a.children:null:i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new XI(a.outlet.component,o))}else o&&zx(t,a,r),r.canActivateChecks.push(new xY(n)),Bx(e,null,s.component?a?a.children:null:i,n,r)})(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>zx(a,i.getContext(o),r)),r}function zx(e,t,i){const n=n0(e),r=e.value;Object.entries(n).forEach(([s,o])=>{zx(o,r.component?t?t.children.getContext(s):null:t,i)}),i.canDeactivateChecks.push(new XI(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Gx(e){return"function"==typeof e}function SY(e){return e instanceof zI||"EmptyError"===e?.name}const JI=Symbol("INITIAL_VALUE");function a0(){return Ze(e=>BI(e.map(t=>t.pipe(Gr(1),Zs(JI)))).pipe(nt(t=>{for(const i of t)if(!0!==i){if(i===JI)return JI;if(!1===i||i instanceof e0)return i}return!0}),Tr(t=>t!==JI),Gr(1)))}function DY(e){return function Dn(...e){return un(e)}(er(t=>{if(Im(t))throw bY(0,t)}),nt(t=>!0===t))}class eA{constructor(t){this.segmentGroup=t||null}}class MY{constructor(t){this.urlTree=t}}function l0(e){return Mm(new eA(e))}function EY(e){return Mm(new MY(e))}class Uwe{constructor(t,i){this.urlSerializer=t,this.urlTree=i}noMatchError(t){return new se(4002,!1)}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ie(n);if(r.numberOfChildren>1||!r.children[Pi])return Mm(new se(4e3,!1));r=r.children[Pi]}}applyRedirectCommands(t,i,n){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n)}applyRedirectCreateUrlTree(t,i,n,r){const s=this.createSegmentGroup(t,i.root,n,r);return new e0(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){const n={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(t,i,n,r){const s=this.createSegments(t,i.segments,n,r);let o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,n,r)}),new tr(s,o)}createSegments(t,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,i,n){const r=n[i.path.substring(1)];if(!r)throw new se(4001,!1);return r}findOrReturn(t,i){let n=0;for(const r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}}const eL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wwe(e,t,i,n,r){const s=tL(e,t,i);return s.matched?(n=function gwe(e,t){return e.providers&&!e._injector&&(e._injector=RO(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function Gwe(e,t,i,n){const r=t.canMatch;return r&&0!==r.length?ie(r.map(o=>{const a=o0(o,e);return ag(function Twe(e){return e&&Gx(e.canMatch)}(a)?a.canMatch(t,i):e.runInContext(()=>a(t,i)))})).pipe(a0(),DY()):ie(!0)}(n,t,i).pipe(nt(o=>!0===o?s:{...eL}))):ie(s)}function tL(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{...eL}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const r=(t.matcher||xCe)(i,e,t);if(!r)return{...eL};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function IY(e,t,i,n){return i.length>0&&function Kwe(e,t,i){return i.some(n=>tA(e,t,n)&&Pd(n)!==Pi)}(e,i,n)?{segmentGroup:new tr(t,Ywe(n,new tr(i,e.children))),slicedSegments:[]}:0===i.length&&function qwe(e,t,i){return i.some(n=>tA(e,t,n))}(e,i,n)?{segmentGroup:new tr(e.segments,$we(e,0,i,n,e.children)),slicedSegments:i}:{segmentGroup:new tr(e.segments,e.children),slicedSegments:i}}function $we(e,t,i,n,r){const s={};for(const o of n)if(tA(e,i,o)&&!r[Pd(o)]){const a=new tr([],{});s[Pd(o)]=a}return{...r,...s}}function Ywe(e,t){const i={};i[Pi]=t;for(const n of e)if(""===n.path&&Pd(n)!==Pi){const r=new tr([],{});i[Pd(n)]=r}return i}function tA(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}class Jwe{constructor(t,i,n,r,s,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Uwe(this.urlSerializer,this.urlTree)}noMatchError(t){return new se(4002,!1)}recognize(){const t=IY(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Pi).pipe(Rr(i=>{if(i instanceof MY)return this.allowRedirects=!1,this.urlTree=i.urlTree,this.match(i.urlTree);throw i instanceof eA?this.noMatchError(i):i}),nt(i=>{const n=new ZI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pi,this.rootComponentType,null,{}),r=new Oh(n,i),s=new mY("",r),o=function jCe(e,t,i=null,n=null){return rY(nY(e),t,i,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Pi).pipe(Rr(n=>{throw n instanceof eA?this.noMatchError(n):n}))}inheritParamsAndData(t){const i=t.value,n=fY(i,this.paramsInheritanceStrategy);i.params=Object.freeze(n.params),i.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,i,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0)}processChildren(t,i,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return U(r).pipe(Xb(s=>{const o=n.children[s],a=function ywe(e,t){const i=e.filter(n=>Pd(n)===t);return i.push(...e.filter(n=>Pd(n)!==t)),i}(i,s);return this.processSegmentGroup(t,a,o,s)}),GI((s,o)=>(s.push(...o),s)),Ex(null),function CCe(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Tr((r,s)=>e(r,s,n)):xi,B3(1),i?Ex(t):j$(()=>new zI))}(),Qn(s=>{if(null===s)return l0(n);const o=AY(s);return function exe(e){e.sort((t,i)=>t.value.outlet===Pi?-1:i.value.outlet===Pi?1:t.value.outlet.localeCompare(i.value.outlet))}(o),ie(o)}))}processSegment(t,i,n,r,s,o){return U(i).pipe(Xb(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,n,r,s,o).pipe(Rr(l=>{if(l instanceof eA)return ie(null);throw l}))),og(a=>!!a),Rr(a=>{if(SY(a))return function Qwe(e,t,i){return 0===t.length&&!e.children[i]}(n,r,s)?ie([]):l0(n);throw a}))}processSegmentAgainstRoute(t,i,n,r,s,o,a){return function Zwe(e,t,i,n){return!!(Pd(e)===n||n!==Pi&&tA(t,i,e))&&("**"===e.path||tL(t,e,i).matched)}(n,r,s,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,s,o):l0(r):l0(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,r){const s=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?EY(s):this.applyRedirects.lineralizeSegments(n,s).pipe(Qn(o=>{const a=new tr(o,{});return this.processSegment(t,i,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=tL(i,r,s);if(!a)return l0(i);const u=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?EY(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Qn(h=>this.processSegment(t,n,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,i,n,r,s,o){let a;if("**"===n.path){const l=r.length>0?$$(r).parameters:{};a=ie({snapshot:new ZI(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TY(n),Pd(n),n.component??n._loadedComponent??null,n,RY(n)),consumedSegments:[],remainingSegments:[]}),i.children={}}else a=Wwe(i,n,r,t).pipe(nt(({matched:l,consumedSegments:c,remainingSegments:d,parameters:u})=>l?{snapshot:new ZI(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TY(n),Pd(n),n.component??n._loadedComponent??null,n,RY(n)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(Ze(l=>null===l?l0(i):this.getChildConfig(t=n._injector??t,n,r).pipe(Ze(({routes:c})=>{const d=n._loadedInjector??t,{snapshot:u,consumedSegments:h,remainingSegments:g}=l,{segmentGroup:m,slicedSegments:y}=IY(i,h,g,c);if(0===y.length&&m.hasChildren())return this.processChildren(d,c,m).pipe(nt(x=>null===x?null:[new Oh(u,x)]));if(0===c.length&&0===y.length)return ie([new Oh(u,[])]);const _=Pd(n)===s;return this.processSegment(d,c,m,y,_?Pi:s,!0).pipe(nt(x=>[new Oh(u,x)]))}))))}getChildConfig(t,i,n){return i.children?ie({routes:i.children,injector:t}):i.loadChildren?void 0!==i._loadedRoutes?ie({routes:i._loadedRoutes,injector:i._loadedInjector}):function zwe(e,t,i,n){const r=t.canLoad;return void 0===r||0===r.length?ie(!0):ie(r.map(o=>{const a=o0(o,e);return ag(function Mwe(e){return e&&Gx(e.canLoad)}(a)?a.canLoad(t,i):e.runInContext(()=>a(t,i)))})).pipe(a0(),DY())}(t,i,n).pipe(Qn(r=>r?this.configLoader.loadChildren(t,i).pipe(er(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):function jwe(e){return Mm(_Y(!1,3))}())):ie({routes:[],injector:t})}}function txe(e){const t=e.value.routeConfig;return t&&""===t.path}function AY(e){const t=[],i=new Set;for(const n of e){if(!txe(n)){t.push(n);continue}const r=t.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),i.add(r)):t.push(n)}for(const n of i){const r=AY(n.children);t.push(new Oh(n.value,r))}return t.filter(n=>!i.has(n))}function TY(e){return e.data||{}}function RY(e){return e.resolve||{}}function kY(e){return"string"==typeof e.title||null===e.title}function iL(e){return Ze(t=>{const i=e(t);return i?U(i).pipe(nt(()=>t)):ie(t)})}const c0=new Me("ROUTES");let nL=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ze(cW)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ie(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const n=ag(i.loadComponent()).pipe(nt(PY),er(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),_u(()=>{this.componentLoaders.delete(i)})),r=new H$(n,()=>new oe).pipe(V3());return this.componentLoaders.set(i,r),r}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ie({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function lxe(e,t,i,n){return ag(e.loadChildren()).pipe(nt(PY),Qn(r=>r instanceof y9||Array.isArray(r)?ie(r):U(t.compileModuleAsync(r))),nt(r=>{n&&n(e);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(i).injector,o=s.get(c0,[],{optional:!0,self:!0}).flat()),{routes:o.map(J3),injector:s}}))}(n,this.compiler,i,this.onLoadEndListener).pipe(_u(()=>{this.childrenLoaders.delete(n)})),o=new H$(s,()=>new oe).pipe(V3());return this.childrenLoaders.set(n,o),o}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function PY(e){return function cxe(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let iA=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new oe,this.transitionAbortSubject=new oe,this.configLoader=ze(nL),this.environmentInjector=ze(lc),this.urlSerializer=ze(Tx),this.rootContexts=ze(Lx),this.inputBindingEnabled=null!==ze(QI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new twe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new ewe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:n})}setupNavigations(i,n,r){return this.transitions=new X({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:i.urlHandlingStrategy.extract(n),urlAfterRedirects:i.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fx,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tr(s=>0!==s.id),nt(s=>({...s,extractedUrl:i.urlHandlingStrategy.extract(s.rawUrl)})),Ze(s=>{this.currentTransition=s;let o=!1,a=!1;return ie(s).pipe(er(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ze(l=>{const c=l.currentBrowserUrl.toString(),d=!i.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const h="";return this.events.next(new t0(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Bn}if(i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ie(l).pipe(Ze(h=>{const g=this.transitions?.getValue();return this.events.next(new KI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?Bn:Promise.resolve(h)}),function ixe(e,t,i,n,r,s){return Qn(o=>function Xwe(e,t,i,n,r,s,o="emptyOnly"){return new Jwe(e,t,i,n,r,o,s).recognize()}(e,t,i,n,o.extractedUrl,r,s).pipe(nt(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),er(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const g=new dY(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(d&&i.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:g,source:m,restoredState:y,extras:_}=l,x=new KI(h,this.urlSerializer.serialize(g),m,y);this.events.next(x);const D=gY(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:D,urlAfterRedirects:g,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},ie(s)}{const h="";return this.events.next(new t0(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Bn}}),er(l=>{const c=new ZCe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),nt(l=>(this.currentTransition=s={...l,guards:Cwe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function kwe(e,t){return Qn(i=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return 0===o.length&&0===s.length?ie({...i,guardsResult:!0}):function Pwe(e,t,i,n){return U(e).pipe(Qn(r=>function Bwe(e,t,i,n,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ie(s.map(a=>{const l=Vx(t)??r,c=o0(a,l);return ag(function Awe(e){return e&&Gx(e.canDeactivate)}(c)?c.canDeactivate(e,t,i,n):l.runInContext(()=>c(e,t,i,n))).pipe(og())})).pipe(a0()):ie(!0)}(r.component,r.route,i,t,n)),og(r=>!0!==r,!0))}(o,n,r,e).pipe(Qn(a=>a&&function Dwe(e){return"boolean"==typeof e}(a)?function Fwe(e,t,i,n){return U(t).pipe(Xb(r=>Zb(function Lwe(e,t){return null!==e&&t&&t(new iwe(e)),ie(!0)}(r.route.parent,n),function Owe(e,t){return null!==e&&t&&t(new rwe(e)),ie(!0)}(r.route,n),function Vwe(e,t,i){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function wwe(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Qb(()=>ie(o.guards.map(l=>{const c=Vx(o.node)??i,d=o0(l,c);return ag(function Iwe(e){return e&&Gx(e.canActivateChild)}(d)?d.canActivateChild(n,e):c.runInContext(()=>d(n,e))).pipe(og())})).pipe(a0())));return ie(s).pipe(a0())}(e,r.path,i),function Nwe(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return ie(!0);const r=n.map(s=>Qb(()=>{const o=Vx(t)??i,a=o0(s,o);return ag(function Ewe(e){return e&&Gx(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(og())}));return ie(r).pipe(a0())}(e,r.route,i))),og(r=>!0!==r,!0))}(n,s,e,t):ie(a)),nt(a=>({...i,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),er(l=>{if(s.guardsResult=l.guardsResult,Im(l.guardsResult))throw bY(0,l.guardsResult);const c=new QCe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Tr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),iL(l=>{if(l.guards.canActivateChecks.length)return ie(l).pipe(er(c=>{const d=new XCe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ze(c=>{let d=!1;return ie(c).pipe(function nxe(e,t){return Qn(i=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return ie(i);let s=0;return U(r).pipe(Xb(o=>function rxe(e,t,i,n){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!kY(r)&&(s[Ix]=r.title),function sxe(e,t,i,n){const r=function oxe(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return ie({});const s={};return U(r).pipe(Qn(o=>function axe(e,t,i,n){const r=Vx(t)??n,s=o0(e,r);return ag(s.resolve?s.resolve(t,i):r.runInContext(()=>s(t,i)))}(e[o],t,i,n).pipe(og(),er(a=>{s[o]=a}))),B3(1),U$(s),Rr(o=>SY(o)?Bn:Mm(o)))}(s,e,t,n).pipe(nt(o=>(e._resolvedData=o,e.data=fY(e,i).resolve,r&&kY(r)&&(e.data[Ix]=r.title),null)))}(o.route,n,e,t)),er(()=>s++),B3(1),Qn(o=>s===r.length?ie(i):Bn))})}(i.paramsInheritanceStrategy,this.environmentInjector),er({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),er(c=>{const d=new JCe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),iL(l=>{const c=d=>{const u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(er(h=>{d.component=h}),nt(()=>{})));for(const h of d.children)u.push(...c(h));return u};return BI(c(l.targetSnapshot.root)).pipe(Ex(),Gr(1))}),iL(()=>this.afterPreactivation()),nt(l=>{const c=function dwe(e,t,i){const n=Nx(e,t._root,i?i._root:void 0);return new pY(n,t)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),er(()=>{this.events.next(new W3)}),((e,t,i,n)=>nt(r=>(new _we(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)))(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gr(1),er({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),i.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),kr(this.transitionAbortSubject.pipe(er(l=>{throw l}))),_u(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Rr(l=>{if(a=!0,CY(l))this.events.next(new Ox(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function pwe(e){return CY(e)&&Im(e.url)}(l)?this.events.next(new $3(l.url)):s.resolve(!1);else{this.events.next(new qI(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(l))}catch(c){s.reject(c)}}return Bn}))}))}cancelNavigationTransition(i,n,r){const s=new Ox(i.id,this.urlSerializer.serialize(i.extractedUrl),n,r);this.events.next(s),i.resolve(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function FY(e){return e!==Fx}let OY=(()=>{class e{buildTitle(i){let n,r=i.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===Pi);return n}getResolvedTitleForRoute(i){return i.data[Ix]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(){return ze(dxe)},providedIn:"root"})}}return e})(),dxe=(()=>{class e extends OY{constructor(i){super(),this.title=i}updateTitle(i){const n=this.buildTitle(i);void 0!==n&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||e)(ne(P$))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),uxe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(){return ze(pxe)},providedIn:"root"})}}return e})();class hxe{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}}let pxe=(()=>{class e extends hxe{static{this.\u0275fac=function(){let i;return function(r){return(i||(i=An(e)))(r||e)}}()}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const nA=new Me("",{providedIn:"root",factory:()=>({})});let gxe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:function(){return ze(fxe)},providedIn:"root"})}}return e})(),fxe=(()=>{class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Hx=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Hx||{});function LY(e,t){e.events.pipe(Tr(i=>i instanceof lg||i instanceof Ox||i instanceof qI||i instanceof t0),nt(i=>i instanceof lg||i instanceof t0?Hx.COMPLETE:i instanceof Ox&&(0===i.code||1===i.code)?Hx.REDIRECTING:Hx.FAILED),Tr(i=>i!==Hx.REDIRECTING),Gr(1)).subscribe(()=>{t()})}function mxe(e){throw e}function vxe(e,t,i){return t.parse("/")}const yxe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bxe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let is=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ze(lW),this.isNgZoneEnabled=!1,this._events=new oe,this.options=ze(nA,{optional:!0})||{},this.pendingTasks=ze(fI),this.errorHandler=this.options.errorHandler||mxe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vxe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ze(gxe),this.routeReuseStrategy=ze(uxe),this.titleStrategy=ze(OY),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ze(c0,{optional:!0})?.flat()??[],this.navigationTransitions=ze(iA),this.urlSerializer=ze(Tx),this.location=ze(Cx),this.componentInputBindingEnabled=!!ze(QI,{optional:!0}),this.eventsSubscription=new Rt,this.isNgZoneEnabled=ze(Mt)instanceof Mt&&Mt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new e0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gY(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(NY(n)&&this._events.next(n));if(n instanceof KI)FY(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof t0)this.rawUrlTree=r.rawUrl;else if(n instanceof dY){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof W3)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof Ox)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof $3){const s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FY(r.source)};this.scheduleNavigation(s,Fx,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof qI&&this.restoreHistory(r,!0),n instanceof lg&&(this.navigated=!0),NY(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fx,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const n="popstate"===i.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,n,i.state)},0)}))}navigateToSyncWithBrowser(i,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(i);this.scheduleNavigation(a,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(J3),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:o;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{u=nY(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),u=this.currentUrlTree.root}return rY(u,i,d,c??null)}navigateByUrl(i,n={skipLocationChange:!1}){const r=Im(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Fx,null,n)}navigate(i,n={skipLocationChange:!1}){return function _xe(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new se(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let n;try{n=this.urlSerializer.parse(i)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,i)}return n}isActive(i,n){let r;if(r=!0===n?{...yxe}:!1===n?{...bxe}:n,Im(i))return K$(this.currentUrlTree,i,r);const s=this.parseUrl(i);return K$(this.currentUrlTree,s,r)}removeEmptyProps(i){return Object.keys(i).reduce((n,r)=>{const s=i[r];return null!=s&&(n[r]=s),n},{})}scheduleNavigation(i,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((u,h)=>{a=u,l=h});const d=this.pendingTasks.add();return LY(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}setBrowserUrl(i,n){const r=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(i,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function NY(e){return!(e instanceof W3||e instanceof $3)}let rA=(()=>{class e{constructor(i,n,r,s,o,a){this.router=i,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=i.events.subscribe(c=>{c instanceof lg&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,n,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==i||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const i=null===this.href?null:function S7(e,t,i){return function vpe(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?x7:Sh}(t,i)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,n){const r=this.renderer,s=this.el.nativeElement;null!==n?r.setAttribute(s,i,n):r.removeAttribute(s,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||e)(R(is),R(r0),Ed("tabindex"),R(Dh),R(ti),R(Sm))}}static{this.\u0275dir=tt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&Q("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&gi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Kb],skipLocationChange:["skipLocationChange","skipLocationChange",Kb],replaceUrl:["replaceUrl","replaceUrl",Kb],routerLink:"routerLink"},standalone:!0,features:[Lj,Xn]})}}return e})(),VY=(()=>{class e{get isActive(){return this._isActive}constructor(i,n,r,s,o){this.router=i,this.element=n,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new pe,this.routerEventsSubscription=i.events.subscribe(a=>{a instanceof lg&&this.update()})}ngAfterContentInit(){ie(this.links.changes,ie(null)).pipe(Ws()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const i=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=U(i).pipe(Ws()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(i){const n=Array.isArray(i)?i:i.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(n=>{i?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),i&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){const n=function Cxe(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&i.isActive(r.urlTree,n)}hasActiveLinks(){const i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}static{this.\u0275fac=function(n){return new(n||e)(R(is),R(ti),R(Dh),R(Es),R(rA,8))}}static{this.\u0275dir=tt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,s){if(1&n&&zr(s,rA,5),2&n){let o;ii(o=ni())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Xn]})}}return e})();class BY{}let wxe=(()=>{class e{constructor(i,n,r,s,o){this.router=i,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Tr(i=>i instanceof lg),Xb(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=RO(s.providers,i,`Route: ${s.path}`));const o=s._injector??i,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return U(r).pipe(Ws())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(i,n):ie(null);const s=r.pipe(Qn(o=>null===o?ie(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??i,o.routes))));return n.loadComponent&&!n._loadedComponent?U([s,this.loader.loadComponent(n)]).pipe(Ws()):s})}static{this.\u0275fac=function(n){return new(n||e)(ne(is),ne(cW),ne(lc),ne(BY),ne(nL))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const rL=new Me("");let zY=(()=>{class e{constructor(i,n,r,s,o={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof KI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof lg?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof t0&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof uY&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uY(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){Rb()}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();function Lh(e,t){return{\u0275kind:e,\u0275providers:t}}function HY(){const e=ze(ts);return t=>{const i=e.get(ng);if(t!==i.components[0])return;const n=e.get(is),r=e.get(jY);1===e.get(sL)&&n.initialNavigation(),e.get(UY,null,Ni.Optional)?.setUpPreloading(),e.get(rL,null,Ni.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const jY=new Me("",{factory:()=>new oe}),sL=new Me("",{providedIn:"root",factory:()=>1}),UY=new Me("");function Mxe(e){return Lh(0,[{provide:UY,useExisting:wxe},{provide:BY,useExisting:e}])}const WY=new Me("ROUTER_FORROOT_GUARD"),Ixe=[Cx,{provide:Tx,useClass:z3},is,Lx,{provide:r0,useFactory:function GY(e){return e.routerState.root},deps:[is]},nL,[]];function Axe(){return new mW("Router",is)}let $Y=(()=>{class e{constructor(i){}static forRoot(i,n){return{ngModule:e,providers:[Ixe,[],{provide:c0,multi:!0,useValue:i},{provide:WY,useFactory:Pxe,deps:[[is,new _l,new hu]]},{provide:nA,useValue:n||{}},n?.useHash?{provide:Sm,useClass:Zbe}:{provide:Sm,useClass:KW},{provide:rL,useFactory:()=>{const e=ze(u_e),t=ze(Mt),i=ze(nA),n=ze(iA),r=ze(Tx);return i.scrollOffset&&e.setOffset(i.scrollOffset),new zY(r,n,e,t,i)}},n?.preloadingStrategy?Mxe(n.preloadingStrategy).\u0275providers:[],{provide:mW,multi:!0,useFactory:Axe},n?.initialNavigation?Fxe(n):[],n?.bindToComponentInputs?Lh(8,[yY,{provide:QI,useExisting:yY}]).\u0275providers:[],[{provide:YY,useFactory:HY},{provide:t3,multi:!0,useExisting:YY}]]}}static forChild(i){return{ngModule:e,providers:[{provide:c0,multi:!0,useValue:i}]}}static{this.\u0275fac=function(n){return new(n||e)(ne(WY,8))}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({})}}return e})();function Pxe(e){return"guarded"}function Fxe(e){return["disabled"===e.initialNavigation?Lh(3,[{provide:YO,multi:!0,useFactory:()=>{const t=ze(is);return()=>{t.setUpLocationChangeListener()}}},{provide:sL,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Lh(2,[{provide:sL,useValue:0},{provide:YO,multi:!0,deps:[ts],useFactory:t=>{const i=t.get(Kbe,Promise.resolve());return()=>i.then(()=>new Promise(n=>{const r=t.get(is),s=t.get(jY);LY(r,()=>{n(!0)}),t.get(iA).afterPreactivation=()=>(n(!0),s.closed?ie(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const YY=new Me("");let Lxe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-auth-layouts"]],decls:3,vars:0,consts:[[1,"h-dvh","flex","justify-center","items-center","gap-4"],[1,"relative","z-40","w-full","h-full","px-4"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1),Z(2,"router-outlet"),S()())},dependencies:[s0]})}}return e})();function KY(...e){const t=Lo(e),{args:i,keys:n}=B$(e),r=new Qt(s=>{const{length:o}=i;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let d=0;d<o;d++){let u=!1;En(i[d]).subscribe(Oe(s,h=>{u||(u=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!u)&&(c||s.next(n?z$(n,a):a),s.complete())}))}});return t?r.pipe(N3(t)):r}let qY=(()=>{class e{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static{this.\u0275fac=function(n){return new(n||e)(R(Dh),R(ti))}}static{this.\u0275dir=tt({type:e})}}return e})(),Am=(()=>{class e extends qY{static{this.\u0275fac=function(){let i;return function(r){return(i||(i=An(e)))(r||e)}}()}static{this.\u0275dir=tt({type:e,features:[Ht]})}}return e})();const pc=new Me("NgValueAccessor"),Nxe={provide:pc,useExisting:he(()=>oL),multi:!0};let oL=(()=>{class e extends Am{writeValue(i){this.setProperty("checked",i)}static{this.\u0275fac=function(){let i;return function(r){return(i||(i=An(e)))(r||e)}}()}static{this.\u0275dir=tt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&Q("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Ri([Nxe]),Ht]})}}return e})();const Vxe={provide:pc,useExisting:he(()=>yn),multi:!0},zxe=new Me("CompositionEventMode");let yn=(()=>{class e extends qY{constructor(i,n,r){super(i,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bxe(){const e=rg()?rg().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static{this.\u0275fac=function(n){return new(n||e)(R(Dh),R(ti),R(zxe,8))}}static{this.\u0275dir=tt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Q("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ri([Vxe]),Ht]})}}return e})();function cg(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function ZY(e){return null!=e&&"number"==typeof e.length}const Wo=new Me("NgValidators"),dg=new Me("NgAsyncValidators"),Gxe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kn{static min(t){return function QY(e){return t=>{if(cg(t.value)||cg(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function XY(e){return t=>{if(cg(t.value)||cg(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return JY(t)}static requiredTrue(t){return function eK(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function tK(e){return cg(e.value)||Gxe.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function iK(e){return t=>cg(t.value)||!ZY(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function nK(e){return t=>ZY(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function rK(e){if(!e)return sA;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(cg(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return dK(t)}static composeAsync(t){return uK(t)}}function JY(e){return cg(e.value)?{required:!0}:null}function sA(e){return null}function sK(e){return null!=e}function oK(e){return ax(e)?U(e):e}function aK(e){let t={};return e.forEach(i=>{t=null!=i?{...t,...i}:t}),0===Object.keys(t).length?null:t}function lK(e,t){return t.map(i=>i(e))}function cK(e){return e.map(t=>function Hxe(e){return!e.validate}(t)?t:i=>t.validate(i))}function dK(e){if(!e)return null;const t=e.filter(sK);return 0==t.length?null:function(i){return aK(lK(i,t))}}function aL(e){return null!=e?dK(cK(e)):null}function uK(e){if(!e)return null;const t=e.filter(sK);return 0==t.length?null:function(i){return KY(lK(i,t).map(oK)).pipe(nt(aK))}}function lL(e){return null!=e?uK(cK(e)):null}function hK(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function pK(e){return e._rawValidators}function gK(e){return e._rawAsyncValidators}function cL(e){return e?Array.isArray(e)?e:[e]:[]}function oA(e,t){return Array.isArray(e)?e.includes(t):e===t}function fK(e,t){const i=cL(t);return cL(e).forEach(r=>{oA(i,r)||i.push(r)}),i}function mK(e,t){return cL(t).filter(i=>!oA(e,i))}class vK{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aL(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=lL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}class Ga extends vK{get formDirective(){return null}get path(){return null}}class Fd extends vK{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yK{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gn=(()=>{class e extends yK{constructor(i){super(i)}static{this.\u0275fac=function(n){return new(n||e)(R(Fd,2))}}static{this.\u0275dir=tt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ei("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ht]})}}return e})(),Hn=(()=>{class e extends yK{constructor(i){super(i)}static{this.\u0275fac=function(n){return new(n||e)(R(Ga,10))}}static{this.\u0275dir=tt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ei("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ht]})}}return e})();const jx="VALID",lA="INVALID",d0="PENDING",Ux="DISABLED";function hL(e){return(cA(e)?e.validators:e)||null}function pL(e,t){return(cA(t)?t.asyncValidators:e)||null}function cA(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function _K(e,t,i){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new se(1e3,"");if(!n[i])throw new se(1001,"")}function CK(e,t,i){e._forEachChild((n,r)=>{if(void 0===i[r])throw new se(1002,"")})}class dA{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===jx}get invalid(){return this.status===lA}get pending(){return this.status==d0}get disabled(){return this.status===Ux}get enabled(){return this.status!==Ux}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fK(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fK(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(mK(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(mK(t,this._rawAsyncValidators))}hasValidator(t){return oA(this._rawValidators,t)}hasAsyncValidator(t){return oA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=d0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=Ux,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=jx,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jx||this.status===d0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ux:jx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=d0,this._hasOwnPendingAsyncValidator=!0;const i=oK(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(!1!==i.emitEvent)}get(t){let i=t;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){const n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?Ux:this.errors?lA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(d0)?d0:this._anyControlsHaveStatus(lA)?lA:jx}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function $xe(e){return Array.isArray(e)?aL(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Yxe(e){return Array.isArray(e)?lL(e):e||null}(this._rawAsyncValidators)}}class Wx extends dA{constructor(t,i,n){super(hL(i),pL(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){CK(this,0,t),Object.keys(t).forEach(n=>{_K(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>!!n._syncPendingControls()||i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{const n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,s)=>{n=i(n,r,s)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class wK extends Wx{}const Tm=new Me("CallSetDisabledState",{providedIn:"root",factory:()=>$x}),$x="always";function uA(e,t){return[...t.path,e]}function Yx(e,t,i=$x){gL(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function qxe(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&xK(e,t)})}(e,t),function Qxe(e,t){const i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function Zxe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&xK(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Kxe(e,t){if(t.valueAccessor.setDisabledState){const i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function hA(e,t,i=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),gA(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function pA(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function gL(e,t){const i=pK(e);null!==t.validator?e.setValidators(hK(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const n=gK(e);null!==t.asyncValidator?e.setAsyncValidators(hK(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const r=()=>e.updateValueAndValidity();pA(t._rawValidators,r),pA(t._rawAsyncValidators,r)}function gA(e,t){let i=!1;if(null!==e){if(null!==t.validator){const r=pK(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(i=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const r=gK(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(i=!0,e.setAsyncValidators(s))}}}const n=()=>{};return pA(t._rawValidators,n),pA(t._rawAsyncValidators,n),i}function xK(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function SK(e,t){gL(e,t)}function mL(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function DK(e,t){e._syncPendingControls(),t.forEach(i=>{const n=i.control;"submit"===n.updateOn&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function vL(e,t){if(!t)return null;let i,n,r;return Array.isArray(t),t.forEach(s=>{s.constructor===yn?i=s:function eSe(e){return Object.getPrototypeOf(e.constructor)===Am}(s)?n=s:r=s}),r||n||i||null}const iSe={provide:Ga,useExisting:he(()=>xu)},Kx=(()=>Promise.resolve())();let xu=(()=>{class e extends Ga{constructor(i,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new pe,this.form=new Wx({},aL(i),lL(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Kx.then(()=>{const n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),Yx(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Kx.then(()=>{const n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Kx.then(()=>{const n=this._findContainer(i.path),r=new Wx({});SK(r,i),n.registerControl(i.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Kx.then(()=>{const n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){Kx.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,DK(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static{this.\u0275fac=function(n){return new(n||e)(R(Wo,10),R(dg,10),R(Tm,8))}}static{this.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Q("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ri([iSe]),Ht]})}}return e})();function MK(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function EK(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const u0=class extends dA{constructor(t=null,i,n){super(hL(i),pL(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cA(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=EK(t)?t.value:t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){MK(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){MK(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){EK(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},sSe={provide:Fd,useExisting:he(()=>qx)},TK=(()=>Promise.resolve())();let qx=(()=>{class e extends Fd{constructor(i,n,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new u0,this._registered=!1,this.name="",this.update=new pe,this._parent=i,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=vL(0,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),mL(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){TK.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const n=i.isDisabled.currentValue,r=0!==n&&Kb(n);TK.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?uA(i,this._parent):[i]}static{this.\u0275fac=function(n){return new(n||e)(R(Ga,9),R(Wo,10),R(dg,10),R(pc,10),R(Es,8),R(Tm,8))}}static{this.\u0275dir=tt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ri([sSe]),Ht,Xn]})}}return e})(),jn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const oSe={provide:pc,useExisting:he(()=>Od),multi:!0};let Od=(()=>{class e extends Am{writeValue(i){this.setProperty("value",i??"")}registerOnChange(i){this.onChange=n=>{i(""==n?null:parseFloat(n))}}static{this.\u0275fac=function(){let i;return function(r){return(i||(i=An(e)))(r||e)}}()}static{this.\u0275dir=tt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Q("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Ri([oSe]),Ht]})}}return e})(),RK=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({})}}return e})();const yL=new Me("NgModelWithFormControlWarning"),dSe={provide:Fd,useExisting:he(()=>bL)};let bL=(()=>{class e extends Fd{set isDisabled(i){}static{this._ngModelWarningSentOnce=!1}constructor(i,n,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new pe,this._ngModelWarningSent=!1,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=vL(0,r)}ngOnChanges(i){if(this._isControlChanged(i)){const n=i.form.previousValue;n&&hA(n,this,!1),Yx(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}mL(i,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&hA(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_isControlChanged(i){return i.hasOwnProperty("form")}static{this.\u0275fac=function(n){return new(n||e)(R(Wo,10),R(dg,10),R(pc,10),R(yL,8),R(Tm,8))}}static{this.\u0275dir=tt({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ri([dSe]),Ht,Xn]})}}return e})();const uSe={provide:Ga,useExisting:he(()=>Pn)};let Pn=(()=>{class e extends Ga{constructor(i,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pe,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const n=this.form.get(i.path);return Yx(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){hA(i.control||null,i,!1),function tSe(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this.submitted=!0,DK(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const n=i.control,r=this.form.get(i.path);n!==r&&(hA(n||null,i),(e=>e instanceof u0)(r)&&(Yx(r,i,this.callSetDisabledState),i.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const n=this.form.get(i.path);SK(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const n=this.form.get(i.path);n&&function Xxe(e,t){return gA(e,t)}(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gL(this.form,this),this._oldForm&&gA(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(n){return new(n||e)(R(Wo,10),R(dg,10),R(Tm,8))}}static{this.\u0275dir=tt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Q("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ri([uSe]),Ht,Xn]})}}return e})();const gSe={provide:Fd,useExisting:he(()=>fr)};let fr=(()=>{class e extends Fd{set isDisabled(i){}static{this._ngModelWarningSentOnce=!1}constructor(i,n,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new pe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=vL(0,s)}ngOnChanges(i){this._added||this._setUpControl(),mL(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return uA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||e)(R(Ga,13),R(Wo,10),R(dg,10),R(pc,10),R(yL,8))}}static{this.\u0275dir=tt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ri([gSe]),Ht,Xn]})}}return e})(),Rm=(()=>{class e{constructor(){this._validator=sA}ngOnChanges(i){if(this.inputName in i){const n=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):sA,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=tt({type:e,features:[Xn]})}}return e})();const xSe={provide:Wo,useExisting:he(()=>Ml),multi:!0};let Ml=(()=>{class e extends Rm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Kb,this.createValidator=i=>JY}enabled(i){return i}static{this.\u0275fac=function(){let i;return function(r){return(i||(i=An(e)))(r||e)}}()}static{this.\u0275dir=tt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&gi("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ri([xSe]),Ht]})}}return e})(),$K=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({imports:[RK]})}}return e})();class YK extends dA{constructor(t,i,n){super(hL(i),pL(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){CK(this,0,t),t.forEach((n,r)=>{_K(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>!!n._syncPendingControls()||i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function KK(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let SL,Hr=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const i=new e;return i.useNonNullable=!0,i}group(i,n=null){const r=this._reduceControls(i);let s={};return KK(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new Wx(r,s)}record(i,n=null){const r=this._reduceControls(i);return new wK(r,n)}control(i,n,r){let s={};return this.useNonNullable?(KK(n)?s=n:(s.validators=n,s.asyncValidators=r),new u0(i,{...s,nonNullable:!0})):new u0(i,n,r)}array(i,n,r){const s=i.map(o=>this._createControl(o));return new YK(s,n,r)}_reduceControls(i){const n={};return Object.keys(i).forEach(r=>{n[r]=this._createControl(i[r])}),n}_createControl(i){return i instanceof u0||i instanceof dA?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ASe=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:Tm,useValue:i.callSetDisabledState??$x}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({imports:[$K]})}}return e})(),TSe=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:yL,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Tm,useValue:i.callSetDisabledState??$x}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({imports:[$K]})}}return e})();try{SL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{SL=!1}let h0,Ns=(()=>{class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function d_e(e){return e===g$}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!SL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(i){return new(i||e)(ne(Gc))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const qK=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ZK(){if(h0)return h0;if("object"!=typeof document||!document)return h0=new Set(qK),h0;let e=document.createElement("input");return h0=new Set(qK.filter(t=>(e.setAttribute("type",t),e.type===t))),h0}let Zx,fA,km,DL;function Qx(e){return function RSe(){if(null==Zx&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zx=!0}))}finally{Zx=Zx||!1}return Zx}()?e:!!e.capture}function QK(){if(null==km){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return km=!1,km;if("scrollBehavior"in document.documentElement.style)km=!0;else{const e=Element.prototype.scrollTo;km=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return km}function Xx(){if("object"!=typeof document||!document)return 0;if(null==fA){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",e.appendChild(i),document.body.appendChild(e),fA=0,0===e.scrollLeft&&(e.scrollLeft=1,fA=0===e.scrollLeft?1:2),e.remove()}return fA}function Jx(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Nh(e){return e.composedPath?e.composedPath()[0]:e.target}function ML(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function So(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class jSe extends Rt{constructor(t,i){super()}schedule(t,i=0){return this}}const bA={setInterval(e,t,...i){const{delegate:n}=bA;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){const{delegate:t}=bA;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class _A extends jSe{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){var n;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(t,i,n=0){return bA.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,i,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return i;null!=i&&bA.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,i);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let r,n=!1;try{this.work(t)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,_e(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}}const IL={now:()=>(IL.delegate||Date).now(),delegate:void 0};class iS{constructor(t,i=iS.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,n){return new this.schedulerActionCtor(this,t).schedule(n,i)}}iS.now=IL.now;class CA extends iS{constructor(t,i=iS.now){super(t,i),this.actions=[],this._active=!1}flush(t){const{actions:i}=this;if(this._active)return void i.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}}}const Fm=new CA(_A),USe=Fm;function AL(e,t=Fm){return be((i,n)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,n.next(c)}};function l(){const c=o+e,d=t.now();if(d<c)return r=this.schedule(void 0,c-d),void n.add(r);a()}i.subscribe(Oe(n,c=>{s=c,o=t.now(),r||(r=t.schedule(l,e),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function JK(e){return Tr((t,i)=>e<=i)}function Ei(e){return null!=e&&"false"!=`${e}`}function nS(e,t=0){return function WSe(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function wA(e){return Array.isArray(e)?e:[e]}function Qs(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Bh(e){return e instanceof ti?e.nativeElement:e}function eq(e,t=/\s+/){const i=[];if(null!=e){const n=Array.isArray(e)?e:`${e}`.split(t);for(const r of n){const s=`${r}`.trim();s&&i.push(s)}}return i}let tq=(()=>{class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$Se=(()=>{class e{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,n)=>this._cleanupObserver(n))}observe(i){const n=Bh(i);return new Qt(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const n=new oe,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:r,stream:n,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:n,stream:r}=this._observedElements.get(i);n&&n.disconnect(),r.complete(),this._observedElements.delete(i)}}}return e.\u0275fac=function(i){return new(i||e)(ne(tq))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),YSe=(()=>{class e{get disabled(){return this._disabled}set disabled(i){this._disabled=Ei(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=nS(i),this._subscribe()}constructor(i,n,r){this._contentObserver=i,this._elementRef=n,this._ngZone=r,this.event=new pe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(AL(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return e.\u0275fac=function(i){return new(i||e)(R($Se),R(ti),R(Mt))},e.\u0275dir=tt({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),iq=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[tq]}),e})();const nq=new Set;let f0,KSe=(()=>{class e{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZSe}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function qSe(e){if(!nq.has(e))try{f0||(f0=document.createElement("style"),f0.setAttribute("type","text/css"),document.head.appendChild(f0)),f0.sheet&&(f0.sheet.insertRule(`@media ${e} {body{ }}`,0),nq.add(e))}catch(t){console.error(t)}}(i),this._matchMedia(i)}}return e.\u0275fac=function(i){return new(i||e)(ne(Ns))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ZSe(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let TL=(()=>{class e{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new oe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return rq(wA(i)).some(r=>this._registerQuery(r).mql.matches)}observe(i){let s=BI(rq(wA(i)).map(o=>this._registerQuery(o).observable));return s=Zb(s.pipe(Gr(1)),s.pipe(JK(1),AL(0))),s.pipe(nt(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const n=this._mediaMatcher.matchMedia(i),s={observable:new Qt(o=>{const a=l=>this._zone.run(()=>o.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(Zs(n),nt(({matches:o})=>({query:i,matches:o})),kr(this._destroySubject)),mql:n};return this._queries.set(i,s),s}}return e.\u0275fac=function(i){return new(i||e)(ne(KSe),ne(Mt))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function rq(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}class aq{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new oe,this._typeaheadSubscription=Rt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new oe,this.change=new oe,t instanceof Wb&&(this._itemChangesSubscription=t.changes.subscribe(i=>{if(this._activeItem){const r=i.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(er(i=>this._pressedLetters.push(i)),AL(t),Tr(()=>this._pressedLetters.length>0),nt(()=>this._pressedLetters.join(""))).subscribe(i=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(i)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,i=10){return this._pageUpAndDown={enabled:t,delta:i},this}setActiveItem(t){const i=this._activeItem;this.updateActiveItem(t),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(t){const i=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||So(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const i=this._getItemsArray(),n="number"==typeof t?t:i.indexOf(t);this._activeItem=i[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const i=this._getItemsArray();for(let n=1;n<=i.length;n++){const r=(this._activeItemIndex+t*n+i.length)%i.length;if(!this._skipPredicateFn(i[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,i){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=i])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Wb?this._items.toArray():this._items}}class lq extends aq{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let xA=(()=>{class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function i1e(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const n=function t1e(e){try{return e.frameElement}catch{return null}}(function d1e(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(i));if(n&&(-1===dq(n)||!this.isVisible(n)))return!1;let r=i.nodeName.toLowerCase(),s=dq(i);return i.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function l1e(e){let t=e.nodeName.toLowerCase(),i="input"===t&&e.type;return"text"===i||"password"===i||"select"===t||"textarea"===t}(i))&&("audio"===r?!!i.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,n){return function c1e(e){return!function r1e(e){return function o1e(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function n1e(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function s1e(e){return function a1e(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||cq(e))}(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}}return e.\u0275fac=function(i){return new(i||e)(ne(Ns))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cq(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function dq(e){if(!cq(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class uq{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,n,r,s=!1){this._element=t,this._checker=i,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){const n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){const i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const i=t.children;for(let n=0;n<i.length;n++){const r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const i=t.children;for(let n=i.length-1;n>=0;n--){const r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Gr(1)).subscribe(t)}}let SA=(()=>{class e{constructor(i,n,r){this._checker=i,this._ngZone=n,this._document=r}create(i,n=!1){return new uq(i,this._checker,this._ngZone,this._document,n)}}return e.\u0275fac=function(i){return new(i||e)(ne(xA),ne(Mt),ne(fi))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),u1e=(()=>{class e{get enabled(){return this.focusTrap.enabled}set enabled(i){this.focusTrap.enabled=Ei(i)}get autoCapture(){return this._autoCapture}set autoCapture(i){this._autoCapture=Ei(i)}constructor(i,n,r){this._elementRef=i,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(i){const n=i.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Jx(),this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(SA),R(fi))},e.\u0275dir=tt({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Xn]}),e})();function hq(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function pq(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const h1e=new Me("cdk-input-modality-detector-options"),p1e={ignoreKeys:[18,17,224,91,16]},m0=Qx({passive:!0,capture:!0});let g1e=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(i,n,r,s){this._platform=i,this._mostRecentTarget=null,this._modality=new X(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nh(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(hq(o)?"keyboard":"mouse"),this._mostRecentTarget=Nh(o))},this._onTouchstart=o=>{pq(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nh(o))},this._options={...p1e,...s},this.modalityDetected=this._modality.pipe(JK(1)),this.modalityChanged=this.modalityDetected.pipe(cn()),i.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,m0),r.addEventListener("mousedown",this._onMousedown,m0),r.addEventListener("touchstart",this._onTouchstart,m0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,m0),document.removeEventListener("mousedown",this._onMousedown,m0),document.removeEventListener("touchstart",this._onTouchstart,m0))}}return e.\u0275fac=function(i){return new(i||e)(ne(Ns),ne(Mt),ne(fi),ne(h1e,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const f1e=new Me("liveAnnouncerElement",{providedIn:"root",factory:function m1e(){return null}}),v1e=new Me("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let y1e=0,RL=(()=>{class e{constructor(i,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=i||this._createLiveElement()}announce(i,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const i="cdk-live-announcer-element",n=this._document.getElementsByClassName(i),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(i),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+y1e++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(i){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(i)&&s.setAttribute("aria-owns",o+" "+i):s.setAttribute("aria-owns",i)}}}return e.\u0275fac=function(i){return new(i||e)(ne(f1e,8),ne(Mt),ne(fi),ne(v1e,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const b1e=new Me("cdk-focus-monitor-default-options"),DA=Qx({passive:!0,capture:!0});let Om=(()=>{class e{constructor(i,n,r,s,o){this._ngZone=i,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new oe,this._rootNodeFocusAndBlurListener=a=>{for(let c=Nh(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(i,n=!1){const r=Bh(i);if(!this._platform.isBrowser||1!==r.nodeType)return ie(null);const s=function PSe(e){if(function kSe(){if(null==DL){const e=typeof document<"u"?document.head:null;DL=!(!e||!e.createShadowRoot&&!e.attachShadow)}return DL}()){const t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const a={checkChildren:n,subject:new oe,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(i){const n=Bh(i),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(i,n,r){const s=Bh(i);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused","touch"===n),i.classList.toggle("cdk-keyboard-focused","keyboard"===n),i.classList.toggle("cdk-mouse-focused","mouse"===n),i.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,n){const r=this._elementInfo.get(n),s=Nh(i);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(i,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const n=i.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,DA),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,DA)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(kr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){const n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,DA),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,DA),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,r){this._setClasses(i,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){const n=[];return this._elementInfo.forEach((r,s)=>{(s===i||r.checkChildren&&s.contains(i))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const s=i.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}}return e.\u0275fac=function(i){return new(i||e)(ne(Mt),ne(Ns),ne(g1e),ne(fi,8),ne(b1e,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_1e=(()=>{class e{constructor(i,n){this._elementRef=i,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new pe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Om))},e.\u0275dir=tt({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),e})();const fq="cdk-high-contrast-black-on-white",mq="cdk-high-contrast-white-on-black",kL="cdk-high-contrast-active";let vq=(()=>{class e{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=ze(TL).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(i):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(kL,fq,mq),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?i.add(kL,fq):2===n&&i.add(kL,mq)}}}return e.\u0275fac=function(i){return new(i||e)(ne(Ns),ne(fi))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yq=(()=>{class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(i){return new(i||e)(ne(vq))},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[iq]}),e})();const C1e=new Me("cdk-dir-doc",{providedIn:"root",factory:function w1e(){return ze(fi)}}),x1e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ga=(()=>{class e{constructor(i){this.value="ltr",this.change=new pe,i&&(this.value=function S1e(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?x1e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(i){return new(i||e)(ne(C1e,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rS=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({}),e})();const D1e=["text"];function M1e(e,t){if(1&e&&Z(0,"mat-pseudo-checkbox",6),2&e){const i=ae();B("state",i.selected?"checked":"unchecked")("disabled",i.disabled)}}function E1e(e,t){1&e&&Z(0,"mat-pseudo-checkbox",7),2&e&&B("disabled",ae().disabled)}function I1e(e,t){if(1&e&&(w(0,"span",8),O(1),S()),2&e){const i=ae();T(1),_t("(",i.group.label,")")}}const A1e=[[["mat-icon"]],"*"],T1e=["mat-icon","*"],k1e=new Me("mat-sanity-checks",{providedIn:"root",factory:function R1e(){return!0}});let ns=(()=>{class e{constructor(i,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!ML()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return e.\u0275fac=function(i){return new(i||e)(ne(vq),ne(k1e,8),ne(fi))},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[rS,rS]}),e})();function PL(e){return class extends e{get disabled(){return this._disabled}set disabled(t){this._disabled=Ei(t)}constructor(...t){super(...t),this._disabled=!1}}}function MA(e,t){return class extends e{get color(){return this._color}set color(i){const n=i||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...i){super(...i),this.defaultColor=t,this.color=t}}}function EA(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ei(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function IA(e,t=0){return class extends e{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=null!=i?nS(i):this.defaultTabIndex}constructor(...i){super(...i),this._tabIndex=t,this.defaultTabIndex=t}}}function FL(e){return class extends e{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const P1e=new Me("MAT_DATE_LOCALE",{providedIn:"root",factory:function F1e(){return ze(bu)}});class $o{constructor(){this._localeChanges=new oe,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,i){return this.getYear(t)-this.getYear(i)||this.getMonth(t)-this.getMonth(i)||this.getDate(t)-this.getDate(i)}sameDate(t,i){if(t&&i){let n=this.isValid(t),r=this.isValid(i);return n&&r?!this.compareDate(t,i):n==r}return t==i}clampDate(t,i,n){return i&&this.compareDate(t,i)<0?i:n&&this.compareDate(t,n)>0?n:t}}const Lm=new Me("mat-date-formats"),O1e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function OL(e,t){const i=Array(e);for(let n=0;n<e;n++)i[n]=t(n);return i}let L1e=(()=>{class e extends $o{constructor(i,n){super(),this.useUtcForDisplay=!1,super.setLocale(i)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){const n=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return OL(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return OL(31,n=>this._format(i,new Date(2017,0,n+1)))}getDayOfWeekNames(i){const n=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return OL(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(i){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,n,r){let s=this._createDateWithOverflow(i,n,r);return s.getMonth(),s}today(){return new Date}parse(i,n){return"number"==typeof i?new Date(i):i?new Date(Date.parse(i)):null}format(i,n){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(r,i)}addCalendarYears(i,n){return this.addCalendarMonths(i,12*n)}addCalendarMonths(i,n){let r=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+n,this.getDate(i));return this.getMonth(r)!=((this.getMonth(i)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(i,n){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+n)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if("string"==typeof i){if(!i)return null;if(O1e.test(i)){let n=new Date(i);if(this.isValid(n))return n}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,n,r){const s=new Date;return s.setFullYear(i,n,r),s.setHours(0,0,0,0),s}_2digit(i){return("00"+i).slice(-2)}_format(i,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),i.format(r)}}return e.\u0275fac=function(i){return new(i||e)(ne(P1e,8),ne(Ns))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const N1e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let V1e=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[{provide:$o,useClass:L1e}]}),e})(),B1e=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[{provide:Lm,useValue:N1e}],imports:[V1e]}),e})(),AA=(()=>{class e{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class z1e{constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Cq=Qx({passive:!0,capture:!0});class G1e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const i=Nh(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(s=>s.handleEvent(t))})}}addHandler(t,i,n,r){const s=this._events.get(i);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,Cq)})}removeHandler(t,i,n){const r=this._events.get(t);if(!r)return;const s=r.get(i);s&&(s.delete(n),0===s.size&&r.delete(i),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Cq)))}}const wq={enterDuration:225,exitDuration:150},xq=Qx({passive:!0,capture:!0}),Sq=["mousedown","touchstart"],Dq=["mouseup","mouseleave","touchend","touchcancel"];class oS{constructor(t,i,n,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bh(n))}fadeInRipple(t,i,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...wq,...n.animation};n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);const o=n.radius||function j1e(e,t,i){const n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}(t,i,r),a=t-r.left,l=i-r.top,c=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-o+"px",d.style.top=l-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=n.color&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),g=u.transitionDuration,m="none"===u.transitionProperty||"0s"===g||"0s, 0s"===g||0===r.width&&0===r.height,y=new z1e(this,d,n,m);d.style.transform="scale3d(1, 1, 1)",y.state=0,n.persistent||(this._mostRecentTransientRipple=y);let _=null;return!m&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const x=()=>this._finishRippleTransition(y),D=()=>this._destroyRipple(y);d.addEventListener("transitionend",x),d.addEventListener("transitioncancel",D),_={onTransitionEnd:x,onTransitionCancel:D}}),this._activeRipples.set(y,_),(m||!c)&&this._finishRippleTransition(y),y}fadeOutRipple(t){if(2===t.state||3===t.state)return;const i=t.element,n={...wq,...t.config.animation};i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const i=Bh(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,Sq.forEach(n=>{oS._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Dq.forEach(i=>{this._triggerElement.addEventListener(i,this,xq)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==i&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){const i=hq(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!pq(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=t.changedTouches;for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Sq.forEach(i=>oS._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&Dq.forEach(i=>t.removeEventListener(i,this,xq)))}}oS._eventManager=new G1e;const LL=new Me("mat-ripple-global-options");let ug=(()=>{class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,n,r,s,o){this._elementRef=i,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new oS(this,n,i,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,r){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Mt),R(Ns),R(LL,8),R(Hc,8))},e.\u0275dir=tt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,n){2&i&&ei("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),NL=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[ns,ns]}),e})(),U1e=(()=>{class e{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return e.\u0275fac=function(i){return new(i||e)(R(Hc,8))},e.\u0275cmp=Be({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,n){2&i&&ei("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal","minimal"===n.appearance)("mat-pseudo-checkbox-full","full"===n.appearance)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,n){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),e})(),W1e=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[ns]}),e})();const VL=new Me("MAT_OPTION_PARENT_COMPONENT"),BL=new Me("MatOptgroup");let $1e=0;class Mq{constructor(t,i=!1){this.source=t,this.isUserInput=i}}let Y1e=(()=>{class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=Ei(i)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(i,n,r,s){this._element=i,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+$1e++,this.onSelectionChange=new pe,this._stateChanges=new oe}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(i,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(13===i.keyCode||32===i.keyCode)&&!So(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new Mq(this,i))}}return e.\u0275fac=function(i){Rb()},e.\u0275dir=tt({type:e,viewQuery:function(i,n){if(1&i&&Jn(D1e,7),2&i){let r;ii(r=ni())&&(n._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),Nm=(()=>{class e extends Y1e{constructor(i,n,r,s){super(i,n,r,s)}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Es),R(VL,8),R(BL,8))},e.\u0275cmp=Be({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,n){1&i&&Q("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),2&i&&(dc("id",n.id),gi("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),ei("mdc-list-item--selected",n.selected)("mat-mdc-option-multiple",n.multiple)("mat-mdc-option-active",n.active)("mdc-list-item--disabled",n.disabled))},exportAs:["matOption"],features:[Ht],ngContentSelectors:T1e,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,n){1&i&&(co(A1e),te(0,M1e,1,2,"mat-pseudo-checkbox",0),Zi(1),w(2,"span",1,2),Zi(4,1),S(),te(5,E1e,1,1,"mat-pseudo-checkbox",3),te(6,I1e,2,1,"span",4),Z(7,"div",5)),2&i&&(B("ngIf",n.multiple),T(5),B("ngIf",!n.multiple&&n.selected&&!n.hideSingleSelectionIndicator),T(1),B("ngIf",n.group&&n.group._inert),T(1),B("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[ug,ui,U1e],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),e})();function Eq(e,t,i){if(i.length){let n=t.toArray(),r=i.toArray(),s=0;for(let o=0;o<e+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}function Iq(e,t,i,n){return e<i?e:e+t>i+n?Math.max(0,e-n+t):i}let TA=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[NL,Fh,ns,W1e]}),e})();const K1e=["mat-button",""],q1e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Z1e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],X1e=["mat-icon-button",""],J1e=["*"],eDe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tDe=MA(PL(EA(class{constructor(e){this._elementRef=e}})));let Aq=(()=>{class e extends tDe{constructor(i,n,r,s){super(i),this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=ze(Om),this._isFab=!1;const o=i.nativeElement.classList;for(const a of eDe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...i){return i.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return e.\u0275fac=function(i){Rb()},e.\u0275dir=tt({type:e,viewQuery:function(i,n){if(1&i&&Jn(ug,5),2&i){let r;ii(r=ni())&&(n.ripple=r.first)}},features:[Ht]}),e})(),Yo=(()=>{class e extends Aq{constructor(i,n,r,s){super(i,n,r,s)}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Ns),R(Mt),R(Hc,8))},e.\u0275cmp=Be({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,n){2&i&&(gi("disabled",n.disabled||null),ei("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ht],attrs:K1e,ngContentSelectors:Z1e,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(co(q1e),Z(0,"span",0),Zi(1),w(2,"span",1),Zi(3,1),S(),Zi(4,2),Z(5,"span",2)(6,"span",3)(7,"span",4)),2&i&&(ei("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab),T(6),B("matRippleDisabled",n._isRippleDisabled())("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[ug],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),Tq=(()=>{class e extends Aq{constructor(i,n,r,s){super(i,n,r,s)}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Ns),R(Mt),R(Hc,8))},e.\u0275cmp=Be({type:e,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,n){2&i&&(gi("disabled",n.disabled||null),ei("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ht],attrs:X1e,ngContentSelectors:J1e,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){1&i&&(co(),Z(0,"span",0),Zi(1),Z(2,"span",1)(3,"span",2)(4,"span",3)),2&i&&(T(3),B("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[ug],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),zL=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[ns,NL,ns]}),e})();class Rq{}class rDe{}const zh="*";function gc(e,t){return{type:7,name:e,definitions:t,options:{}}}function rs(e,t=null){return{type:4,styles:t,timings:e}}function GL(e,t=null){return{type:3,steps:e,options:t}}function kq(e,t=null){return{type:2,steps:e,options:t}}function Qi(e){return{type:6,styles:e,offset:null}}function Du(e,t,i){return{type:0,name:e,styles:t,options:i}}function Pq(e){return{type:5,steps:e}}function ss(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function HL(e=null){return{type:9,options:e}}function jL(e,t,i=null){return{type:11,selector:e,animation:t,options:i}}class aS{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class Fq{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++i==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const i=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((i,n)=>null===i||n.totalTime>i.totalTime?n:i,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class WL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Vm extends WL{constructor(t,i,n,r,s){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class lS extends WL{constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class sDe extends WL{constructor(t){super(),this.element=t instanceof ti?t.nativeElement:t}}class RA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Vm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof lS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof sDe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oDe extends RA{constructor(t,i,n,r,s){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||ts.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);-1!==r&&i.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Bm=(()=>{class e extends RA{constructor(i,n,r){super(),this._componentFactoryResolver=i,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new pe,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);const n=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),o=n.createComponent(s,n.length,i.injector||n.injector,i.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=i,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(i){i.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return e.\u0275fac=function(i){return new(i||e)(R(Eb),R(pa),R(fi))},e.\u0275dir=tt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ht]}),e})(),v0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({}),e})();const aDe=["addListener","removeListener"],lDe=["addEventListener","removeEventListener"],cDe=["on","off"];function zm(e,t,i,n){if(j(i)&&(n=i,i=void 0),n)return zm(e,t,i).pipe(N3(n));const[r,s]=function hDe(e){return j(e.addEventListener)&&j(e.removeEventListener)}(e)?lDe.map(o=>a=>e[o](t,a,i)):function dDe(e){return j(e.addListener)&&j(e.removeListener)}(e)?aDe.map(Oq(e,t)):function uDe(e){return j(e.on)&&j(e.off)}(e)?cDe.map(Oq(e,t)):[];if(!r&&vi(e))return Qn(o=>zm(o,t,i))(En(e));if(!r)throw new TypeError("Invalid event target");return new Qt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function Oq(e,t){return i=>n=>e[i](t,n)}const cS={schedule(e){let t=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:n}=cS;n&&(t=n.requestAnimationFrame,i=n.cancelAnimationFrame);const r=t(s=>{i=void 0,e(s)});return new Rt(()=>i?.(r))},requestAnimationFrame(...e){const{delegate:t}=cS;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=cS;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},fDe=new class gDe extends CA{flush(t){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw r}}}(class pDe extends _A{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return null!==n&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=cS.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,i,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);const{actions:s}=t;null!=i&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==i&&(cS.cancelAnimationFrame(i),t._scheduled=void 0)}});let $L,mDe=1;const kA={};function Lq(e){return e in kA&&(delete kA[e],!0)}const vDe={setImmediate(e){const t=mDe++;return kA[t]=!0,$L||($L=Promise.resolve()),$L.then(()=>Lq(t)&&e()),t},clearImmediate(e){Lq(e)}},{setImmediate:yDe,clearImmediate:bDe}=vDe,PA={setImmediate(...e){const{delegate:t}=PA;return(t?.setImmediate||yDe)(...e)},clearImmediate(e){const{delegate:t}=PA;return(t?.clearImmediate||bDe)(e)},delegate:void 0},wDe=new class CDe extends CA{flush(t){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw r}}}(class _De extends _A{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return null!==n&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=PA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,i,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);const{actions:s}=t;null!=i&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==i&&(PA.clearImmediate(i),t._scheduled===i&&(t._scheduled=void 0))}});function YL(e=0,t,i=USe){let n=-1;return null!=t&&(_o(t)?i=t:n=t),new Qt(r=>{let s=function SDe(e){return e instanceof Date&&!isNaN(e)}(e)?+e-i.now():e;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function KL(e,t=Fm){return function xDe(e){return be((t,i)=>{let n=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const c=r;r=null,i.next(c)}o&&i.complete()},l=()=>{s=null,o&&i.complete()};t.subscribe(Oe(i,c=>{n=!0,r=c,s||En(e(c)).subscribe(s=Oe(i,a,l))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}(()=>YL(e,t))}const DDe=["contentWrapper"],MDe=["*"],EDe=new Me("VIRTUAL_SCROLL_STRATEGY");let FA=(()=>{class e{constructor(i,n,r){this._ngZone=i,this._platform=n,this._scrolled=new oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new Qt(n=>{this._globalSubscription||this._addGlobalListener();const r=i>0?this._scrolled.pipe(KL(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){const r=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(Tr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(i){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,i)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,n){let r=Bh(n),s=i.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(i){return new(i||e)(ne(Mt),ne(Ns),ne(fi,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Nq=(()=>{class e{constructor(i,n,r,s){this.elementRef=i,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new oe,this._elementScrolled=new Qt(o=>this.ngZone.runOutsideAngular(()=>zm(this.elementRef.nativeElement,"scroll").pipe(kr(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=r?i.end:i.start),null==i.right&&(i.right=r?i.start:i.end),null!=i.bottom&&(i.top=n.scrollHeight-n.clientHeight-i.bottom),r&&0!=Xx()?(null!=i.left&&(i.right=n.scrollWidth-n.clientWidth-i.left),2==Xx()?i.left=i.right:1==Xx()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=n.scrollWidth-n.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const n=this.elementRef.nativeElement;QK()?n.scrollTo(i):(null!=i.top&&(n.scrollTop=i.top),null!=i.left&&(n.scrollLeft=i.left))}measureScrollOffset(i){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==i)return s.scrollTop;if("bottom"==i)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==i?i=o?r:n:"end"==i&&(i=o?n:r),o&&2==Xx()?i==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Xx()?i==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:i==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(FA),R(Mt),R(ga,8))},e.\u0275dir=tt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),e})(),dS=(()=>{class e{constructor(i,n,r){this._platform=i,this._change=new oe,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(i.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+r,right:i.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,n=this._getWindow(),r=i.documentElement,s=r.getBoundingClientRect();return{top:-s.top||i.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||i.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(KL(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(i){return new(i||e)(ne(Ns),ne(Mt),ne(fi,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Vq=new Me("VIRTUAL_SCROLLABLE");let TDe=(()=>{class e extends Nq{constructor(i,n,r,s){super(i,n,r,s)}measureViewportSize(i){const n=this.elementRef.nativeElement;return"horizontal"===i?n.clientWidth:n.clientHeight}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(FA),R(Mt),R(ga,8))},e.\u0275dir=tt({type:e,features:[Ht]}),e})();const kDe=typeof requestAnimationFrame<"u"?fDe:wDe;let PDe=(()=>{class e extends TDe{get orientation(){return this._orientation}set orientation(i){this._orientation!==i&&(this._orientation=i,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(i){this._appendOnly=Ei(i)}constructor(i,n,r,s,o,a,l,c){super(i,a,r,o),this.elementRef=i,this._changeDetectorRef=n,this._scrollStrategy=s,this.scrollable=c,this._platform=ze(Ns),this._detachedSubject=new oe,this._renderedRangeSubject=new oe,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Qt(d=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>d.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Rt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Zs(null),KL(0,kDe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(i){this.ngZone.runOutsideAngular(()=>{this._forOf=i,this._forOf.dataStream.pipe(kr(this._detachedSubject)).subscribe(n=>{const r=n.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(i){return this.getElementRef().nativeElement.getBoundingClientRect()[i]}setTotalContentSize(i){this._totalContentSize!==i&&(this._totalContentSize=i,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(i){(function RDe(e,t){return e.start==t.start&&e.end==t.end})(this._renderedRange,i)||(this.appendOnly&&(i={start:0,end:Math.max(this._renderedRange.end,i.end)}),this._renderedRangeSubject.next(this._renderedRange=i),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(i,n="to-start"){i=this.appendOnly&&"to-start"===n?0:i;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*i)}px)`;this._renderedContentOffset=i,"to-end"===n&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(i,n="auto"){const r={behavior:n};"horizontal"===this.orientation?r.start=i:r.top=i,this.scrollable.scrollTo(r)}scrollToIndex(i,n="auto"){this._scrollStrategy.scrollToIndex(i,n)}measureScrollOffset(i){let n;return n=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,n(i??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(i){let n;const r="left",s="right",o="rtl"==this.dir?.value;n="start"==i?o?s:r:"end"==i?o?r:s:i||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(n);return this.elementRef.nativeElement.getBoundingClientRect()[n]-a}measureRenderedContentSize(){const i=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?i.offsetWidth:i.offsetHeight}measureRangeSize(i){return this._forOf?this._forOf.measureRangeSize(i,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(i){i&&this._runAfterChangeDetection.push(i),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const i=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const n of i)n()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Es),R(Mt),R(EDe,8),R(ga,8),R(FA),R(dS),R(Vq,8))},e.\u0275cmp=Be({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,n){if(1&i&&Jn(DDe,7),2&i){let r;ii(r=ni())&&(n._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,n){2&i&&ei("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Ri([{provide:Nq,useFactory:(t,i)=>t||i,deps:[[new _l,new Fw(Vq)],e]}]),Ht,gx],ngContentSelectors:MDe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(i,n){1&i&&(co(),w(0,"div",0,1),Zi(2),S(),Z(3,"div",2)),2&i&&(T(3),mu("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),e})(),uS=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({}),e})(),Bq=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[rS,uS,PDe,rS,uS]}),e})();const zq=QK();class ODe{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Qs(-this._previousScrollPosition.left),t.style.top=Qs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),zq&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zq&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}}class LDe{constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Tr(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Gq{enable(){}disable(){}attach(){}}function qL(e,t){return t.some(i=>e.bottom<i.top||e.top>i.bottom||e.right<i.left||e.left>i.right)}function Hq(e,t){return t.some(i=>e.top<i.top||e.bottom>i.bottom||e.left<i.left||e.right>i.right)}class NDe{constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();qL(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let VDe=(()=>{class e{constructor(i,n,r,s){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new Gq,this.close=o=>new LDe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new ODe(this._viewportRuler,this._document),this.reposition=o=>new NDe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return e.\u0275fac=function(i){return new(i||e)(ne(FA),ne(dS),ne(Mt),ne(fi))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class y0{constructor(t){if(this.scrollStrategy=new Gq,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const i=Object.keys(t);for(const n of i)void 0!==t[n]&&(this[n]=t[n])}}}class BDe{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}}let jq=(()=>{class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(i){return new(i||e)(ne(fi))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),zDe=(()=>{class e extends jq{constructor(i,n){super(i),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(i){return new(i||e)(ne(fi),ne(Mt,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),GDe=(()=>{class e extends jq{constructor(i,n,r){super(i),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Nh(s)},this._clickListener=s=>{const o=Nh(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(s)):u.next(s)}}}add(i){if(super.add(i),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}}return e.\u0275fac=function(i){return new(i||e)(ne(fi),ne(Ns),ne(Mt,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),OA=(()=>{class e{constructor(i,n){this._platform=n,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||ML()){const r=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(i),ML()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return e.\u0275fac=function(i){return new(i||e)(ne(fi),ne(Ns))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class hS{constructor(t,i,n,r,s,o,a,l,c,d=!1){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new oe,this._attachments=new oe,this._detachments=new oe,this._locationChanges=Rt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new oe,this._outsidePointerEvents=new oe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof i?.onDestroy&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Qs(this._config.width),t.height=Qs(this._config.height),t.minWidth=Qs(this._config.minWidth),t.minHeight=Qs(this._config.minHeight),t.maxWidth=Qs(this._config.maxWidth),t.maxHeight=Qs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){const r=wA(i||[]).filter(s=>!!s);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(kr($(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Uq="cdk-overlay-connected-position-bounding-box",HDe=/([A-Za-z%]+)$/;class Wq{get positions(){return this._preferredPositions}constructor(t,i,n,r,s){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new oe,this._resizeSubscription=Rt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Uq),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,n)?s.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(s.length){let a=null,l=-1;for(const c of s){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Uq),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r,s;if("center"==n.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==n.originX?o:a}return i.left<0&&(r-=i.left),s="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,i.top<0&&(s-=i.top),{x:r,y:s}}_getOverlayPoint(t,i,n){let r,s;return r="center"==n.overlayX?-i.width/2:"start"===n.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,s="center"==n.overlayY?-i.height/2:"top"==n.overlayY?0:-i.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,i,n,r){const s=Yq(i);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,g=a+s.height-n.height,m=this._subtractOverflows(s.width,0-o,o+s.width-n.width),y=this._subtractOverflows(s.height,h,g),_=m*y;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:y===s.height,fitsInViewportHorizontally:m==s.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){const r=n.bottom-i.y,s=n.right-i.x,o=$q(this._overlayRef.getConfig().minHeight),a=$q(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Yq(i),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-n.top-t.y,0),c=Math.max(s.left-n.left-t.x,0);let d=0,u=0;return d=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-n.left-t.x:0,u=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new BDe(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<i.length;s++)i[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){const n=this._viewportRect,r=this._isRtl();let s,o,a,d,u,h;if("top"===i.overlayY)o=t.y,s=n.height-o+this._viewportMargin;else if("bottom"===i.overlayY)a=n.height-t.y+2*this._viewportMargin,s=n.height-a+this._viewportMargin;else{const g=Math.min(n.bottom-t.y+n.top,t.y),m=this._lastBoundingBoxSize.height;s=2*g,o=t.y-g,s>m&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-m/2)}if("end"===i.overlayX&&!r||"start"===i.overlayX&&r)h=n.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===i.overlayX&&!r||"end"===i.overlayX&&r)u=t.x,d=n.right-t.x;else{const g=Math.min(n.right-t.x+n.left,t.x),m=this._lastBoundingBoxSize.width;d=2*g,u=t.x-g,d>m&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-m/2)}return{top:o,left:u,bottom:a,right:h,width:d,height:s}}_setBoundingBoxStyles(t,i){const n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Qs(n.height),r.top=Qs(n.top),r.bottom=Qs(n.bottom),r.width=Qs(n.width),r.left=Qs(n.left),r.right=Qs(n.right),r.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",r.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Qs(s)),o&&(r.maxWidth=Qs(o))}this._lastBoundingBoxSize=n,Gm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Gm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Gm(n,this._getExactOverlayY(i,t,d)),Gm(n,this._getExactOverlayX(i,t,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),o.maxHeight&&(r?n.maxHeight=Qs(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Qs(o.maxWidth):s&&(n.maxWidth="")),Gm(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},s=this._getOverlayPoint(i,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Qs(s.y),r}_getExactOverlayX(t,i,n){let o,r={left:"",right:""},s=this._getOverlayPoint(i,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Qs(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Hq(t,n),isOriginOutsideView:qL(t,n),isOverlayClipped:Hq(i,n),isOverlayOutsideView:qL(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return"x"===i?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&wA(t).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ti)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}}function Gm(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function $q(e){if("number"!=typeof e&&null!=e){const[t,i]=e.split(HDe);return i&&"px"!==i?null:parseFloat(t)}return e||null}function Yq(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const Kq="cdk-global-overlay-wrapper";class jDe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Kq),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let g="",m="",y="";l?y="flex-start":"center"===d?(y="center",h?m=u:g=u):h?"left"===d||"end"===d?(y="flex-end",g=u):("right"===d||"start"===d)&&(y="flex-start",m=u):"left"===d||"start"===d?(y="flex-start",g=u):("right"===d||"end"===d)&&(y="flex-end",m=u),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,i.justifyContent=y,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(Kq),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let UDe=(()=>{class e{constructor(i,n,r,s){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new jDe}flexibleConnectedTo(i){return new Wq(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(i){return new(i||e)(ne(dS),ne(fi),ne(Ns),ne(OA))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),WDe=0,Il=(()=>{class e{constructor(i,n,r,s,o,a,l,c,d,u,h,g){this.scrollStrategies=i,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=g}create(i){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new y0(i);return o.direction=o.direction||this._directionality.value,new hS(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(i){const n=this._document.createElement("div");return n.id="cdk-overlay-"+WDe++,n.classList.add("cdk-overlay-pane"),i.appendChild(n),n}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(ng)),new oDe(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(i){return new(i||e)(ne(VDe),ne(OA),ne(Eb),ne(UDe),ne(zDe),ne(ts),ne(Mt),ne(fi),ne(ga),ne(Cx),ne(GDe),ne(Hc,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $De=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],qq=new Me("cdk-connected-overlay-scroll-strategy");let ZL=(()=>{class e{constructor(i){this.elementRef=i}}return e.\u0275fac=function(i){return new(i||e)(R(ti))},e.\u0275dir=tt({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),e})(),Zq=(()=>{class e{get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(i){this._hasBackdrop=Ei(i)}get lockPosition(){return this._lockPosition}set lockPosition(i){this._lockPosition=Ei(i)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(i){this._flexibleDimensions=Ei(i)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(i){this._growAfterOpen=Ei(i)}get push(){return this._push}set push(i){this._push=Ei(i)}constructor(i,n,r,s,o){this._overlay=i,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Rt.EMPTY,this._attachSubscription=Rt.EMPTY,this._detachSubscription=Rt.EMPTY,this._positionSubscription=Rt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new pe,this.positionChange=new pe,this.attach=new pe,this.detach=new pe,this.overlayKeydown=new pe,this.overlayOutsideClick=new pe,this._templatePortal=new lS(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=$De);const i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!So(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const i=this._position=this.positionStrategy||this._createPositionStrategy(),n=new y0({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(i){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return i.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const i=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(i),i}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ZL?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function FDe(e,t=!1){return be((i,n)=>{let r=0;i.subscribe(Oe(n,s=>{const o=e(s,r++);(o||t)&&n.next(s),!o&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(i=>{this.positionChange.emit(i),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(i){return new(i||e)(R(Il),R(uc),R(pa),R(qq),R(ga,8))},e.\u0275dir=tt({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Xn]}),e})();const KDe={provide:qq,deps:[Il],useFactory:function YDe(e){return()=>e.scrollStrategies.reposition()}};let b0=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[Il,KDe],imports:[rS,v0,Bq,Bq]}),e})();function qDe(e,t){if(1&e){const i=ct();w(0,"div",2)(1,"button",3),Q("click",function(){return Le(i),Ve(ae().action())}),O(2),S()()}if(2&e){const i=ae();T(2),_t(" ",i.data.action," ")}}const ZDe=["label"];function QDe(e,t){}const XDe=Math.pow(2,31)-1;class QL{constructor(t,i){this._overlayRef=i,this._afterDismissed=new oe,this._afterOpened=new oe,this._onAction=new oe,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,XDe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Qq=new Me("MatSnackBarData");class LA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let JDe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),e})(),eMe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),e})(),tMe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),e})(),iMe=(()=>{class e{constructor(i,n){this.snackBarRef=i,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return e.\u0275fac=function(i){return new(i||e)(R(QL),R(Qq))},e.\u0275cmp=Be({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,n){1&i&&(w(0,"div",0),O(1),S(),te(2,qDe,3,1,"div",1)),2&i&&(T(1),_t(" ",n.data.message,"\n"),T(1),B("ngIf",n.hasAction))},dependencies:[ui,Yo,JDe,eMe,tMe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),e})();const nMe={snackBarState:gc("state",[Du("void, hidden",Qi({transform:"scale(0.8)",opacity:0})),Du("visible",Qi({transform:"scale(1)",opacity:1})),ss("* => visible",rs("150ms cubic-bezier(0, 0, 0.2, 1)")),ss("* => void, * => hidden",rs("75ms cubic-bezier(0.4, 0.0, 1, 1)",Qi({opacity:0})))])};let rMe=0,sMe=(()=>{class e extends RA{constructor(i,n,r,s,o){super(),this._ngZone=i,this._elementRef=n,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=ze(fi),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new oe,this._onExit=new oe,this._onEnter=new oe,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+rMe++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(i){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(i);return this._afterPortalAttached(),n}attachTemplatePortal(i){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(i);return this._afterPortalAttached(),n}onAnimationEnd(i){const{fromState:n,toState:r}=i;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Gr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const i=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(r=>i.classList.add(r)):i.classList.add(n)),this._exposeToModals()}_exposeToModals(){const i=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(i)&&s.setAttribute("aria-owns",o+" "+i):s.setAttribute("aria-owns",i)}}_clearFromModals(){this._trackedModals.forEach(i=>{const n=i.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?i.setAttribute("aria-owns",r):i.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(r=document.activeElement),i.removeAttribute("aria-hidden"),n.appendChild(i),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return e.\u0275fac=function(i){return new(i||e)(R(Mt),R(ti),R(Es),R(Ns),R(LA))},e.\u0275dir=tt({type:e,viewQuery:function(i,n){if(1&i&&Jn(Bm,7),2&i){let r;ii(r=ni())&&(n._portalOutlet=r.first)}},features:[Ht]}),e})(),oMe=(()=>{class e extends sMe{_afterPortalAttached(){super._afterPortalAttached();const i=this._label.nativeElement,n="mdc-snackbar__label";i.classList.toggle(n,!i.querySelector(`.${n}`))}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=An(e)))(n||e)}}(),e.\u0275cmp=Be({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,n){if(1&i&&Jn(ZDe,7),2&i){let r;ii(r=ni())&&(n._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,n){1&i&&nI("@state.done",function(s){return n.onAnimationEnd(s)}),2&i&&aI("@state",n._animationState)},features:[Ht],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,n){1&i&&(w(0,"div",0)(1,"div",1,2)(3,"div",3),te(4,QDe,0,0,"ng-template",4),S(),Z(5,"div"),S()()),2&i&&(T(5),gi("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[Bm],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[nMe.snackBarState]}}),e})(),Xq=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[b0,v0,Fh,zL,ns,ns]}),e})();const Jq=new Me("mat-snack-bar-default-options",{providedIn:"root",factory:function aMe(){return new LA}});let lMe=(()=>{class e{get _openedSnackBarRef(){const i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}constructor(i,n,r,s,o,a){this._overlay=i,this._live=n,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(i,n){return this._attach(i,n)}openFromTemplate(i,n){return this._attach(i,n)}open(i,n="",r){const s={...this._defaultConfig,...r};return s.data={message:i,action:n},s.announcementMessage===i&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,n){const s=ts.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:LA,useValue:n}]}),o=new Vm(this.snackBarContainerComponent,n.viewContainerRef,s),a=i.attach(o);return a.instance.snackBarConfig=n,a.instance}_attach(i,n){const r={...new LA,...this._defaultConfig,...n},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new QL(o,s);if(i instanceof uc){const l=new lS(i,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new Vm(i,void 0,l),d=o.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(kr(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(i,n){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),n.duration&&n.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(n.duration))}_createOverlay(i){const n=new y0;n.direction=i.direction;let r=this._overlay.position().global();const s="rtl"===i.direction,o="left"===i.horizontalPosition||"start"===i.horizontalPosition&&!s||"end"===i.horizontalPosition&&s,a=!o&&"center"!==i.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===i.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(i,n){return ts.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:QL,useValue:n},{provide:Qq,useValue:i.data}]})}}return e.\u0275fac=function(i){return new(i||e)(ne(Il),ne(RL),ne(ts),ne(TL),ne(e,12),ne(Jq))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),mr=(()=>{class e extends lMe{constructor(i,n,r,s,o,a){super(i,n,r,s,o,a),this.simpleSnackBarComponent=iMe,this.snackBarContainerComponent=oMe,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return e.\u0275fac=function(i){return new(i||e)(ne(Il),ne(RL),ne(ts),ne(TL),ne(e,12),ne(Jq))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:Xq}),e})();class NA{}class VA{}class Al{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(i=>{const n=i.indexOf(":");if(n>0){const r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof Al?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){const i=new Al;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof Al?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){const i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,i);const r=("a"===t.op?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(i);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}else this.headers.delete(i),this.normalizedNames.delete(i)}}setHeaderEntries(t,i){const n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}}class cMe{encodeKey(t){return eZ(t)}encodeValue(t){return eZ(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const uMe=/%(\d[a-f0-9])/gi,hMe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eZ(e){return encodeURIComponent(e).replace(uMe,(t,i)=>hMe[i]??t)}function BA(e){return`${e}`}class Gh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cMe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dMe(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=i.get(o)||[];l.push(a),i.set(o,l)}),i}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{const n=t.fromObject[i],r=Array.isArray(n)?n.map(BA):[BA(n)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){const i=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const i=new Gh({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const i=("a"===t.op?this.map.get(t.param):void 0)||[];i.push(BA(t.value)),this.map.set(t.param,i);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(BA(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class pMe{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function tZ(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function iZ(e){return typeof Blob<"u"&&e instanceof Blob}function nZ(e){return typeof FormData<"u"&&e instanceof FormData}class pS{constructor(t,i,n,r){let s;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gMe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Al),this.context||(this.context=new pMe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=i;else{const a=i.indexOf("?");this.urlWithParams=i+(-1===a?"?":a<i.length-1?"&":"")+o}}else this.params=new Gh,this.urlWithParams=i}serializeBody(){return null===this.body?null:tZ(this.body)||iZ(this.body)||nZ(this.body)||function fMe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nZ(this.body)?null:iZ(this.body)?this.body.type||null:tZ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((u,h)=>u.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((u,h)=>u.set(h,t.setParams[h]),c)),new pS(i,n,s,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:o})}}var _0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(_0||{});class XL{constructor(t,i=200,n="OK"){this.headers=t.headers||new Al,this.status=void 0!==t.status?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class JL extends XL{constructor(t={}){super(t),this.type=_0.ResponseHeader}clone(t={}){return new JL({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C0 extends XL{constructor(t={}){super(t),this.type=_0.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new C0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rZ extends XL{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function eN(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Ko=(()=>{class e{constructor(i){this.handler=i}request(i,n,r={}){let s;if(i instanceof pS)s=i;else{let l,c;l=r.headers instanceof Al?r.headers:new Al(r.headers),r.params&&(c=r.params instanceof Gh?r.params:new Gh({fromObject:r.params})),s=new pS(i,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=ie(s).pipe(Xb(l=>this.handler.handle(l)));if(i instanceof pS||"events"===r.observe)return o;const a=o.pipe(Tr(l=>l instanceof C0));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(nt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(nt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(nt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(nt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:(new Gh).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,r={}){return this.request("PATCH",i,eN(r,n))}post(i,n,r={}){return this.request("POST",i,eN(r,n))}put(i,n,r={}){return this.request("PUT",i,eN(r,n))}static{this.\u0275fac=function(n){return new(n||e)(ne(NA))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();function aZ(e,t){return t(e)}function vMe(e,t){return(i,n)=>t.intercept(i,{handle:r=>e(r,n)})}const lZ=new Me(""),gS=new Me(""),cZ=new Me("");function bMe(){let e=null;return(t,i)=>{null===e&&(e=(ze(lZ,{optional:!0})??[]).reduceRight(vMe,aZ));const n=ze(fI),r=n.add();return e(t,i).pipe(_u(()=>n.remove(r)))}}let dZ=(()=>{class e extends NA{constructor(i,n){super(),this.backend=i,this.injector=n,this.chain=null,this.pendingTasks=ze(fI)}handle(i){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(gS),...this.injector.get(cZ,[])]));this.chain=r.reduceRight((s,o)=>function yMe(e,t,i){return(n,r)=>i.runInContext(()=>t(n,s=>e(s,r)))}(s,o,this.injector),aZ)}const n=this.pendingTasks.add();return this.chain(i,r=>this.backend.handle(r)).pipe(_u(()=>this.pendingTasks.remove(n)))}static{this.\u0275fac=function(n){return new(n||e)(ne(VA),ne(lc))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();const xMe=/^\)\]\}',?\n/;let hZ=(()=>{class e{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new se(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?U(n.\u0275loadImpl()):ie(null)).pipe(Ze(()=>new Qt(s=>{const o=n.build();if(o.open(i.method,i.urlWithParams),i.withCredentials&&(o.withCredentials=!0),i.headers.forEach((y,_)=>o.setRequestHeader(y,_.join(","))),i.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const y=i.detectContentTypeHeader();null!==y&&o.setRequestHeader("Content-Type",y)}if(i.responseType){const y=i.responseType.toLowerCase();o.responseType="json"!==y?y:"text"}const a=i.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const y=o.statusText||"OK",_=new Al(o.getAllResponseHeaders()),x=function SMe(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||i.url;return l=new JL({headers:_,status:o.status,statusText:y,url:x}),l},d=()=>{let{headers:y,status:_,statusText:x,url:D}=c(),M=null;204!==_&&(M=typeof o.response>"u"?o.responseText:o.response),0===_&&(_=M?200:0);let k=_>=200&&_<300;if("json"===i.responseType&&"string"==typeof M){const V=M;M=M.replace(xMe,"");try{M=""!==M?JSON.parse(M):null}catch(H){M=V,k&&(k=!1,M={error:H,text:M})}}k?(s.next(new C0({body:M,headers:y,status:_,statusText:x,url:D||void 0})),s.complete()):s.error(new rZ({error:M,headers:y,status:_,statusText:x,url:D||void 0}))},u=y=>{const{url:_}=c(),x=new rZ({error:y,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(x)};let h=!1;const g=y=>{h||(s.next(c()),h=!0);let _={type:_0.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),"text"===i.responseType&&o.responseText&&(_.partialText=o.responseText),s.next(_)},m=y=>{let _={type:_0.UploadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),s.next(_)};return o.addEventListener("load",d),o.addEventListener("error",u),o.addEventListener("timeout",u),o.addEventListener("abort",u),i.reportProgress&&(o.addEventListener("progress",g),null!==a&&o.upload&&o.upload.addEventListener("progress",m)),o.send(a),s.next({type:_0.Sent}),()=>{o.removeEventListener("error",u),o.removeEventListener("abort",u),o.removeEventListener("load",d),o.removeEventListener("timeout",u),i.reportProgress&&(o.removeEventListener("progress",g),null!==a&&o.upload&&o.upload.removeEventListener("progress",m)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(n){return new(n||e)(ne(f$))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();const tN=new Me("XSRF_ENABLED"),pZ=new Me("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gZ=new Me("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class fZ{}let EMe=(()=>{class e{constructor(i,n,r){this.doc=i,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=r$(i,this.cookieName),this.lastCookieString=i),this.lastToken}static{this.\u0275fac=function(n){return new(n||e)(ne(fi),ne(Gc),ne(pZ))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();function IMe(e,t){const i=e.url.toLowerCase();if(!ze(tN)||"GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t(e);const n=ze(fZ).getToken(),r=ze(gZ);return null!=n&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}var hg=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(hg||{});function Hm(e,t){return{\u0275kind:e,\u0275providers:t}}function AMe(...e){const t=[Ko,hZ,dZ,{provide:NA,useExisting:dZ},{provide:VA,useExisting:hZ},{provide:gS,useValue:IMe,multi:!0},{provide:tN,useValue:!0},{provide:fZ,useClass:EMe}];for(const i of e)t.push(...i.\u0275providers);return function AF(e){return{\u0275providers:e}}(t)}const mZ=new Me("LEGACY_INTERCEPTOR_FN");let RMe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({providers:[AMe(Hm(hg.LegacyInterceptors,[{provide:mZ,useFactory:bMe},{provide:gS,useExisting:mZ,multi:!0}]))]})}}return e})();const iN_baseApiUrl="https://sparkvillagedev.shurasystem.com/api",iN_firebase={apiKey:"AIzaSyAlypN5u7Dj6qa2A4zXPlo_sN1DQEQ_s14",authDomain:"spark-village2-9b32d.firebaseapp.com",projectId:"spark-village2-9b32d",storageBucket:"spark-village2-9b32d.firebasestorage.app",messagingSenderId:"922792082026",appId:"1:922792082026:web:079984909a0c285f952813",measurementId:"G-6324VEQKGL"},vZ=e=>{const t=typeof window<"u"&&localStorage.getItem(e);return t?JSON.parse(t):null},w0=e=>{const t=typeof window<"u"&&sessionStorage.getItem(e);return t?JSON.parse(t):null},GA=(e,t)=>{typeof window<"u"&&sessionStorage.setItem(e,JSON.stringify(t))},nN=e=>{typeof window<"u"&&sessionStorage.removeItem(e)},rN="access_token_spark",pg="access_token_spark";let Tl=(()=>{class e{constructor(i){this.http=i,this.baseUrl=iN_baseApiUrl}get(i,n){return this.http.get(this.baseUrl+"/"+i,{params:n})}post(i,n){return this.http.post(`${this.baseUrl}/${i}`,n)}put(i,n){return this.http.put(`${this.baseUrl}/${i}`,n)}delete(i){return this.http.delete(`${this.baseUrl}/${i}`)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mS=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n,this.apiUrl=iN_baseApiUrl}login(i,n,r){return this.apiService.post("login",{email:i,password:n,remember_me:r?1:0}).pipe(er(s=>{s&&s.data.access_token?((e,t)=>{typeof window<"u"&&localStorage.setItem(e,JSON.stringify(t))})(rN,s.data.access_token):console.error("Token not found in response:",s)}))}logout(){sessionStorage.removeItem("access_token")}isAuthenticated(){return!!vZ(rN)}sendPasswordResetEmail(i){const n=new Al({"Content-Type":"application/json"}),r=JSON.stringify({email:i});return this.http.post(`${this.apiUrl}/password/reset/code`,r,{headers:n}).pipe(Rr(this.handleError))}ReSentCode(){const i=new Al({"Content-Type":"application/json"}),n=JSON.stringify({email:w0(pg)});return this.http.post(`${this.apiUrl}/resend-reset-code`,n,{headers:i}).pipe(Rr(this.handleError))}verifyCode(i){const n=new Al({"Content-Type":"application/json"}),r=JSON.stringify({code:i,email:w0(pg)??""});return this.http.post(`${this.apiUrl}/verify/code`,r,{headers:n}).pipe(Rr(this.handleError))}resetPassword({password:i,password_confirmation:n}){const r=new Al({"Content-Type":"application/json"}),s=JSON.stringify({password:i,password_confirmation:n,email:w0(pg)??""});return this.http.post(`${this.apiUrl}/reset/password`,s,{headers:r}).pipe(Rr(this.handleError))}handleError(i){throw console.error("An error occurred",i),new Error(i)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const BMe=["*"];let HA;function vS(e){return function zMe(){if(void 0===HA&&(HA=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(HA=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return HA}()?.createHTML(e)||e}function yZ(e){return Error(`Unable to find icon with the name "${e}"`)}function bZ(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function _Z(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class jm{constructor(t,i,n){this.url=t,this.svgText=i,this.options=n}}let yS=(()=>{class e{constructor(i,n,r,s){this._httpClient=i,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(i,n,r){return this.addSvgIconInNamespace("",i,n,r)}addSvgIconLiteral(i,n,r){return this.addSvgIconLiteralInNamespace("",i,n,r)}addSvgIconInNamespace(i,n,r,s){return this._addSvgIconConfig(i,n,new jm(r,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,n,r,s){const o=this._sanitizer.sanitize(Uo.HTML,r);if(!o)throw _Z(r);const a=vS(o);return this._addSvgIconConfig(i,n,new jm("",a,s))}addSvgIconSet(i,n){return this.addSvgIconSetInNamespace("",i,n)}addSvgIconSetLiteral(i,n){return this.addSvgIconSetLiteralInNamespace("",i,n)}addSvgIconSetInNamespace(i,n,r){return this._addSvgIconSetConfig(i,new jm(n,null,r))}addSvgIconSetLiteralInNamespace(i,n,r){const s=this._sanitizer.sanitize(Uo.HTML,n);if(!s)throw _Z(n);const o=vS(s);return this._addSvgIconSetConfig(i,new jm("",o,r))}registerFontClassAlias(i,n=i){return this._fontCssClassesByAlias.set(i,n),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const n=this._sanitizer.sanitize(Uo.RESOURCE_URL,i);if(!n)throw bZ(i);const r=this._cachedIconsByUrl.get(n);return r?ie(jA(r)):this._loadSvgIconFromConfig(new jm(i,null)).pipe(er(s=>this._cachedIconsByUrl.set(n,s)),nt(s=>jA(s)))}getNamedSvgIcon(i,n=""){const r=CZ(n,i);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,i),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(i,o):Mm(yZ(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?ie(jA(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(nt(n=>jA(n)))}_getSvgFromIconSetConfigs(i,n){const r=this._extractIconWithNameFromAnySet(i,n);return r?ie(r):KY(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Rr(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Uo.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),ie(null)})))).pipe(nt(()=>{const o=this._extractIconWithNameFromAnySet(i,n);if(!o)throw yZ(i);return o}))}_extractIconWithNameFromAnySet(i,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,i,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(er(n=>i.svgText=n),nt(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?ie(null):this._fetchIcon(i).pipe(er(n=>i.svgText=n))}_extractSvgIconFromSet(i,n,r){const s=i.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(vS("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(i){const n=this._document.createElement("DIV");n.innerHTML=i;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(i){const n=this._svgElementFromString(vS("<svg></svg>")),r=i.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&n.setAttribute(o,a)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(i.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(i,n){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),n&&n.viewBox&&i.setAttribute("viewBox",n.viewBox),i}_fetchIcon(i){const{url:n,options:r}=i,s=r?.withCredentials??!1;if(!this._httpClient)throw function GMe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(Uo.RESOURCE_URL,n);if(!o)throw bZ(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(nt(c=>vS(c)),_u(()=>this._inProgressUrlFetches.delete(o)),de());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(i,n,r){return this._svgIconConfigs.set(CZ(i,n),r),this}_addSvgIconSetConfig(i,n){const r=this._iconSetConfigs.get(i);return r?r.push(n):this._iconSetConfigs.set(i,[n]),this}_svgElementFromConfig(i){if(!i.svgElement){const n=this._svgElementFromString(i.svgText);this._setSvgAttributes(n,i.options),i.svgElement=n}return i.svgElement}_getIconConfigFromResolvers(i,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,i);if(s)return jMe(s)?new jm(s.url,null,s.options):new jm(s,null)}}}return e.\u0275fac=function(i){return new(i||e)(ne(Ko,8),ne(VI),ne(fi,8),ne(jc))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function jA(e){return e.cloneNode(!0)}function CZ(e,t){return e+":"+t}function jMe(e){return!(!e.url||!e.options)}const UMe=MA(class{constructor(e){this._elementRef=e}}),WMe=new Me("MAT_ICON_DEFAULT_OPTIONS"),$Me=new Me("mat-icon-location",{providedIn:"root",factory:function YMe(){const e=ze(fi),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),wZ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],KMe=wZ.map(e=>`[${e}]`).join(", "),qMe=/^url\(['"]?#(.*?)['"]?\)$/;let Ci=(()=>{class e extends UMe{get inline(){return this._inline}set inline(i){this._inline=Ei(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const n=this._cleanupFontValue(i);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const n=this._cleanupFontValue(i);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(i,n,r,s,o,a){super(i),this._iconRegistry=n,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Rt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];const n=i.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let n=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=i.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>i.classList.remove(r)),n.forEach(r=>i.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${i}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(i){const n=i.querySelectorAll(KMe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)wZ.forEach(o=>{const a=n[s],l=a.getAttribute(o),c=l?l.match(qMe):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[n,r]=this._splitIconName(i);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Gr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(yS),Ed("aria-hidden"),R($Me),R(jc),R(WMe,8))},e.\u0275cmp=Be({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,n){2&i&&(gi("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),ei("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ht],ngContentSelectors:BMe,decls:1,vars:0,template:function(i,n){1&i&&(co(),Zi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),ZMe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[ns,ns]}),e})(),or=(()=>{class e{constructor(){this.size="sm",this.color=""}get loaderStyles(){return{"--loader-color":this.color||"#3e9c2b"}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-loading"]],inputs:{size:"size",color:"color"},decls:1,vars:1,consts:[[1,"loader","flex","justify-center","w-fit","mx-auto",3,"ngStyle"]],template:function(n,r){1&n&&Z(0,"div",0),2&n&&B("ngStyle",r.loaderStyles)},dependencies:[PI],styles:[".loader[_ngcontent-%COMP%]{width:50px;aspect-ratio:1;border-radius:50%;background:radial-gradient(farthest-side,var(--loader-color) 94%,#0000) top/8px 8px no-repeat,conic-gradient(#0000 30%,var(--loader-color));-webkit-mask:radial-gradient(farthest-side,#0000 calc(100% - 8px),#000 0);animation:_ngcontent-%COMP%_l13 1s infinite linear}@keyframes _ngcontent-%COMP%_l13{to{transform:rotate(1turn)}}"]})}}return e})();function QMe(e,t){if(1&e){const i=ct();w(0,"mat-icon",24),Q("click",function(){return Le(i),Ve(ae().togglePasswordVisibility())}),O(1," visibility "),S()}}function XMe(e,t){if(1&e){const i=ct();w(0,"mat-icon",24),Q("click",function(){return Le(i),Ve(ae().togglePasswordVisibility())}),O(1," visibility_off "),S()}}function JMe(e,t){1&e&&Z(0,"app-loading",25),2&e&&B("color","#eee")}function eEe(e,t){1&e&&(w(0,"span"),O(1,"Log in"),S())}let tEe=(()=>{class e{constructor(i,n,r){this.fb=i,this.authService=n,this.router=r,this.username="",this.password="",this.isLoading=!1,this._snackBar=ze(mr),this.errorMessage="you are bot",this.isPasswordVisible=!1,this.loginForm=this.fb.group({email:["",[kn.required,kn.email]],password:["",[kn.required,kn.minLength(6)]],remember_me:[!1,kn.required]})}forgotPassword(){this.router.navigate(["/auth/forget-password"])}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;const{email:i,password:n,remember_me:r}=this.loginForm.value;this.authService.login(i,n,r).subscribe({next:s=>{this.router.navigate(["/home"]),this.isLoading=!1},error:s=>{this.openSnackBar(s.error.message),this.errorMessage="Invalid email or password",this.isLoading=!1},complete:()=>{this.isLoading=!1}})}else console.log("Form is invalid")}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(mS),R(is))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-login"]],decls:31,vars:7,consts:[[1,"w-full","h-full","flex","justify-center","items-center"],[1,"w-[372px]"],[1,"text-2xl","mb-6","text-dd","text-center","tracking-normal","font-bold"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","username",1,"block","text-secondary-500","py-1","font-bold","text-sm"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","email","formControlName","email","type","email","name","email","required","","placeholder","Your Login Username",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["for","password",1,"block","text-secondary-500","py-1","font-bold","text-sm"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 13.121 14.996",1,"icon","left-2"],["id","Icon_awesome-lock","data-name","Icon awesome-lock","d","M11.715,6.561h-.7V4.452a4.452,4.452,0,0,0-8.9,0V6.561h-.7A1.406,1.406,0,0,0,0,7.966V13.59A1.406,1.406,0,0,0,1.406,15h10.31a1.406,1.406,0,0,0,1.406-1.406V7.966A1.406,1.406,0,0,0,11.715,6.561Zm-3.046,0H4.452V4.452a2.109,2.109,0,1,1,4.218,0Z","fill","#7f77d9"],["id","password","formControlName","password","name","password","required","","placeholder","Your Login Password",1,"block","text-xs","w-full","px-4","h-[56px]","rounded-lg","bg-[#F7F7FF]","border","border-secondary-500","focus:outline-none",3,"type"],["style","top: 46%","class","material-symbols-outlined icon right-3 cursor-pointer text-xl flex items-center text-secondary-400",3,"click",4,"ngIf"],[1,"remember"],["for","remember_me"],["type","checkbox","value","1","id","remember_me","formControlName","remember_me",1,"border-secondary-500"],[1,"text-[12px]",3,"click"],[1,"bg-primary-500","cursor-pointer","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-full","rounded-[28px]","my-4","inline-flex","justify-center","items-center",3,"disabled"],[3,"color",4,"ngIf"],[4,"ngIf"],[1,"absolute","-bottom-10","-z-10","left-0","w-full"],["src","/assets/loginLanding.svg","alt","",1,"w-full"],[1,"material-symbols-outlined","icon","right-3","cursor-pointer","text-xl","flex","items-center","text-secondary-400",2,"top","46%",3,"click"],[3,"color"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1),Z(2,"h1",2),w(3,"form",3),Q("ngSubmit",function(){return r.onSubmit()}),w(4,"div",4)(5,"label",5),O(6,"email:"),S(),w(7,"div",6),ki(),w(8,"svg",7),Z(9,"path",8),S(),Ji(),Z(10,"input",9),S()(),w(11,"div",4)(12,"label",10),O(13,"Password:"),S(),w(14,"div",6),ki(),w(15,"svg",11),Z(16,"path",12),S(),Ji(),Z(17,"input",13),te(18,QMe,2,0,"mat-icon",14),te(19,XMe,2,0,"mat-icon",14),S()(),w(20,"div",15)(21,"label",16),Z(22,"input",17),O(23," Remember me "),S(),w(24,"a",18),Q("click",function(){return r.forgotPassword()}),O(25,"Forgot password?"),S()(),w(26,"button",19),te(27,JMe,1,1,"app-loading",20),te(28,eEe,2,0,"span",21),S()()()(),w(29,"div",22),Z(30,"img",23),S()),2&n&&(T(3),B("formGroup",r.loginForm),T(14),B("type",r.isPasswordVisible?"text":"password"),T(1),B("ngIf",!r.isPasswordVisible),T(1),B("ngIf",r.isPasswordVisible),T(7),B("disabled",r.isLoading),T(1),B("ngIf",r.isLoading),T(1),B("ngIf",!r.isLoading))},dependencies:[ui,jn,yn,oL,Gn,Hn,Ml,Ci,Pn,fr,or],styles:[".custom-btn[_ngcontent-%COMP%]{background-color:#7ed957;font-size:18px;height:56px;padding:15px 145px 17px}.input-container[_ngcontent-%COMP%]{position:relative}.input-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:20px;height:20px;fill:#7f77d9}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:40px}.--unnamed-color-0a0c1c[_ngcontent-%COMP%]{color:#0a0c1c}[_ngcontent-%COMP%]::placeholder{color:#7f77d9;opacity:1}.remember[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;margin-top:8px;color:#7f77d9}.remember[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:2px solid transparent;color:#7f77d9}.remember[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000dff}"]})}}return e})();const yt={success:"success-toast",warning:"warning-toast",danger:"danger-toast"};let Hi=(()=>{class e{constructor(){this.showsToast$=new X(!1),this.toastMessage$=new X("Default Toast Message"),this.toastState$=new X(yt.success)}showToast(i,n){this.toastState$.next(i),this.toastMessage$.next(n),this.showsToast$.next(!0),setTimeout(()=>this.dismissToast(),3e3)}dismissToast(){this.showsToast$.next(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function iEe(e,t){1&e&&(w(0,"div",21),Z(1,"app-loading"),S())}function nEe(e,t){1&e&&(w(0,"span"),O(1,"Sent"),S())}function rEe(e,t){if(1&e&&(w(0,"div",22),O(1),S()),2&e){const i=ae();T(1),_t(" ",i.successMessage," ")}}function sEe(e,t){if(1&e&&(w(0,"div",23),O(1),S()),2&e){const i=ae();T(1),Et(i.errorMessage)}}let oEe=(()=>{class e{constructor(i,n,r,s){this.authService=i,this.router=n,this.toastService=r,this.fb=s,this.successMessage="",this.errorMessage="",this.isLoading=!1,this.formGroup=this.fb.group({email:["",[kn.required,kn.email]]})}showSuccessToast(){this.toastService.showToast(yt.danger,"Please enter a valid email")}onSubmit(){if(this.isLoading=!0,this.formGroup.valid){const i=this.formGroup.get("email")?.value;this.authService.sendPasswordResetEmail(i).subscribe({next:n=>{this.errorMessage="",GA(pg,i),GA("codeExpiration","120"),this.isLoading=!1,this.router.navigate(["/auth/verify-code"])},error:n=>{this.errorMessage="Error sending password reset email. Please try again.",this.successMessage="",this.isLoading=!1}})}else this.showSuccessToast(),this.isLoading=!1}cancel(){nN(pg),this.router.navigate(["auth/login"])}static{this.\u0275fac=function(n){return new(n||e)(R(mS),R(is),R(Hi),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-forget-password"]],decls:26,vars:5,consts:[[1,"w-full","h-full","justify-center","items-center","flex"],[1,"w-[372px]"],[1,"text-2xl","mb-6","text-dd","text-center","tracking-normal","font-bold"],[1,"text-[13px]","text-center","--text-500","mb-8"],[3,"formGroup","ngSubmit"],["forgotPasswordForm","ngForm"],[1,"mb-2"],["for","emailAddress",1,"block","text-secondary-500","py-1","font-bold","text-sm"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 42 33.6",1,"icon","left-2"],["id","Icon_material-email","data-name","Icon material-email","d","M40.8,6H7.2a4.194,4.194,0,0,0-4.179,4.2L3,35.4a4.212,4.212,0,0,0,4.2,4.2H40.8A4.212,4.212,0,0,0,45,35.4V10.2A4.212,4.212,0,0,0,40.8,6Zm0,8.4L24,24.9,7.2,14.4V10.2L24,20.7,40.8,10.2Z","transform","translate(-3 -6)","fill","#7F77D9"],["type","text","id","emailAddress","name","emailAddress","formControlName","email","required","","placeholder","Email address",1,"block","text-secondary-500","bg-[#F7F7FF]","text-xs","w-full","px-4","h-[56px]","input-container","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","justify-between"],["type","submit",1,"bg-[#7ED957]","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[174px]","rounded-[28px]","my-4"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"hover:bg-gray-400","text-[#7ED957]","flex","items-center","justify-center","font-bold","h-[56px]","w-[174px]","rounded-[28px]","border","border-[#7ED957]","my-4",3,"click"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"absolute","-bottom-10","-z-10","left-0","w-full"],["src","/assets/loginLanding.svg","alt","",1,"w-full"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"success-message"],[1,"error-message"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h1",2),O(3," Forget your password "),S(),w(4,"p",3),O(5," Please Enter The Email Address You Used To Register "),S(),w(6,"form",4,5),Q("ngSubmit",function(){return r.onSubmit()}),w(8,"div",6)(9,"label",7),O(10,"Email:"),S(),w(11,"div",8),ki(),w(12,"svg",9),Z(13,"path",10),S(),Ji(),Z(14,"input",11),S()(),w(15,"div",12)(16,"button",13),te(17,iEe,2,0,"div",14),te(18,nEe,2,0,"span",15),S(),w(19,"div",16),Q("click",function(){return r.cancel()}),w(20,"span"),O(21,"Cancel"),S()()()(),te(22,rEe,2,1,"div",17),te(23,sEe,2,1,"div",18),S()(),w(24,"div",19),Z(25,"img",20),S()),2&n&&(T(6),B("formGroup",r.formGroup),T(11),B("ngIf",r.isLoading),T(1),B("ngIf",!r.isLoading),T(4),B("ngIf",r.successMessage),T(1),B("ngIf",r.errorMessage))},dependencies:[ui,jn,yn,Gn,Hn,Ml,Pn,fr,or],styles:["[_ngcontent-%COMP%]::placeholder{color:#7f77d9;opacity:1}.input-container[_ngcontent-%COMP%]{position:relative}.input-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:20px;height:20px}.success-message[_ngcontent-%COMP%]{color:green;text-align:center;margin-top:10px}.error-message[_ngcontent-%COMP%]{color:red;text-align:center;margin-top:10px}"]})}}return e})(),aEe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-reset-password"]],decls:14,vars:0,consts:[[1,"w-[573px]","mx-auto","flex-col","justify-center","text-center"],[1,"text-2xl","mb-4","text-[--text-500]","text-center","tracking-normal","font-bold"],[1,"text-[20px]","text-left","--text-500","mb-8"],[1,"bg-[#7ED957]","hover:bg-gray-400","text-white","font-bold","h-[43px]","w-[164px]","rounded-[28px]","my-4"],[1,"text-[20px]","text-left","--text-500","mt-8"],[1,"text-[20px]","text-left","--text-500"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"h1",1),O(2,"Hello!"),S(),w(3,"p",2),O(4,"You are receiving this email because we received a password reset request for your account"),S(),w(5,"button",3)(6,"span"),O(7,"Reset password"),S()(),w(8,"p",4),O(9,"This password reset link will expire in 60 minutes. If you didn't request a password reset, no further action is required. "),S(),w(10,"p",4),O(11," Regards, "),S(),w(12,"p",5),O(13," Spark village. "),S()())}})}}return e})();function lEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",22),Q("click",function(){return Le(i),Ve(ae().togglePasswordVisibility())}),O(1," visibility "),S()}}function cEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",22),Q("click",function(){return Le(i),Ve(ae().togglePasswordVisibility())}),O(1," visibility_off "),S()}}function dEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",22),Q("click",function(){return Le(i),Ve(ae().togglePasswordConfirmationVisibility())}),O(1," visibility "),S()}}function uEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",22),Q("click",function(){return Le(i),Ve(ae().togglePasswordConfirmationVisibility())}),O(1," visibility_off "),S()}}function hEe(e,t){1&e&&(w(0,"div",23),Z(1,"app-loading"),S())}function pEe(e,t){1&e&&(w(0,"span"),O(1,"Sent"),S())}function gEe(e,t){if(1&e&&(w(0,"div",24),O(1),S()),2&e){const i=ae();T(1),_t(" ",i.successMessage," ")}}function fEe(e,t){if(1&e&&(w(0,"div",25),O(1),S()),2&e){const i=ae();T(1),Et(i.errorMessage)}}let mEe=(()=>{class e{constructor(i,n,r){this.authService=i,this.router=n,this.fb=r,this.successMessage="",this.errorMessage="",this.isLoading=!1,this.isPasswordVisible=!1,this.isPasswordConfirmationVisible=!1,this.FilterForm=this.fb.group({password:[""],password_confirmation:[""]})}resentCode(){this.authService.ReSentCode().subscribe({next:i=>{this.errorMessage=""},error:i=>{this.errorMessage="Error sending password reset email. Please try again.",this.successMessage=""}})}onSubmit(){this.isLoading=!0,this.FilterForm.valid&&this.FilterForm.get("password")?.value===this.FilterForm.get("password_confirmation")?.value&&this.authService.resetPassword({password:this.FilterForm.get("password")?.value??"",password_confirmation:this.FilterForm.get("password_confirmation")?.value}).subscribe({next:()=>{this.errorMessage="",this.isLoading=!1,nN(pg),this.router.navigate(["/auth/login"])},error:i=>{this.errorMessage="Error sending password reset email. Please try again.",this.successMessage="",this.isLoading=!1}})}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}togglePasswordConfirmationVisibility(){this.isPasswordConfirmationVisible=!this.isPasswordConfirmationVisible}cancel(){this.router.navigate(["auth/login"])}static{this.\u0275fac=function(n){return new(n||e)(R(mS),R(is),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-check-email"]],decls:36,vars:11,consts:[[1,"w-full","h-full","justify-center","items-center","flex"],[1,"w-[372px]"],[1,"text-2xl","mb-6","text-dd","text-center","tracking-normal","font-bold"],[1,"text-[13px]","text-center","--text-500","mb-8"],[3,"formGroup"],[1,"mb-2"],["for","emailAddress",1,"block","text-secondary-500","py-1","font-bold","text-sm"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 42 33.6",1,"icon","left-2"],["id","Icon_material-email","data-name","Icon material-email","d","M40.8,6H7.2a4.194,4.194,0,0,0-4.179,4.2L3,35.4a4.212,4.212,0,0,0,4.2,4.2H40.8A4.212,4.212,0,0,0,45,35.4V10.2A4.212,4.212,0,0,0,40.8,6Zm0,8.4L24,24.9,7.2,14.4V10.2L24,20.7,40.8,10.2Z","transform","translate(-3 -6)","fill","#7F77D9"],["id","password","name","password","formControlName","password","required","","placeholder","Enter Password",1,"block","text-secondary-500","bg-[#F7F7FF]","text-xs","w-full","px-4","h-[56px]","input-container","rounded-lg","border","border-secondary-500","focus:outline-none",3,"type"],["style","top: 46%","class","material-symbols-outlined icon right-3 cursor-pointer text-xl flex items-center text-secondary-400",3,"click",4,"ngIf"],["id","password_confirmation","name","password_confirmation","formControlName","password_confirmation","required","","placeholder","Enter Password Confirmation",1,"block","text-secondary-500","bg-[#F7F7FF]","text-xs","w-full","px-4","h-[56px]","input-container","rounded-lg","border","border-secondary-500","focus:outline-none",3,"type"],[1,"flex","justify-between"],["type","submit",1,"bg-[#7ED957]","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[174px]","rounded-[28px]","my-4",3,"click"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"hover:bg-gray-400","text-[#7ED957]","flex","items-center","justify-center","font-bold","h-[56px]","w-[174px]","rounded-[28px]","border","border-[#7ED957]","my-4",3,"click"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"absolute","-bottom-10","-z-10","left-0","w-full"],["src","/assets/loginLanding.svg","alt","",1,"w-full"],[1,"material-symbols-outlined","icon","right-3","cursor-pointer","text-xl","flex","items-center","text-secondary-400",2,"top","46%",3,"click"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"success-message"],[1,"error-message"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h1",2),O(3," Verify Email "),S(),w(4,"p",3),O(5," Please Enter The Code To Verify Email "),S(),w(6,"form",4)(7,"div",5)(8,"label",6),O(9,"Password:"),S(),w(10,"div",7),ki(),w(11,"svg",8),Z(12,"path",9),S(),Ji(),Z(13,"input",10),te(14,lEe,2,0,"mat-icon",11),te(15,cEe,2,0,"mat-icon",11),S()(),w(16,"div",5)(17,"label",6),O(18,"Password Confirmation:"),S(),w(19,"div",7),ki(),w(20,"svg",8),Z(21,"path",9),S(),Ji(),Z(22,"input",12),te(23,dEe,2,0,"mat-icon",11),te(24,uEe,2,0,"mat-icon",11),S()(),w(25,"div",13)(26,"button",14),Q("click",function(){return r.onSubmit()}),te(27,hEe,2,0,"div",15),te(28,pEe,2,0,"span",16),S(),w(29,"div",17),Q("click",function(){return r.cancel()}),w(30,"span"),O(31,"Cancel"),S()()()(),te(32,gEe,2,1,"div",18),te(33,fEe,2,1,"div",19),S()(),w(34,"div",20),Z(35,"img",21),S()),2&n&&(T(6),B("formGroup",r.FilterForm),T(7),B("type",r.isPasswordVisible?"text":"password"),T(1),B("ngIf",!r.isPasswordVisible),T(1),B("ngIf",r.isPasswordVisible),T(7),B("type",r.isPasswordConfirmationVisible?"text":"password"),T(1),B("ngIf",!r.isPasswordConfirmationVisible),T(1),B("ngIf",r.isPasswordConfirmationVisible),T(3),B("ngIf",r.isLoading),T(1),B("ngIf",!r.isLoading),T(4),B("ngIf",r.successMessage),T(1),B("ngIf",r.errorMessage))},dependencies:[ui,jn,yn,Gn,Hn,Ml,Ci,Pn,fr,or],styles:[".input-container[_ngcontent-%COMP%]{position:relative}.input-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:20px;height:20px;fill:#7f77d9}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:40px}.--unnamed-color-0a0c1c[_ngcontent-%COMP%]{color:#0a0c1c}[_ngcontent-%COMP%]::placeholder{color:#7f77d9;opacity:1}"]})}}return e})();function vEe(e,t){}class UA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let xZ=(()=>{class e extends RA{constructor(i,n,r,s,o,a,l,c){super(),this._elementRef=i,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{i.removeEventListener("blur",r),i.removeEventListener("mousedown",r),i.removeAttribute("tabindex")};i.addEventListener("blur",r),i.addEventListener("mousedown",r)})),i.focus(n)}_focusByCssSelector(i,n){let r=this._elementRef.nativeElement.querySelector(i);r&&this._forceFocus(r,n)}_trapFocus(){const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const i=this._config.restoreFocus;let n=null;if("string"==typeof i?n=this._document.querySelector(i):"boolean"==typeof i?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=Jx(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const i=this._elementRef.nativeElement,n=Jx();return i===n||i.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Jx())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(SA),R(fi,8),R(UA),R(xA),R(Mt),R(hS),R(Om))},e.\u0275cmp=Be({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,n){if(1&i&&Jn(Bm,7),2&i){let r;ii(r=ni())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,n){2&i&&gi("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[Ht],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,n){1&i&&te(0,vEe,0,0,"ng-template",0)},dependencies:[Bm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),e})();class sN{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new oe,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!So(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==i.closeOnOverlayDetachments&&this.close()})}close(t,i){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const SZ=new Me("DialogScrollStrategy"),yEe=new Me("DialogData"),bEe=new Me("DefaultDialogConfig"),CEe={provide:SZ,deps:[Il],useFactory:function _Ee(e){return()=>e.scrollStrategies.block()}};let wEe=0,DZ=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,n,r,s,o,a){this._overlay=i,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new oe,this._afterOpenedAtThisLevel=new oe,this._ariaHiddenElements=new Map,this.afterAllClosed=Qb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zs(void 0))),this._scrollStrategy=a}open(i,n){(n={...this._defaultOptions||new UA,...n}).id=n.id||"cdk-dialog-"+wEe++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),a=new sN(o,n),l=this._attachContainer(o,a,n);return a.containerInstance=l,this._attachDialogContent(i,a,l,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){oN(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){oN(this._openDialogsAtThisLevel,i=>{!1===i.config.closeOnDestroy&&this._removeOpenDialog(i,!1)}),oN(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){const n=new y0({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:UA,useValue:r},{provide:sN,useValue:n},{provide:hS,useValue:i}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,o.push(...r.container.providers(r))):a=xZ;const l=new Vm(a,r.viewContainerRef,ts.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return i.attach(l).instance}_attachDialogContent(i,n,r,s){if(i instanceof uc){const o=this._createInjector(s,n,r,void 0);let a={$implicit:s.data,dialogRef:n};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new lS(i,null,a,o))}else{const o=this._createInjector(s,n,r,this._injector),a=r.attachComponentPortal(new Vm(i,s.viewContainerRef,o,s.componentFactoryResolver));n.componentInstance=a.instance}}_createInjector(i,n,r,s){const o=i.injector||i.viewContainerRef?.injector,a=[{provide:yEe,useValue:i.data},{provide:sN,useValue:n}];return i.providers&&("function"==typeof i.providers?a.push(...i.providers(n,i,r)):a.push(...i.providers)),i.direction&&(!o||!o.get(ga,null,{optional:!0}))&&a.push({provide:ga,useValue:{value:i.direction,change:ie()}}),ts.create({parent:o||s,providers:a})}_removeOpenDialog(i,n){const r=this.openDialogs.indexOf(i);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const i=this._overlayContainer.getContainerElement();if(i.parentElement){const n=i.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==i&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return e.\u0275fac=function(i){return new(i||e)(ne(Il),ne(ts),ne(bEe,8),ne(e,12),ne(OA),ne(SZ))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();function oN(e,t){let i=e.length;for(;i--;)t(e[i])}let xEe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[DZ,CEe],imports:[b0,v0,yq,v0]}),e})();function SEe(e,t){}class bS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const aN="mdc-dialog--open",MZ="mdc-dialog--opening",EZ="mdc-dialog--closing";let EEe=(()=>{class e extends xZ{constructor(i,n,r,s,o,a,l,c){super(i,n,r,s,o,a,l,c),this._animationStateChanged=new pe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(SA),R(fi,8),R(bS),R(xA),R(Mt),R(hS),R(Om))},e.\u0275cmp=Be({type:e,selectors:[["ng-component"]],features:[Ht],decls:0,vars:0,template:function(i,n){},encapsulation:2}),e})();const IZ="--mat-dialog-transition-duration";function AZ(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?nS(e.substring(0,e.length-2)):e.endsWith("s")?1e3*nS(e.substring(0,e.length-1)):"0"===e?0:null}let IEe=(()=>{class e extends EEe{constructor(i,n,r,s,o,a,l,c,d){super(i,n,r,s,o,a,l,d),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?AZ(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?AZ(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(IZ,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(MZ,aN)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(aN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(aN),this._animationsEnabled?(this._hostElement.style.setProperty(IZ,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(EZ)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(MZ,EZ)}_waitForAnimationToComplete(i,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(i):i()})}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(SA),R(fi,8),R(bS),R(xA),R(Mt),R(hS),R(Hc,8),R(Om))},e.\u0275cmp=Be({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,n){2&i&&(dc("id",n._config.id),gi("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),ei("_mat-animation-noopable",!n._animationsEnabled))},features:[Ht],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,n){1&i&&(w(0,"div",0)(1,"div",1),te(2,SEe,0,0,"ng-template",2),S()())},dependencies:[Bm],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),e})();class Un{constructor(t,i,n){this._ref=t,this._containerInstance=n,this._afterOpened=new oe,this._beforeClosed=new oe,this._state=0,this.disableClose=i.disableClose,this.id=t.id,n._animationStateChanged.pipe(Tr(r=>"opened"===r.state),Gr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Tr(r=>"closed"===r.state),Gr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),$(this.backdropClick(),this.keydownEvents().pipe(Tr(r=>27===r.keyCode&&!this.disableClose&&!So(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function AEe(e,t,i){e._closeInteractionType=t,e.close(i)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Tr(i=>"closing"===i.state),Gr(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Wn=new Me("MatMdcDialogData"),TEe=new Me("mat-mdc-dialog-default-options"),TZ=new Me("mat-mdc-dialog-scroll-strategy"),kEe={provide:TZ,deps:[Il],useFactory:function REe(e){return()=>e.scrollStrategies.block()}};let PEe=0,FEe=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,n,r,s,o,a,l,c,d,u){this._overlay=i,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new oe,this._afterOpenedAtThisLevel=new oe,this._idPrefix="mat-dialog-",this.dialogConfigClass=bS,this.afterAllClosed=Qb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zs(void 0))),this._scrollStrategy=a,this._dialog=n.get(DZ)}open(i,n){let r;(n={...this._defaultOptions||new bS,...n}).id=n.id||`${this._idPrefix}${PEe++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(i,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:UA,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,a,l)=>(r=new this._dialogRefConstructor(o,n,l),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}}return e.\u0275fac=function(i){Rb()},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),jr=(()=>{class e extends FEe{constructor(i,n,r,s,o,a,l,c){super(i,n,s,a,l,o,Un,IEe,Wn,c),this._idPrefix="mat-mdc-dialog-"}}return e.\u0275fac=function(i){return new(i||e)(ne(Il),ne(ts),ne(Cx,8),ne(TEe,8),ne(TZ),ne(e,12),ne(OA),ne(Hc,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),Rl=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),e})(),kl=(()=>{class e{constructor(){this.align="start"}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,n){2&i&&ei("mat-mdc-dialog-actions-align-center","center"===n.align)("mat-mdc-dialog-actions-align-end","end"===n.align)},inputs:{align:"align"}}),e})(),OEe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[jr,kEe],imports:[xEe,b0,v0,ns,ns]}),e})(),gg=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllVolunteers({status:i,page:n,filter:r}){const s={"filter[status]":i,"filter[name]":r.name,"filter[location]":r.location,"filter[email]":r.email};return r.hoursF&&r.hoursT&&(s["filter[hours][0]"]=r.hoursF||"",s["filter[hours][1]"]=r.hoursT||""),this.apiService.get(`Account-Management/voulnteer/list?page=${n}`,s)}blockVolunteer({id:i}){return this.apiService.post(`Account-Management/block/${i}`,{})}acceptVolunteer({id:i}){return this.apiService.post(`Account-Management/accept/${i}`,{})}unblockVolunteer({id:i}){return this.apiService.post(`Account-Management/unblock/${i}`,{})}rejectVolunteer({id:i}){return this.apiService.post(`Account-Management/reject/${i}`,{})}getDetailsVolunteer({id:i}){return console.log("uu",i),this.apiService.get(`Account-Management/volunteer/details/${i}`,{"filter[name]":"","filter[location]":"","filter[email]":""}).pipe(er(n=>n))}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LEe=(()=>{class e{constructor(i,n,r){this.volunteerService=i,this.dialogRef=n,this.data=r,this._snackBar=ze(mr)}onConfirm(){this.dialogRef.close(!0)}onClose(){this.dialogRef.close()}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(gg),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-logout-dialog"]],decls:15,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-[470px]","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-xl","text-center","leading-snug","mb-12"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Logout Confirmation "),S(),w(8,"p",7),O(9," Are you sure you want to log out of your account? "),S()()(),w(10,"div",8)(11,"button",9),Q("click",function(){return r.onConfirm()}),O(12," Log me out "),S(),w(13,"button",10),Q("click",function(){return r.onClose()}),O(14,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:436px;height:101px;scale:1px!important;position:relative}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{width:436px;margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})();function NEe(e,t){if(1&e&&(w(0,"li",26),O(1),S()),2&e){const i=t.$implicit;B("routerLink",i.link),T(1),_t(" ",i.label," ")}}function VEe(e,t){if(1&e&&(w(0,"ul",24),te(1,NEe,2,2,"li",25),S()),2&e){const i=ae();B("@sidebarAnimation",void 0),T(1),B("ngForOf",i.subItems)}}function BEe(e,t){if(1&e&&(w(0,"li",26),O(1),S()),2&e){const i=t.$implicit;B("routerLink",i.link),T(1),_t(" ",i.label," ")}}function zEe(e,t){if(1&e&&(w(0,"ul",24),te(1,BEe,2,2,"li",25),S()),2&e){const i=ae();B("@sidebarAnimation",void 0),T(1),B("ngForOf",i.subItemsBadges)}}let GEe=(()=>{class e{constructor(i,n,r){this.router=i,this.dialog=n,this.toastService=r,this.isOpen=!1,this.isOpenBadges=!1,this.subItems=[{label:"Skills Management",link:"/control/skill"},{label:"Creatives Management",link:"/control/creative"},{label:"Interests Management",link:"/control/interest"},{label:"Tags Management",link:"/control/tags"}],this.subItemsBadges=[{label:"Badges Management",link:"/badges"},{label:"Assign Badge",link:"/assign-badge"}],this.checkIfOpen()}checkIfOpen(){const i=this.router.url;this.isOpen=this.subItems.some(n=>i.includes(n.link)),this.isOpenBadges=this.subItemsBadges.some(n=>i.includes(n.link))}toggleDropdown(i){this.isOpen=!this.isOpen}toggleDropdownBadges(i){this.isOpenBadges=!this.isOpenBadges}showSuccessToast(){this.toastService.showToast(yt.success,"Successfully logged out!")}openLogoutDialog(){this.dialog.open(LEe).afterClosed().subscribe(n=>{n&&(typeof window<"u"&&localStorage.removeItem("access_token"),this.router.navigate(["/login"]),console.log("Logged out and token removed"),this.showSuccessToast())})}static{this.\u0275fac=function(n){return new(n||e)(R(is),R(jr),R(Hi))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-sidebar"]],decls:39,vars:4,consts:[[1,"flex","flex-col","h-full","py-3","w-[270px]","text-white","justify-between"],[1,"flex","flex-col","gap-8","overflow-auto","side"],[1,"pt-7"],["src","/assets/icons/sPARK VELLAGE LOGO -v2.svg","alt",""],[1,"flex","flex-col","gap-9"],[1,"flex","flex-col","w-full","gap-1"],["routerLink","/home","routerLinkActive","active-sidebar",1,"ps-7","flex","items-center","gap-2","py-4","rounded-md","text-xl","cursor-pointer","hover:bg-white/20","transition-all"],["svgIcon","dashboard",1,"scale2"],["routerLink","/volunteer","routerLinkActive","active-sidebar",1,"ps-7","flex","items-center","gap-2","py-4","rounded-md","text-xl","cursor-pointer","hover:bg-white/20","transition-all"],["svgIcon","volunteer",1,"scale2"],["routerLink","/organization","routerLinkActive","active-sidebar",1,"ps-7","flex","items-center","gap-2","py-4","rounded-md","text-xl","cursor-pointer","hover:bg-white/20","transition-all"],["svgIcon","organization",1,"scale3"],["routerLink","/opportunity","routerLinkActive","active-sidebar",1,"ps-7","flex","items-center","gap-2","py-4","rounded-md","text-xl","cursor-pointer","hover:bg-white/20","transition-all"],["svgIcon","opportunity",1,"scale4"],["routerLink","/platform","routerLinkActive","active-sidebar",1,"ps-7","flex","items-center","gap-2","py-4","rounded-md","text-xl","cursor-pointer","hover:bg-white/20","transition-all"],["svgIcon","star",1,"scale2"],[1,"relative"],[1,"ps-7","flex","items-center","gap-2","py-4","rounded-md","text-xl","cursor-pointer","hover:bg-white/20","transition-all",3,"click"],["svgIcon","control-panel",1,"scale2"],["svgIcon","menu",1,"absolute","right-4","transition-transform","transform",3,"ngClass"],["class","left-0 mt-1 bg-primary-600 shadow overflow-hidden w-full text-white transition-all duration-300 ease-in-out",4,"ngIf"],[1,"scale2"],[1,"ps-7","flex","items-center","border-t","gap-2","py-4","rounded-md","text-xl","cursor-pointer","hover:bg-white/20","transition-all",3,"click"],["svgIcon","logout",1,"scale3"],[1,"left-0","mt-1","bg-primary-600","shadow","overflow-hidden","w-full","text-white","transition-all","duration-300","ease-in-out"],["class","py-2 pl-12 hover:bg-white/20 transition-colors cursor-pointer","routerLinkActive","active-sidebar",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active-sidebar",1,"py-2","pl-12","hover:bg-white/20","transition-colors","cursor-pointer",3,"routerLink"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"img",3),S(),w(4,"div",4)(5,"ul",5)(6,"li",6),Z(7,"mat-icon",7),O(8,"Dashboard "),S(),w(9,"li",8),Z(10,"mat-icon",9),O(11," Volunteers "),S(),w(12,"li",10),Z(13,"mat-icon",11),O(14,"Organizations "),S(),w(15,"li",12),Z(16,"mat-icon",13),O(17,"Opportunities "),S(),w(18,"li",14),Z(19,"mat-icon",15),O(20,"Platform Evaluation "),S(),w(21,"li",16)(22,"div",17),Q("click",function(){return r.toggleDropdown("controlPanel")}),Z(23,"mat-icon",18),w(24,"span"),O(25,"Control Panel"),S(),Z(26,"mat-icon",19),S(),te(27,VEe,2,2,"ul",20),S(),w(28,"li",16)(29,"div",17),Q("click",function(){return r.toggleDropdownBadges("")}),w(30,"mat-icon",21),O(31,"verified"),S(),w(32,"span"),O(33,"Badges"),S(),Z(34,"mat-icon",19),S(),te(35,zEe,2,2,"ul",20),S()()()(),w(36,"div",22),Q("click",function(){return r.openLogoutDialog()}),Z(37,"mat-icon",23),O(38,"logout "),S()()),2&n&&(T(26),B("ngClass",r.isOpen?"rotate-180":""),T(1),B("ngIf",r.isOpen),T(7),B("ngClass",r.isOpenBadges?"rotate-180":""),T(1),B("ngIf",r.isOpenBadges))},dependencies:[Ph,Dl,ui,rA,VY,Ci],styles:['.active-sidebar[_ngcontent-%COMP%]{position:relative;background-color:#fff3}.active-sidebar[_ngcontent-%COMP%]:before{content:"";transition:1s;background-color:#fff;width:7px;border-radius:2px;height:100%;top:0;position:absolute;left:3px}.icon-lpgo[_ngcontent-%COMP%]{width:200px;height:200px;padding:0;margin:0}'],data:{animation:[gc("sidebarAnimation",[ss(":enter",[Qi({height:0}),rs("300ms ease-in",Qi({height:"*"}))]),ss(":leave",[rs("300ms ease-out",Qi({height:0}))])])]}})}}return e})(),HEe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-dashboard-layout"]],decls:5,vars:0,consts:[[1,"flex","bg","bg-primary-500","h-dvh"],[1,"bg-white","rounded-l-[51px]","w-full"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div"),Z(2,"app-sidebar"),S(),w(3,"div",1),Z(4,"router-outlet"),S()())},dependencies:[s0,GEe],styles:[".my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}"]})}}return e})(),lN=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getUserData(){return this.apiService.get("admin/profile")}editName(i){const n={name:i};return console.log(`Attempting to update admin name  and name "${i}"`),this.apiService.put("admin/update/profile",n)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jEe=(()=>{class e{constructor(i,n,r,s,o){this.toastService=i,this.fb=n,this.adminService=r,this.dialogRef=s,this.data=o,this._snackBar=ze(mr),this.adminForm=this.fb.group({name:["",kn.required]})}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}editName(){if(this.adminForm.invalid)return void this._snackBar.open("skill name is required","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});const i=this.adminForm.get("name")?.value;this.adminService.editName(i).subscribe({next:n=>{this.showSuccessToast(n.message),this.dialogRef.close(!0)},error:n=>{this.showDangerToast(n.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Hr),R(lN),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-edit-admin-profile"]],decls:16,vars:1,consts:[[1,"w-[500px]"],[1,"pt-10","flex","justify-center","text-3xl","text-center","w-full","font-semibold","px-10"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name",1,"block","py-1","text-lg"],["id","name","formControlName","name","type","text","placeholder","Enter skill name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"text-[#36373B]","mb-4","text-sm"],[1,"flex","justify-center","items-center","gap-2"],["type","submit",1,"mt-8","w-[180px]","bg-primary-500","text-white","py-2","rounded-md"],["type","button",1,"mt-8","w-[180px]","border","border-primary-500","text-white","py-2","rounded-md",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Edit Admin Profile"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.editName()}),w(5,"div",4)(6,"label",5),O(7,"Admin Name:"),S(),Z(8,"input",6),S(),w(9,"p",7),O(10,"Note: For security reasons, please make sure to choose a strong password containing at least 8 characters, including uppercase and lowercase letters, numbers, and special characters."),S(),w(11,"div",8)(12,"button",9),O(13,"Save"),S(),w(14,"button",10),Q("click",function(){return r.onClose()}),O(15," Cancel "),S()()()()),2&n&&(T(4),B("formGroup",r.adminForm))},dependencies:[jn,yn,Gn,Hn,Pn,fr],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface[_ngcontent-%COMP%]{border-radius:24px}"]})}}return e})();function UEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",13),Q("click",function(){return Le(i),Ve(ae().togglePasswordVisibility())}),O(1," visibility "),S()}}function WEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",13),Q("click",function(){return Le(i),Ve(ae().togglePasswordVisibility())}),O(1," visibility_off "),S()}}function $Ee(e,t){if(1&e){const i=ct();w(0,"mat-icon",13),Q("click",function(){return Le(i),Ve(ae().togglePassword1Visibility())}),O(1," visibility "),S()}}function YEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",13),Q("click",function(){return Le(i),Ve(ae().togglePassword1Visibility())}),O(1," visibility_off "),S()}}function KEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",13),Q("click",function(){return Le(i),Ve(ae().togglePassword2Visibility())}),O(1," visibility "),S()}}function qEe(e,t){if(1&e){const i=ct();w(0,"mat-icon",13),Q("click",function(){return Le(i),Ve(ae().togglePassword2Visibility())}),O(1," visibility_off "),S()}}let ZEe=(()=>{class e{constructor(i,n,r,s,o){this.toastService=i,this.fb=n,this.apiService=r,this.http=s,this.snackBar=o,this.isPasswordVisible=!1,this.isPassword1Visible=!1,this.isPassword2Visible=!1,this.passwordForm=this.fb.group({old_password:["",kn.required],password:["",[kn.required,kn.minLength(8)]],password_confirmation:["",kn.required]},{validators:this.passwordsMatchValidator})}passwordsMatchValidator(i){const n=i.get("password")?.value,r=i.get("password_confirmation")?.value;return n===r?null:{passwordMismatch:!0}}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onSubmit(){if(this.passwordForm.invalid)return void this.snackBar.open("Please fill out all fields correctly.","Close",{duration:3e3});const{old_password:i,password:n,password_confirmation:r}=this.passwordForm.value;this.apiService.post("change/password",{old_password:i,password:n,password_confirmation:r}).subscribe({next:o=>{this.showSuccessToast(o.message),this.passwordForm.reset()},error:o=>{this.showDangerToast(o.error.message)}})}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}togglePassword1Visibility(){this.isPassword1Visible=!this.isPassword1Visible}togglePassword2Visibility(){this.isPassword2Visible=!this.isPassword2Visible}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Hr),R(Tl),R(Ko),R(mr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-change-password-admin"]],decls:25,vars:10,consts:[[1,"w-[500px]"],[1,"pt-10","flex","justify-center","text-3xl","text-center","w-full","font-semibold","px-10"],[1,"w-fit"],[1,"px-10","pb-10","pt-5",3,"formGroup","ngSubmit"],[1,"mb-2","relative"],["for","password",1,"block","py-1","text-lg"],["id","password","formControlName","password","placeholder","Enter your password",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none",3,"type"],["class","material-symbols-outlined icon absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-2xl text-secondary-400",3,"click",4,"ngIf"],["for","newPassword",1,"block","py-1","text-lg"],["id","newPassword","formControlName","password","placeholder","Enter new password",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none",3,"type"],["for","confirmNewPassword",1,"block","py-1","text-lg"],["id","confirmNewPassword","formControlName","password_confirmation","placeholder","Confirm new password",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none",3,"type"],["type","submit",1,"mt-8","w-full","h-[48px]","bg-primary-500","text-white","rounded-lg","hover:bg-primary-700"],[1,"material-symbols-outlined","icon","absolute","right-3","top-1/2","transform","-translate-y-1/2","cursor-pointer","text-2xl","text-secondary-400",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Change Password"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.onSubmit()}),w(5,"div",4)(6,"label",5),O(7,"Password:"),S(),Z(8,"input",6),te(9,UEe,2,0,"mat-icon",7),te(10,WEe,2,0,"mat-icon",7),S(),w(11,"div",4)(12,"label",8),O(13,"New Password:"),S(),Z(14,"input",9),te(15,$Ee,2,0,"mat-icon",7),te(16,YEe,2,0,"mat-icon",7),S(),w(17,"div",4)(18,"label",10),O(19,"Confirm New Password:"),S(),Z(20,"input",11),te(21,KEe,2,0,"mat-icon",7),te(22,qEe,2,0,"mat-icon",7),S(),w(23,"button",12),O(24," Change Password "),S()()()),2&n&&(T(4),B("formGroup",r.passwordForm),T(4),B("type",r.isPasswordVisible?"text":"password"),T(1),B("ngIf",!r.isPasswordVisible),T(1),B("ngIf",r.isPasswordVisible),T(4),B("type",r.isPassword1Visible?"text":"password"),T(1),B("ngIf",!r.isPassword1Visible),T(1),B("ngIf",r.isPassword1Visible),T(4),B("type",r.isPassword2Visible?"text":"password"),T(1),B("ngIf",!r.isPassword2Visible),T(1),B("ngIf",r.isPassword2Visible))},dependencies:[ui,jn,yn,Gn,Hn,Ci,Pn,fr],styles:[".icon[_ngcontent-%COMP%]{cursor:pointer;color:#728bb7}.input-container[_ngcontent-%COMP%]{position:relative}.material-symbols-outlined[_ngcontent-%COMP%]{position:absolute;right:20px;top:65%}"]})}}return e})();function QEe(e,t){if(1&e){const i=ct();w(0,"div",4)(1,"h2"),O(2,"Admin Profile"),S(),w(3,"button",5),Q("click",function(){return Le(i),Ve(ae().openEditName())}),Z(4,"mat-icon",6),S()()}}function XEe(e,t){if(1&e){const i=ct();w(0,"div",7)(1,"div",8)(2,"span",9),O(3,"User name:"),S(),w(4,"span",10),O(5),S()(),w(6,"div",8)(7,"a",11),Q("click",function(){return Le(i),Ve(ae().openChangePasswordAdmin())}),O(8,"Change Password"),S()()()}if(2&e){const i=ae();T(5),Et(i.userName)}}function JEe(e,t){1&e&&(w(0,"div",12),Z(1,"app-loading"),S())}let eIe=(()=>{class e{constructor(i,n){this.adminService=i,this.dialog=n,this.loading=!1,this.userName="",this.password=""}ngOnInit(){this.loading=!0,this.adminService.getUserData().subscribe({next:i=>{this.loading=!1,this.userName=i.data.name,this.loading=!1},error:i=>{console.error("Error fetching user data:",i)}})}openEditName(){this.dialog.open(jEe).afterClosed().subscribe(n=>{n&&this.adminService.getUserData()})}openChangePasswordAdmin(){this.dialog.open(ZEe).afterClosed().subscribe(n=>{n&&this.adminService.getUserData()})}static{this.\u0275fac=function(n){return new(n||e)(R(lN),R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-profile-admin-card"]],decls:4,vars:3,consts:[[1,"profile-card"],["class","profile-header",4,"ngIf"],["class","profile-details",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"profile-header"],[1,"edit-button",3,"click"],["svgIcon","profile-admin"],[1,"profile-details"],[1,"profile-row"],[1,"label"],[1,"value"],[1,"change-password-link",3,"click"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,QEe,5,0,"div",1),te(2,XEe,9,1,"div",2),te(3,JEe,2,0,"div",3),S()),2&n&&(T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",r.loading))},dependencies:[ui,Ci,or],styles:[".profile-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 20px #0000001a;padding:40px;max-width:350px;color:#333;position:relative;height:200px}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}.profile-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;margin:0}.edit-button[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;padding:5px}.edit-icon[_ngcontent-%COMP%]{font-size:20px;color:#666}.profile-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.profile-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-right:70px}.label[_ngcontent-%COMP%]{font-weight:500;color:#666}.value[_ngcontent-%COMP%]{font-weight:600;color:#333}.change-password-link[_ngcontent-%COMP%]{font-weight:600;color:#050608;text-decoration:none;cursor:pointer}.change-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return e})();var J=Pt(467),x0=Pt(742);(0,x0.registerVersion)("firebase","10.14.1","app");const sIe=new class rIe extends CA{}(class nIe extends _A{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}schedule(t,i=0){return i>0?super.schedule(t,i):(this.delay=i,this.state=t,this.scheduler.flush(this),this)}execute(t,i){return i>0||this.closed?super.execute(t,i):this._execute(t,i)}requestAsyncId(t,i,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(t,i,n):(t.flush(this),0)}}),WA=new eg("ANGULARFIRE2_VERSION");class kZ{constructor(){return((e,t)=>{const i=(0,x0.getApps)(),n=[];return i.forEach(r=>{r.container.getProvider(e).instances.forEach(o=>{n.includes(o)||n.push(o)})}),n})(aIe)}}const aIe="app-check";function S0(){}class PZ{zone;delegate;constructor(t,i=sIe){this.zone=t,this.delegate=i}now(){return this.delegate.now()}schedule(t,i,n){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},i,n)}}class lIe{zone;task=null;constructor(t){this.zone=t}call(t,i){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S0,{},S0,S0)),i.pipe(er({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cN=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new PZ(Zone.current)),this.insideAngular=i.run(()=>new PZ(Zone.current,Fm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||e)(ne(Mt))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fc(e){return function dIe(e){return function(i){return(i=i.lift(new lIe(e.ngZone))).pipe(vn(e.outsideAngular),hr(e.insideAngular))}}(function D0(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}())(e)}var Hh=Pt(345);Hh.A.registerVersion("firebase","10.14.1","app-compat");const gIe=["ngOnDestroy"],FZ=(e,t,i,n={})=>new Proxy(e,{get:(r,s)=>i.runOutsideAngular(()=>{if(e[s])return n?.spy?.get&&n.spy.get(s,e[s]),e[s];if(gIe.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>i.run(()=>c)):i.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{const u=d?.(...c);return n?.spy?.apply&&n.spy.apply(s,c,u),u})})})});class LZ{constructor(t){return t}}const _S=new Me("angularfire2.app.options"),CS=new Me("angularfire2.app.name");function $A(e,t,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const o=Hh.A.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Hh.A.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(o.options)){const a=!!module.hot;fIe("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new LZ(o)}const fIe=(e,...t)=>{},mIe={provide:LZ,useFactory:$A,deps:[_S,Mt,[new _l,CS]]};let vIe=(()=>{class e{static initializeApp(i,n){return{ngModule:e,providers:[{provide:_S,useValue:i},{provide:CS,useValue:n}]}}constructor(i){Hh.A.registerVersion("angularfire",WA.full,"core"),Hh.A.registerVersion("angularfire",WA.full,"app-compat"),Hh.A.registerVersion("angular",B7.full,i.toString())}static \u0275fac=function(n){return new(n||e)(ne(Gc))};static \u0275mod=Mi({type:e});static \u0275inj=pi({providers:[mIe]})}return e})();function dN(e,t,i,n,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(s)return function yIe(e,t){try{return e.toString()===t.toString()}catch{return e===t}}(r,o)||(NZ("error",`${t} was already initialized on the ${i} Firebase App with different settings.${bIe?" You may need to reload as Firebase is not HMR aware.":""}`),NZ("warn",{is:r,was:o})),s;{const a=n();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}const bIe=typeof module<"u"&&!!module.hot,NZ=(e,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];var _Ie=Pt(555);class CIe extends oe{constructor(t=1/0,i=1/0,n=IL){super(),this._bufferSize=t,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,i)}next(t){const{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;i||(n.push(t),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=n?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),i}_trimBuffer(){const{_bufferSize:t,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const o=i.now();let a=0;for(let l=1;l<n.length&&n[l]<=o;l+=2)a=l;a&&n.splice(0,a+1)}}}function uN(e,t,i){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:i}=e):n=e??1/0,de({connector:()=>new CIe(n,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function YA(e,t){return j(t)?Ze(()=>e,t):Ze(()=>e)}const xIe=new Me("angularfire2.messaging.vapid-key"),SIe=new Me("angularfire2.messaging.service-worker-registeration");let hN=(()=>{class e{requestPermission;getToken;tokenChanges;messages;requestToken;deleteToken;constructor(i,n,r,s,o,a,l){const c=l,d=ie(void 0).pipe(vn(o.outsideAngular),hr(o.insideAngular),Ze(_Ie.TT),Ze(g=>g?Pt.e(321).then(Pt.bind(Pt,321)):Bn),nt(()=>$A(i,s,n)),Ze(g=>dN(`${g.name}.messaging`,"AngularFireMessaging",g.name,()=>ie(g.messaging()),[])),uN({bufferSize:1,refCount:!1}));this.requestPermission=d.pipe(vn(o.outsideAngular),hr(o.insideAngular),Ze(()=>Notification.requestPermission())),this.getToken=d.pipe(vn(o.outsideAngular),hr(o.insideAngular),Ze(function(){var g=(0,J.A)(function*(m){if("granted"===Notification.permission){const y=c?yield c:null;return yield m.getToken({vapidKey:a,serviceWorkerRegistration:y})}return null});return function(m){return g.apply(this,arguments)}}()));const u=new Qt(g=>{navigator.permissions.query({name:"notifications"}).then(m=>{m.onchange=()=>g.next()})}),h=d.pipe(vn(o.outsideAngular),hr(o.insideAngular),YA(u),YA(this.getToken));return this.tokenChanges=d.pipe(vn(o.outsideAngular),hr(o.insideAngular),Ze(()=>Zb(this.getToken,h))),this.messages=d.pipe(vn(o.outsideAngular),hr(o.insideAngular),Ze(g=>new Qt(m=>g.onMessage(m)))),this.requestToken=d.pipe(vn(o.outsideAngular),hr(o.insideAngular),Ze(()=>this.requestPermission),Rr(()=>ie(null)),Qn(()=>this.tokenChanges)),this.deleteToken=()=>d.pipe(vn(o.outsideAngular),hr(o.insideAngular),Ze(g=>g.deleteToken()),Ex(!1)),FZ(this,d,s)}static \u0275fac=function(n){return new(n||e)(ne(_S),ne(CS,8),ne(Gc),ne(Mt),ne(cN),ne(xIe,8),ne(SIe,8))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),DIe=(()=>{class e{constructor(){Hh.A.registerVersion("angularfire",WA.full,"fcm-compat")}static \u0275fac=function(n){return new(n||e)};static \u0275mod=Mi({type:e});static \u0275inj=pi({providers:[hN]})}return e})(),VZ=(()=>{class e{constructor(i,n){this.angularFireMessaging=i,this.apiService=n,this.currentMessage=new X(null),this.angularFireMessaging.messages.subscribe(r=>{this.currentMessage.next(r)})}requestPermission(){this.angularFireMessaging.requestToken.subscribe({next:i=>{i&&(console.log(i),this.sendTokenToServer(i))},error:i=>{}})}sendTokenToServer(i){this.apiService.post("fcm-token",{fcm_token:i}).subscribe({next:n=>{},error:n=>{console.error("Error sending token to server:",n)}})}deleteToken(i){return this.angularFireMessaging.deleteToken(i)}getNotifications({page:i,unread:n=1}){return this.apiService.get(`notifications?unread=${n}${i?"&page="+i:""}`,{})}makeAsRead(i){return this.apiService.get(`notifications/read/${i}`,{})}makeAllAsRead(){return this.apiService.get("notifications/read-all",{})}static{this.\u0275fac=function(n){return new(n||e)(ne(hN),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Pl=(()=>{class e{constructor(){this.title="",this.subtitle="",this.withoutBold=!1}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-main-header-dashboard"]],inputs:{title:"title",subtitle:"subtitle",withoutBold:"withoutBold"},decls:5,vars:4,consts:[[1,"flex","w-full","justify-between"],[1,"text-2xl","capitalize"],[1,"text-textcolor-400","text-sm","hover:underline","cursor-pointer","transition-all"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"h3",1),O(2),S(),w(3,"p",2),O(4),S()()),2&n&&(T(1),mu("font-weight",r.withoutBold?400:600),T(1),_t(" ",r.title," "),T(2),_t(" ",r.subtitle," "))},encapsulation:2})}}return e})(),MIe=(()=>{class e{constructor(i,n){this.notificationServer=i,this.router=n,this.message=null}makeAsRead(){this.message?.id?this.notificationServer.makeAsRead(this.message.id).subscribe({next:i=>{this.getNotifications()},error:i=>{}}):console.warn("No ID provided to mark notification as read.")}static{this.\u0275fac=function(n){return new(n||e)(R(VZ),R(is))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-notification-card"]],inputs:{message:"message",getNotifications:"getNotifications"},decls:20,vars:16,consts:[[1,"flex","w-full","cursor-pointer","hover:bg-black/5","p-3","rounded-lg","transition-all",3,"click"],[1,"image","w-9","h-9","bg-slate-200","border-blue-400","rounded-md","overflow-hidden"],[1,"w-full","ml-2"],[1,""],[1,"flex","justify-between","w-full"],[1,"text-xs","text-textcolor-400","flex","justify-between","items-end","w-full","gap-2"],[1,"whitespace-nowrap"]],template:function(n,r){1&n&&(w(0,"div",0),Q("click",function(){return r.makeAsRead()}),Z(1,"div",1),w(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),O(6),Va(7,"slice"),w(8,"span"),O(9),S()()(),w(10,"div",5)(11,"p",3),O(12),Va(13,"slice"),w(14,"span")(15,"span"),O(16),S()()(),w(17,"p",6),O(18),Va(19,"date"),S()()()()()),2&n&&(T(6),_t(" ",FO(7,5,null==r.message?null:r.message.title,0,25)," "),T(3),Et(r.message&&r.message.title.length>24?"...":""),T(3),_t(" ",FO(13,9,null==r.message?null:r.message.body,0,55)," "),T(4),Et(r.message&&r.message.body.length>55?"...":""),T(2),_t(" ",function R9(e,t,i,n){const r=e+Gi,s=Ge(),o=cu(s,r);return vx(s,r)?E9(s,wo(),t,o.transform,i,n,o):o.transform(i,n)}(19,13,null==r.message?null:r.message.created_at,"dd-MM-yyyy")," "))},dependencies:[p$,x3]})}}return e})();function EIe(e,t){if(1&e&&(w(0,"div"),Z(1,"app-notification-card",10),S()),2&e){const i=t.$implicit,n=ae(3);T(1),B("getNotifications",n.getNotifications.bind(n))("message",i)}}function IIe(e,t){if(1&e&&(w(0,"div"),te(1,EIe,2,2,"div",9),S()),2&e){const i=ae(2);T(1),B("ngForOf",i.oldMessages)}}function AIe(e,t){1&e&&(w(0,"div",11),Z(1,"app-loading"),S())}function TIe(e,t){if(1&e){const i=ct();w(0,"div",2)(1,"div",3),Z(2,"app-main-header-dashboard",4),w(3,"p",5),Q("click",function(){return Le(i),Ve(ae().makeAllAsRead())}),O(4," make all as read "),S()(),w(5,"div",6),te(6,IIe,2,1,"div",7),te(7,AIe,2,0,"div",8),S()()}if(2&e){const i=ae();B("@fadeAnimation",void 0),T(6),B("ngIf",!i.isLoading),T(1),B("ngIf",i.isLoading)}}function RIe(e,t){if(1&e){const i=ct();w(0,"div",12),Q("click",function(){return Le(i),Ve(ae().close())}),S()}}let kIe=(()=>{class e{constructor(i){this.notificationsService=i,this.open=!1,this._snackBar=ze(mr),this.oldMessages=[],this.isLoading=!1}ngOnChanges(i){this.getNotifications()}ngOnInit(){this.enableNotifications(),this.isLoading=!0,this.getNotifications(),this.notificationsService.currentMessage.subscribe({next:i=>{i&&(console.log(i),this.message=i,this.openSnackBar(i.notification.body))},error:i=>{console.error("Error receiving message:",i)}})}getNotifications(){this.notificationsService.getNotifications({}).subscribe({next:i=>{this.oldMessages=i.data.notifications},error:i=>{console.error("Error fetching notifications:",i),this.openSnackBar("Failed to load notifications.")},complete:()=>{this.isLoading=!1}})}enableNotifications(){this.notificationsService.requestPermission()}close(){this.open=!1}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}makeAllAsRead(){this.oldMessages.length>0?this.notificationsService.makeAllAsRead().subscribe({next:i=>{this.getNotifications()},error:i=>{}}):console.warn("No ID provided to mark notification as read.")}static{this.\u0275fac=function(n){return new(n||e)(R(VZ))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-notifications"]],inputs:{open:"open"},features:[Xn],decls:2,vars:2,consts:[["class","max-h-[500px] z-50 bg-white absolute right-0 top-[100%] px-6 pt-6 shadow-custom rounded-2xl min-w-[375px] overflow-auto notifications",4,"ngIf"],["class","w-screen h-screen z-[30] top-0 left-0 fixed",3,"click",4,"ngIf"],[1,"max-h-[500px]","z-50","bg-white","absolute","right-0","top-[100%]","px-6","pt-6","shadow-custom","rounded-2xl","min-w-[375px]","overflow-auto","notifications"],[1,"flex","w-full","justify-between","items-center","whitespace-nowrap","px-4"],["title","Notification"],[1,"text-secondary-500","text-sm","cursor-pointer","hover:underline",3,"click"],[1,"flex","flex-col","gap-1","w-full","overflow-auto","h-full","pb-6","mt-3"],[4,"ngIf"],["class","w-full justify-center",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"getNotifications","message"],[1,"w-full","justify-center"],[1,"w-screen","h-screen","z-[30]","top-0","left-0","fixed",3,"click"]],template:function(n,r){1&n&&(te(0,TIe,8,3,"div",0),te(1,RIe,1,0,"div",1)),2&n&&(B("ngIf",r.open),T(1),B("ngIf",r.open))},dependencies:[Dl,ui,Pl,or,MIe],data:{animation:[gc("fadeAnimation",[ss(":enter",[Qi({opacity:0}),rs("500ms ease-in",Qi({opacity:1}))]),ss(":leave",[rs("500ms ease-out",Qi({opacity:0}))])])]}})}}return e})(),jh=(()=>{class e{targetOpenNotifications(){this.openNotifications=!this.openNotifications}openProfile(){const i=new bS;i.position={top:"100px",right:"20px"},i.width="350px",i.height="200px",i.autoFocus=!1,i.panelClass="custom-dialog-container",this.dialog.open(eIe,i)}constructor(i,n,r){this.router=i,this.adminService=n,this.dialog=r,this.imgUrl="",this.locations=["New York","Los Angeles","Chicago","Houston","Miami"],this.withFilter=!0,this.openNotifications=!1,this.selectedLocation="",this.currentDate=new Date,this.title="Default Title"}ngOnInit(){this.adminService.getUserData().subscribe({next:i=>{this.imgUrl=i.data.image},error:i=>{console.error("Error fetching user data:",i)}}),("/home"===this.router.url||"/platform"==this.router.url||"/control/skill"==this.router.url||"/control/creative"==this.router.url||"/control/interest"==this.router.url||"/control/tags"==this.router.url||"/privacy"==this.router.url)&&(this.withFilter=!1)}static{this.\u0275fac=function(n){return new(n||e)(R(is),R(lN),R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-navbar"]],inputs:{title:"title"},decls:18,vars:6,consts:[[1,"flex","justify-between","rounded-l-[51px]","pt-10","m-0","items-center","bg-white"],[1,"flex","flex-col","pl-[74px]","pt-4"],[1,"text-2xl","capitalize","text-gray-800","pb-2","font-bold"],[1,"text-[#BABCC4]","text-sm"],[1,"flex","items-center","pr-8"],[1,"flex","items-center","relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","pt-0.5","m-3","absolute","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","name","search","id","search","placeholder","Search...",1,"ml-2","pl-8","outline-none","border","rounded-[20px]","bg-transparent-400","w-[430px]","h-10"],[1,"flex","items-center","space-x-6"],[1,"relative",3,"click"],[3,"open"],["svgIcon","notifecation",1,"ml-5","hover:animate-notification","cursor-pointer"],["alt","","loading","lazy",1,"rounded-full",2,"height","32px","width","32px",3,"src"]],template:function(n,r){1&n&&(w(0,"nav",0)(1,"div",1)(2,"h1",2),O(3),S(),w(4,"p",3),O(5),Va(6,"date"),S()(),w(7,"div",4)(8,"div",5),ki(),w(9,"svg",6),Z(10,"path",7),S(),Ji(),Z(11,"input",8),S(),w(12,"ul",9)(13,"li",10),Q("click",function(){return r.targetOpenNotifications()}),Z(14,"app-notifications",11)(15,"mat-icon",12),S(),w(16,"li",10),Q("click",function(){return r.openProfile()}),Z(17,"img",13),S()()()()),2&n&&(T(3),_t(" ",r.title," "),T(2),Et($c(6,4,r.currentDate)),T(9),B("open",r.openNotifications),T(3),B("src",r.imgUrl,Sh))},dependencies:[Ci,kIe,x3]})}}return e})(),KA=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getOverallStatisticsData(){return this.apiService.get("statistics/overall")}getMostActiveVolunteersData(){return this.apiService.get("statistics/most/active/volunteers")}getVolunteerActive(i){return this.apiService.get("statistics/volunteer/activity",i)}getVolunteerHours(i){return this.apiService.get("statistics/volunteer/hours"+(i?.npo?"?npo="+i.npo:""),{start_date:i.start_date,end_date:i.end_date})}getMostActiveNPO(){return this.apiService.get("statistics/most/active/npos")}getOpportunityCreation(i){return this.apiService.get("statistics/opportunity/creation"+(i?.npo?"?npo="+i.npo:""),{start_date:i.start_date,end_date:i.end_date})}getTopOpportunities(){return this.apiService.get("statistics/top/10/opportunitites")}getOpportunitiesSuttas(){return this.apiService.get("statistics/opportunities/status")}getOpportunitiesInterest(){return this.apiService.get("statistics/opportunities/interest")}getNPOsList(){return this.apiService.get("statistics/npos")}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),PIe=(()=>{class e{constructor(){this.bgColor="",this.number=0,this.title="",this.src=""}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-overall-statistics-card"]],inputs:{bgColor:"bgColor",number:"number",title:"title",src:"src"},decls:8,vars:7,consts:[[1,"card-dashboard","min-w-[218px]",2,"min-height","auto !important"],["alt","",3,"src"],[1,"number"],[1,"text-2xl"],[1,"text-textcolor-400","text-xs"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div"),Z(2,"img",1),S(),w(3,"div",2)(4,"p",3),O(5),S(),w(6,"p",4),O(7),S()()()),2&n&&(T(1),function bU(e){Td(ome,yu,e,!0)}("icon  w-[48px] h-[48px] rounded-full"),mu("background-color",r.bgColor),T(1),B("src",r.src,Sh),T(3),Et(r.number),T(2),Et(r.title))},encapsulation:2})}}return e})(),FIe=(()=>{class e{constructor(i){this.dashboardService=i,this.opportunitiesData=null,this.loading=!0}ngOnInit(){this.fetchOpportunitiesData()}fetchOpportunitiesData(){this.dashboardService.getOverallStatisticsData().subscribe(i=>{this.opportunitiesData=i.data,this.loading=!1})}static{this.\u0275fac=function(n){return new(n||e)(R(KA))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-overall-statistics-section"]],decls:6,vars:5,consts:[[1,"mt-4","flex","flex-wrap","gap-6","w-full"],["title","Active opportunities","bgColor","#FEE9C5","src","/assets/dashboard-svgs/active-opportunities.svg",3,"number"],["title","Total Volunteers","bgColor","#E8E6FD","src","/assets/dashboard-svgs/total-volunteers.svg",3,"number"],["title","Total Opportunities","bgColor","#E2F4FE","src","/assets/dashboard-svgs/total-organizations.svg",3,"number"],["title","Hours volunteered","bgColor","#EFFDDE","src","/assets/dashboard-svgs/hours-volunteered.svg",3,"number"],["title","Total NPO","bgColor","#E2F4FE","src","/assets/dashboard-svgs/total-organizations.svg",3,"number"]],template:function(n,r){if(1&n&&(w(0,"div",0),Z(1,"app-overall-statistics-card",1)(2,"app-overall-statistics-card",2)(3,"app-overall-statistics-card",3)(4,"app-overall-statistics-card",4)(5,"app-overall-statistics-card",5),S()),2&n){let s,o,a,l,c;T(1),B("number",null!==(s=null==r.opportunitiesData?null:r.opportunitiesData.active_opportunities)&&void 0!==s?s:0),T(1),B("number",null!==(o=null==r.opportunitiesData?null:r.opportunitiesData.total_volunteers)&&void 0!==o?o:0),T(1),B("number",null!==(a=null==r.opportunitiesData?null:r.opportunitiesData.total_opportunities)&&void 0!==a?a:0),T(1),B("number",null!==(l=null==r.opportunitiesData?null:r.opportunitiesData.hours_volunteered)&&void 0!==l?l:0),T(1),B("number",null!==(c=null==r.opportunitiesData?null:r.opportunitiesData.total_npo)&&void 0!==c?c:0)}},dependencies:[PIe]})}}return e})();var M0=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let r=n.get(e);return!r&&i&&(r=new Set,n.set(e,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const n=this.getListeners(e,i,!1);n&&(n.delete(t),0===n.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const r=this.getListeners(i,t,!1)??new Set,s=new Set(r);s.size>0&&((a,l)=>{a.forEach(c=>{if(!l.has(c))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(d):d()})})(s,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},BZ=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(BZ||{}),zZ={};function pN(e,t){zZ[t]||(e(),zZ[t]=!0)}function qc(e,...t){console.log("AG Grid: "+e,...t)}function Re(e,...t){pN(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function ji(e,...t){pN(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}function gN(e){return!!(e&&e.constructor&&e.call&&e.apply)}var fN=[],mN=!1;function GZ(e){fN.push(e),!mN&&(mN=!0,window.setTimeout(()=>{const t=fN.slice();fN.length=0,mN=!1,t.forEach(i=>i())},0))}function Ha(e,t){let i;return function(...n){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,n)},t)}}function HZ(e,t){let i=0;return function(...n){const s=(new Date).getTime();s-i<t||(i=s,e.apply(this,n))}}function Uh(e){return null==e||""===e?null:e}function Ye(e,t=!1){return null!=e&&(""!==e||t)}function Ui(e){return!Ye(e)}function Fl(e){return null==e||0===e.length}function vN(e){return null!=e&&"function"==typeof e.toString?e.toString():null}function Wm(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function yN(e){if(void 0!==e)return null!==e&&""!==e&&bN(e)}function bN(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)}function wS(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function BIe(e,t,i=!1){const n=null==e,r=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&r)return 0;if(n)return-1;if(r)return 1;function s(o,a){return o>a?1:o<a?-1:0}if("string"!=typeof e||!i)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}function qA(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function jZ(e,t){return e.get("rowModelType")===t}function os(e){return jZ(e,"clientSide")}function Wh(e){return jZ(e,"serverSide")}function qo(e,t){return e.get("domLayout")===t}function ZA(e){return void 0!==tT(e)}function QA(e){return!e.get("suppressAsyncEvents")}function UZ(e){return"function"==typeof e.get("getRowHeight")}function fg(e,t,i=!1,n){if(null==n&&(n=e.environment.getDefaultRowHeight()),UZ(e)){if(i)return{height:n,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(_N(a))return 0===a&&Re("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return function GIe(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return _N(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}(e);const r=e.get("rowHeight");return{height:r&&_N(r)?r:n,estimated:!1}}function $m(e){const{environment:t}=e,i=e.get("rowHeight");if(!i||Ui(i))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return-1!==n?n:(Re("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function _N(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)}function xS(e,t,i){const n=t[e.getDomDataKey()];return n?n[i]:void 0}function Ym(e,t,i,n){const r=e.getDomDataKey();let s=t[r];Ui(s)&&(s={},t[r]=s),s[i]=n}function Vs(e){let t=null;const i=e.get("getDocument");return i&&Ye(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&Ye(t)?t:document}function WZ(e){return Vs(e).defaultView||window}function SS(e){return e.eGridDiv.getRootNode()}function Ur(e){return SS(e).activeElement}function $Z(e){const t=Vs(e),i=Ur(e);return null===i||i===t.body}function E0(e){return!e.get("ensureDomOrder")&&e.get("animateRows")}function XA(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||qo(e,"print"))}function Mu(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function CN(e){const t=e.get("groupAggFiltering");return"function"==typeof t?e.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}function YZ(e){return e.get("grandTotalRow")||(e.get("groupIncludeTotalFooter")?"bottom":void 0)}function KZ(e){const t=e.get("groupTotalRow");if("function"==typeof t)return e.getCallback("groupTotalRow");if(t)return()=>t;const i=e.get("groupIncludeFooter");if("function"==typeof i){const n=e.getCallback("groupIncludeFooter");return r=>n(r)?"bottom":void 0}return()=>i?"bottom":void 0}function qZ(e){return e.exists("groupDisplayType")?"multipleColumns"===e.get("groupDisplayType"):e.get("groupHideOpenParents")}function JA(e,t){return!t&&"groupRows"===e.get("groupDisplayType")}function I0(e){const t=e.getCallback("getRowId");return void 0===t?t:i=>{let n=t(i);return"string"!=typeof n&&(Re("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function A0(e){return e?.checkboxes??!0}function eT(e){return"multiRow"===e?.mode&&(e.headerCheckbox??!0)}function Eu(e){const t=e.get("cellSelection");return void 0!==t?!!t:e.get("enableRangeSelection")}function ZZ(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&"fill"===t.handle?.mode:e.get("enableFillHandle")}function QZ(e){const t=e.get("rowSelection")??"single";if("string"==typeof t){const i=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return(!i||!n)&&(i?"enableDeselection":!n||"enableSelection")}return("singleRow"===t.mode||"multiRow"===t.mode)&&(t.enableClickSelection??!1)}function wN(e){const t=QZ(e);return!0===t||"enableDeselection"===t}function xN(e){const t=e.get("rowSelection");return"string"==typeof t?e.get("isRowSelectable"):t?.isRowSelectable}function tT(e){const t=e.get("rowSelection");if("string"==typeof t)switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t?.mode}function SN(e){return"multiRow"===tT(e)}function DN(e){const t=e.get("rowSelection");if("string"==typeof t){const i=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return i&&n?"filteredDescendants":i?"descendants":"self"}return"multiRow"===t?.mode?t.groupSelects:void 0}function Km(e){const t=DN(e);return"descendants"===t||"filteredDescendants"===t}function MN(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Wi(e){if(e&&e.length)return e[e.length-1]}function $h(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((n,r)=>i?i(n,t[r]):t[r]===n)}function XZ(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function ja(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function DS(e,t,i){e.splice(i,0,t)}function JZ(e,t,i){(function QIe(e,t){for(let i=0;i<t.length;i++)ja(e,t[i])})(e,t),t.slice().reverse().forEach(n=>DS(e,n,i))}function qm(e,t){return e.indexOf(t)>-1}function XIe(e){return e?.flatMap(t=>t)??[]}function eQ(e,t){null==t||null==e||t.forEach(i=>e.push(i))}var tQ="__ag_Grid_Stop_Propagation",JIe=["touchstart","touchend","touchmove","touchcancel","scroll"],EN={};function T0(e){e[tQ]=!0}function Yh(e){return!0===e[tQ]}var iQ=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if("boolean"==typeof EN[i])return EN[i];const n=document.createElement(e[i]||"div");return EN[i="on"+i]=i in n}})();function IN(e,t,i){let n=t;for(;n;){const r=xS(e,n,i);if(r)return r;n=n.parentElement}return null}function eAe(e,t){return!(!t||!e)&&function iAe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():function tAe(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}(t)}(t).indexOf(e)>=0}var Se=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new M0),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const n in t){const r=t[n];r&&i.push(this._setupListener(e,n,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?function nAe(e,t,i,n){const s=qm(JIe,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,s)}(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const n=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,n=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}t({type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source})};e.forEach(r=>this.setupGridOptionListener(r,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Ua(e){return e instanceof iT}var iT=class extends Se{constructor(e,t,i,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=sQ(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{yg(t)?e.push(t):Ua(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const n=this.findChildrenRemovingPadding();for(let s=0,o=n.length;s<o;s++){const a=n[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();"open"===l?(e=!0,i=!0):"closed"===l?(t=!0,i=!0):(e=!0,t=!0)}const r=e&&t&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(n=>{Ua(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},nQ="ag-Grid-ControlsColumn",rAe=class extends Se{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const e=this.gos.get("rowSelection");if(!e||"string"==typeof e)return[];const t=A0(e),i=eT(e);if(t||i){const n=this.gos.get("selectionColumnDef"),s={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:this.gos.get("enableRtl")?"right":"left",comparator(a,l,c,d){const u=c.isSelected(),h=d.isSelected();return u&&h?0:u?1:-1},editable:!1,suppressFillHandle:!0,...n,colId:`${nQ}`},o=new ON(s,null,s.colId,!1);return this.createBean(o),[o]}return[]}},nT="ag-Grid-AutoColumn";function AN(e){const t=[],i=n=>{for(let r=0;r<n.length;r++){const s=n[r];yg(s)?t.push(s):Ua(s)&&i(s.getChildren())}};return i(e),t}function Kh(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function mg(e,t,i){const n={};if(!t)return;qh(null,t,s=>{n[s.getInstanceId()]=s}),i&&qh(null,i,s=>{n[s.getInstanceId()]=null});const r=Object.values(n).filter(s=>null!=s);e.destroyBeans(r)}function TN(e){return e.getId().startsWith(nT)}function R0(e){return e.getColId().startsWith(nQ)}function rT(e){let t=[];return e instanceof Array?e.some(n=>"string"!=typeof n)?Re("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"==typeof e?t=e.split(","):Re("colDef.type should be of type 'string' | 'string[]'"),t}var RN=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},kN=new Set(["__proto__","constructor","prototype"]);function Zc(e,t){if(null!=e){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,n]of Object.entries(e))t(i,n)}}function rQ(e){const t={},i=Object.keys(e);for(let n=0;n<i.length;n++){if(kN.has(i[n]))continue;const r=i[n];t[r]=e[r]}return t}function PN(e,t){if(!e)return;const i=e,n={};return Object.keys(i).forEach(r=>{if(t&&t.indexOf(r)>=0||kN.has(r))return;const s=i[r];n[r]=FN(s)&&s.constructor===Object?PN(s):s}),n}function vg(e){if(!e)return[];const t=Object;if("function"==typeof t.values)return t.values(e);const i=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function Wa(e,t,i=!0,n=!1){Ye(t)&&Zc(t,(r,s)=>{if(kN.has(r))return;let o=e[r];o!==s&&(n&&null==o&&null!=s&&"object"==typeof s&&s.constructor===Object&&(o={},e[r]=o),FN(s)&&FN(o)&&!Array.isArray(o)?Wa(o,s,i,n):(i||void 0!==s)&&(e[r]=s))})}function MS(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let r=e;for(let s=0;s<n.length;s++){if(null==r)return;r=r[n[s]]}return r}function FN(e){return"object"==typeof e&&null!==e}var sAe={resizable:!0,sortable:!0},oAe=0;function sQ(){return oAe++}function yg(e){return e instanceof ON}var ON=class extends Se{constructor(e,t,i,n){super(),this.isColumn=!0,this.instanceId=sQ(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new M0,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?("asc"===e.sort||"desc"===e.sort)&&(this.sort=e.sort):("asc"===e.initialSort||"desc"===e.initialSort)&&(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==i&&(this.sortIndex=i);const n=e.hide;this.visible=void 0!==n?!n:!e.initialHide,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);const s=e.flex,o=e.initialFlex;void 0!==s?this.flex=s:void 0!==o&&(this.flex=o)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=Ye(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Ye(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=Ye(this.colDef.tooltipField)||Ye(this.colDef.tooltipValueGetter)||Ye(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=Wm(e.width),n=Wm(e.initialWidth);return t=null!=i?i:null!=n?n:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return!Ui(this.colDef)&&!Ui(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===e)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new RN(this.frameworkOverrides));const i=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){const i=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){if(e.group)if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&"string"!=typeof t){const i=R0(this)&&A0(t);return this.isColumnFunc(e,i)}return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??sAe[e]}isColumnFunc(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createColumnFunctionCallbackParams(e))}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return Ui(this.sort)}isSorting(){return Ye(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);i&&Wa(n,i),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const i=!0===e;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ui(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Ui(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},aAe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},cAe=class extends Se{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,n){const r=new class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=vN(e);let i=0;for(;;){let n;if(e?(n=e,0!==i&&(n+="_"+i)):t?(n=t,0!==i&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},{existingCols:s,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,s,r,o,n),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,r);return qh(null,d,(h,g)=>{Ua(h)&&h.setupExpandable(),h.setOriginalParent(g)}),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],n=[];return e&&qh(null,e,r=>{if(Ua(r))i.push(r);else{const s=r;n.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}balanceTreeForAutoCols(e,t){const i=[],n=this.findDepth(t);return e.forEach(r=>{let s=r;for(let o=n-1;o>=0;o--){const a=new iT(null,`FAKE_PATH_${r.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([s]),s.setOriginalParent(a),s=a}0===n&&r.setOriginalParent(null),i.push(s)}),[i,n]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Ua(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(Ua(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(l),r.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){const d=n.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),h=new iT(u,d,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l){if(r.push(a),e.some(d=>Ua(d))){l.setChildren([o]);continue}l.setChildren(e);break}r.push(o)}}return r}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){const r=e[n];if(Ua(r)){const o=this.findMaxDept(r.getChildren(),t+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(e,t,i,n,r,s,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];a[l]=this.isColumnGroup(c)?this.createColumnGroup(i,c,t,n,r,s,o):this.createColumn(i,c,n,r,o)}return a}createColumnGroup(e,t,i,n,r,s,o){const a=this.createMergedColGroupDef(t),l=r.getUniqueKey(a.groupId||null,null),c=new iT(a,l,!1,i);this.createBean(c);const d=this.findExistingGroup(t,s);d&&s.splice(d.idx,1);const u=d?.group;u&&c.setExpanded(u.isExpanded());const h=this.recursivelyCreateColumns(a.children,i+1,e,n,r,s,o);return c.setChildren(h),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n,r){const s=this.findExistingColumn(t,i);s&&i?.splice(s.idx,1);let o=s?.column;if(o){const a=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(a,t,r),this.applyColumnState(o,a,r)}else{const a=n.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);o=new ON(l,t,a,e),this.createBean(o)}return this.dataTypeService?.addColumnListeners(o),o}applyColumnState(e,t,i){const n=Wm(t.flex);if(void 0!==n&&e.setFlex(n),e.getFlex()<=0){const a=Wm(t.width);if(null!=a)e.setActualWidth(a,i);else{const l=e.getActualWidth();e.setActualWidth(l,i)}}void 0!==t.sort&&e.setSort("asc"==t.sort||"desc"==t.sort?t.sort:void 0,i);const s=Wm(t.sortIndex);void 0!==s&&e.setSortIndex(s);const o=yN(t.hide);void 0!==o&&e.setVisible(!o,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(n)if(null==e.colId){if(null==e.field){if(n===e)return{idx:i,column:t[i]}}else if(n.field===e.field)return{idx:i,column:t[i]}}else if(t[i].getId()===e.colId)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let n=0;n<t.length;n++){const r=t[n];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:n,group:r}}}addColumnDefaultAndTypes(e,t){const i={};Wa(i,this.gos.get("defaultColDef"),!1,!0);const r=this.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),Wa(i,e,!1,!0);const s=this.gos.get("autoGroupColumnDef"),o=Mu(this.gos);return e.rowGroup&&s&&o&&Wa(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService?.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){const n=this.dataTypeService?.updateColDefAndGetColumnType(e,t,i),r=t.type??n??e.type;return e.type=r,r?rT(r):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},aAe);Zc(this.gos.get("columnTypes")||{},(r,s)=>{r in i?Re(`the column type '${r}' is a default column type and cannot be overridden.`):(s.type&&Re("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=s)}),e.forEach(r=>{const s=i[r.trim()];s?Wa(t,s,!1,!0):Re("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return void 0!==e.children}};function qh(e,t,i){if(t)for(let n=0;n<t.length;n++){const r=t[n];Ua(r)&&qh(r,r.getChildren(),i),i(r,e)}}var dAe=class extends Se{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(Zm(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,Zm(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Zm(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(Zm(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Zm(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const i=this.colDefCols?.list,n=this.colDefCols?.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);mg(this.context,this.colDefCols?.tree,r.columnTree);const s=r.columnTree,o=r.treeDept,a=AN(s),l={};a.forEach(c=>l[c.getId()]=c),this.colDefCols={tree:s,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),"gridInitializing"===e&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=function zIe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}(this.gos,this.showingPivotResult);(!e||i)&&this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!$h(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=e,e){const{map:t,list:i,tree:n,treeDepth:r}=e;this.cols={list:i.slice(),map:{...t},tree:n.slice(),treeDepth:r},e.list.some(o=>void 0!==this.cols?.map[o.getColId()])||(this.lastPivotOrder=null)}else{const{map:t,list:i,tree:n,treeDepth:r}=this.colDefCols;this.cols={list:i.slice(),map:{...t},tree:n.slice(),treeDepth:r}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{const r=TN(n);if(e){const s=t&&qm(t,n);return r||s}return r||n.isVisible()})}addAutoCols(){null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),oQ(this.cols))}createAutoCols(){const e=JA(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),s=()=>{this.autoCols&&(mg(this.context,this.autoCols.tree),this.autoCols=null)};if(!(i.length>0||this.gos.get("treeData"))||t||e||!this.autoColService)return void s();const o=this.autoColService.createAutoCols(i)??[],a=function uAe(e,t){return $h(e,t,(i,n)=>i.getColId()===n.getColId())}(o,this.autoCols?.list||null);if(a&&(this.autoCols?this.autoCols.treeDepth:-1)==this.cols.treeDepth)return;s();const[u,h]=this.columnFactory.balanceTreeForAutoCols(o,this.cols?.tree);this.autoCols={list:o,tree:u,treeDepth:h,map:{}};const g=m=>{if(!m)return null;const y=m.filter(_=>!TN(_));return[...o,...y]};this.lastOrder=g(this.lastOrder),this.lastPivotOrder=g(this.lastPivotOrder)}createControlsCols(){mg(this.context,this.controlsCols?.tree),this.controlsCols=null;const e=this.controlsColService?.createControlsCols()??[],[t,i]=this.columnFactory.balanceTreeForAutoCols(e,this.cols.tree);function n(r,s){const o=R0(r),a=R0(s);return o&&!a?-1:!o&&a?1:0}this.controlsCols={list:e,tree:t,treeDepth:i,map:{}},this.lastOrder?.sort(n),this.lastPivotOrder?.sort(n)}addControlsCols(){null!=this.controlsCols&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),oQ(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:"string"==typeof n?n:n.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||Fl(e))return;if(qo(this.gos,"print"))return void Re("Changing the column pinning status is not allowed with domLayout='print'");let n;this.columnAnimationService.start(),n=!0===t||"left"===t?"left":"right"===t?"right":null;const r=[];e.forEach(s=>{if(!s)return;const o=this.getCol(s);o&&o.getPinned()!==n&&(o.setPinned(n),r.push(o))}),r.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(r,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let n;n=Ua(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){let t=null;return qh(null,this.cols?.tree,i=>{Ua(i)&&i.getId()===e&&(t=i)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===t)&&(-1===t||t>this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId()))}isSuppressAutoCol(){return"custom"===this.gos.get("groupDisplayType")||"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,os(this.gos)||Wh(this.gos)||Re("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;const n=new Map(this.cols.list.map(l=>[l,!0])),r=e.filter(l=>n.has(l)),s=new Map(r.map(l=>[l,!0])),o=this.cols.list.filter(l=>!s.has(l)),a=r.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c)return void a.push(l);const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(m=>{const y=a.indexOf(m)>=0,_=d.indexOf(m)<0;y&&_&&d.push(m)}),c=c.getOriginalParent();if(!d.length)return void a.push(l);const u=d.map(g=>a.indexOf(g)),h=Math.max(...u);DS(a,l,h+1)}),this.cols.list=a}sortColsLikeKeys(e){if(null==this.cols)return;let t=[];const i={};e.forEach(r=>{if(i[r])return;const s=this.cols.map[r];s&&(t.push(s),i[r]=!0)});let n=0;this.cols.list.forEach(r=>{const s=r.getColId();null==i[s]&&(s.startsWith(nT)?DS(t,r,n++):t.push(r))}),t=this.columnMoveService.placeLockedColumns(t),this.columnMoveService.doesMovePassMarryChildren(t)?this.cols.list=t:Re("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,n)=>this.cols.list.indexOf(i)-this.cols.list.indexOf(n))}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(n,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){JZ(this.cols?.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,r)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((n,r)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(r));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>null!=e.getColDef().colSpan)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(Re("Pivot mode not available with treeData."),!1)}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Fl(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){mg(this.context,this.colDefCols?.tree),mg(this.context,this.autoCols?.tree),mg(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const t=this.pivotResultColsService.getPivotResultCols()?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>null!=t):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(null==t)return null;const{map:i,list:n}=t;if("string"==typeof e&&i[e])return i[e];for(let r=0;r<n.length;r++)if(aQ(n[r],e))return n[r];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find(t=>aQ(t,e))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const n=i.getGroupRowCount()||0;for(let r=0;r<n;r++){const s=i.getGroupRowCtrlAtIndex(r),o=e[r];if(s){const a=this.getColumnGroupHeaderRowHeight(s);(null==o||a>o)&&(e[r]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const n=e.getHeaderCtrls();for(const r of n){const s=r.getColumn();if(s.isAutoHeaderHeight()){const o=s.getAutoHeaderHeight();null!=o&&o>i&&(i=o)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==e?.type)return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){if("string"==typeof e||"string"==typeof t)return;const s=(t?A0(t):void 0)!==(e?A0(e):void 0),o=t?eT(t):void 0,a=e?eT(e):void 0;(s||o!==a)&&this.refreshAll(i)}};function Zm(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function oQ(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function aQ(e,t){const i=e===t,n=e.getColDef()===t,r=e.getColId()==t;return i||n||r}var hAe=class extends Se{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));const{colKeys:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:r,source:s="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout(()=>this.autoSizeCols(e));this.timesDelayed=0;const o=[];let a=-1;const l=i??this.gos.get("skipHeaderOnAutoSize"),c=n??l;for(;0!==a;){a=0;const d=[];t.forEach(u=>{if(!u)return;const h=this.columnModel.getCol(u);if(!h||o.indexOf(h)>=0)return;const g=this.autoWidthCalculator.getPreferredWidthForColumn(h,l);if(g>0){const m=this.normaliseColumnWidth(h,g);h.setActualWidth(m,s),o.push(h),a++}d.push(h)}),d.length&&this.visibleColsService.refresh(s)}c||this.autoSizeColumnGroupsByColumns(t,s,r),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const n=new Set;let s;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||n.add(l),l=l.getParent()});for(const a of n){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(s=l.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},pAe=class extends Se{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>ja(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>ja(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>ja(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Fl(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,n)=>this.setRowGroupActive(i,n,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,n)=>{n.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,n)=>this.setValueActive(i,n,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(r,i)}setColList(e,t,i,n,r,s,o){if(Fl(this.columnModel.getCols()))return;const l=new Map;t.forEach((d,u)=>l.set(d,u)),t.length=0,Ye(e)&&e.forEach(d=>{const u=this.columnModel.getColDefCol(d);u&&t.push(u)}),t.forEach((d,u)=>{const h=l.get(d);void 0!==h?n&&h!==u||l.delete(d):l.set(d,0)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{const u=t.indexOf(d)>=0;s(u,d)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(i,[...l.keys()],o)}updateColList(e,t,i,n,r,s,o){if(!e||Fl(e))return;let a=!1;const l=new Set;e.forEach(c=>{if(!c)return;const d=this.columnModel.getColDefCol(c);if(d){if(l.add(d),i){if(t.indexOf(d)>=0)return;t.push(d)}else{const u=t.indexOf(d);if(u<0)return;for(let h=u+1;h<t.length;h++)l.add(t[h]);ja(t,d)}r(d),a=!0}}),a&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(s,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,n)=>i.setValueActive(n,e),()=>{},()=>{},i=>{const n=i.aggFunc;return null===n||""===n?null:void 0!==n?!!n:void 0},i=>null!=i.initialAggFunc&&""!=i.initialAggFunc),this.valueCols.forEach(i=>{const n=i.getColDef();null!=n.aggFunc&&""!=n.aggFunc?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,n)=>i.setRowGroupActive(n,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,n)=>i.setPivotActive(n,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,n,r,s,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(h=>{const g=e.indexOf(h)<0,m=h.getColDef(),y=yN(s(m)),_=yN(o(m)),x=Wm(n(m)),D=Wm(r(m));let M;M=void 0!==y?y:void 0!==x?null!==x&&x>=0:g?void 0!==_?_:void 0!==D&&null!=D&&D>=0:t.indexOf(h)>=0,M&&((g?null!=x||null!=D:null!=x)?a.push(h):l.push(h))});const d=h=>{const g=n(h.getColDef()),m=r(h.getColDef());return g??m};a.sort((h,g)=>{const m=d(h),y=d(g);return m===y?0:m<y?-1:1});const u=[].concat(a);return t.forEach(h=>{l.indexOf(h)>=0&&u.push(h)}),l.forEach(h=>{u.indexOf(h)<0&&u.push(h)}),t.forEach(h=>{u.indexOf(h)<0&&i(h,!1)}),u.forEach(h=>{t.indexOf(h)<0&&i(h,!0)}),u}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},n=(r,s,o,a,l,c)=>{const d=this.columnModel.getColDefCols();if(!s.length||!d)return[];const u=Object.keys(r),h=new Set(u),g=new Set(u),m=new Set(s.map(H=>{const F=H.getColId();return g.delete(F),F}).concat(u)),y=[],_={};let x=0;for(let H=0;H<d.length;H++){const F=d[H].getColId();m.has(F)&&(y.push(F),_[F]=x++)}let D=1e3,M=!1,k=0;const V=H=>{const F=_[H];for(let P=k;P<F;P++){const G=y[P];g.has(G)&&(r[G][l]=D++,g.delete(G))}k=F};s.forEach(H=>{const F=H.getColId();if(h.has(F))V(F),r[F][l]=D++;else{const P=H.getColDef();(null===P[l]||void 0===P[l]&&null==P[c])&&(M||(P[o]||void 0===P[o]&&P[a]?V(F):(g.forEach(q=>{r[q][l]=D+_[q]}),D+=y.length,M=!0)),i[F]||(i[F]={colId:F}),i[F][l]=D++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},gAe=class extends Se{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(Fl(i))return!1;if(e&&e.state&&!e.state.forEach)return Re("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(a,l,c)=>{const d=this.compareColumnStatesAndDispatchEvents(t),u=l.slice(),h={},g={},m=[],y=[];let _=0;const x=this.funcColsService.getRowGroupColumns().slice(),D=this.funcColsService.getPivotColumns().slice();a.forEach(H=>{const F=H.colId||"";if(F.startsWith(nT))return m.push(H),void y.push(H);const G=c(F);G?(this.syncColumnWithStateItem(G,H,e.defaultState,h,g,!1,t,n),ja(u,G)):(y.push(H),_+=1)});const M=H=>this.syncColumnWithStateItem(H,null,e.defaultState,h,g,!1,t,n);u.forEach(M),this.funcColsService.sortRowGroupColumns(lQ.bind(this,h,x)),this.funcColsService.sortPivotColumns(lQ.bind(this,g,D)),this.columnModel.refreshCols(!1);const V=(this.columnModel.getAutoCols()||[]).slice();return m.forEach(H=>{const F=this.columnModel.getAutoCol(H.colId);ja(V,F),this.syncColumnWithStateItem(F,H,e.defaultState,null,null,!0,t,n)}),V.forEach(M),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),d(),{unmatchedAndAutoStates:y,unmatchedCount:_}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:o}=r(e.state||[],i,a=>this.columnModel.getColDefCol(a));if(s.length>0||Ye(e.defaultState)){const l=this.pivotResultColsService.getPivotResultCols()?.list;o=r(s,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),0===o}resetColumnState(e){if(Fl(this.columnModel.getColDefCols()))return;const n=AN(this.columnModel.getColDefColTree()),r=[];let s=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(c=>{const d=this.getColumnStateFromColDef(c);Ui(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=s++),Ui(d.pivotIndex)&&d.pivot&&(d.pivotIndex=o++),r.push(d)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(m,y)=>m??y??null,i=e.getColDef(),n=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),s=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);null==c&&(null==d||0==d)&&(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);null==u&&(null==h||0==h)&&(u=null,h=null);const g=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:r,hide:s,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:h,pivotIndex:u,aggFunc:g}}syncColumnWithStateItem(e,t,i,n,r,s,o,a){if(!e)return;const l=(k,V)=>{const H={value1:void 0,value2:void 0};let F=!1;return t&&(void 0!==t[k]&&(H.value1=t[k],F=!0),Ye(V)&&void 0!==t[V]&&(H.value2=t[V],F=!0)),!F&&i&&(void 0!==i[k]&&(H.value1=i[k]),Ye(V)&&void 0!==i[V]&&(H.value2=i[V])),H},c=l("hide").value1;void 0!==c&&e.setVisible(!c,o);const d=l("pinned").value1;void 0!==d&&e.setPinned(d);const u=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),h=l("flex").value1;if(void 0!==h&&e.setFlex(h),null==h){const k=l("width").value1;null!=k&&null!=u&&k>=u&&e.setActualWidth(k,o)}const g=l("sort").value1;void 0!==g&&e.setSort("desc"===g||"asc"===g?g:void 0,o);const m=l("sortIndex").value1;if(void 0!==m&&e.setSortIndex(m),s||!e.isPrimary())return;const y=l("aggFunc").value1;void 0!==y&&("string"==typeof y?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(Ye(y)&&Re("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:_,value2:x}=l("rowGroup","rowGroupIndex");(void 0!==_||void 0!==x)&&("number"==typeof x||_?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),n&&"number"==typeof x&&(n[e.getId()]=x)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:D,value2:M}=l("pivot","pivotIndex");(void 0!==D||void 0!==M)&&("number"==typeof M||D?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),r&&"number"==typeof M&&(r[e.getId()]=M)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(i=>{null!=i.colId&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),n={};return i.forEach(r=>{n[r.colId]=r}),()=>{const r=this.columnModel.getAllCols(),s=(y,_,x,D)=>{if($h(_.map(D),x.map(D)))return;const H=new Set(_);x.forEach(P=>{H.delete(P)||H.add(P)});const F=[...H];this.eventService.dispatchEvent({type:y,columns:F,column:1===F.length?F[0]:null,source:e})},o=y=>{const _=[];return r.forEach(x=>{const D=n[x.getColId()];D&&y(D,x)&&_.push(x)}),_},a=y=>y.getColId();s("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),s("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=o((y,_)=>{const x=null!=y.aggFunc,D=x!=_.isValueActive(),M=x&&y.aggFunc!=_.getAggFunc();return D||M});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e),this.eventDispatcher.columnResized(o((y,_)=>y.width!=_.getActualWidth()),!0,e),this.eventDispatcher.columnPinned(o((y,_)=>y.pinned!=_.getPinned()),e),this.eventDispatcher.columnVisible(o((y,_)=>y.hide==_.isVisible()),e);const m=o((y,_)=>y.sort!=_.getSort()||y.sortIndex!=_.getSortIndex());m.length>0&&this.sortController.dispatchSortChangedEvents(e,m),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),n={};i.forEach(l=>n[l.colId]=l);const r={};e.forEach(l=>{n[l.colId]&&(r[l.colId]=!0)});const s=e.filter(l=>r[l.colId]),o=i.filter(l=>r[l.colId]),a=[];o.forEach((l,c)=>{const d=s&&s[c];if(d&&d.colId!==l.colId){const u=this.columnModel.getCol(d.colId);u&&a.push(u)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},lQ=(e,t,i,n)=>{const r=e[i.getId()],s=e[n.getId()],o=null!=r,a=null!=s;if(o&&a)return r-s;if(o)return-1;if(a)return 1;const l=t.indexOf(i),c=t.indexOf(n),d=l>=0;return d&&c>=0?l-c:d?-1:1},fAe=class extends Se{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const n=this.columnModel.getCols();n&&this.moveColumns([n[e]],t,i)}moveColumns(e,t,i,n=!0){const r=this.columnModel.getCols();if(!r)return;if(t>r.length-e.length)return Re("tried to insert columns in invalid location, toIndex = ",t),void Re("remember that you should not count the moving columns when calculating the new index");this.columnAnimationService.start();const s=this.columnModel.getColsForKeys(e);this.doesMovePassRules(s,t)&&(this.columnModel.moveInCols(s,t,i),this.eventDispatcher.columnMoved({movedColumns:s,source:i,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return JZ(n,e,t),n}doesMovePassLockedPositions(e){const i=this.gos.get("enableRtl");let n=i?1:-1,r=!0;return e.forEach(s=>{const o=(s=>s?"left"===s||!0===s?-1:1:0)(s.getColDef().lockPosition);i?o>n&&(r=!1):o<n&&(r=!1),n=o}),r}doesMovePassMarryChildren(e){let t=!0;return qh(null,this.columnModel.getColTree(),n=>{if(!Ua(n))return;const r=n,s=r.getColGroupDef();if(!s||!s.marryChildren)return;const a=[];r.getLeafColumns().forEach(h=>{const g=e.indexOf(h);a.push(g)}),Math.max.apply(Math,a)-Math.min.apply(Math,a)>r.getLeafColumns().length-1&&(t=!1)}),t}placeLockedColumns(e){const t=[],i=[],n=[];return e.forEach(s=>{const o=s.getColDef().lockPosition;"right"===o?n.push(s):"left"===o||!0===o?t.push(s):i.push(s)}),this.gos.get("enableRtl")?[...n,...i,...t]:[...t,...i,...n]}},mAe=/[&<>"']/g,vAe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Iu(e,t){if(null==e)return null;const i=e.toString().toString();return t?i:i.replace(mAe,n=>vAe[n])}function _Ae(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var CAe=class extends Se{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,r){const s=e.headerValueGetter;if(s){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:r});return"function"==typeof s?s(o):"string"==typeof s?this.expressionService.evaluate(s,o):(Re("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?function bAe(e){return e&&null!=e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" "):null}(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let s,r=null;if(Ye(i)){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===o.length,l=void 0!==e.getColDef().pivotTotalColumnIds;if(a&&!l)return t;r=i?i.getAggFunc():null,s=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(r=e.getAggFunc(),s=!0):s=!1}if(s){const o="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},wAe=class extends Se{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){mg(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const i=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(r=>{const s=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;$h(s,e)&&o===i&&(n=r)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){this.processPivotResultColDef(e);const i=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);mg(this.context,this.pivotResultCols?.tree,i.columnTree);const n=i.columnTree,r=i.treeDept,s=AN(n);this.pivotResultCols={tree:n,treeDepth:r,list:s,map:{}},this.pivotResultCols.list.forEach(l=>this.pivotResultCols.map[l.getId()]=l);const a=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!a)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const n=r=>{r.forEach(s=>{if(Ye(s.children)){const a=s;i&&i(a),n(a.children)}else t&&t(s)})};e&&n(e)}},xAe=class extends Se{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,n){const r=[];e.forEach(s=>{const o=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(o&&(r.push({width:s.newWidth,ratios:[1],columns:[o]}),"shift"===this.gos.get("colResizeDefault")&&(t=!t),t)){const l=this.visibleColsService.getColAfter(o);if(!l)return;const c=o.getActualWidth()-s.newWidth,d=l.getActualWidth()+c;r.push({width:d,ratios:[1],columns:[l]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:i,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(t&&!t.every(d=>this.checkMinAndMaxWidthsForSet(d)))return void(i&&this.eventDispatcher.columnResized(t&&t.length>0?t[0].columns:null,i,n));const s=[],o=[];t.forEach(d=>{const{width:u,columns:h,ratios:g}=d,m={},y={};h.forEach(D=>o.push(D));let _=!0,x=0;for(;_;){if(x++,x>1e3){ji("infinite loop in resizeColumnSets");break}_=!1;const D=[];let M=0,k=u;h.forEach((H,F)=>{y[H.getId()]?k-=m[H.getId()]:(D.push(H),M+=g[F])});const V=1/M;D.forEach((H,F)=>{let G;F===D.length-1?G=k:(G=Math.round(g[F]*u*V),k-=G);const Y=H.getMinWidth(),q=H.getMaxWidth();G<Y?(G=Y,y[H.getId()]=!0,_=!0):q>0&&G>q&&(G=q,y[H.getId()]=!0,_=!0),m[H.getId()]=G})}h.forEach(D=>{const M=m[D.getId()];D.getActualWidth()!==M&&(D.setActualWidth(M,n),s.push(D))})});const a=s.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=o.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,n,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let n=0,r=0,s=!0;return t.forEach(l=>{const c=l.getMinWidth();n+=c||0;const d=l.getMaxWidth();d>0?r+=d:s=!1}),i>=n&&(!s||i<=r)}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const h=new Set(e.resizingCols);for(let g=i.length-1;g>=0;g--)if(h.has(i[g])){n=g;break}}let r=0,s=[],o=0,a=0;for(let h=0;h<i.length;h++)i[h].getFlex()&&h>n?(s.push(i[h]),a+=i[h].getFlex(),o+=i[h].getMinWidth()):r+=i[h].getActualWidth();if(!s.length)return[];let l=[];r+o>this.flexViewportWidth&&(s.forEach(h=>h.setActualWidth(h.getMinWidth(),t)),l=s,s=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-r;const h=d/a;for(let g=0;g<s.length;g++){const m=s[g],y=h*m.getFlex();let _=0;const x=m.getMinWidth(),D=m.getMaxWidth();if(y<x?_=x:y>D&&(_=D),_){m.setActualWidth(_,t),XZ(s,m),a-=m.getFlex(),l.push(m),r+=m.getActualWidth();continue e}c[g]=Math.floor(y)}break}let u=d;return s.forEach((h,g)=>{const m=g<s.length-1?Math.min(c[g],u):Math.max(c[g],u);h.setActualWidth(m,t),l.push(h),u-=c[g]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,n));const r={};n&&n?.columnLimits?.forEach(({key:h,...g})=>{r["string"==typeof h?h:h.getColId()]=g});const s=this.visibleColsService.getAllCols(),o=e===Kh(s);if(e<=0||!s.length||o)return;const a=[],l=[];s.forEach(h=>{!0===h.getColDef().suppressSizeToFit?l.push(h):a.push(h)});const c=a.slice(0);let d=!1;const u=h=>{ja(a,h),l.push(h)};for(a.forEach(h=>{h.resetActualWidth(t);const g=r?.[h.getId()],m=g?.minWidth??n?.defaultMinWidth,y=g?.maxWidth??n?.defaultMaxWidth,_=h.getActualWidth();"number"==typeof m&&_<m?h.setActualWidth(m,t,!0):"number"==typeof y&&_>y&&h.setActualWidth(y,t,!0)});!d;){d=!0;const h=e-Kh(l);if(h<=0)a.forEach(g=>{const m=r?.[g.getId()]?.minWidth??n?.defaultMinWidth;"number"!=typeof m?g.setMinimum(t):g.setActualWidth(m,t,!0)});else{const g=h/Kh(a);let m=h;for(let y=a.length-1;y>=0;y--){const _=a[y],x=r?.[_.getId()],D=x?.minWidth??n?.defaultMinWidth,M=x?.maxWidth??n?.defaultMaxWidth,k=_.getMinWidth(),V=_.getMaxWidth(),H="number"==typeof D&&D>k?D:k,F="number"==typeof M&&M<V?M:V;let P=Math.round(_.getActualWidth()*g);P<H?(P=H,u(_),d=!1):P>F?(P=F,u(_),d=!1):0===y&&(P=m),_.setActualWidth(P,t,!0),m-=P}}}c.forEach(h=>{h.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if("fitGridWidth"===t){const{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:r}=e,s=i?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:r,columnLimits:s})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function cQ(e,t){return e+"_"+t}function Bs(e){return e instanceof dQ}var dQ=class extends Se{constructor(e,t,i,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return cQ(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Bs(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Wi(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{yg(t)?e.push(t):Bs(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{yg(t)?e.push(t):Bs(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.getProvidedColumnGroup().isExpandable())return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach(i=>{if(!Bs(i)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i)}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},uQ=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!=typeof t?0:t+1,this.existingIds[e]=i,i}},SAe=class extends Se{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=LN(this.treeLeft),this.columnsCenter=LN(this.treeCenter),this.columnsRight=LN(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=Kh(this.columnsCenter),t=Kh(this.columnsLeft),i=Kh(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?Wi(this.columnsRight):null):(t=this.columnsLeft?Wi(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(s=>"left"==s.getPinned()),i=e.filter(s=>"right"==s.getPinned()),n=e.filter(s=>"left"!=s.getPinned()&&"right"!=s.getPinned()),r=new uQ;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],n=[];for(const r of e){const s=r.getPinned();s?!0===s||"left"===s?t.push(r):n.push(r):i.push(r)}this.ariaOrderColumns=t.concat(i).concat(n)}getAriaColIndex(e){let t;return t=Bs(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Bs(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(n){let s=Kh(r);r.forEach(o=>{s-=o.getActualWidth(),o.setLeft(s,e)})}else{let s=0;r.forEach(o=>{o.setLeft(s,e),s+=o.getActualWidth()})}!function ZIe(e,t){for(let i=0;i<t.length;i++)XZ(e,t[i])}(i,r)}),i.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.columns=this.gos.get("enableRtl")?this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,n){const r=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const h=c-1;for(let g=1;g<=h;g++)d.push(t[o+g]);o+=h}let u;i?(u=!1,d.forEach(h=>{i(h)&&(u=!0)})):u=!0,u&&(0===r.length&&s&&n&&n(a)&&r.push(s),r.push(a)),s=a}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),r="After"===t?Wi(n):n[0],s=`getCol${t}`;for(;;){const o=this[s](r);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let n,r,i=e.getParent();for(;n=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(n+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Qm(this.treeCenter,!1,e),Qm(this.treeLeft,!1,e),Qm(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){Qm(this.getAllTrees(),!1,t=>{Bs(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]]();if(n.length)return e?Wi(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Bs(e))return e;const i=this.getAllTrees(),n="number"==typeof t;let r=null;return Qm(i,!1,s=>{if(Bs(s)){const o=s;let a;a=n?e===o.getGroupId()&&t===o.getPartId():e===o.getGroupId(),a&&(r=o)}}),r}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Kh(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Kh(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const n="first"===t;let r;if(Bs(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=n?s[0]:Wi(s)}else r=e;return(n?i[0]:Wi(i))===r}createGroups(e){const{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const u=h=>{const g=d;d=h;const m=c[g],_=(Bs(m)?m.getProvidedColumnGroup():m).getOriginalParent();if(null==_){for(let D=g;D<h;D++)a.push(c[D]);return}const x=this.createColGroup(_,i,o,n,s);for(let D=g;D<h;D++)x.addChild(c[D]);l.push(x)};for(let h=1;h<c.length;h++){const g=c[h],y=(Bs(g)?g.getProvidedColumnGroup():g).getOriginalParent(),_=c[d];y!==(Bs(_)?_.getProvidedColumnGroup():_).getOriginalParent()&&u(h)}d<c.length&&u(c.length)}return s||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,n,r){const s=e.getGroupId(),o=t.getInstanceIdForKey(s);let l=i[cQ(s,o)];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Ye(l)?l.reset():(l=new dQ(e,s,o,n),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},i=n=>{n.forEach(r=>{if(Bs(r)){const s=r;t[r.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),Bs(i)){const n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}};function Qm(e,t,i){if(e)for(let n=0;n<e.length;n++){const r=e[n];Bs(r)&&Qm(t?r.getDisplayedChildren():r.getChildren(),t,i),i(r)}}function LN(e){const t=[];return Qm(e,!0,i=>{yg(i)&&t.push(i)}),t}var hQ=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],MAe=[...hQ,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],EAe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},fa=class{};fa.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],fa.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"],fa.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],fa.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],fa.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],fa.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"],fa.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],fa.ALL_PROPERTIES=[...fa.ARRAY_PROPERTIES,...fa.OBJECT_PROPERTIES,...fa.STRING_PROPERTIES,...fa.NUMBER_PROPERTIES,...fa.FUNCTION_PROPERTIES,...fa.BOOLEAN_PROPERTIES,...fa.OTHER_PROPERTIES];var ES=fa,Qc=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};Qc.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",Qc.PUBLIC_EVENTS=hQ,Qc.EVENT_CALLBACKS=MAe.map(e=>Qc.getCallbackForEvent(e)),Qc.BOOLEAN_PROPERTIES=ES.BOOLEAN_PROPERTIES,Qc.ALL_PROPERTIES=ES.ALL_PROPERTIES,Qc.ALL_PROPERTIES_AND_CALLBACKS=[...Qc.ALL_PROPERTIES,...Qc.EVENT_CALLBACKS],Qc.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Qc.ALL_PROPERTIES_AND_CALLBACKS);var zN,aT,GN,HN,jN,UN,WN,$N,YN,lT,IS=Qc;function AS(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}function Xc(e,t,i){null==i||"string"==typeof i&&""==i?NN(e,t):Jc(e,t,i)}function Jc(e,t,i){e.setAttribute(pQ(t),i.toString())}function NN(e,t){e.removeAttribute(pQ(t))}function pQ(e){return`aria-${e}`}function Ol(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function k0(e,t){Xc(e,"label",t)}function TS(e,t){Xc(e,"labelledby",t)}function gQ(e,t){Xc(e,"live",t)}function VN(e,t){Xc(e,"hidden",t)}function sT(e,t){Jc(e,"expanded",t)}function fQ(e,t){Jc(e,"rowindex",t)}function mQ(e,t){Jc(e,"colindex",t)}function oT(e,t){Xc(e,"selected",t)}function BN(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function Au(){return void 0===zN&&(zN=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),zN}function vQ(){if(void 0===aT)if(Au()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(aT=null!=e[1]?parseFloat(e[1]):0)}else aT=0;return aT}function KN(){if(void 0===GN){const e=window;GN=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return GN}function qN(){return void 0===HN&&(HN=/(firefox)/i.test(navigator.userAgent)),HN}function yQ(){return void 0===jN&&(jN=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),jN}function bg(){return void 0===UN&&(UN=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),UN}function ZN(){return!Au()||vQ()>=15}function QN(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return-1!==t||null!==i&&(""!==i||qN())?t.toString():null}function bQ(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&($N=i,WN=0===i)}function _Q(){return null==WN&&bQ(),WN}var CQ="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function XN(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),r=t.call(e,CQ),s=Vd(e);return n&&!r&&s}function Wr(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||VN(e,!t)}function RS(e,t){const i="disabled",n=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);n(e),IQ(e.querySelectorAll("input"),r=>n(r))}function P0(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++n>i)break}else if(e===i)break}return!1}function Xm(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:g,marginLeft:m,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(m||"0"),boxSizing:y}}function JN(e){const t=Xm(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function kS(e){const t=Xm(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function wQ(e){const{height:t,marginBottom:i,marginTop:n}=Xm(e);return Math.floor(t+i+n)}function cT(e){const{width:t,marginLeft:i,marginRight:n}=Xm(e);return Math.floor(t+i+n)}function xQ(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:r,borderBottomWidth:s}=Xm(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function dT(){if("boolean"==typeof lT)return lT;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,lT=0===Math.floor(e.scrollLeft),document.body.removeChild(e),lT}function uT(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),KN()&&!dT()&&(i=e.scrollWidth-e.clientWidth-i)),i}function hT(e,t,i){i&&(dT()?t*=-1:(Au()||KN())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function ma(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Nd(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function SQ(e){return!!e.offsetParent}function Vd(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!SQ(e)||"visible"!==window.getComputedStyle(e).visibility)}function PS(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function DQ(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function MQ(e,t){for(let i=0;i<t.length;i++){const n=t[i],r=e.children[i];r!==n&&e.insertBefore(n,r)}}function EQ(e,t){if(t)for(const[i,n]of Object.entries(t)){if(!i||!i.length||null==n)continue;const r=_Ae(i),s=n.toString(),o=s.replace(/\s*!important/g,"");e.style.setProperty(r,o,o.length!=s.length?"important":void 0)}}function pT(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Bd(e,t)}function Bd(e,t){t=e4(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function FS(e,t){t=e4(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function e4(e){return"number"==typeof e?`${e}px`:e}function t4(e){return e instanceof Node||e instanceof HTMLElement}function ed(e,t,i){null==i||""===i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function IQ(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}var F0=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},TQ=class yy extends Se{constructor(t,i,n,r){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&Re(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){return"show"===t?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return t&&"hover"!==t?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!bg()&&(yy.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},100):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){const i=t.relatedTarget,n=this.parentComp.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(i)||this.interactionEnabled&&r?.contains(i)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||yy.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-yy.lastTooltipHideTime<1e3}setToDoNothing(t){!t&&2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!Ye(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),yy.lastTooltipHideTime=(new Date).getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,i){if(2!==this.state||this.tooltipInstanceCount!==t)return void this.destroyBean(i);const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const t=this.tooltipComp?.getGui(),i=Ur(this.gos);return!!t&&t.contains(i)}onTooltipFocusOut(t){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(()=>{t(),this.destroyBean(i)},0===this.tooltipTrigger?1e3:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){yy.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},100)}unlockService(){yy.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};TQ.isLocked=!1;var rTe=TQ,O0=class extends Se{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){null==this.tooltipManager&&(this.tooltipManager=this.createBean(new rTe({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?.(),i=e.getColDef?.(),n=e.getRowNode?.();return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?.(),node:n,data:n?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},sTe=new F0,ht=null,tn=class Rue extends Se{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=sTe.next(),this.cssClassManager=new class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(n=>this.addCssClass(n));else if(!0!==this.cssClassStates[e]&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(n=>this.removeCssClass(n));else if(!1!==this.cssClassStates[e]&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(e){if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1)return void n.forEach(r=>this.addOrRemoveCssClass(r,t))}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}}}(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:n,hideDelayOverride:r,location:s,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i),null!=i&&(this.tooltipFeature=this.createBean(new O0({getTooltipValue:()=>this.tooltipText,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:null!=n?()=>n:void 0,getTooltipHideDelayOverride:null!=r?()=>r:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,n,r=null){if(void 0===i&&(i=this.getDataRefAttribute(t)),i){const s=this[i];s===ht?this[i]=r??t:!this.suppressDataRefValidation&&(!n||!n[i])&&Re(`Issue with data-ref: ${i} on ${this.constructor.name} with ${s}`)}}createChildComponentsFromTags(t,i){(function eTe(e){if(null==e)return[];const t=[];return IQ(e,i=>t.push(i)),t})(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const s=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},i);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const o=Array.prototype.slice.call(r.children);s.addItems(o)}this.swapComponentForNode(s,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,n){const r=t.nodeName,s=this.getDataRefAttribute(t),o=0===r.indexOf("AG-"),a=o?this.componentSelectors.get(r):null;let l=null;return a?(Rue.elementGettingCreated=t,l=new a.component(n&&s?n[s]:void 0),l.setParentComponent(this),this.createBean(l,null,i)):o&&Re(`Missing selector: ${r}`),this.applyElementsToComponent(t,s,n,l),l}copyAttributesFromNode(t,i){!function tTe(e,t){if(e)for(let i=0;i<e.length;i++){const n=e[i];t(n.name,n.value)}}(t.attributes,(n,r)=>i.setAttribute(n,r))}swapComponentForNode(t,i,n){const r=t.getGui();i.replaceChild(r,n),i.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(t,i,n){const r=PS(t);this.setTemplateFromElement(r,i,n)}setTemplateFromElement(t,i,n,r=!1){if(this.eGui=t,this.suppressDataRefValidation=r,i)for(let s=0;s<i.length;s++){const o=i[s];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let n=i;return null==t?null:(n||(n=this.eGui),t4(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,i){const{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(t,i){const{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=i;!function ZAe(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||VN(e,!t)}(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=i;Wr(this.eGui,t,{skipAriaHidden:n}),this.dispatchLocalEvent({type:"displayChanged",visible:this.displayed})}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,n){this.eGui.addEventListener(t,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},RQ={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},oTe=(()=>{const e=new Set(Object.values(RQ));return e.add("eye"),e})();function mc(e,t,i,n){let r=null;const s=i&&i.getColDef().icons;if(s&&(r=s[e]),t&&!r){const o=t.get("icons");o&&(r=o[e])}if(!r){const o=document.createElement("span");let a=RQ[e]??(oTe.has(e)?e:void 0);return a||(n?a=e:(Re(`Did not find icon ${e}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Ol(o,"presentation"),o}{let o;if("function"==typeof r)o=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");o=r}if("string"==typeof o)return PS(o);if(t4(o))return o;Re("iconRenderer should return back a string or a dom object")}}var lTe=class extends tn{constructor(){super(...arguments),this.dragSource=null,this.eIcon=ht,this.eLabel=ht}postConstruct(){const e=t=>function aTe(e,t,i){const n=mc(e,t,i);if(n){const{className:s}=n;if("string"==typeof s&&s.indexOf("ag-icon")>-1||"object"==typeof s&&s["ag-icon"])return n}const r=document.createElement("span");return r.appendChild(n),r}(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate('<div class="ag-dnd-ghost ag-unselectable">\n                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>\n            </div>')}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){ma(this.eIcon);let i=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),(i!==this.dropIconMap.hide||!this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=Iu(e)}};function kQ(e,t,i){if(0===i)return!1;const n=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(n,r)<=i}var _g=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new M0,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===t&&!this.moved&&(this.moved=!0,this.localEventService.dispatchEvent({type:"longTap",touchStart:this.touchStart,touchEvent:e}))},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);t&&!kQ(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){this.touching&&(this.moved||(this.localEventService.dispatchEvent({type:"tap",touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1)}checkForDoubleTap(){const e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>this.DOUBLE_TAP_MILLIS?(this.localEventService.dispatchEvent({type:"doubleTap",touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function OS(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var cTe=`<span class="ag-sort-indicator-container">\n        ${OS("Order","order")}\n        ${OS("Asc","ascending-icon")}\n        ${OS("Desc","descending-icon")}\n        ${OS("Mixed","mixed-icon")}\n        ${OS("None","none-icon")}\n    </span>`,i4=class extends tn{constructor(e){super(),this.eSortOrder=ht,this.eSortAsc=ht,this.eSortDesc=ht,this.eSortMixed=ht,this.eSortNone=ht,e||this.setTemplate(cTe)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,n,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(null==t)return;const n=mc(e,this.gos,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&Wr(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&Wr(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon");Wr(this.eSortNone,!t&&null==e,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;Mu(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);Wr(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1);Wr(this.eSortOrder,t>=0&&i,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():ma(this.eSortOrder)}},dTe={selector:"AG-SORT-INDICATOR",component:i4},n4=class extends tn{constructor(){super(...arguments),this.eFilter=ht,this.eFilterButton=ht,this.eSortIndicator=ht,this.eMenu=ht,this.eLabel=ht,this.eText=ht,this.eSortOrder=ht,this.eSortAsc=ht,this.eSortDesc=ht,this.eSortMixed=ht,this.eSortNone=ht,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[dTe]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Iu(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(null==t)return;const n=mc(e,this.gos,i);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new _g(this.getGui(),!0),i=this.shouldSuppressMenuHide(),n=i&&Ye(this.eMenu),r=n?new _g(this.eMenu,!0):t;if(this.params.enableMenu&&this.addManagedListeners(r,{[n?"tap":"longTap"]:a=>this.params.showColumnMenuAfterMouseClick(a.touchStart)}),this.params.enableSorting&&this.addManagedListeners(t,{tap:o=>{const a=o.touchStart.target;i&&(this.eMenu?.contains(a)||this.eFilterButton?.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}}),this.params.enableFilterButton){const s=new _g(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return Nd(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new i4(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{if(!(this.params.column.isMoving()||(new Date).getTime()-this.lastMovingChanged<50)){const a="ctrl"===this.gos.get("multiSortKey")?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===t),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===t),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(s=>this.params.column.getSort()==s.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0)}configureFilter(e,t,i){if(!e)return Nd(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Wr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},hTe=class extends tn{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=ht,this.agClosed=ht,this.agLabel=ht}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Re("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=r=>{if(Yh(r))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=r=>{T0(r)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const i=new _g(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Wr(this.agOpened,t),Wr(this.agClosed,!t)}else Wr(this.agOpened,!1),Wr(this.agClosed,!1)}addInIcon(e,t){const i=mc(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return Wr(this.agOpened,!1),void Wr(this.agClosed,!1)}setupLabel(){const{displayName:e,columnGroup:t}=this.params;if(Ye(e)){const i=Iu(e,!0);this.agLabel.textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},fTe=class extends tn{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),r=Ye(n)?n:i,s=t>=0;this.eDelta.textContent=s?"\u2191"+r:"\u2193"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ma(this.eDelta)}refresh(e,t=!1){const i=e.value;return i!==this.lastValue&&(Ye(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:Ye(e.value)?this.eValue.textContent=i:ma(this.eValue),!this.filterManager?.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(e,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0)}},mTe=class extends tn{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return Ui(i)&&(i=""),i!==this.lastValue&&!this.filterManager?.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=i,Ye(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:Ye(e.value)?this.eCurrent.textContent=i:ma(this.eCurrent),!0)}},ve=class{};ve.BACKSPACE="Backspace",ve.TAB="Tab",ve.ENTER="Enter",ve.ESCAPE="Escape",ve.SPACE=" ",ve.LEFT="ArrowLeft",ve.UP="ArrowUp",ve.RIGHT="ArrowRight",ve.DOWN="ArrowDown",ve.DELETE="Delete",ve.F2="F2",ve.PAGE_UP="PageUp",ve.PAGE_DOWN="PageDown",ve.PAGE_HOME="Home",ve.PAGE_END="End",ve.A="KeyA",ve.C="KeyC",ve.D="KeyD",ve.V="KeyV",ve.X="KeyX",ve.Y="KeyY",ve.Z="KeyZ";var vTe=class extends tn{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:r}=this.config;null!=r&&this.setDisabled(r),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){ma(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Wr(this.eLabel,!1),Ol(this.eLabel,"presentation")):(Wr(this.eLabel,!0),Ol(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||pT(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return RS(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},PQ=class extends vTe{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();null==i||""==i||null!==function kAe(e){return e.getAttribute("aria-label")}(e)?TS(e,""):TS(e,t??"")}setAriaLabel(e){return k0(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Bd(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},Jm=class extends PQ{constructor(e,t,i="text",n="input"){super(e,e?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>\n                </div>\n            </div>`,[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=ht,this.eWrapper=ht,this.eInput=ht}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return pT(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return ed(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return k0(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return RS(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){return ed(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this}},gT=class extends Jm{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"==typeof e&&this.setReadOnly(e),"boolean"==typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},r4={selector:"AG-CHECKBOX",component:gT},yTe=class extends tn{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[r4]),this.eCheckbox=ht}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),gQ(t,"polite"),this.addManagedListeners(t,{click:i=>{if(T0(i),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:i=>{T0(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===ve.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Ur(this.gos)&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;if(e.node.group&&e.column)if("boolean"==typeof e.value)t=e.value;else{const a=e.column.getColId();a.startsWith(nT)?t=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[a]?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(t);const n=null!=e.disabled?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(n);const r=this.localeService.getLocaleTextFunc(),s=BN(r,t),o=n?s:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:i,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n});const r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:r}),r||this.updateCheckbox(this.params)}},bTe=class extends tn{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=ht,this.eLoadingText=ht}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=mc("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},_Te=class extends tn{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>TS(e.eParentOfValue)),TS(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");k0(this.getGui(),t)}setupLoading(e){const i=Vs(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(null!=n){const o=75+25*(n%2==0?Math.sin(n):Math.cos(n));i.style.width=`${o}%`}this.getGui().appendChild(i);const s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");k0(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},FQ=class extends tn{constructor(){super()}destroy(){super.destroy()}},CTe=class extends FQ{init(){const e=Uh(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},wTe=class extends FQ{init(){const e=Uh(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}},L0=class extends tn{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},xTe=class extends L0{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Iu(t,!0)}};function OQ(e,t,i,n){let r=t.map((a,l)=>({value:a,relevance:DTe(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(r.sort((a,l)=>l.relevance-a.relevance),i&&(r=r.filter(a=>0!==a.relevance)),r.length>0&&n&&n>0){const l=r[0].relevance*n;r=r.filter(c=>l-c.relevance<0)}const s=[],o=[];for(const a of r)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function DTe(e,t){const i=e.replace(/\s/g,""),n=t.replace(/\s/g,"");let r=0,s=-1;for(let o=0;o<i.length;o++){const a=n.indexOf(i[o],s+1);-1!==a&&(s=a,r+=100-100*s/1e4*100)}return r}var MTe=class extends Se{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:lTe,agColumnHeader:n4,agColumnGroupHeader:hTe,agSortIndicator:i4,agAnimateShowChangeCellRenderer:fTe,agAnimateSlideCellRenderer:mTe,agLoadingCellRenderer:bTe,agSkeletonCellRenderer:_Te,agCheckboxCellRenderer:yTe,agLoadingOverlay:CTe,agNoRowsOverlay:wTe,agTooltipComponent:xTe},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");null!=e&&Zc(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=n)return i(n,!0);const r=this.jsComps[t];if(r)return i(r,this.getFrameworkOverrides().isFrameworkComponent(r));const s=this.agGridDefaults[t];if(s)return i(s,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):pN(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const n=OQ(t,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8).values;Re(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&Re(`         Did you mean: [${n.slice(0,3)}]?`),Re(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},vc=class oM{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new oM(i=>{let n=t.length;const r=new Array(n);t.forEach((s,o)=>{s.then(a=>{r[o]=a,n--,0===n&&i(r)})})}):oM.resolve()}static resolve(t=null){return new oM(i=>i(t))}then(t){return new oM(i=>{1===this.status?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},ETe={propertyName:"dateComponent",cellRenderer:!1},ITe={propertyName:"dragAndDropImageComponent",cellRenderer:!1},ATe={propertyName:"headerComponent",cellRenderer:!1},TTe={propertyName:"headerGroupComponent",cellRenderer:!1},LQ={propertyName:"cellRenderer",cellRenderer:!0},RTe={propertyName:"cellRenderer",cellRenderer:!1},kTe={propertyName:"loadingCellRenderer",cellRenderer:!0},PTe={propertyName:"cellEditor",cellRenderer:!1},NQ={propertyName:"innerRenderer",cellRenderer:!0},FTe={propertyName:"loadingOverlayComponent",cellRenderer:!1},OTe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},LTe={propertyName:"tooltipComponent",cellRenderer:!1},s4={propertyName:"filter",cellRenderer:!1},NTe={propertyName:"floatingFilterComponent",cellRenderer:!1},VTe={propertyName:"toolPanel",cellRenderer:!1},BTe={propertyName:"statusPanel",cellRenderer:!1},zTe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},GTe={propertyName:"loadingCellRenderer",cellRenderer:!0},HTe={propertyName:"groupRowRenderer",cellRenderer:!0},jTe={propertyName:"detailCellRenderer",cellRenderer:!0},UTe={propertyName:"menuItem",cellRenderer:!1},VQ=class kue extends Se{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,ITe,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,ATe,"agColumnHeader",i)}getHeaderGroupCompDetails(t){const i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,TTe,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,zTe,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,GTe,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,HTe,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,jTe,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,NQ,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,NQ,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,LQ,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,RTe,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,kTe,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,PTe,"agCellEditor",i,!0)}getFilterDetails(t,i,n){return this.getCompDetails(t,s4,n,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,ETe,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,FTe,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,OTe,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,LTe,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,LQ,null,i)}getFloatingFilterCompDetails(t,i,n){return this.getCompDetails(t,NTe,n,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,VTe,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,BTe,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,UTe,"agMenuItem",i,!0)}getCompDetails(t,i,n,r,s=!1){const{propertyName:o,cellRenderer:a}=i;let m,{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:g}=kue.getCompKeys(this.frameworkOverrides,t,i,r);const y=M=>{const k=this.userComponentRegistry.retrieve(o,M);k&&(c=k.componentFromFramework?void 0:k.component,d=k.componentFromFramework?k.component:void 0,m=k.params)};if(null!=l&&y(l),null==c&&null==d&&null!=n&&y(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!d)return void(s&&ji(`Could not find component ${l}, did you forget to configure this component?`));const _=this.mergeParamsWithApplicationProvidedParams(t,i,r,u,m),x=null==c,D=c||d;return{componentFromFramework:x,componentClass:D,params:_,type:i,popupFromSelector:h,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(D,x,_,i)}}static getCompKeys(t,i,n,r){const{propertyName:s}=n;let o,a,l,c,d,u;if(i){const h=i,g=h[s+"Selector"],m=g?g(r):null,y=_=>{"string"==typeof _?o=_:null!=_&&!0!==_&&(t.isFrameworkComponent(_)?l=_:a=_)};m?(y(m.component),c=m.params,d=m.popup,u=m.popupPosition):y(h[s])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:u}}newAgStackInstance(t,i,n,r){let a;if(i){const c=this.componentMetadataProvider.retrieve(r.propertyName);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,r)}else a=new t;const l=this.initComponent(a,n);return null==l?vc.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,n,r=null,s){const o=this.gos.getGridCommonParams();Wa(o,n),s&&Wa(o,s);const l=t&&t[i.propertyName+"Params"];return"function"==typeof l?Wa(o,l(n)):"object"==typeof l&&Wa(o,l),Wa(o,r),o}initComponent(t,i){if(this.createBean(t),null!=t.init)return t.init(i)}};function LS(e){return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():e}var fT=class xn{static register(t){xn.__register(t,!0,void 0)}static registerModules(t){xn.__registerModules(t,!0,void 0)}static __register(t,i,n){xn.runVersionChecks(t),void 0!==n?(xn.areGridScopedModules=!0,void 0===xn.gridModulesMap[n]&&(xn.gridModulesMap[n]={}),xn.gridModulesMap[n][t.moduleName]=t):xn.globalModulesMap[t.moduleName]=t,xn.setModuleBased(i)}static __unRegisterGridModules(t){delete xn.gridModulesMap[t]}static __registerModules(t,i,n){xn.setModuleBased(i),t&&t.forEach(r=>xn.__register(r,i,n))}static isValidModuleVersion(t){const[i,n]=t.version.split(".")||[],[r,s]=xn.currentModuleVersion.split(".")||[];return i===r&&n===s}static runVersionChecks(t){xn.currentModuleVersion||(xn.currentModuleVersion=t.version);const i=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?xn.isValidModuleVersion(t)||ji(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${xn.currentModuleVersion}.`)):ji(i(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||ji(`${n.message}`)}}static setModuleBased(t){void 0===xn.moduleBased?xn.moduleBased=t:xn.moduleBased!==t&&(ji("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),ji("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){xn.isBundled=!0}static __assertRegistered(t,i,n){if(this.__isRegistered(t,n))return!0;let r;if(xn.isBundled)r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(xn.moduleBased||void 0===xn.moduleBased){const s=Object.entries(BZ).find(([o,a])=>a===t)?.[0];r=`AG Grid: unable to use ${i} as the ${s} is not registered${xn.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${s} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${s} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return ji(r),!1}static __isRegistered(t,i){return!!xn.globalModulesMap[t]||!!xn.gridModulesMap[i]?.[t]}static __getRegisteredModules(t){return[...qA(xn.globalModulesMap),...qA(xn.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return qA(xn.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!xn.moduleBased}};fT.globalModulesMap={},fT.gridModulesMap={},fT.areGridScopedModules=!1;var Zh=fT,WTe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([t,i])=>{this.beans[t]=i}),e.beanClasses.forEach(t=>{const i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{const{beanName:i,bean:n}=t(this);this.beans[i]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),e.forEach(i=>i.preConstruct?.()),t&&e.forEach(t),e.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},$Te=class extends WTe{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),Zh.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},BQ=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(BQ||{}),ZTe=class extends Se{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return e&&e.comp?e.comp:null}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),ja(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(o=>this.isMouseOnDropTarget(e,o)),s=this.findCurrentDropTarget(e,r);if(s!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,n,t),null!==this.lastDropTarget&&null===s&&this.dragSource?.onGridExit?.(this.dragItem),null===this.lastDropTarget&&null!==s&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(s,e,i,n,t),s&&this.dragAndDropImageComp){const{comp:o,promise:a}=this.dragAndDropImageComp;o?o.setIcon(s.getIconName?s.getIconName():null):a.then(l=>{l&&l.setIcon(s.getIconName?s.getIconName():null)})}this.lastDropTarget=s}else if(s&&s.onDragging){const o=this.createDropTargetEvent(s,e,i,n,t);s.onDragging(o)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:n,height:r,left:s,right:o,top:a,bottom:l}=i.getBoundingClientRect();if(0===n||0===r)return!1;if(!(e.clientX>=s&&e.clientX<o&&e.clientY>=a&&e.clientY<l))return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of i)if(this.allContainersIntersect(e,o)){n=!0;break}const{eElement:r,type:s}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(r))&&n&&t.isInterestedIn(s,r)}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const r=SS(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const o of t)if(-1!==XIe(this.getAllContainersFromDropTarget(o)).indexOf(s))return o;return null}enterDragTargetIfExists(e,t,i,n,r){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,i,n,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,i,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const s=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(s)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return i.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,n,r){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l}=this;return this.gos.addGridCommonParams({event:t,x:t.clientX-o.left,y:t.clientY-o.top,vDirection:n,hDirection:i,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const i=t.getGui(),r=i.getBoundingClientRect().height,s=function $Ae(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}()-2,o=function YAe(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}()-2;if(!i.offsetParent)return;const l=xQ(i.offsetParent),{clientY:c,clientX:d}=e;let u=c-l.top-r/2,h=d-l.left-10;const g=Vs(this.gos),m=g.defaultView||window,y=m.pageYOffset||g.documentElement.scrollTop,_=m.pageXOffset||g.documentElement.scrollLeft;s>0&&h+i.clientWidth>s+_&&(h=s+_-i.clientWidth),h<0&&(h=0),o>0&&u+i.clientHeight>o+y&&(u=o+y-i.clientHeight),u<0&&(u=0),i.style.left=`${h}px`,i.style.top=`${u}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:i,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(r),n.applyThemeClasses(r),e.setIcon(null);let{dragItemName:s}=t;gN(s)&&(s=s()),e.setLabel(s||""),r.style.top="20px",r.style.left="20px";const o=Vs(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=SS(this.gos));l=a.querySelector("body")||(a instanceof ShadowRoot?a:a instanceof Document?a?.documentElement:a)}this.dragAndDropImageParent=l,l?l.appendChild(r):Re("Could not find document body, it is needed for drag and drop.")}},JTe=class extends Se{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){os(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<n.left+r,this.tickRight=e.clientX>n.right-r,this.tickUp=e.clientY<n.top+r&&!i,this.tickDown=e.clientY>n.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((r,s)=>null==r.rowIndex||null==s.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(-1!==n.indexOf(t))return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Wi(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,n=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let s=i?1:0;if(this.isFromThisGrid(e))r.forEach(o=>{o.rowTop<n&&(s-=1)}),this.moveRows(r,n,s);else{const o=I0(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;0===this.clientSideRowModel.getHighlightPosition(n)&&a--,this.clientSideRowModel.updateRowData({add:r.filter(l=>!this.clientSideRowModel.getRowNode(o?.({data:l.data,level:0,rowPinned:l.rowPinned})??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void Re("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void Re("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(t.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const i={isInterestedIn:n=>2===n,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return a=e?{getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:r,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let s,o,r=-1;switch(i>this.pageBoundsService.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(r)),t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:s,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},eRe=class extends Se{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),ja(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");n&&!o&&(s=a=>{XN(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const r=l=>this.onTouchUp(l,e.eElement),o=t.target,a=[{target:SS(this.gos),type:"touchmove",listener:l=>{l.cancelable&&l.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:l=>this.onTouchMove(l,e.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const a=SS(this.gos);this.addTemporaryEvents([{target:a,type:"mousemove",listener:c=>this.onMouseMove(c,e.eElement)},{target:a,type:"mouseup",listener:c=>this.onMouseUp(c,e.eElement)},{target:a,type:"contextmenu",listener:c=>c.preventDefault()},{target:a,type:"keydown",listener:c=>{c.key===ve.ESCAPE&&this.cancelDrag(e.eElement)}}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:n,listener:r,options:s}=t;i.addEventListener(n,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:n,listener:r,options:s}=t;i.removeEventListener(n,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return kQ(e,t,Ye(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){Au()&&Vs(this.gos).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},o4=class extends tn{constructor(e,t,i,n,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(mc("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new iRe(this,this.beans,this.rowNode,this.column):new tRe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&Re("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const n=this.getDragItem(),r=n.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(n,r):1===r?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},zQ=class extends Se{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=gN(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},tRe=class extends zQ{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},iRe=class extends zQ{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!r||n)}},nRe=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),NS=class Of{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Of.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,n,i);this.localEventService?.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,n){return{type:"dataChanged",node:this,oldData:i,newData:t,update:n}}getRowIndexString(){return null==this.rowIndex?(ji("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?Of.ID_PREFIX_TOP_PINNED+this.rowIndex:"bottom"===this.rowPinned?Of.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Of(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){const n=Ye(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const s=this.createDataChangedEvent(t,r,!1);this.localEventService?.dispatchEvent(s)}checkRowSelectable(){const t=xN(this.beans.gos);this.setRowSelectable(!t||t(this))}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),i)return;if(Km(this.beans.gos)){const r=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:r??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=I0(this.beans.gos);if(i)if(this.data){const n=this.parent?.getRoute()??[];this.id=i({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Of.ID_PREFIX_ROW_GROUP)&&ji(`Row IDs cannot start with ${Of.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Ha(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,i=!0,n=0;const r=this.__autoHeights;null==r||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(a=>{let l=r[a.getId()];if(null==l){if(!this.beans.columnModel.isColSpanActive())return void(t=!0);{let c=[];switch(a.getPinned()){case"left":c=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":c=this.beans.visibleColsService.getRightColsForRow(this);break;case null:c=this.beans.columnViewportService.getColsWithinViewport(this)}if(c.includes(a))return void(t=!0);l=-1}}else i=!1;l>n&&(n=l)}),t)||((i||n<10)&&(n=fg(this.beans.gos,this).height),n==this.rowHeight)||(this.setRowHeight(n),this.beans.rowModel.onRowHeightChangedDebounced?.())}setExpanded(t,i,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const r={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(r,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,i,n){const s=(()=>"string"!=typeof t?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t))(),o=this.beans.valueService.getValueForDisplay(s,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:s,colDef:s.getColDef(),data:this.data,node:this,oldValue:o,newValue:i,value:i,source:n}),!1;const a=this.beans.valueService.setValue(this,s,i,n);return this.dispatchCellChangedEvent(s,i,o),this.checkRowSelectable(),a}setGroupValue(t,i){const n=this.beans.columnModel.getCol(t);Ui(this.groupData)&&(this.groupData={});const r=n.getColId(),s=this.groupData[r];s!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(n,i,s))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.localEventService){const n=r=>{const s=this.aggData?this.aggData[r]:void 0,o=i?i[r]:void 0;if(s===o)return;const a=this.beans.columnModel.getCol(r);a&&this.dispatchCellChangedEvent(a,s,o)};for(const r in i)n(r);for(const r in t)(!i||!(r in i))&&n(r)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(Wh(this.beans.gos)){const n=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,i,n){const r={type:"cellChanged",node:this,column:t,newValue:i,oldValue:n};this.localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){let t=!1,i=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let n=0;n<this.childrenAfterGroup.length;n++){const r=this.childrenAfterGroup[n];let s=r.isSelected();if(!r.selectable){const o=r.calculateSelectedFromChildren();if(null===o)continue;s=o}switch(s){case!0:t=!0;break;case!1:i=!0;break;default:return}}return t&&i?void 0:!!t||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){this.localEventService?.dispatchEvent({type:t,node:this})}selectThisNode(t,i,n="api"){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:n}),!0}setSelected(t,i=!1,n="api"){"boolean"!=typeof n?this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:n}):Re("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(t){return this.rowPinned?(Re("cannot select pinned rows"),0):void 0===this.id?(Re("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,i){this.localEventService||(this.localEventService=new M0),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new RN(this.beans.frameworkOverrides));const n=this.frameworkEventListenerService?.wrap(i)??i;this.localEventService.addEventListener(t,n)}removeEventListener(t,i){if(!this.localEventService)return;const n=this.frameworkEventListenerService?.unwrap(i)??i;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(Re("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})}getRoute(){if(-1===this.level)return[];if(null==this.key)return;const t=[];let i=this;for(;i&&null!=i.key;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Of(this.beans);Object.keys(this).forEach(i=>{nRe.has(i)||(t[i]=this[i])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};NS.ID_PREFIX_ROW_GROUP="row-group-",NS.ID_PREFIX_TOP_PINNED="t-",NS.ID_PREFIX_BOTTOM_PINNED="b-",NS.OBJECT_ID_SEQUENCE=0;var Qh=NS,sRe=class extends tn{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??vc.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(n=>{const r=n.getGui();Ye(r)||Re(`getGui method from filter returned ${r}; it should be a DOM element.`),this.appendChild(r),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){("api"===e.source||"paramsUpdated"===e.source)&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(ma(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},GQ="ag-resizer-wrapper",Cg=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,oRe=`<div class="${GQ}">\n        ${Cg("eTopLeft","topLeft")}\n        ${Cg("eTop","top")}\n        ${Cg("eTopRight","topRight")}\n        ${Cg("eRight","right")}\n        ${Cg("eBottomRight","bottomRight")}\n        ${Cg("eBottom","bottom")}\n        ${Cg("eBottomLeft","bottomLeft")}\n        ${Cg("eLeft","left")}\n    </div>`,aRe=class extends Se{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:r,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const d=Vd(this.element);if(d){const u=this.findBoundaryElement(),h=window.getComputedStyle(u);if(null!=h.minWidth){const g=u.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-g}if(null!=h.minHeight){const g=u.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-g}}if(this.minHeight=r||l,this.minWidth=i||c,n&&this.setWidth(n),s&&this.setHeight(s),(!n||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(d&&t){let u=this.boundaryEl,h=!0;if(u||(u=this.findBoundaryElement(),h=!1),u){const g=parseFloat(u.style.top),m=parseFloat(u.style.left);h?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))FS(i,e),e=wQ(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?FS(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,o=e?0:r.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-n.bottom}}return i+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Bd(t,e),e=cT(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Bd(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!r,o)?0:o,movementY:this.shouldSkipY(t,!!n,s,a)?0:a}}shouldSkipX(e,t,i,n){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return!!l||(l=t?n<0&&e.clientX>a+s.left||n>0&&e.clientX<a+s.left:i?n<0&&e.clientX>o.right||n>0&&e.clientX<a+s.left:n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,n){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return!!l||(l=t?n<0&&e.clientY>a+s.top+i||n>0&&e.clientY<a+s.top:n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=(new DOMParser).parseFromString(oRe,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${GQ}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const r=e[n],s=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const r=i[n];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,l=s||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),u=this.position.x,h=this.position.y;let g=0,m=0;if(a&&c){const y=o?-1:1,_=this.getWidth(),x=_+c*y;let D=!1;o&&(g=_-x,(u+g<=0||x<=this.minWidth)&&(D=!0,g=0)),D||this.setWidth(x)}if(l&&d){const y=n?-1:1,_=this.getHeight(),x=_+d*y;let D=!1;n?(m=_-x,(h+m<=0||x<=this.minHeight)&&(D=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&_<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&g||m)&&this.offsetElement(u+g,h+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+r,i+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},HQ=class Pue extends Se{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...i}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(Pue.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:i=>{if(!i.defaultPrevented&&!Yh(i)){if(this.callbacks.shouldStopEventPropagation(i))return void T0(i);i.key===ve.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};HQ.FOCUS_MANAGED_CLASS="ag-focus-managed";var ev=HQ,jQ={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function a4(e,t){return mT(e)?(null!=e.debounceMs&&Re("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function mT(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var lRe=class extends tn{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=ht,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new ev(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new aRe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=mT(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=mT(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:n}=t??{},{buttons:r,readOnly:s}=e;if(n===s&&wS(i,r))return;const o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(ma(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o)return void(this.eButtonsPanel&&Nd(this.eButtonsPanel));const a=document.createDocumentFragment(),l=c=>{let d,u;switch(c){case"apply":d=this.translate("applyFilter"),u=m=>this.onBtApply(!1,!1,m);break;case"clear":d=this.translate("clearFilter"),u=()=>this.onBtClear();break;case"reset":d=this.translate("resetFilter"),u=()=>this.onBtReset();break;case"cancel":d=this.translate("cancelFilter"),u=m=>{this.onBtCancel(m)};break;default:return void Re("Unknown button type specified")}const g=PS(`<button\n                    type="${"apply"===c?"submit":"button"}"\n                    data-ref="${c}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${d}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(g,{click:u})),a.append(g)};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=a4(this.providedFilterParams,this.getDefaultDebounceMs()),t=Ha(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e&&e.key;let n;("Enter"===i||"Space"===i)&&(n={keyboardEvent:e}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&RS(n,!i)}e&&!t||"immediately"===t?this.onBtApply(e):(!this.applyActive&&!t||"debounce"===t)&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gos:n}=this;t?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,jQ[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},cRe=class extends gT{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},dRe=class extends tn{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ve.ENTER:if(this.highlightedEl){const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case ve.DOWN:case ve.UP:e.preventDefault(),this.navigate(t);break;case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===ve.DOWN;let i;if(this.highlightedEl){let r=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}else i=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/n);let s=-1;e===ve.PAGE_HOME?s=0:e===ve.PAGE_END?s=i:e===ve.PAGE_DOWN?s=Math.min(t+r,i):e===ve.PAGE_UP&&(s=Math.max(t-r,0)),-1!==s&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Nd(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{(function NAe(e,t){Jc(e,"posinset",t)})(t,i+1),function LAe(e,t){Jc(e,"setsize",t)}(t,e.length)})}renderOption(e,t){const i=Vs(this.gos),n=i.createElement("div");Ol(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");n.appendChild(r),r.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new O0({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const i=this.options.findIndex(n=>n.value===e);if(-1!==i){const n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Vd(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),oT(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>i+n||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Vd(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),oT(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},uRe=class extends PQ{constructor(e){if(super(e,e?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ht,this.eWrapper=ht,this.eDisplayField=ht,this.eIcon=ht,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:r,maxPickerWidth:s}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!n,null!=i&&this.setPickerMaxHeight(i),null!=r&&this.setPickerMinWidth(r),null!=s&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:n}=this.config;if(i){const r=mc(i,this.gos);r&&this.eIcon.appendChild(r)}null!=n&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),sT(e,!1),this.ariaRole&&Ol(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ve.UP:case ve.DOWN:case ve.ENTER:case ve.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ve.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:r=!0}=this.config,s={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const h=$Z(this.gos);this.beforeHidePicker(),h&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(s),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:d}=this;d?(l&&(e.style.minWidth=l),e.style.width=e4(cT(this.eWrapper)),c&&(e.style.maxWidth=c)):pT(e,c??cT(this.eWrapper));const u=a??`${JN(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",u),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){this.isAlive()&&(sT(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return pT(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"==typeof e&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},l4=class extends uRe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),i&&null==t&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new dRe("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),function UAe(e,t){Xc(e,"controls",t.id),TS(t,e.id)}(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===ve.TAB&&this.hidePicker(),t){case ve.ENTER:case ve.UP:case ve.DOWN:case ve.PAGE_UP:case ve.PAGE_DOWN:case ve.PAGE_HOME:case ve.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case ve.ESCAPE:super.onKeyDown(e);break;case ve.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return null==r&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},hRe={selector:"AG-SELECT",component:l4},UQ=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{"string"!=typeof e&&([["displayKey"],["displayName"],["predicate","test"]].every(n=>!!n.some(r=>null!=e[r])||(Re(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter(n=>n===e)||[])})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:Re("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else Re("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},WQ=class extends lRe{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{t.setValue(0===i?e:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let s;return s=i?this.areSimpleModelsEqual(e,t):e.operator===t.operator&&$h(e.conditions,t.conditions,(l,c)=>this.areSimpleModelsEqual(l,c)),s}shouldRefresh(e){const t=this.getModel(),i=t?t.conditions??[t]:null,n=e.filterOptions?.map(s=>"string"==typeof s?s:s.displayKey)??this.getDefaultFilterOptions();return!(i&&!i.every(s=>void 0!==n.find(o=>o===s.type))||"number"==typeof e.maxNumConditions&&i&&i.length>e.maxNumConditions)}refresh(e){return!(!this.shouldRefresh(e)||!super.refresh(e)||(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),0))}setModelIntoUi(e){if(e.operator){const i=e;let n=i.conditions;null==n&&(n=[],Re("Filter model is missing 'conditions'"));const r=this.validateAndUpdateConditions(n),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let a=s;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===i.operator;this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),vc.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),Re('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(null==t)return!0;const{operator:i}=t,n=[];return i?n.push(...t.conditions??[]):n.push(t),n[i&&"OR"===i?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new UQ,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(Re('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(Re('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Re('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new l4);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,r),this.resetJoinOperatorOr(i,n,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const n=this.createManagedBean(new cRe);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>"string"==typeof t?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const n=e+1,r=i-n;r>0&&this.removeConditionsAndOperators(n,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,r)=>{const s=this.isConditionDisabled(r,e);n.setDisabled(s||this.filterListOptions.length<=1),1===r&&(RS(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((n,r)=>{Wr(n,this.isConditionBodyVisible(r))});const i="OR"===(t??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,r,s,o)=>{this.setElementDisplayed(n,r<o),this.setElementDisabled(n,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(r=>Nd(r))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(r=>{Nd(r.getGui()),this.destroyBean(r)})}removeItems(e,t,i){return null==i?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof Jm&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))-1===t&&(t=o,i=o);else{const l=o<t;(o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1)||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&i--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(i,r),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(gN(this.filterPlaceholder)){const n=this.filterPlaceholder,r=this.eTypes[t].getValue();i=n({filterOptionKey:r,filterOption:this.translate(r),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,n,r)=>{if(!(t instanceof Jm))return;const s=0===i&&r>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",o=0===i&&r>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof Jm&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof tn&&Wr(e.getGui(),t)}setElementDisabled(e,t){e instanceof tn&&RS(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Jm&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const n=this.getNumberOfInputs(t),r=this.getInputs(e);for(let s=0;s<r.length;s++){const o=r[s];null!=o&&i(o,s,e,n)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||"empty"===this.getConditionType(e)||this.getValues(e).some(i=>null==i))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),vc.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((n,r,s)=>{s===t&&this.setElementValue(n,null!=i[r]?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,0===i&&0===n?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type);return this.evaluateCustomFilter(r,n,i)??(null==i?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}evaluateCustomFilter(e,t,i){if(null==e)return;const{predicate:n}=e;return null==n||t.some(r=>null==r)?void 0:n(t,i)}isBlank(e){return null==e||"string"==typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}},$Q=class extends WQ{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const n=this.comparator(),r=null!=e[0]?n(e[0],t):0;switch(i.type){case"equals":return 0===r;case"notEqual":return 0!==r;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const s=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return Re('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function YQ(e){return!(e.altKey||e.ctrlKey||e.metaKey)&&1===e.key?.length}function c4(e,t,i,n,r){const s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=e.addGridCommonParams({event:t,editing:r,column:n,node:i,data:i.data,colDef:n.getColDef()});return!(!s||!s(o))}var tv=class extends Jm{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=Ye(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:i=>{YQ(i)&&i.key&&!e.test(i.key)&&i.preventDefault()},paste:i=>{const n=i.clipboardData?.getData("text");n&&n.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},vT={selector:"AG-INPUT-TEXT-FIELD",component:tv},d4=class extends tv{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:n}=this.config;"number"==typeof e&&this.setPrecision(e),"number"==typeof t&&this.setMin(t),"number"==typeof i&&this.setMax(i),"number"==typeof n&&this.setStep(n)}onWheel(e){Ur(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,ed(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,ed(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,ed(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(Ye(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(n||(n=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"==typeof e&&e.includes("e")}},wRe={selector:"AG-INPUT-NUMBER-FIELD",component:d4},KQ=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],u4=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const n=e,s=(n.conditions??[]).map(a=>this.getModelAsString(a)),o="AND"===n.operator?"andCondition":"orCondition";return s.join(` ${i(o,jQ[o])} `)}if("blank"===e.type||"notBlank"===e.type)return i(e.type,e.type);{const n=e,r=this.optionsFactory.getCustomOption(n.type),{displayKey:s,displayName:o,numberOfInputs:a}=r||{};return s&&o&&0===a?(i(s,o),o):this.conditionToString(n,r)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},qQ=class extends u4{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function h4(e){const{allowedCharPattern:t}=e??{};return t??null}var ZQ=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],QQ=class extends u4{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}};function XQ(e){const t=e&&e.trim();return""===t?e:t}function JQ(e){if("number"==typeof e)return e;if("string"==typeof e){const t=parseInt(e);return isNaN(t)?void 0:t}}function Tu(e,t=Number.MAX_VALUE){return i=>{const n=JQ(i);if(!(null==n||n<e||n>t))return n}}function VS(e,t){return e.toString().padStart(t,"0")}function td(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>VS(r,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>VS(r,2)).join(":")),n}var p4=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function BS(e,t="YYYY-MM-DD"){const i=VS(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>VS(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${p4(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${p4(e.getDate())}`,DD:()=>VS(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${p4(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function Ll(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map(u=>parseInt(u,10));if(3!==n.filter(u=>!isNaN(u)).length)return null;const[r,s,o]=n,a=new Date(r,s-1,o);if(a.getFullYear()!==r||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!i||"00:00:00"===i)return a;const[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var tX=class{constructor(e,t,i,n,r){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(i).newAgStackInstance().then(a=>{this.alive?(this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),r?.(this))):e.destroyBean(a)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Wr(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;this.dateComp?.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(e)&&(t=!0),!t&&this.dateComp?.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(e)&&Re("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},iX=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],nX=class extends u4{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},r="inRange"==i||2===n,s=Ll(e.dateFrom),o=Ll(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==s?BS(s,a):"null"}-${null!==o?BS(o,a):"null"}`:null!=s?BS(s,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},g4=class extends Se{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Wi(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=Ye(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!qo(this.beans.gos,"print")||"left"===e.getPinned())return t;const n=this.beans.visibleColsService.getColsLeftWidth();return"right"===e.getPinned()?n+this.beans.visibleColsService.getBodyContainerWidth()+t:n+t}setLeft(e){if(Ye(e)&&(this.eCell.style.left=`${e}px`),Bs(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&function GAe(e,t){Jc(e,"colspan",t)}(this.ariaEl,t.length)}}};function oX(e,t,i,n){return Ui(e)?[]:function lX(e,t,i,n,r){if(Ui(e))return[];let s;if("function"==typeof e){const o=function ARe(e,t,i,n){return t.addGridCommonParams({colDef:e,column:i,columnGroup:n})}(t,i,n,r);s=e(o)}else s=e;return"string"==typeof s?[s]:Array.isArray(s)?[...s]:[]}(e.headerClass,e,t,i,n)}function aX(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColAtEdge(t,"last"))}var TRe=0,cX=class Fue extends Se{constructor(t,i,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=i,this.instanceId=t.getUniqueId()+"-"+TRe++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:i,column:n}=this.focusService.getFocusedHeader();return function bRe(e,t,i,n){const r=n.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;return!!Ye(s)&&!!s(e.addGridCommonParams({colDef:r,column:n,headerRowIndex:i,event:t}))}(this.gos,t,i,n)}getWrapperHasFocus(){return Ur(this.gos)===this.eGui}setGui(t,i){this.eGui=t,this.addDomData(i),i.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),i.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:i,checkMeasuringCallback:n,compBean:r}=t,{animationFrameService:s,resizeObserverService:o,columnModel:a,gos:l}=this.beans,c=y=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:_,paddingBottom:x,borderBottomWidth:D,borderTopWidth:M}=Xm(this.getGui()),H=i.offsetHeight+(_+x+D+M);if(y<5){const F=Vs(l);if(!F||!F.contains(i)||0==H)return void s.requestAnimationFrame(()=>c(y+1))}a.setColHeaderHeight(this.column,H)};let u,d=!1;const h=()=>{const y=this.column.isAutoHeaderHeight();y&&!d&&g(),!y&&d&&m()},g=()=>{d=!0,c(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=o.observeResize(i,()=>c(0))},m=()=>{d=!1,u&&u(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};h(),r.addDestroyFunc(()=>m()),r.addManagedListeners(this.column,{widthChanged:()=>d&&c(0)}),r.addManagedEventListeners({sortChanged:()=>{d&&window.setTimeout(()=>c(0))}}),n&&n(h)}onDisplayedColumnsChanged(){const{comp:t,column:i,beans:n,eGui:r}=this;!t||!i||!r||(aX(t,i,n.visibleColsService),mQ(r,n.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&ed(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){const i=Ur(this.gos),n=t.key===ve.LEFT||t.key===ve.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const r=t.key===ve.LEFT!==this.gos.get("enableRtl"),s=BQ[r?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(o,t.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(s)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=kS(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+s+i>o){if(!(o>r+s))return 0;i=o-r-s}}return i}getResizeDiff(t){let i=t.key===ve.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),r=this.gos.get("enableRtl");return n&&r!==("right"===n)&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:i&&t.preventDefault()}}addDomData(t){const i=Fue.DOM_DATA_KEY_HEADER_CTRL;Ym(this.gos,this.eGui,i,this),t.addDestroyFunc(()=>Ym(this.gos,this.eGui,i,null))}getGui(){return this.eGui}focus(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,n){const r=t??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault(),this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};cX.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var yT=cX,f4=class extends Se{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},oi="32.2.1",dX={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},uX=["january","february","march","april","may","june","july","august","september","october","november","december"],hX=class extends tn{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let i;i=e.operator?e.conditions[0]:e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new UQ,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){return`${this.columnNameService.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},pX=class extends Se{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=ht,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new tv(this.params?.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=n=>this.valueChangedListener(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},gX=class extends hX{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ht}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=mT(this.params.filterParams),!this.isReadOnly()){const i=a4(this.params.filterParams,this.getDefaultDebounceMs()),n=Ha(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();ma(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){if(this.applyActive&&e.key!==ve.ENTER)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=XQ(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},KRe=class extends Se{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new d4),this.eFloatingFilterTextInput=this.createManagedBean(new tv),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(i,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},m4={version:oi,moduleName:"@ag-grid-community/filter-core",beans:[class extends Se{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"==typeof t&&t(e)}setFilterModel(e,t="api"){this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){CN(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):vc.resolve()).then(()=>{const r={source:t,type:"filterChanged",columns:n};i&&Wa(r,i),this.eventService.dispatchEvent(r),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!CN(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(!this.isAdvancedFilterEnabled())return this.columnFilterService?.getFilterInstance(e,t);this.warnAdvancedFilters()}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){Re("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){this.columnFilterService?.setColDefPropertiesForDataType(e,t,i)}}]},tke={version:oi,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function jRe(e){return!!e.filterManager?.isAnyFilterPresent()},onFilterChanged:function URe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}},dependantModules:[m4]},bT={version:oi,moduleName:"@ag-grid-community/column-filter",beans:[class extends Se{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e,t="api"){if(this.dataTypeService?.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const i=[],n=this.getFilterModel(!0);if(e){const r=new Set(Object.keys(e));this.allColumnFilters.forEach((s,o)=>{i.push(this.setModelOnFilterWrapper(s.filterPromise,e[o])),r.delete(o)}),r.forEach(s=>{const o=this.columnModel.getColDefCol(s)||this.columnModel.getCol(s);if(!o)return void Re("setFilterModel() - no column found for colId: "+s);if(!o.isFilterAllowed())return void Re("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);const a=this.getOrCreateFilterWrapper(o);a?i.push(this.setModelOnFilterWrapper(a.filterPromise,e[s])):Re("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s)})}else this.allColumnFilters.forEach(r=>{i.push(this.setModelOnFilterWrapper(r.filterPromise,null))});vc.all(i).then(()=>{const r=this.getFilterModel(!0),s=[];this.allColumnFilters.forEach((o,a)=>{wS(n?n[a]:null,r?r[a]:null)||s.push(o.column)}),s.length>0&&this.filterManager?.onFilterChanged({columns:s,source:t})})}setModelOnFilterWrapper(e,t){return new vc(i=>{e.then(n=>{"function"!=typeof n.setModel&&(Re("filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(t)||vc.resolve()).then(()=>i())})})}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:n}=this;return i.forEach((r,s)=>{const o=this.getModelFromFilterWrapper(r);Ye(o)&&(t[s]=o)}),e||Object.entries(n).forEach(([r,s])=>{Ye(s)&&!i.has(r)&&this.columnModel.getCol(r)?.isFilterAllowed()&&(t[r]=s)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?"function"!=typeof t.getModel?(Re("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0)}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const t=!!CN(this.gos),i=s=>{if(!s.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!(!s.isValueActive()||!a)&&(!!this.columnModel.isPivotMode()||t)},n=[],r=[];return this.forEachColumnFilter((s,o)=>{(s=>!!s&&(s.isFilterActive?s.isFilterActive():(Re("Filter is missing isFilterActive() method"),!1)))(s)&&(i(o.column)?n.push(s):r.push(s))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,n)=>n.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return vc.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){const{data:n,aggData:r}=e,s=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?r:n;for(let a=0;a<s.length;a++){const l=s[a];if(null!=l&&l!==t){if("function"!=typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.gos.get("allowShowChangeAfterFilter")&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const n=i?this.columnModel.getCol(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():null!=this.getModelFromInitialState(e)}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(MN(this.gos))t="agSetColumnFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(MN(this.gos))t="agSetColumnFloatingFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),n=e.getColDef();let r;const s={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(r,a)},o=this.userComponentFactory.getFilterDetails(n,s,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a?.then(l=>{r=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:rQ(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=n,t}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((i,n)=>{let r;r=i.column.isPrimary()?this.columnModel.getColDefCol(n):this.columnModel.getCol(n),(!r||r!==i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(n))});const t=e.every(i=>"agGroupColumnFilter"===i.getColDef().filter);e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(t=>{"agGroupColumnFilter"===t.getColDef().filter&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return!i||"function"!=typeof i?.isFilterAllowed||i.isFilterAllowed()}getFloatingFilterCompDetails(e,t){const i=l=>{const c=this.getOrCreateFilterWrapper(e)?.filterPromise;c?.then(d=>{l(LS(d))})},n=e.getColDef(),r={...this.createFilterParams(e,n),filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())},s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,s4,r);let o=function GRe(e,t,i){if(null==t)return null;let n=null;const{compName:r,jsComp:s,fwComp:o}=VQ.getCompKeys(e,t,s4);return r?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:null==s&&null==o&&!0===t.filter&&(n=i()),n}(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));return null==o&&(o="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(n,{column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1},o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{this.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:i,columns:[t],source:i?.source??"columnFilter"})}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n))return void this.destroyFilter(i,"paramsUpdated");const r=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then(s=>{!1===(!s?.refresh||s.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,i),filterChangedCallback:this.filterChangedCallbackFactory(s,i),doesRowPassOtherFilter:a=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(s,a),...r}))&&this.destroyFilter(i,"paramsUpdated")}):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:n}=t;return!(i===n||i?.render&&n?.render&&i.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{const n=LS(i);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(LS(i))})})}getFilterInstanceImpl(e){const t=this.columnModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??vc.resolve(null):vc.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let s=()=>{};const o=new Promise(a=>{s=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:s}),o}const i=this.columnModel.getColDefCol(e),n=i?this.getOrCreateFilterWrapper(i):null;return n?(s=this.setModelOnFilterWrapper(n.filterPromise,t),new Promise(o=>{s.then(a=>o(a))})):Promise.resolve();var s}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const n=MN(this.gos),r=this.localeService.getLocaleTextFunc(),s=o=>{const{filterParams:a}=e;e.filterParams="object"==typeof a?{...a,...o}:o};switch(t.baseDataType){case"number":n&&s({comparator:(o,a)=>{const l=null==o?0:parseInt(o),c=null==a?0:parseInt(a);return l===c?0:l>c?1:-1}});break;case"boolean":s(n?{valueFormatter:o=>Ye(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>!1===a,numberOfInputs:0}]});break;case"date":n&&s({valueFormatter:o=>{const a=i(o);return Ye(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(1===a&&null!=o){const l=uX[Number(o)-1];return r(l,dX[l])}return o??r("blanks","(Blanks)")}});break;case"dateString":{const o=t.dateParser;s(n?{valueFormatter:a=>{const l=i(a);return Ye(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(1===l&&null!=a){const c=uX[Number(a)-1];return r(c,dX[c])}return a??r("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=o(l);return null==l||c<a?-1:c>a?1:0}});break}case"object":n?s({valueFormatter:o=>{const a=i(o);return Ye(a)?a:r("blanks","(Blanks)")}}):e.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)})}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}}],dependantModules:[m4]},ike={version:oi,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function kRe(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()},getFilterInstance:function PRe(e,t,i){return e.filterManager?.getFilterInstance(t,i)},getColumnFilterInstance:function FRe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)},destroyFilter:function ORe(e,t){const i=e.columnModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")},setFilterModel:function LRe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))},getFilterModel:function NRe(e){return e.filterManager?.getFilterModel()??{}},getColumnFilterModel:function VRe(e,t){return e.filterManager?.getColumnFilterModel(t)??null},setColumnFilterModel:function BRe(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()},showColumnFilter:function zRe(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"}):ji(`column '${t}' not found`)}},dependantModules:[bT,tke]},v4={version:oi,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends yT{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n,r){this.comp=e,r=AS(this,this.beans.context,r),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=mc("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new ev(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();k0(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Ur(this.gos)===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void n.focus();const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do{if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ve.UP:case ve.DOWN:t||e.preventDefault();case ve.LEFT:case ve.RIGHT:if(t)return;e.stopPropagation();case ve.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ve.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&P0(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){const s=this.lastFocusEvent;s&&s&&s.key===ve.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new f4([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new g4(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=n=>{if("filterDestroyed"===n?.source&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){const o=t?.getCurrentFloatingFilterParentModel(this.column),a=n?{...n,columns:n.columns??[],source:"api"===n.source?"api":"columnFilter"}:null;s.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t?.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();r&&n?r.then(s=>{!s||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,i):this.updateFloatingFilterParams(n)}):this.updateCompDetails(e,n,i)}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;const t=e.params;this.comp.getFloatingFilterComp()?.then(i=>{let n=!1;i?.refresh&&"function"==typeof i.refresh&&null!==i.refresh(t)&&(n=!0),!n&&i?.onParamsUpdated&&"function"==typeof i.onParamsUpdated&&null!==i.onParamsUpdated(t)&&Re("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[bT]},nke={version:oi,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends tn{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[vT]),this.eFloatingFilterText=ht}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null!=e?this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}}}],dependantModules:[v4]},ske={version:oi,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[{version:oi,moduleName:"@ag-grid-community/simple-filter",dependantModules:[bT],userComponents:[{name:"agTextColumnFilter",classImp:class extends WQ{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>null==e?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(null==i)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return 0===t.indexOf(i);case"endsWith":{const n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new QQ(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(Re("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:n})=>e(t,i,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(n,r,s,o)=>{if(r<o){let a=Uh(n.getValue());t&&this.textFilterParams.trimInput&&(a=XQ(a)??null,n.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return ZQ}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Ol(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const n=this.createManagedBean(new tv);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,i,n){const r=e.map(h=>this.formatter(h))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if("blank"===i.type)return this.isBlank(t);if("notBlank"===i.type)return!this.isBlank(t);const u={api:o,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:s,textFormatter:d};return r.some(h=>this.matcher({...u,filterText:h}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agNumberColumnFilter",classImp:class extends $Q{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new qQ(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return KQ}setElementValue(e,t,i){const n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=h4(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Ol(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){const r=this.createManagedBean(n?new tv({allowedCharPattern:n}):new d4);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let t=Uh(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}}},{name:"agDateColumnFilter",classImp:class extends $Q{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Ll(t)||null,i&&Ll(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,n)=>{if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?n:Number(e[i]);Re(`DateFilter ${i} is not a number`)}return n};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&Re("DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Ll(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Ll(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Re("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new nX(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new tX(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return iX}createValueElement(){const t=Vs(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,n){const s=Vs(this.gos).createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),t.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,n,r,s)=>{r!==e||!t||n>=s||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=td(n[0])),n.length>1&&(i.dateTo=td(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(i.getDate())}),t}translate(e){return super.translate("lessThan"===e?"before":"greaterThan"===e?"after":e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agDateInput",classImp:class extends tn{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[vT]),this.eDateInput=ht}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===Ur(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Au(),t.type=i?"date":"text";const{minValidYear:n,maxValidYear:r,minValidDate:s,maxValidDate:o}=e.filterParams||{};if(s&&n&&Re("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&Re("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[a,l]=[s,o].map(c=>c instanceof Date?c:Ll(c));a&&l&&a.getTime()>l.getTime()&&Re("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?t.min=s instanceof Date?BS(s):s:n&&(t.min=`${n}-01-01`),o?t.max=o instanceof Date?BS(o):o:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ll(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(td(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:KN()||qN()||Au()&&vQ()>=14.1}}}]},v4],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends gX{init(e){super.init(e),this.filterModelFormatter=new QQ(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return ZQ}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new pX)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends gX{init(e){super.init(e),this.filterModelFormatter=new qQ(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){h4(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return KQ}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=h4(e.filterParams),this.createManagedBean(this.allowedCharPattern?new pX({config:{allowedCharPattern:this.allowedCharPattern}}):new KRe)}}},{name:"agDateColumnFloatingFilter",classImp:class extends hX{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[vT]),this.eReadOnlyText=ht,this.eDateWrapper=ht}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return iX}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new nX(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(t),t?(this.dateComp.setDate(e?Ll(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}setEditable(e){Wr(this.eDateWrapper,e),Wr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const t=td(this.dateComp.getDate());this.params.parentFilterInstance(i=>{if(i){const n=Ll(t);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=a4(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ha(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new tX(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},fX={version:oi,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends Se{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return Ye(e)?os(this.gos)?e.toUpperCase():(Re("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!=typeof e)return void Re("Grid option quickFilterText only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{const n=this.getQuickFilterTextForColumn(i,e);return Ye(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:r}=this;return r(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(r)}return Ye(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(i=>{const n=this.getQuickFilterTextForColumn(i,e);Ye(n)&&t.push(n)}),t.join("\n")}}],dependantModules:[m4]},lke={version:oi,moduleName:"@ag-grid-community/filter",dependantModules:[ske,nke,{version:oi,moduleName:"@ag-grid-community/quick-filter",dependantModules:[fX,{version:oi,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function QRe(e){return!!e.filterManager?.isQuickFilterPresent()},getQuickFilter:function XRe(e){return e.gos.get("quickFilterText")},resetQuickFilter:function JRe(e){e.filterManager?.resetQuickFilterCache()}},dependantModules:[fX]}]},ike]},y4=class extends tn{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},cke=class extends y4{constructor(e){super('<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div data-ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',e),this.eFloatingFilterBody=ht,this.eButtonWrapper=ht,this.eButtonShowMainFilter=ht}postConstruct(){const e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(i,n)=>this.addOrRemoveCssClass(i,n),addOrRemoveBodyCssClass:(i,n)=>this.eFloatingFilterBody.classList.toggle(i,n),setButtonWrapperDisplayed:i=>Wr(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)},e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},dke=class extends y4{constructor(e){super('<div class="ag-header-cell" role="columnheader">\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',e),this.eResize=ht,this.eHeaderCompWrapper=ht,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();var r,s;r="col-id",null!=(s=this.column.getColId())&&""!=s?e.setAttribute(r,s):e.removeAttribute(r);const i={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setAriaSort:r=>r?function HAe(e,t){Jc(e,"sort",t)}(e,r):function jAe(e){NN(e,"sort")}(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)}},uke=class extends y4{constructor(e){super('<div class="ag-header-group-cell" role="columnheader">\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',e),this.eResize=ht,this.eHeaderCompWrapper=ht}postConstruct(){const e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(n,r)=>this.addOrRemoveCssClass(n,r),setResizableDisplayed:n=>Wr(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>((n,r)=>null!=r?e.setAttribute(n,r):e.removeAttribute(n))("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp},e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive())return void t();const i=this.getGui(),n=e.getGui();this.eHeaderCompWrapper.appendChild(n),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}},pke=class extends tn{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){fQ(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t},void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach(n=>{const r=n.instanceId;let s=i[r];delete i[r],null==s&&(s=this.createHeaderComp(n),this.getGui().appendChild(s.getGui())),this.headerComps[r]=s}),Zc(i,(n,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),t){const n=vg(this.headerComps);n.sort((s,o)=>s.getCtrl().getColumnGroupChild().getLeft()-o.getCtrl().getColumnGroupChild().getLeft());const r=n.map(s=>s.getGui());MQ(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new uke(e);break;case"filter":t=new cke(e);break;default:t=new dke(e)}return this.createBean(t),t.setParentComponent(this),t}},fke=class extends Se{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=Vs(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,t){let i;if("string"==typeof e?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const r=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),s="filter"===Wi(r||[]).getType(),o=this.getHeaderRowCount()-1;let a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return t&&s&&c===o-1&&c++,-1===c?null:{headerRowIndex:c,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,r=t.column,s=this.getHeaderRowCount(),o=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(r,n):this.headerPositionUtils.getColumnVisibleChild(r,n),d=!1;return a<0&&(a=0,l=r,d=!0),a>=s?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==c&&(this.currentHeaderRowWithoutSpan=c),!(!d&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const n=this.focusService.getFocusedHeader(),r=2===e,s=this.gos.get("enableRtl");let o,a;if(-1!==this.currentHeaderRowWithoutSpan?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,r!==s?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let s,r=null;if("Before"===t?n>0&&(s=n-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(Bs(e)){const n=e.getDisplayedLeafColumns();i="Before"===t?Wi(n):n[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},mke=class extends Se{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new ev(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce((s,o)=>s+o,0),n=this.columnModel.getColumnHeaderRowHeight();this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=n,this.headerHeight!==t&&(this.headerHeight=t,this.comp.setHeightAndMinHeight(`${t+1}px`),this.eventService.dispatchEvent({type:"headerHeightChanged"}))}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey;(this.headerNavigationService.navigateHorizontally(i!==t?2:3,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case ve.LEFT:t=2;case ve.RIGHT:Ye(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case ve.UP:t=0;case ve.DOWN:Ye(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Ur(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!bg())return;const t=new _g(this.eGui);this.addManagedListeners(t,{longTap:n=>{e(void 0,n.touchStart,n.touchEvent)}}),this.addDestroyFunc(()=>t.destroy())}},b4=class extends Se{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=qo(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let r;e?r=t+i+n:(r=t,this.addSpacer&&0===(this.gos.get("enableRtl")?i:n)&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},vke=class extends Se{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function mX(e){const{isFromHeader:t,fromLeft:i,xPosition:n,fromEnter:r,fakeEvent:s,pinned:o,gos:a,columnModel:l,columnMoveService:c,visibleColsService:d}=e;let{allMovingColumns:u}=e;if(t){const V=[];u.forEach(H=>{let F=null,P=H.getParent();for(;null!=P&&1===P.getDisplayedLeafColumns().length;)F=P,P=P.getParent();null!=F?(F.getColGroupDef()?.marryChildren?F.getProvidedColumnGroup().getLeafColumns():F.getLeafColumns()).forEach(q=>{V.includes(q)||V.push(q)}):V.includes(H)||V.push(H)}),u=V}const h=u.slice();l.sortColsLikeCols(h);const g=function Cke(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:r,gos:s,columnModel:o,visibleColsService:a}=e;if(s.get("suppressMovableColumns")||t.some(M=>M.getColDef().suppressMovable))return[];const c=function _ke(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(a,r),d=o.getCols(),u=c.filter(M=>qm(t,M)),h=c.filter(M=>!qm(t,M)),g=d.filter(M=>!qm(t,M));let _,m=0,y=n;if(i){let M=0;u.forEach(k=>M+=k.getActualWidth()),y-=M}if(y>0){for(let M=0;M<h.length&&(y-=h[M].getActualWidth(),!(y<0));M++)m++;i&&m++}m>0?_=g.indexOf(h[m-1])+1:(_=g.indexOf(h[0]),-1===_&&(_=0));const x=[_],D=(M,k)=>M-k;if(i){let M=_+1;const k=d.length-1;for(;M<=k;)x.push(M),M++;x.sort(D)}else{let M=_;const k=d.length-1;let V=d[M];for(;M<=k&&c.indexOf(V)<0;)M++,x.push(M),V=d[M];M=_-1;const H=0;for(;M>=H;)x.push(M),M--;x.sort(D).reverse()}return x}({movingCols:h,draggingRight:i,xPosition:n,pinned:o,gos:a,columnModel:l,visibleColsService:d}),m=function yke(e,t){const i=t.getCols(),n=function qIe(e){return e.sort((t,i)=>t-i)}(e.map(l=>i.indexOf(l))),r=n[0];return Wi(n)-r!=n.length-1?null:r}(h,l);if(0===g.length)return;const y=g[0];let _=null!==m&&!r;if(t&&(_=null!==m),_&&!s&&(!i&&y>=m||i&&y<=m))return;const x=d.getAllCols(),D=[];let M=null;for(let V=0;V<g.length;V++){const H=g[V],F=c.getProposedColumnOrder(h,H);if(!c.doesOrderPassRules(F))continue;const P=F.filter(Y=>x.includes(Y));if(null===M)M=P;else if(!$h(P,M))break;const G=bke(F);D.push({move:H,fragCount:G})}if(0===D.length)return;D.sort((V,H)=>V.fragCount-H.fragCount);const k=D[0].move;return k>l.getCols().length-u.length?void 0:{columns:u,toIndex:k}}function _4(e){const{columns:t,toIndex:i}=mX(e)||{},{finished:n,columnMoveService:r}=e;return t&&null!=i?(r.moveColumns(t,i,"uiColumnMoved",n),n?null:{columns:t,toIndex:i}):null}function bke(e){function t(n){const r=[];let s=n.getOriginalParent();for(;null!=s;)r.push(s),s=s.getOriginalParent();return r}let i=0;for(let n=0;n<e.length-1;n++){let r=t(e[n]),s=t(e[n+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{-1===s.indexOf(o)&&i++})}return i}function _T(e){const{pinned:t,fromKeyboard:i,gos:n,ctrlsService:r,useHeaderRow:s,skipScrollPadding:o}=e;let a=r.getHeaderRowContainerCtrl(t)?.getViewportElement(),{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),null==t&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function N0(e,t){for(const i of e)i.setMoving(t,"uiColumnMoved")}var Ske=class extends Se{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!Ye(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const e=this.lastDraggingEvent?.dragItem.columns??[];for(const t of e){const i=t.getPinned();if(t.getColDef().lockPinned){if(i==this.pinned)return"move"}else{if(i===this.pinned||!this.pinned)return"move";if(!i&&this.pinned)return"pinned"}}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,r=(t||[]).filter(s=>n[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){const r=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!r)return void this.finishColumnMoving();if(this.lastDraggingEvent=e,!e||!n&&Ui(e.hDirection))return;const{pinned:s,gos:o,ctrlsService:a}=this,l=_T({x:e.x,pinned:s,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(e,t,i,l,n):this.handleColumnDragWhileAllowingMovement(e,t,i,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const n=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,n,r){const s=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(null==a||null==l)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,n)}}handleColumnDragWhileAllowingMovement(e,t,i,n,r){const s=this.getAllMovingColumns(e),o=1===this.normaliseDirection(e.hDirection),c=_4({...this.getMoveColumnParams({allMovingColumns:s,isFromHeader:1===e.dragSource.type,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:i}),finished:r});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let n=null;return t?(n=i.columnsInSplit,n||(n=i.columns)):n=i.columns,n?n.filter(s=>!s.getColDef().lockPinned||s.getPinned()==this.pinned):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:n,fromLeft:r,fromEnter:s,fakeEvent:o}=e,{pinned:a,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:r,xPosition:n,pinned:a,fromEnter:s,fakeEvent:o,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}}findFirstAndLastMovingColumns(e){const t=e.length;let i,n;for(let r=0;r<=t;r++){if(!i){const s=e[r];null!=s.getLeft()&&(i=s)}if(!n){const s=e[t-1-r];null!=s.getLeft()&&(n=s)}if(i&&n)break}return{firstMovingCol:i,lastMovingCol:n}}highlightHoveredColumn(e,t){const{gos:i,columnModel:n}=this,r=i.get("enableRtl"),s=n.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let c,o=null,a=null,l=null;for(const d of s){if(a=d.getActualWidth(),o=this.getNormalisedColumnLeft(d,0,r),null!=o&&o<=t&&o+a>=t){l=d;break}o=null,a=null}if(l)-1!==e.indexOf(l)&&(l=null);else{for(let d=s.length-1;d>=0;d--){const u=s[d],h=s[d].getParent();if(!h){l=u;break}const g=h?.getDisplayedLeafColumns();if(g.length){l=Wi(g);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),null!=l&&null!=o&&null!=a&&(c=t-o<a/2!==r?0:1,l.setHighlighted(c),this.lastHighlightedColumn={column:l,position:c})}getNormalisedXPositionInfo(e,t){const{gos:i,visibleColsService:n}=this,r=i.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!o||null==a)return;const l=n.getAllCols(),c=l.indexOf(s),d=l.indexOf(o),u=0===a!==r,h=c<d||c===d&&!u;let g=0;if(u?h&&(g-=1):h||(g+=1),d+g===c)return;const m=l[d+g];return m?{fromLeft:h,xPosition:this.getNormalisedColumnLeft(m,20,r)}:void 0}getColumnMoveAndTargetInfo(e,t,i){const n=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=this.findFirstAndLastMovingColumns(e);if(!r||!s||n.column||!t)return{firstMovingCol:r,...n};const a="left"===this.getPinDirection();return{firstMovingCol:r,position:a?1:0,column:a!==i?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){const{gos:n,ctrlsService:r}=this,s=e.getLeft();if(null==s)return null;const o=e.getActualWidth();return _T({x:i?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:n,ctrlsService:r})}isAttemptingToPin(e){return(this.needToMoveLeft||this.needToMoveRight)&&this.failedMoveAttempts>7||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:n,fakeEvent:r,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:s,fromEnter:n,fakeEvent:r}),{columns:a,toIndex:l}=mX(o)||{};a&&null!=l&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=8)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const n=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(n,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(e,t,i=!1){const n=(e||[]).filter(r=>!r.getColDef().lockPinned);return n.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},Dke=class extends Se{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}}),this.moveColumnFeature=this.createManagedBean(new Ske(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new vke(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Mke=class extends Se{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=r}postConstruct(){const e=[];let t,i;const n=()=>{if(Wr(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),i){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new _g(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},r=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,r(),n())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:r}=this,s=this.normaliseResizeAmount(t),a=[{key:i,newWidth:r+s}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(s-n)>kS(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1))}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,n="right"===this.pinned;return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},Eke=class extends Se{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){const e=t=>{t&&"string"!=typeof t&&(this.selectionOptions=t)};e(this.gos.get("rowSelection")),this.addManagedPropertyListener("rowSelection",t=>e(t.currentValue))}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Ur(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new gT),this.cbSelectAll.addCssClass("ag-header-select-all"),Ol(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),VN(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${n} (${i})`:null),this.cbSelectAll.setInputAriaLabel(`${n} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return!!SN(this.gos)||(Re(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return!(!os(this.gos)&&!Wh(this.gos)&&(Re(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),1))}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let n="uiSelectAll";i?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const r={source:n,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){const e=this.selectionOptions,t=e&&eT(e)&&R0(this.column),i=this.column.getColDef().headerCheckboxSelection;let n=!1;return n=!!t||("function"==typeof i?i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):!!i),n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.selectionOptions;return void 0!==e?"multiRow"===e.mode&&"filtered"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.selectionOptions;return void 0!==e?"multiRow"===e.mode&&"currentPage"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},Ike=class extends yT{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n,r){this.comp=e,r=AS(this,this.beans.context,r),this.setGui(t,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new Mke(this.getPinned(),this.column,i,e,this)),r.createManagedBean(new f4([this.column],t)),r.createManagedBean(new g4(this.column,t,this.beans)),r.createManagedBean(new ev(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const s=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:s,columnRowGroupChanged:s,columnPivotChanged:s,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),n=this.column.getMinWidth(),r=this.column.getMaxWidth(),s=Math.min(Math.max(i+e,n),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:i,column:n,ctrlsService:r}=this,{gos:s,columnModel:o,columnMoveService:a,visibleColsService:l}=i,c=this.getPinned(),d=t.getBoundingClientRect().left,u=n.getActualWidth(),m=_T({x:0===e!==s.get("enableRtl")?d-20:d+u+20,pinned:c,fromKeyboard:!0,gos:s,ctrlsService:r}),y=this.focusService.getFocusedHeader();_4({allMovingColumns:[n],isFromHeader:!0,fromLeft:1===e,xPosition:m,pinned:c,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(y)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,n)=>{this.beans.sortController.setSortForColumn(this.column,i,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,n)=>{this.setupTooltip(e,i,n)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new Eke(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ve.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ve.ENTER&&this.onEnterKeyDown(e),e.key===ve.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof n4)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n="whenTruncated"===this.gos.get("tooltipShowMode"),r=this.eGui,s=this.column.getColDef();!i&&n&&!s.headerComponent&&(i=()=>{const l=r.querySelector(".ag-header-cell-text");return!l||l.scrollWidth>l.clientWidth});const a=e.createManagedBean(new O0({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i}));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const i=oX(this.column.getColDef(),this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{n.has(r)?n.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),n.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:n,dragAndDropService:r,gos:s}=this,{columnModel:o}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),N0([t],!0)},onDragStopped:()=>N0([t],!1),onDragCancelled:()=>N0([t],!1),onGridEnter:c=>{if(a){const d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];o.setColsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{if(a){const d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];o.setColsVisible(d,!1,"uiColumnMoved")}}};r.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!(!t||!t.refresh)&&t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!(this.gos.get("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),i=1===e;this.comp.addOrRemoveCssClass("ag-header-highlight-before",0===e),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),void i.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:r,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",r>0);const{columnModel:o}=n,a=o.getColumnHeaderRowHeight();if(0===r)return i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height",`${a}px`);i.addOrRemoveCssClass("ag-header-span-total",s);const l=this.beans.columnModel.getGroupRowsHeight();let c=0;for(let d=0;d<r;d++)c+=l[l.length-1-d];e.style.setProperty("top",-c+"px"),e.style.setProperty("height",`${a+c}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function RAe(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Ur(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>"filter"===t?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange("mouseenter"===r.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:r=>this.handleContextMenuMouseEvent(r,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof n4?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Ake=class extends Se{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const n=this.normaliseDragChange(t);this.resizeColumnsFromLocalValues(this.resizeStartWidth+n,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),r={columnsToResize:t,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(t,i)};let s=null;if(e&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){const o=s.getDisplayedLeafColumns(),a=r.groupAfterColumns=o.filter(c=>c.isResizable()),l=r.groupAfterStartWidth=this.getInitialSizeOfColumns(a);r.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){this.resizeCols&&this.resizeRatios&&this.resizeColumns({columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0},e,t,i)}resizeColumns(e,t,i,n=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];d.push({columns:r,ratios:o,width:t}),a&&d.push({columns:a,ratios:c,width:l-(t-s)}),this.columnSizeService.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Tke=class extends Se{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}},Rke=class extends yT{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,i,n,r){this.comp=e,r=AS(this,this.beans.context,r),this.setGui(t,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:n,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r);const s=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new f4(o,t)),r.createManagedBean(new g4(this.column,t,this.beans)),r.createManagedBean(new Tke(e,this.column)),this.resizeFeature=r.createManagedBean(new Ake(e,i,s,this.column)),r.createManagedBean(new ev(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,o),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,n=Wi(t)===e;if(!i&&!n)return;const r=e.getHighlighted();let o=!1,a=!1;if(this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving())){const l=this.beans.gos.get("enableRtl"),c=1===r,d=0===r;i&&(l?a=c:o=d),n&&(l?o=d:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:n,ctrlsService:r}=this,{gos:s,columnModel:o,columnMoveService:a,visibleColsService:l}=t,c=s.get("enableRtl"),d=0===e,u=this.getPinned(),h=i.getBoundingClientRect(),g=h.left,y=_T({x:d!==c?g-20:g+h.width+20,pinned:u,fromKeyboard:!0,gos:s,ctrlsService:r}),_=n.getGroupId(),x=this.focusService.getFocusedHeader();_4({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:1===e,xPosition:y,pinned:u,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const D=n.getDisplayedLeafColumns(),M=d?D[0]:Wi(D);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(M,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&x&&this.restoreFocus(_,n,x)}restoreFocus(e,t,i){const n=t.getLeafColumns();if(!n.length)return;const r=n[0].getParent();if(!r)return;const s=this.findGroupWidthId(r,e);s&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:s}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,r)=>{this.setupTooltip(e,n,r)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange("mouseenter"===r.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),r="whenTruncated"===this.gos.get("tooltipShowMode"),s=this.eGui;!i&&r&&!n?.headerGroupComponent&&(i=()=>{const a=s.querySelector(".ag-header-group-text");return!a||a.scrollWidth>a.clientWidth});const o={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:i};n&&(o.getColDef=()=>n),e.createManagedBean(new O0(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.comp.setAriaExpanded(this.expandable?t?"true":"false":void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=oX(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const i=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(r=>{e.addManagedListeners(r,{movingChanged:n})}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===ve.ENTER){const i=this.column,n=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:n,gos:r,dragAndDropService:s}=this,{columnModel:o}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),N0(a,!0)},onDragStopped:()=>N0(a,!1),onDragCancelled:()=>N0(a,!1),onGridEnter:d=>{if(l){const{columns:u=[],visibleState:h}=d??{},g=u.filter(m=>!m.getColDef().lockVisible&&(!h||h[m.getColId()]));o.setColsVisible(g,!0,"uiColumnMoved")}},onGridExit:d=>{if(l){const u=d?.columns?.filter(h=>!h.getColDef().lockVisible)||[];o.setColsVisible(u,!1,"uiColumnMoved")}}};s.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(o=>i[o.getId()]=o.isVisible());const n=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(n.push(o),ja(t,o))}),t.forEach(o=>n.push(o));const r=[],s=e.getLeafColumns();for(const o of n)-1!==s.indexOf(o)&&r.push(o);return{columns:n,columnsInSplit:r,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},kke=0,w4=class extends Se{constructor(e,t,i){super(),this.instanceId=kke++,this.rowIndex=e,this.pinned=t,this.type=i,this.headerRowClass="ag-header-row "+("group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column")}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=qo(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every(e=>null!=e.getGui())}setComp(e,t,i=!0){this.comp=e,t=AS(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return qA(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=qo(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],n=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();i.push(...n),i.push(r),t?.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let s=0;for(let a=0;a<this.rowIndex;a++)s+=i[a];return{topOffset:s,rowHeight:i[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls();this.comp.setHeaderCtrls(t,this.isEnsureDomOrder||this.isPrintLayout,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const i=n=>{const{focusService:r,visibleColsService:s}=this.beans;return!!r.isHeaderWrapperFocused(n)&&s.isVisible(n.getColumnGroupChild())};if(e)for(const[n,r]of e)i(r)?this.headerCellCtrls.set(n,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let n;if(t&&(n=t.get(i),t.delete(i)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case"filter":n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":n=this.createBean(new Rke(e,this.beans,this));break;default:n=this.createBean(new Ike(e,this.beans,this))}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(n=>{const r=i.getHeadersToRender(n,t);e=e.concat(r)}),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;let i;return i=this.getHeaderCellCtrls().find("function"==typeof e?e:n=>n.getColumnGroupChild()==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return!!i&&i.focus(t)}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},Pke=class extends Se{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i}),this.ctrlsService.register(`${"string"==typeof this.pinned?this.pinned:"center"}Header`,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new F0,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new w4(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}})(),(()=>{const a=t.next(),l=!(this.hidden||null!=this.columnsRowCtrl&&e&&this.columnsRowCtrl.getRowIndex()===a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new w4(a,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void a();const l=t.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==l;(!e||c)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new w4(l,this.pinned,"filter")))})();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){if(yg(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return!!r&&r.focusHeader(t,i)}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new Dke(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new b4(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==n)return;const r=0==n,s=this.hidden!==r,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},x4=class extends tn{constructor(e){super(),this.eCenterContainer=ht,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const n=this.getGui();n.style.width=i,n.style.maxWidth=i,n.style.minWidth=i}};this.createManagedBean(new Pke(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?'<div class="ag-pinned-left-header" role="rowgroup"></div>':"right"==this.pinned?'<div class="ag-pinned-right-header" role="rowgroup"></div>':'<div class="ag-header-viewport" role="presentation">\n        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>\n    </div>'),this.eRowContainer=this.eCenterContainer!==ht?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;let i;this.headerRowComps={},this.rowCompsList=[];const n=r=>{const s=r.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),i&&DQ(this.eRowContainer,s,i),i=s};e.forEach(r=>{const s=r.instanceId,o=t[s];delete t[s];const a=o||this.createBean(new pke(r));this.headerRowComps[s]=a,this.rowCompsList.push(a),n(a)}),vg(t).forEach(r=>this.destroyRowComp(r))}},Vke={selector:"AG-HEADER-ROOT",component:class extends tn{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const e={addOrRemoveCssClass:(n,r)=>this.addOrRemoveCssClass(n,r),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new mke).setComp(e,this.getGui(),this.getFocusableElement());const i=n=>{this.createManagedBean(n),this.appendChild(n)};i(new x4("left")),i(new x4(null)),i(new x4("right"))}}},S4=class extends Se{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal",t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(Re(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},Gke={selector:"AG-OVERLAY-WRAPPER",component:class extends tn{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=ht,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==ve.TAB||e.defaultPrevented||Yh(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;i=e.shiftKey?this.focusService.focusGridView(Wi(this.visibleColsService.getAllCols()),!0,!1):this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new S4(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const r=Ur(this.gos);r&&!$Z(this.gos)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e)return void(this.activeOverlay!==r&&(this.destroyBean(r),r=null));if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,n)){const o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{o.refresh?.(this.gos.addGridCommonParams({...a??{}}))})}const s=this.focusService;i&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ma(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}}},yX=class extends tn{constructor(e,t){super(),this.direction=t,this.eViewport=ht,this.eContainer=ht,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",yQ()||bg())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=_Q(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();!function NIe(e,t,i=100,n){const r=(new Date).getTime();let s=null,o=!1;const a=()=>{const l=(new Date).getTime()-r>i;(e()||l)&&(t(),o=!0,null!=s&&(window.clearInterval(s),s=null),l&&n&&Re(n))};a(),o||(s=window.setInterval(a,10))}(()=>Vd(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},jke={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:class extends yX{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=ht,this.eRightSpacer=ht}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new b4(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();i&&(t+=n),Bd(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=n),Bd(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=i?0:0===n&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),FS(this.getGui(),s),FS(this.eViewport,s),FS(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return uT(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Vd(this.getViewportElement())||this.attemptSettingScrollPosition(e),hT(this.getViewportElement(),e,this.enableRtl)}}},bX=class extends Se{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},Wke={selector:"AG-FAKE-VERTICAL-SCROLL",component:class extends yX{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new bX(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Bd(this.getGui(),n),Bd(this.eViewport,n),Bd(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),r=i.scrollTop;n!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!Vd(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}}},D4=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(D4||{}),$ke=class extends Se{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ha(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Ha(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(D4)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?Ha(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?Ha(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null!=this.centerRowsCtrl&&(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(D4),"Viewport"])this.lastScrollSource[1]!==t&&hT(this.getViewportForSource(t),e,this.enableRtl)}getViewportForSource(e){return"Viewport"===e?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const n=uT(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;t="Viewport"===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,"Viewport"===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,i=!1){return!(i&&!bg())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=JN(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&dT()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&dT()?e>0?0:n:Math.min(Math.max(e,0),n)),hT(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let n=-1;for(let r=0;r<i;r++){const s=this.rowModel.getRow(r);if("function"==typeof e){if(s&&e(s)){n=r;break}}else if(e===s||e===s.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(qo(this.gos,"print"))return;const i=this.rowModel.getRowCount();if("number"!=typeof e||e<0||e>=i)return void Re("Invalid row index for ensureIndexVisible: "+e);const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationService?.goToPageWithIndex(e);const s=this.ctrlsService.getGridBodyCtrl(),o=s.getStickyTopHeight(),a=s.getStickyBottomHeight(),l=this.rowModel.getRow(e);let c;do{const d=l.rowTop,u=l.rowHeight,h=this.pageBoundsService.getPixelOffset(),g=l.rowTop-h,m=g+l.rowHeight,y=this.getVScrollPosition(),_=this.heightScaler.getDivStretchOffset(),x=y.top+_,D=y.bottom+_,M=D-x,k=this.heightScaler.getScrollPositionForPixel(g),V=this.heightScaler.getScrollPositionForPixel(m-M),H=Math.min((k+V)/2,g);let G=null;"top"===t?G=k:"bottom"===t?G=V:"middle"===t?G=H:x+o>g?G=k-o:D-a<m&&(G=V+a),null!==G&&(this.setVerticalScrollPosition(G),this.rowRenderer.redraw({afterScroll:!0})),c=d!==l.rowTop||u!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{null!==n&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:n)||r,l=o?n:i;"auto"!==t&&(a="start"===t,l="end"===t);const c="middle"===t;if(a||l||c){const{colLeft:d,colMiddle:u,colRight:h}=this.getColumnBounds(e);return c?u-s/2:a?o?h:d:o?d-s:h-s}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:r}=this.getColumnBounds(e),s=this.enableRtl;return{columnBeforeStart:s?t>r:i<r,columnAfterEnd:s?i<n:t>n}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?i-r:r;return{colLeft:o,colMiddle:o+n/2*s,colRight:o+n*s}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},Yke=class extends Se{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=kS(this.gridBodyCtrl.getBodyViewportElement());if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");i.length&&(n&&(i=n({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const n=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(n<e)return[];const r=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()];let o=0,a=0;const c=[];let d=n-0-e;for(;(a<r.length||o<s.length)&&d>0;){if(o<s.length){const u=s[o++];d-=u.getActualWidth(),c.push(u)}if(a<r.length&&d>0){const u=r[a++];d-=u.getActualWidth(),c.push(u)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=JN(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},Kke=class extends Se{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.rangeService&&(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Eu(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Eu(this.gos)&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},qke=class extends tn{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[r4]),this.eCheckbox=ht}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=BN(e,t),[n,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(n,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>T0(n),click:n=>{T0(n);const r="filteredDescendants"===DN(this.gos),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?0===this.onClicked(!0,r,n||{})&&this.onClicked(!1,r,n):s?this.onClicked(!1,r,n):this.onClicked(!0,r,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),xN(this.gos)||"function"==typeof this.getIsVisible()){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&os(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if("function"==typeof t){const r=this.overrides?.callbackParams;if(this.column){const s=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...r,...s})}else e=t({...r,node:this.rowNode,data:this.rowNode.data})}else e=t??!1;const i=this.gos.get("rowSelection");if(i&&"string"!=typeof i?!function HIe(e){return e?.hideDisabledCheckboxes??!1}(i):this.column?.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!e),this.setVisible(!0),void this.setDisplayed(!0);this.overrides?.removeHidden?this.setDisplayed(e):this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&"string"!=typeof e?A0(e):this.column?.getColDef()?.checkboxSelection}},Zke=class extends tn{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(mc("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),t?t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):(()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}})()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},Qke=class extends Se{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"==typeof e.cellStyle){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},Xke=class extends Se{constructor(e,t,i,n,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case ve.ENTER:this.onEnterKeyDown(e);break;case ve.F2:this.onF2KeyDown(e);break;case ve.ESCAPE:this.onEscapeKeyDown(e);break;case ve.TAB:this.onTabKeyDown(e);break;case ve.BACKSPACE:case ve.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ve.DOWN:case ve.UP:case ve.RIGHT:case ve.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:n,rowNode:r}=this,{gos:s,rangeService:o,eventService:a}=n;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),function CRe(e,t=!1){return e===ve.DELETE||!t&&e===ve.BACKSPACE&&yQ()}(e,s.get("enableCellEditingOnBackspace"))){if(o&&Eu(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const l=i.getColumn(),c=this.beans.valueService.getDeleteValue(l,r);r.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gos.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?ve.UP:ve.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(ve.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ve.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;" "===n?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&ZA(t)){const i=this.rowNode.isSelected(),n=!i,r="filteredDescendants"===DN(t),s=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});void 0===i&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},Jke=class extends Se{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Yh(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gos:n}=this.beans;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&(!e.shiftKey||0==i?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!bg()||iQ("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:n}=this,{eventService:r,frameworkOverrides:s,gos:o}=i,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");r.dispatchEvent(l),"function"==typeof a.onCellDoubleClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=o;if(this.isRightClickInExistingRange(e))return;const u=l&&0!=l.getCellRanges().length;if(!n||!u){const g=d.get("enableCellTextSelection")&&e.defaultPrevented,m=(Au()||g)&&!s.isEditing()&&!XN(r);s.focusCell(m)}if(n&&u&&!c.isCellFocused(s.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:g,rowIndex:m,rowPinned:y}=h,x=o.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:y})?.getCellCtrl(g);x?.isEditing()&&x.stopEditing(),c.setFocusedCell({column:g,rowIndex:m,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){const h=this.cellCtrl.getCellPosition();n?l.extendLatestRangeToCell(h):l.setRangeToCell(h,t||i)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return P0(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},e2e=class extends Se{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();$h(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),i&&!Ui(i)&&n===i.getPinned());r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?Wi(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.visibleColsService.getColsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0):t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const i=$m(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},zS="ag-cell-range-selected",C2e=0,_X=class WG extends Se{constructor(t,i,n,r){super(),this.column=t,this.rowNode=i,this.beans=n,this.rowCtrl=r,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+C2e++,this.colIdSanitised=Iu(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new e2e(this,this.beans),this.cellCustomStyleFeature=new Qke(this,this.beans),this.cellMouseListenerFeature=new Jke(this,this.beans,this.column),this.cellKeyboardListenerFeature=new Xke(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Eu(this.beans.gos)&&(this.cellRangeFeature=new class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(zS,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${zS}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${zS}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${zS}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${zS}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),oT(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.right,r=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>qm([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,n=!1,r=!1;const s=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(s),l=o.getColBefore(s)):(a=o.getColBefore(s),l=o.getColAfter(s));const c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(r=!0),l||(i=!0);for(let d=0;d<c.length&&!(t&&i&&n&&r);d++){const u=c[d],h=this.rangeService.getRangeStartRow(u),g=this.rangeService.getRangeEndRow(u);!t&&this.beans.rowPositionUtils.sameRow(h,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(n=!0),!r&&a&&u.columns.indexOf(a)<0&&(r=!0),!i&&l&&u.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const n=Wi(t),r=this.cellCtrl.getCellPosition(),s=ZZ(e)&&!this.cellCtrl.isSuppressFillHandle(),o=function $Ie(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&"range"===t.handle?.mode:e.get("enableRangeHandle")}(e);let a=1===i&&!this.cellCtrl.isEditing()&&(s||o);if(this.hasChartRange){const c=1===t[0].type&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",c),a=0===n.type}return a&&null!=n.endRow&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,r)}addSelectionHandle(){const e=Wi(this.rangeService.getCellRanges()).type,i=ZZ(this.beans.gos)&&Ui(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,i){const r="whenTruncated"===this.beans.gos.get("tooltipShowMode");!i&&r&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=0===o.children.length?o:o.querySelector(".ag-cell-value");return!a||a.scrollWidth>a.clientWidth}),this.tooltipFeature=new O0({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=t?()=>t:()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&Ye(a))return MS(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i},this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,i,n,r,s,o){this.cellComp=t,this.eGui=i,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(i),this.cellCustomStyleFeature?.setComp(t),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(a=>a()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const n=t.parentElement,r=fg(this.beans.gos,this.rowNode).height,s=l=>{if(this.editing||!this.isAlive()||!i.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:h}=Xm(n),y=t.offsetHeight+(c+d+u+h);if(l<5){const x=Vs(this.beans.gos);if(!x||!x.contains(t)||0==y)return void window.setTimeout(()=>s(l+1),0)}const _=Math.max(y,r);this.rowNode.setRowAutoHeight(_,this.column)},o=()=>s(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);i.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return null!=t.cellRenderer||null!=t.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){const i=this.getValueToDisplay();let n;if(this.rowNode.stub&&null==this.rowNode.groupData?.[this.column.getId()]){const s=this.createCellRendererParams();n=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),s)}else if(this.isCellRenderer()){const s=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),s)}this.cellComp.setRenderDetails(n,i,t),this.cellRangeFeature?.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return null==this.rowNode.rowPinned&&("function"==typeof t||!0===t)}isCheckboxSelection(t){const{rowSelection:i}=this.beans.gridOptions;return t.checkboxSelection||R0(this.column)&&i&&"string"!=typeof i&&A0(i)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return i||n||r||s}startEditing(t=null,i=!1,n=null){const{editService:r}=this.beans;return!(this.isCellEditable()&&!this.editing&&r)||(this.cellComp?r.startEditing(this,t,i,n):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,n)}),!0))}setEditing(t,i){this.editCompDetails=i,this.editing!==t&&(this.editing=t,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(t=!1){"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:i}=this.beans;return!(!this.editing||!i)&&i.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,n,r,s)=>this.registerRowDragger(i,n,s),setTooltip:(i,n)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,n),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(t)}refreshCell(t){if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),n=null!=t&&!!t.newData,r=null!=t&&!!t.suppressFlash||!!i.suppressCellFlash,o=t&&t.forceRefresh||null==i.field&&null==i.valueGetter&&null==i.showRowGroup||n,a=!!this.cellComp,l=this.updateAndFormatValue(a);if(a){if(o||l){this.showValue(n);const d=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!r&&!d&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){this.beans.editService?.stopEditingAndFocus(this,t,i)}flashCell(t){this.animateCell("data-changed",t?.flashDuration??t?.flashDelay,t?.fadeDuration??t?.fadeDelay)}animateCell(t,i,n){if(!this.cellComp)return;const{gos:r}=this.beans;if(i||(i=r.get("cellFlashDuration")),0===i)return;Ye(n)||(n=r.get("cellFadeDuration"));const s=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,n=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),!t||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n}valuesAreEqual(t,i){const n=this.column.getColDef();return n.equals?n.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const i=this.getGui();Ym(this.beans.gos,i,WG.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Ym(this.beans.gos,i,WG.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){this.cellKeyboardListenerFeature?.processCharacter(t)}onKeyDown(t){this.cellKeyboardListenerFeature?.onKeyDown(t)}onMouseEvent(t,i){this.cellMouseListenerFeature?.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:n}=this;aX(t,i,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);mQ(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){return this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&ed(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(i&&t?.forceBrowserFocus&&(this.focusEventToRestore=t));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&t&&t.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){const s=this.beans.focusService.findFocusableElements(r,null,!0);s.length&&(r=s[0])}r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n="fullRow"===this.beans.gos.get("editType");!i&&!n&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Uh(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}onColDefChanged(){this.cellComp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new qke;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new Zke(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,n){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(t,i);const r=this.createRowDragComp(t,i,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,n){const r=this.beans.gos.get("pagination"),s=this.beans.gos.get("rowDragManaged"),o=os(this.beans.gos);if(s){if(!o)return void Re("managed row dragging is only allowed in the Client Side Row Model");if(r)return void Re("managed row dragging is not possible when doing pagination")}const a=new o4(()=>this.value,this.rowNode,this.column,t,i,n);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};_X.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var iv=_X,w2e=0,CX=class $G extends Se{constructor(t,i,n,r,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=i.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=r,this.printLayout=s,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+w2e++,this.rowId=Iu(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Iu(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,i){"left"===t?this.leftGui=i:"right"===t?this.rightGui=i:"fullWidth"===t?this.fullWidthGui=i:this.centerGui=i}setComp(t,i,n,r){const s={rowComp:t,element:i,containerType:n,compBean:r=AS(this,this.beans.context,r)};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),ZA(i)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(s=>n.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&sT(t.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Ym(i,t.element,$G.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Ym(i,t.element,$G.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){null!=this.businessKeySanitised&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Iu(this.rowNode.id),null!=this.rowId&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(GZ(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(GZ(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(Eu(this.gos))return void Re("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");const i=this.beans.localeService.getLocaleTextFunc(),n=new o4(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),r=this.createBean(n,this.beans.context);this.rowDragComps.push(r),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if("FullWidthDetail"==this.rowType&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const n=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(t=>t?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");t&&this.areAllContainersReady()&&t({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&i&&n}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return!!t&&t({rowNode:this.rowNode})}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&JA(this.gos,r);this.rowType=t?"FullWidthLoading":n?"FullWidthDetail":i?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(t=!1,i=!1){this.isFullWidth()||(t||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(i):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(t,i,n=null){const r={list:[],map:{}},s=(o,a)=>{r.list.push(a),r.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new iv(o,this.rowNode,this.beans,this)),s(a,l)}),t.list.forEach(o=>{const a=o.getColumn().getInstanceId();null==r.map[a]&&(this.isCellEligibleToBeRemoved(o,n)?o.destroy():s(a,o))}),r}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const n=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const s=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const c=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||qo(this.gos,"print")}listenOnDomOrder(t){t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],()=>{t.rowComp.setDomOrder(this.getDomOrder())})}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=Ye(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const t=(a,l)=>!a||a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params),i=t(this.fullWidthGui,null),n=t(this.centerGui,null),r=t(this.leftGui,"left"),s=t(this.rightGui,"right");return i&&n&&r&&s}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)}):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))}})}onRowNodeDataChanged(t){this.isFullWidth()===!!this.isNodeFullWidthCell()?this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()):this.beans.rowRenderer.redrawRow(this.rowNode)}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=1===t;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===t),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),sT(n.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Uh(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(i=>i.element.contains(t))}onKeyboardNavigate(t){const i=this.findFullWidthRowGui(t.target);if((i?i.element:null)!==t.target)return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o?.column??this.getColumnForFullWidth(i)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Yh(t))return;const i=this.allRowGuis.find(l=>l.element.contains(t.target)),n=i?i.element:null,r=n===t.target,s=Ur(this.gos);let o=!1;n&&s&&(o=n.contains(s)&&s.classList.contains("ag-cell"));let a=null;!r&&!o&&(a=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&r||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const t=this.allRowGuis.find(i=>Vd(i.element))?.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const i=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{ed(n.element,"tabindex",i)})}onFullWidthRowFocused(t){const i=this.rowNode,n=!!t&&this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned,r=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;r&&(r.classList.toggle("ag-full-width-focus",n),n&&t?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const n={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(n.list.push(r),n.map[r.getColumn().getInstanceId()]=r)}),n}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const n=this.createRowEvent(t,i);return n.source=this,n}onRowDblClick(t){Yh(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:i}=this.beans;switch(t?.containerType){case"center":return i.getCenterCols()[0];case"left":return i.getLeftCols()[0];case"right":return i.getRightCols()[0];default:return i.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=P0(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const n=this.findFullWidthRowGui(t.target),r=n?.element,s=t.target;let o=!0;r&&r.contains(s)&&XN(s)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:this.getColumnForFullWidth(n),rowPinned:i.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(Yh(t)||this.lastMouseDownOnDragger)return;const{gos:n}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const r=t.ctrlKey||t.metaKey,s=t.shiftKey,o=this.rowNode.isSelected();if(Km(n)&&this.rowNode.group||this.isRowSelectionBlocked()||!function YIe(e){const t=QZ(e);return!0===t||"enableSelection"===t}(n)&&!o||!wN(n)&&o)return;const l=function KIe(e){const t=e.get("rowSelection");return"string"==typeof t?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}(n),c=wN(n),d="rowClicked";o?l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):r?c&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l&&!r,rangeSelect:s,event:t,source:d})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!ZA(this.gos)}setupDetailRowAutoHeight(t){if("FullWidthDetail"!==this.rowType||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;null!=r&&r>0&&window.setTimeout(()=>{this.rowNode.setRowHeight(r),(os(this.gos)||Wh(this.gos))&&this.beans.rowModel.onRowHeightChanged()},0)},n=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(n),i()}createFullWidthCompDetails(t,i){const{gos:n,rowNode:r}=this,s=n.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,d)=>this.addFullWidthRowDragging(a,l,c,d),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(s);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(s);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(s);default:return o.getFullWidthCellRendererDetails(s)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new O0(n,this.beans))}addFullWidthRowDragging(t,i,n="",r){if(!this.isFullWidth())return;const s=new o4(()=>n,this.rowNode,void 0,t,i,r);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,i=null,n=null){return!!this.editingRow||(this.beans.rowEditService?.startEditing(this,t,i,n)??!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return"left"===t||"right"===t?t:null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&"function"==typeof t)return void Re("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const i=this.gos.getCallback("getRowStyle");let n;return i&&(n=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",i),oT(n.element,i),n.element.contains(Ur(this.gos))&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!wN(this.gos))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:i,compBean:n}=t,{rowNode:r,beans:s,gos:o}=this;n.addManagedListeners(i,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),n.addManagedListeners(r,{mouseEnter:()=>{!s.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(n,t),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(null==this.rowNode.rowHeight)return;const i=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=UZ(this.gos)?fg(this.gos,this.rowNode).height:void 0,o=s?Math.min(n,s)-2+"px":void 0;this.forEachGui(t,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&E0(this.gos)&&!this.isSticky())if(null!=this.rowNode.rowTop){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?t:t+this.beans.pageBoundsService.getPixelOffset()*(i?1:-1)}setRowTop(t){if(!this.printLayout&&Ye(t)){const i=this.applyPaginationOffset(t),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(s)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const i=this.rowNode;let n;if(this.isSticky())n=i.stickyRowTop;else{const r=this.slideInAnimation[t]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,s=this.applyPaginationOffset(r);n=i.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(i=n)}),null!=i||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(i=n)}),i}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const i=this.rowNode.getRowIndexString();if(null===i)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2==0,s=n+this.rowNode.rowIndex+1;this.forEachGui(t,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",r),o.rowComp.addOrRemoveCssClass("ag-row-odd",!r),fQ(o.element,s)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};CX.DOM_DATA_KEY_ROW_CTRL="renderedRow";var nv=CX,x2e=class extends Se{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",iQ("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Yh(t))return;const i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!bg())return;const e=new _g(this.element);this.addManagedListeners(e,{longTap:i=>{const n=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,n,r)}}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=xS(this.gos,t,nv.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){const r=i?i.getRowNode():null,s=n?n.getColumn():null;let o=null;s&&(n.dispatchCellContextMenuEvent((e||t)??null),o=this.valueService.getValue(s,r));const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:s,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:IN(this.gos,e,iv.DOM_DATA_KEY_CELL_CTRL),rowCtrl:IN(this.gos,e,nv.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){const n=e.getRowNode(),r=e.getColumn(),s=e.isEditing();!c4(this.gos,i,n,r,s)&&"keydown"===t&&(!s&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),YQ(i)&&e.processCharacter(i)),"keydown"===t&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const n=e.getRowNode(),r=this.focusService.getFocusedCell();if(!c4(this.gos,i,n,r&&r.column,!1)&&"keydown"===t)switch(i.key){case ve.PAGE_HOME:case ve.PAGE_END:case ve.PAGE_UP:case ve.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case ve.UP:case ve.DOWN:e.onKeyboardNavigate(i);break;case ve.TAB:e.onTabKeyDown(i)}"keydown"===t&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=function _Re(e){const{keyCode:t}=e;let i;switch(t){case 65:i=ve.A;break;case 67:i=ve.C;break;case 86:i=ve.V;break;case 68:i=ve.D;break;case 90:i=ve.Z;break;case 89:i=ve.Y;break;default:i=e.code}return i}(e);return i===ve.A?this.onCtrlAndA(e):i===ve.C?this.onCtrlAndC(e):i===ve.D?this.onCtrlAndD(e):i===ve.V?this.onCtrlAndV(e):i===ve.X?this.onCtrlAndX(e):i===ve.Y?this.onCtrlAndY():i===ve.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[r,s]=[t.isEmpty("top"),t.isEmpty("bottom")],o=r?null:"top";let a,l;s?(a=null,l=i.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(Fl(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:Wi(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},S2e=class extends Se{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth();Wr(this.element,e>0),Bd(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},D2e=class extends Se{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth();Wr(this.element,e>0),Bd(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},wT=e=>e.getTopRowCtrls(),xT=e=>e.getStickyTopRowCtrls(),ST=e=>e.getStickyBottomRowCtrls(),DT=e=>e.getBottomRowCtrls(),MT=e=>e.getCentreRowCtrls(),M2e={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:MT},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:MT},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:MT},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:MT},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:wT},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:wT},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:wT},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:wT},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:xT},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:xT},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:xT},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:xT},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:ST},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:ST},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:ST},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:ST},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:DT},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:DT},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:DT},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:DT}};function V0(e){return M2e[e]}var T2e=["center","left","right","fullWidth"],R2e=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],k2e=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],P2e=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],wX=["stickyTopCenter","stickyTopLeft","stickyTopRight"],xX=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],F2e=[...wX,"stickyTopFullWidth",...xX,"stickyBottomFullWidth"],O2e=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...wX,...xX],L2e=class extends Se{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=V0(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Yke(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new x2e(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(k2e,()=>{this.pinnedWidthFeature=this.createManagedBean(new S2e(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(P2e,()=>{this.pinnedWidthFeature=this.createManagedBean(new D2e(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(T2e,()=>this.createManagedBean(new bX(this.eContainer,"center"===this.name?i:void 0))),this.forContainers(O2e,()=>this.createManagedBean(new Kke(this.eContainer))),this.forContainers(R2e,()=>this.createManagedBean(new b4(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(F2e.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const t=()=>{const i=this.gos.get("ensureDomOrder"),n=qo(this.gos,"print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return kS(this.eViewport)}getCenterViewportScrollLeft(){return uT(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return SQ(this.eViewport)}getViewportScrollLeft(){return uT(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||function XAe(e){return e.clientWidth<e.scrollWidth}(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){hT(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const i=qo(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||i,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},SX="ag-force-vertical-scroll",B2e=class extends Se{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,r,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${V0("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${V0("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${V0("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${V0("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new S4(this.comp)),this.bodyScrollFeature=this.createManagedBean(new $ke(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,r,s,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:n}=i,r=P0(n,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:i=>{const{target:n,relatedTarget:r}=i,s=t.contains(r),o=P0(r,"ag-root",t);P0(n,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const n=`calc(100% + ${(e&&this.scrollVisibleService.getScrollbarWidth()||0)+(_Q()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const n=i.relatedTarget;if(null===QN(n))return void this.rowRenderer.stopEditing();let r=t.some(s=>s.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!r){const s=this.popupService;r=s.getActivePopups().some(o=>o.contains(n))||s.isElementWithinCustomPopup(n)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?SX:null,i=qo(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&function JAe(e){return e.clientHeight<e.scrollHeight}(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const i=e&&E0(this.gos)&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(i?"ag-row-animation":"ag-row-no-animation",i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e,r=n||Math.abs(t)>Math.abs(i),s=e.target;r?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!bg())return;const t=new _g(this.eBodyViewport);this.addManagedListeners(t,{longTap:n=>{e(void 0,n.touchStart,n.touchEvent)}}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new JTe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0;this.comp.setStickyBottomBottom(`${e+i}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,s=kS(this.eGridBody)-n;s>0?this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):Re("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},z2e=class extends tn{constructor(e,t,i,n,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=n,this.cellCtrl=t;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);const o=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),Ol(o,t.getCellAriaRole()),o.setAttribute("col-id",t.colIdSanitised),t.setComp({addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>EQ(o,l),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()},this.getGui(),this.eCellWrapper,i,r,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!r&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&null==this.eCellWrapper;if(n){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const r=!i&&null!=this.eCellWrapper;r&&(Nd(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const s=!e&&i,o=s&&null==this.eCellValue;if(o){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const a=!s&&null!=this.eCellValue;a&&(Nd(this.eCellValue),this.eCellValue=void 0);const l=n||r||o||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const n=this.editorVersion,r=e.newAgStackInstance();if(null==r)return;const{params:s}=e;r.then(a=>this.afterCellEditorCreated(n,a,s,t,i)),Ui(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();ma(t);const i=null!=e?Iu(e,!0):null;null!=i&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Nd(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Nd(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){const i=!this.beans.gos.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:r}=e,s=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,n,r);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();ma(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)}afterCellEditorCreated(e,t,i,n,r){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return Re(`cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const a=n||void 0!==t.isPopup&&t.isPopup();a?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){const e=this.getGui();e.contains(Ur(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){"fullRow"===this.beans.gos.get("editType")&&Re("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const r=this.beans.popupService,s=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),o=t??i.getPopupPosition?.()??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:a?"right":"left",keepWithinBounds:!0},c=r.positionPopupByComponent.bind(r,l),d=this.beans.localeService.getLocaleTextFunc(),u=r.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(Ur(this.beans.gos))&&ZN()&&e.focus({preventScroll:!0}),ma(this.getParentOfValue())}},G2e=class extends tn{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(n);const r=this.getGui(),s=r.style;this.domOrder=this.rowCtrl.getDomOrder(),Ol(r,"row"),e.setComp({setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>EQ(r,a),setTop:a=>s.top=a,setTransform:a=>s.transform=a,setRowIndex:a=>r.setAttribute("row-index",a),setRowId:a=>r.setAttribute("row-id",a),setRowBusinessKey:a=>r.setAttribute("row-business-key",a),refreshFullWidth:a=>this.fullWidthCellRenderer?.refresh?.(a())??!1},this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=e.newAgStackInstance();i?.then(n=>{if(this.isAlive()){const r=n.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)})}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(n=>{const r=n.instanceId;null==this.cellComps[r]?this.newCellComp(n):t[r]=null});const i=vg(t).filter(n=>null!=n);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const n=this.cellComps[i.instanceId];n&&t.push(n.getGui())}),MQ(this.getGui(),t)}newCellComp(e){const t=new z2e(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=vg(this.cellComps).filter(t=>null!=t);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&ji("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().instanceId;this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}},U2e={selector:"AG-ROW-CONTAINER",component:class extends tn{constructor(){super(),this.eViewport=ht,this.eContainer=ht,this.rowComps={},this.name=tn.elementGettingCreated.getAttribute("name"),this.options=V0(this.name),this.setTemplate(function H2e(e){let t;return t="center"===e.type?`<div class="${e.viewport}" data-ref="eViewport" role="presentation">\n                <div class="${e.container}" data-ref="eContainer"></div>\n            </div>`:`<div class="${e.container}" data-ref="eContainer"></div>`,t}(this.options))}wireBeans(e){this.beans=e}postConstruct(){const e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new L2e(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){const t={...this.rowComps};this.rowComps={},this.lastPlacedElement=null,e.forEach(n=>{const r=n.instanceId,s=t[r];if(s)this.rowComps[r]=s,delete t[r],this.ensureDomOrder(s.getGui());else{if(!n.getRowNode().displayed)return;const o=new G2e(n,this.beans,this.options.type);this.rowComps[r]=o,this.appendRow(o.getGui())}}),vg(t).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),Ol(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?function QAe(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(DQ(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}}};function GS(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var W2e=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root></ag-header-root>\n        <div class="ag-floating-top" data-ref="eTop" role="presentation">\n            ${GS(["topLeft","topCenter","topRight","topFullWidth"])}\n        </div>\n        <div class="ag-body" data-ref="eBody" role="presentation">\n            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">\n            ${GS(["left","center","right","fullWidth"])}\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">\n            ${GS(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}\n        </div>\n        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">\n            ${GS(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}\n        </div>\n        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">\n            ${GS(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`,Y2e={selector:"AG-GRID-BODY",component:class extends tn{constructor(){super(W2e,[Gke,jke,Wke,Vke,U2e]),this.eBodyViewport=ht,this.eStickyTop=ht,this.eStickyBottom=ht,this.eTop=ht,this.eBottom=ht,this.eBody=ht}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){const e=(i,n)=>{const r=`${i}px`;n.style.minHeight=r,n.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,n)=>this.setRowAnimationCssOnBodyViewport(i,n),setColumnCount:i=>function zAe(e,t){Jc(e,"colcount",t)}(this.getGui(),i),setRowCount:i=>function BAe(e,t){Jc(e,"rowcount",t)}(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>{this.eStickyBottom.style.height=i,this.eStickyBottom.classList.toggle("ag-hidden","0px"===i)},setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,n)=>this.addOrRemoveCssClass(i,n),updateLayoutClasses:(i,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle("ag-layout-auto-height",n.autoHeight),s.toggle("ag-layout-normal",n.normal),s.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(i,n)=>this.eBodyViewport.classList.toggle(SX,n),registerBodyViewportResizeListener:i=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,n))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new B2e),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&Eu(this.gos)||SN(this.gos))&&function VAe(e,t){Jc(e,"multiselectable",t)}(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}},K2e=class extends Se{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(null==this.scrollbarWidth){const e=this.gos.get("scrollbarWidth"),i="number"==typeof e&&e>=0?e:function KAe(){return null==$N&&bQ(),$N}();null!=i&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},DX="__ag_grid_instance",MX=class Oue extends Se{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=Oue.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[DX]=this.gridInstanceId}getRenderedCellForEvent(t){return IN(this.gos,t.target,iv.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){const n=i[DX];if(Ye(n))return n===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){const i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){const i=qo(this.gos,"normal");let r,s;if(null!=t.clientX||null!=t.clientY?(r=t.clientX,s=t.clientY):(r=t.x,s=t.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition();r+=o.getScrollFeature().getHScrollPosition().left,s+=a.top}return{x:r,y:s}}};MX.gridInstanceSequence=new F0;var q2e=MX,Z2e=class extends Se{constructor(){super(),this.beanName="navigationService",this.onPageDown=HZ(this.onPageDown,100),this.onPageUp=HZ(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,n=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case ve.PAGE_HOME:case ve.PAGE_END:!r&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case ve.LEFT:case ve.RIGHT:case ve.UP:case ve.DOWN:if(!o)return!1;r&&!n&&!s&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case ve.PAGE_DOWN:case ve.PAGE_UP:!r&&!n&&(a=this.handlePageUpDown(i,o,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===ve.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:r,focusColumn:s}=e;Ye(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),Ye(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),o=this.rowModel.getRowIndexAtPixel(i.top+n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),s=this.rowModel.getRowIndexAtPixel(i.top+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,i=!1){const n=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?a?.rowHeight-n-o:n-o;let u,d=this.rowModel.getRowIndexAtPixel(a?.rowTop+l+o);d===e.rowIndex&&(t=d=e.rowIndex+(i?-1:1)),i?(u="bottom",d<r&&(d=r),t<r&&(t=r)):(u="top",d>s&&(d=s),t>s&&(t=s)),this.isRowTallerThanView(d)&&(t=d,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,n=this.getViewportHeight(),r=this.pageBoundsService.getLastRow();let s=0,o=e.rowIndex;for(;o>=0&&o<=r;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(s+l>n)break;s+=l}o+=i}return Math.max(0,Math.min(o,r))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,r=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r})}onHomeOrEndKey(e){const t=e===ve.PAGE_HOME,i=this.visibleColsService.getAllCols(),n=t?i[0]:Wi(i),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:n,focusIndex:r,focusColumn:n})}onTabKeyDown(e,t){const i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t);if(!1===n)if(i){const{rowIndex:r,rowPinned:s}=e.getRowPosition();(s?0===r:r===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof iv&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault();else n?t.preventDefault():null===n&&this.focusService.allowFocusForNextGridCoreContainer(i)}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!!(n||(n=this.rowRenderer.getRowByPosition(i),n&&n.isFullWidth()))&&!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let r,n=e.isEditing();if(!n&&e instanceof iv){const o=e.getRowCtrl();o&&(n=o.isEditing())}return r=n?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),null===r?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(n,t,!0);return!1===r?null:null!=r&&(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const n=e.getCellPosition(),r=this.findNextCellToFocusOn(n,t,!0);if(!1===r)return null;if(null==r)return!1;const s=r.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(s),l=s&&n.rowIndex===s.rowIndex&&n.rowPinned===s.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let n;n=e instanceof nv?{...e.getRowPosition(),column:t?i[0]:Wi(i)}:e.getCellPosition();const r=this.findNextCellToFocusOn(n,t,!1);if(!1===r)return null;if(r instanceof iv)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return Ye(r)}findNextCellToFocusOn(e,t,i){let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const r=this.gos.getCallback("tabToNextCell");if(Ye(r)){const l=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(!0===l||null===l)null===l&&Re("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(!1===l)return!1;n={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:n.column},fromCell:!0}),null}const s="fullRow"===this.gos.get("editType");if(i&&!s&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const o=this.getCellByPosition(n);if(!o){const a=this.rowRenderer.getRowByPosition(n);if(!a||!a.isFullWidth()||i)continue;return a}if(!o.isSuppressNavigable())return this.rangeService?.setRangeToCell(n),o}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let r=i,s=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===ve.LEFT&&(r=this.getLastCellOfColSpan(r)):t===ve.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),s=Ui(r);if(s&&e&&e.key===ve.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),n){const a=this.gos.getCallback("navigateToNextCell");if(Ye(a)){const c=a({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});r=Ye(c)?{rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:null}}if(!r)return;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const i=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Wi(i):i[0])};this.focusPosition(s);const o=t??(null!=r&&this.rowPositionUtils.before(s,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:Wi(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=XA(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&Ui(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},Q2e=class extends Se{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},X2e=class extends Se{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let n=-1,r="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(n=1,r="right");const o=s?void 0:4*n,a=s?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,s)}showPopup(e,t,i,n,r){const s=e?this.createBean(new sRe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");let a;Ol(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:m=>this.trapFocusWithin(m,o)}),o.appendChild(s?.getGui());const c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=this.localeService.getLocaleTextFunc(),h=r&&"columnFilter"!==i?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:m=>{e.setMenuVisible(!1,"contextMenu");const y=m instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&n&&Vd(n)){const _=this.focusService.findTabbableParent(n);_&&_.focus()}s?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},positionCallback:()=>t(o),anchorToElement:c,ariaLabel:h});g&&(this.hidePopup=a=g.hideFunc),s.afterInit().then(()=>{t(o),s.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==ve.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},J2e=class extends Se{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const n=WZ(this.gos).ResizeObserver,r=n?new n(t):null;return r?.observe(e),()=>r?.disconnect()}},ePe=class extends Se{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const i=this.paginationService?.getCurrentPage()??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&Re(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,r=n.list,s=this.destroyTasks,o=(new Date).getTime();let a=(new Date).getTime()-o;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(r.length)this.sortTaskList(n),u=r.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}u=s.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-o}i.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=WZ(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask(()=>{t=!1,e()})):window.setTimeout(e,0)}}},iPe=class extends Se{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=os(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,n){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},nPe=class extends Se{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),n=this.getCellGui(i,t);if(!n)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=n.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){const{rowNode:t}=e,i=e.column;let{anchorToElement:n,value:r}=e;t&&i&&null==r&&(r=this.valueService.getValueForDisplay(i,t)),null==n&&(n=this.getContextMenuAnchorElement(t,i)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,r,n)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&yg(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(bg()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!(!this.filterManager?.isFilterAllowed(e)||this.isLegacyMenuEnabled()||this.isFilterMenuInHeaderEnabled(e)||this.isFloatingFilterButtonDisplayed(e))}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){const t=e.getColDef(),i=t.floatingFilterComponentParams?.suppressFilterButton;return null!=i&&Re("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==t.suppressFloatingFilterButton?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}showColumnMenuCommon(e,t,i,n){const{positionBy:r}=t,s=t.column;if("button"===r){const{buttonElement:o}=t;e.showMenuAfterButtonClick(s,o,i,n)}else if("mouse"===r){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(s,o,i,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);o&&e.showMenuAfterButtonClick(s,o.getAnchorElementForMenu(n),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){return e&&t&&e.getCellCtrl(t)?.getGui()||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);return n?this.getCellGui(n,t)||(n.isFullWidth()?n.getFullWidthElement():i):i}},sPe={selector:"AG-INPUT-TEXT-AREA",component:class extends Jm{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},aPe=class extends L0{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Ym(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:n=>{c4(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)}})}},ET=class extends L0{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=ht}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:n}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,o=!0;t?(this.focusAfterAttached=!0,i===ve.BACKSPACE||i===ve.DELETE?s="":i&&1===i.length?n?o=!1:s=i:(s=this.cellEditorInput.getStartValue(),i!==ve.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),o&&null!=s&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:a=>{const{key:l}=a;(l===ve.PAGE_UP||l===ve.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Au()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},EX=class extends ET{constructor(){super(new class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[vT]}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return Ye(e)||Ye(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=Ye(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}})}},IX={selector:"AG-INPUT-DATE-FIELD",component:class extends tv{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Au();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Ur(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?td(e??null,!1)??void 0:e;return this.min===t||(this.min=t,ed(this.eInput,"min",t)),this}setMax(e){const t=e instanceof Date?td(e??null,!1)??void 0:e;return this.max===t||(this.max=t,ed(this.eInput,"max",t)),this}setStep(e){return this.step===e||(this.step=e,ed(this.eInput,"step",e)),this}getDate(){if(this.eInput.validity.valid)return Ll(this.getValue())??void 0}setDate(e,t){this.setValue(td(e??null,!1),t)}}},HS=class{constructor(e){this.cellValueChanges=e}},M4=class extends HS{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},AX=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function TX(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function RX(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}var rv={version:oi,moduleName:"@ag-grid-community/edit-core",beans:[class extends Se{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,n=null){const r=this.createCellEditorParams(e,t,i),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,r),a=null!=o?.popupFromSelector?o.popupFromSelector:!!s.cellEditorPopup,l=null!=o?.popupPositionFromSelector?o.popupPositionFromSelector:s.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!o?.params?.suppressPreventDefault}stopEditing(e,t){const i=e.getComp(),{newValue:n,newValueExists:r}=this.takeValueFromCellEditor(t,i),s=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,s);let l=!1;return r&&(l=this.saveNewValue(e,a,n,s,o)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t?.refresh){const{eventKey:i,cellStartedEdit:n}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,i,n),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,r);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),i=t.getCellEditor();i?.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>t.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new aPe(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,i,n,r){if(i===t)return!1;e.setSuppressRefreshCell(!0);const s=n.setDataValue(r,i,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,t,i){const n=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,r),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(n,r,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){this.gos.get("enterNavigatesVerticallyAfterEdit")&&this.navigationService.navigateToNextCell(null,e?ve.UP:ve.DOWN,t,!1)}}]},PPe={version:oi,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function xPe(e){e.undoRedoService?.undo("api")},redoCellEditing:function SPe(e){e.undoRedoService?.redo("api")},getCellEditorInstances:function DPe(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(LS)},getEditingCells:function MPe(e){return e.rowRenderer.getEditingCells()},stopEditing:function EPe(e,t=!1){e.rowRenderer.stopEditing(t)},startEditingCell:function IPe(e,t){const i=e.columnModel.getCol(t.colKey);if(!i)return void Re(`no column found for ${t.colKey}`);const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};null==t.rowPinned&&RX(e,t.rowIndex),TX(e,t.colKey);const s=e.navigationService.getCellByPosition(n);if(!s)return;const{focusService:o,gos:a}=e,c=a.get("stopEditingWhenCellsLoseFocus")&&(()=>{const d=Ur(a),u=s.getGui();return d!==u&&u.contains(d)})();(c||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),s.startRowOrCellEdit(t.key)},getCurrentUndoSize:function APe(e){return e.undoRedoService?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function TPe(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}},dependantModules:[rv]},kX={version:oi,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:EX}],dependantModules:[rv]},zPe={version:oi,moduleName:"@ag-grid-community/editing",dependantModules:[rv,{version:oi,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends Se{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new AX(e),this.redoStack=new AX(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,n,r){if(!e)return!1;const s=e.pop();return!(!s||!s.cellValueChanges||(this.processAction(s,o=>o[n],r),s instanceof M4?this.processRange(this.rangeService,s.ranges||[s[i]]):this.processCell(s.cellValueChanges),t.push(s),0))}processAction(e,t,i){e.cellValueChanges.forEach(n=>{const{rowIndex:r,rowPinned:s,columnId:o}=n,l=this.rowPositionUtils.getRowNode({rowIndex:r,rowPinned:s});l.displayed&&l.setDataValue(o,t(n),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((n,r)=>{if(!n)return;const s=n.startRow,o=n.endRow;r===t.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i)),e.addCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns})})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,s=this.rowPositionUtils.getRowNode({rowIndex:i,rowPinned:n});this.setLastFocusedCell({rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId},this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:n,rowPinned:r}=e,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;s.ensureIndexVisible(i),s.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:r};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new HS(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new HS(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new HS(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new M4(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;e=this.rangeService&&Eu(this.gos)?new M4(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new HS(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[rv]},{version:oi,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends Se{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,n=null){let r=!0;return e.getAllCellCtrls().reduce((o,a)=>{const l=a===i;return l?r=a.startEditing(t,l,n):a.startEditing(null,l,n),!!o||a.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,t=!1){const i=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(const s of i){const o=s.stopEditing(t);n&&!t&&!r&&o&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=e.createRowEvent(t?"rowEditingStarted":"rowEditingStopped");this.eventService.dispatchEvent(i)}}],dependantModules:[rv]},{version:oi,moduleName:"@ag-grid-community/all-editors",dependantModules:[kX,{version:oi,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:EX},{name:"agNumberCellEditor",classImp:class extends ET{constructor(){super(new class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[wRe]}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ve.UP||e.key===ve.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!Ye(e)&&!Ye(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"==typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){Au()&&this.eInput.getInputElement().focus({preventScroll:!0})}})}},params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:class extends ET{constructor(){super(new class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[IX]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return Ye(e)||Ye(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return td(e,!1)}})}}},{name:"agDateStringCellEditor",classImp:class extends ET{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[IX]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return Ye(e)||Ye(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){return td(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ll(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):td(e??null,!1)??void 0}}(()=>this.dataTypeService))}}},{name:"agCheckboxCellEditor",classImp:class extends L0{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[r4]),this.eCheckbox=ht}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=BN(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}}}],dependantModules:[kX]},{version:oi,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends L0{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[hRe]),this.eSelect=ht,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:n}=this,{values:r,value:s,eventKey:o}=e;if(Ui(r))return void Re("no values found for select cellEditor");this.startedByEnter=null!=o&&o===ve.ENTER;let a=!1;r.forEach(u=>{const h={value:u},g=i.formatValue(e.column,null,u);h.text=null!=g?g:u,t.addOption(h),a=a||s===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;null!=l&&t.setPickerGap(l),null!=d&&t.setPickerMaxHeight(d),null!=c&&t.setPickerMaxWidth(c),"fullRow"!==n.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[rv]},{version:oi,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends L0{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[sPe]),this.eTextArea=ht}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Ye(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ve.LEFT||t===ve.UP||t===ve.RIGHT||t===ve.DOWN||e.shiftKey&&t===ve.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return Ye(e)||Ye(this.params.value)?this.params.parseValue(e):this.params.value}}}],dependantModules:[rv]}]},PPe]},GPe=class extends Se{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,t)),i.appendChild(t);const n=t.offsetWidth;return i.removeChild(t),n+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(e);null!=n&&(t=n)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),r=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(r.add("ag-header","ag-header-row"),n.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];"ag-row-position-absolute"!=c&&r.add(c)}break}o=o.parentElement}n.appendChild(i),t.appendChild(n)}},HPe=class extends Se{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=os(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let i=e.childStore?.getStoreBounds();return e.footer&&(i=e.sibling.childStore?.getStoreBounds()),(i?.heightPx??0)+(i?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(0===n.childrenAfterSort.length)break;n=Wi(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,s=c=>{if(r.add(c),t){const d=this.getLastPixelOfGroup(c),u=n+i+c.rowHeight;c.stickyRowTop=d<u?i+(d-u):i}else{const d=this.getFirstPixelOfGroup(c),u=n-(i+c.rowHeight);c.stickyRowTop=d>u?i-(d-u):i}i=0,r.forEach(d=>{const u=d.stickyRowTop+d.rowHeight;i<u&&(i=u)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>!!c.displayed&&(c.footer?!(!0===o||"grand"===o&&-1===c.level||"group"===o&&c.level>-1)&&!("bottom"===e&&c.sibling.rowIndex&&c.sibling.rowIndex+1===c.rowIndex||r.has(c)):!!c.isExpandable()&&!0!==a&&"bottom"!==e&&!r.has(c)&&c.expanded);for(let c=0;c<100;c++){let d=n+i;t||(d=n-i);const u=this.rowModel.getRowIndexAtPixel(d),h=this.rowModel.getRow(u);if(null==h)break;const m=this.getStickyAncestors(h).find(_=>(t?_.rowIndex<u:_.rowIndex>u)&&l(_));if(m)s(m);else{if(!(t?h.rowTop<d:h.rowTop+h.rowHeight>d)||!l(h))break;s(h)}}return t||r.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,i=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!i)||(i?"grand":!!t&&"group")}canRowsBeSticky(){const e=XA(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const n=this.stickyTopRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const n=this.stickyBottomRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,i){const n="top"===e,r=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},o=[];for(let h=0;h<r.length;h++){const g=r[h].getRowNode();t.has(g)?o.push(r[h]):(s[g.id]=r[h],g.sticky=!1)}const a=new Set;for(let h=0;h<o.length;h++)a.add(o[h].getRowNode());const l=[];t.forEach(h=>{a.has(h)||(h.sticky=!0,l.push(this.createRowCon(h,!1,!1)))});let c=!!l.length||o.length!==r.length;n?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(s,!1);const d=[...o,...l];d.sort((h,g)=>g.getRowNode().rowIndex-h.getRowNode().rowIndex),n||d.reverse(),d.forEach(h=>h.setRowTop(h.getRowNode().stickyRowTop));let u=0;return n?(t.forEach(h=>{h.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=h.rowHeight)}),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach(h=>{h.rowIndex>this.pageBoundsService.getLastRow()&&(u+=h.rowHeight)}),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),!!c&&(n?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0)}ensureRowHeightsValid(){let e=!1;const t=i=>{const n=i.getRowNode();if(n.rowHeightEstimated){const r=fg(this.gos,n);n.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},jPe=class extends Se{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Eu(this.gos)?i():n()}),Eu(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),XA(this.gos)&&(os(this.gos)||Wh(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new HPe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=qo(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new UPe(e??3)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=vg(this.rowCtrlsByRowIndex),t=vg(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=t.length>0||i.length>0?[...e,...t,...i]:e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},n=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},s=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=qo(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const n=i.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:n,printLayout:r}=this,s=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(t,(a,l)=>{const c=e[l];c&&void 0===i.getPinnedRowById(c.getRowNode().id,t)&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in s?(e[l]=s[a.id],delete s[a.id]):e[l]=new nv(a,n,!1,!1,r)});const o="top"===t?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(this.cachedRowCtrls?.has(e))return void this.cachedRowCtrls.removeRow(e);{const i=n=>{const r=n[e.rowIndex];r&&r.getRowNode()===e&&(r.destroyFirstPass(),r.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return e?.forEach(i=>this.redrawRow(i,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const i=Ur(this.gos),n=xS(this.gos,i,iv.DOM_DATA_KEY_CELL_CTRL),r=xS(this.gos,i,nv.DOM_DATA_KEY_ROW_CTRL);return n||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&E0(this.gos),r=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(r,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const r=t[n].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[n]);return i}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&ZN()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e))i.isFullWidth()&&(i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0));this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){const t=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>null!=r);if(e.columns?.length)return t;const i=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(n&&!this.isRowInMap(r.getRowNode(),n)||!r.isFullWidth())return;const s=r.getFullWidthCellRenderers();for(let o=0;o<s.length;o++){const a=s[o];null!=a&&i.push(a)}}),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const n=i.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return null!=t.top[i];case"bottom":return null!=t.bottom[i];default:return null!=t.normal[i]}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter(n=>{const r=n.getRowNode();return this.isRowInMap(r,t)}):i}getCellCtrls(e,t){let i;Ye(t)&&(i={},t.forEach(r=>{const s=this.columnModel.getCol(r);Ye(s)&&(i[s.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();i&&!i[o]||n.push(s)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Zc(this.rowCtrlsByRowIndex,(i,n)=>{null==n.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);const t={};return Zc(this.rowCtrlsByRowIndex,(i,n)=>{const r=n.getRowNode();t[r.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&ZN()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}if((!t||s||this.firstRenderedRow!==n||this.lastRenderedRow!==r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!s),null!=i)){const a=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==a&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(s=>i[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!i[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=function DRe(e,t){const i=[];for(let n=e;n<=t;n++)i.push(n);return i}(this.firstRenderedRow,this.lastRenderedRow),i=(r,s)=>{const o=s.getRowNode().rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(o)};Zc(this.rowCtrlsByRowIndex,i),Zc(e,i),t.sort((r,s)=>r-s);const n=[];for(let r=0;r<t.length;r++){const s=t[r],o=this.rowModel.getRow(s);o&&!o.sticky&&n.push(s)}return n}recycleRows(e,t=!1,i=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);const r=[];n.forEach(s=>{const o=this.createOrUpdateRowCtrl(s,e,t,i);Ye(o)&&r.push(o)}),e&&(!i||this.gos.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.getRowNode();return!(null!=t&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),Ye(r)&&Ye(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s){if(r||(r=this.rowModel.getRow(e)),!Ye(r))return;s=this.createRowCon(r,i,n)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const i=[];Zc(e,(n,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);if(r.destroyFirstPass(!t),t){const s=r.instanceId;this.zombieRowCtrls[s]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[s]})}else r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),function OIe(e){!function LIe(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}(e,400)}(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*$m(this.gos)}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let u,h,d=!1;do{const x=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:D,pageLastPixel:M}=this.pageBoundsService.getCurrentPagePixelRange(),k=this.rowContainerHeightService.getDivStretchOffset(),V=l.getScrollFeature().getVScrollPosition(),H=V.top,F=V.bottom;c?(u=D+k,h=M+k):(u=Math.max(H+x-a,D)+k,h=Math.min(F+x+a,M)+k),this.firstVisibleVPixel=Math.max(H+x,D)+k,this.lastVisibleVPixel=Math.min(F+x,M)+k,d=this.ensureAllRowsInRangeHaveHeightsCalculated(u,h)}while(d);let g=this.rowModel.getRowIndexAtPixel(u),m=this.rowModel.getRowIndexAtPixel(h);const y=this.pageBoundsService.getFirstRow(),_=this.pageBoundsService.getLastRow();g<y&&(g=y),m>_&&(m=_),e=g,t=m}else e=0,t=-1;const i=qo(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>r&&(t=e+r),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(n||r||i)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),r=this.focusService.isRowNodeFocused(n),s=e.isEditing();return!!(r||s||n.detail)&&!!this.isRowPresent(n)}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}createRowCon(e,t,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const r=this.gos.get("suppressAnimationFrame");return new nv(e,this.beans,t,i&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){return Object.values(this.rowCtrlsByRowIndex).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null))}return t}isRangeInRenderedViewport(e,t){return null!=e&&null!=t&&!(t<this.firstRenderedRow||e>this.lastRenderedRow)}},UPe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],ja(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],ja(this.entriesList,e)}getEntries(){return this.entriesList}},WPe=class extends Se{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new PX,this.pinnedBottomRows=new PX}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return("top"===e?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){let e=!1,t=0;const i=n=>{if(n.rowHeightEstimated){const r=fg(this.gos,n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return this.pinnedBottomRows?.forEach(i),t=0,this.pinnedTopRows?.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(void 0===e)return void i.clear();const n=I0(this.gos),r="top"===t?Qh.ID_PREFIX_TOP_PINNED:Qh.ID_PREFIX_BOTTOM_PINNED,s=i.getIds(),o=[],a=new Set;let l=0,c=-1;for(const d of e){const u=n?.({data:d,level:0,rowPinned:t})??r+this.nextId++;if(a.has(u)){Re("Duplicate ID",u,"found for pinned row with data",d,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(u),o.push(u);const h=i.getById(u);if(void 0!==h)h.data!==d&&h.setData(d),l+=this.setRowTopAndRowIndex(h,l,c),s.delete(u);else{const g=new Qh(this.beans);g.id=u,g.data=d,g.rowPinned=t,l+=this.setRowTopAndRowIndex(g,l,c),i.push(g)}}s.forEach(d=>{i.getById(d)?.clearRowTopAndRowIndex()}),i.removeAllById(s),i.setOrder(o)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(fg(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return"top"===t?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return"top"===e?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(0===t)return 0;const i=e.getByIndex(t-1);return void 0===i?0:i.rowTop+i.rowHeight}},PX=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){return this.cache[this.ordering[e]]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{const n=this.cache[t];n&&e(n,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return 0===this.ordering.length}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},YPe=class extends Se{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){this.dispatchLocalEvent({type:"loadComplete",success:e,block:this})}},qPe={version:oi,moduleName:"@ag-grid-community/row-node-block",beans:[class extends Se{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Ha(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ja(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&qc("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>"needsLoading"===i.getState()).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(Wh(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){this.gos.get("debug")&&qc(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},QPe=class extends Se{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,n){this.processClassRules(void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n,r){if(null==t&&null==e)return;const s={},o={},a=(l,c)=>{l.split(" ").forEach(d=>{""!=d.trim()&&c(d)})};if(t){const l=Object.keys(t);for(let c=0;c<l.length;c++){const d=l[c],u=t[d];let h;"string"==typeof u?h=this.expressionService.evaluate(u,i):"function"==typeof u&&(h=u(i)),a(d,g=>{h?s[g]=!0:o[g]=!0})}}e&&r&&Object.keys(e).forEach(l=>a(l,c=>{s[c]||(o[c]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(s).forEach(n)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;return n="function"==typeof i?i(t):i,"string"==typeof n&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}},eFe=class extends Se{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:h,eFocusableElement:g}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new ev(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=Vs(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===n)return;let r,s;e?(r=0,s=n):(r=n+1,s=i.length);const o=i.slice(r,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:0===d?1:0===u?-1:d-u}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},tFe=class extends Se{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,r=[t,i],s={setTabIndex:y=>{r.forEach(_=>null!=y?_.setAttribute("tabindex",y):_.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new eFe({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Vs(this.gos).createElement("div");return t.classList.add("ag-tab-guard","top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom"),Ol(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];ma(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){t4(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}},FX=class extends tn{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new tFe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},iFe=0,rFe=class extends Se{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){return this.gos.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,n=this.getPopupIndex(i);-1!==n&&(this.popupList[n].alignedToElement=t);const r=t.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(i,r.top-s.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const c=s.right-s.left-a;let d;function u(){return r.right-s.left-2}function h(){return r.left-s.left-a}this.gos.get("enableRtl")?(d=h(),d<0&&(d=u(),this.setAlignedStyles(i,"left")),d>c&&(d=0,this.setAlignedStyles(i,"right"))):(d=u(),d>c&&(d=h(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${o}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=e,u=s.getBoundingClientRect(),h=this.getParentRect(),g=this.getPopupIndex(t);-1!==g&&(this.popupList[g].alignedToElement=s),this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,updatePosition:()=>{let _,y=u.left-h.left;return"right"===o&&(y-=t.offsetWidth-u.width),"over"===a?(_=u.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),_="under"===this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)?u.top-h.top+u.height:u.top-t.offsetHeight-2*(n||0)-h.top),{x:y,y:_}},postProcessCallback:()=>this.callPostProcessPopup(d,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,n){const r=i.bottom-t.bottom,s=t.top-i.top,o=e.offsetHeight+n;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i],{alignedToElement:r}=n;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,n,r,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:r,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(d+=n),r&&(u+=r),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),200)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=Vs(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),xQ(t)}keepXYWithinBounds(e,t,i){const n=0===i,r=n?"clientHeight":"clientWidth",s=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=Vs(this.gos),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),h=d.getBoundingClientRect(),g=l.documentElement.getBoundingClientRect(),m=d===l.body,y=Math.ceil(u[o]);let x=m?(n?wQ:cT)(c)+c[a]:d[r];m&&(x-=Math.abs(g[s]-h[s]));const D=x-y;return Math.min(Math.max(t,0),Math.abs(D))}addPopup(e){const t=Vs(this.gos),{eChild:i,ariaLabel:n,alwaysOnTop:r,positionCallback:s,anchorToElement:o}=e;if(!t)return Re("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(-1!==a)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,n,!!r),c=this.addEventListenersToPopup({...e,wrapperEl:l});return s&&s(),this.addPopupToPopupList(i,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();Ye(e.style.top)||(e.style.top=-1*i.top+"px"),Ye(e.style.left)||(e.style.left=-1*i.left+"px")}createPopupWrapper(e,t,i){const n=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ol(e,"dialog"),k0(e,t),r.appendChild(e),n.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=Vs(this.gos),i=this.getPopupParent(),{wrapperEl:n,eChild:r,closedCallback:s,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let c=!1;const d=m=>{n.contains(Ur(this.gos))&&m.key===ve.ESCAPE&&!Yh(m)&&g({keyboardEvent:m})},u=m=>g({mouseEvent:m}),h=m=>g({touchEvent:m}),g=(m={})=>{const{mouseEvent:y,touchEvent:_,keyboardEvent:x,forceHide:D}=m;!D&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:_},r)||c)||(c=!0,i.removeChild(n),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",h),t.removeEventListener("contextmenu",u),this.eventService.removeEventListener("dragStarted",u),s&&s(y||_||x),this.removePopupFromPopupList(r))};return o&&o({hidePopup:g}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),l&&(t.addEventListener("mousedown",u),this.eventService.addEventListener("dragStarted",u),t.addEventListener("touchstart",h),t.addEventListener("contextmenu",u))},0),g}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:iFe++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(s=>s&&s()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=r,n.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:r}=e,s=n.getBoundingClientRect(),o=u=>parseInt(u.substring(0,u.length-1),10),a=(u,h)=>{const g=i[u]-s[u],m=o(r.style[u]);return{initialDiff:g,lastDiff:g,initial:m,last:m,direction:h}},l=a("top",0),c=a("left",1),d=this.getFrameworkOverrides();return new vc(u=>{d.wrapIncoming(()=>{d.setInterval(()=>{const h=t.getBoundingClientRect(),g=n.getBoundingClientRect();if(0==g.top&&0==g.left&&0==g.height&&0==g.width)return void e.hidePopup();const y=(_,x)=>{const D=o(r.style[x]);_.last!==D&&(_.initial=D,_.last=D);const M=h[x]-g[x];if(M!=_.lastDiff){const k=this.keepXYWithinBounds(r,_.initial+_.initialDiff-M,_.direction);r.style[x]=`${k}px`,_.last=k}_.lastDiff=M};y(l,"top"),y(c,"left")},200).then(h=>{u(()=>{null!=h&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,r=i||n;if(!r)return!1;const s=this.getPopupIndex(t);if(-1===s)return!1;for(let o=s;o<this.popupList.length;o++)if(eAe(this.popupList[o].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=Vs(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),s=r.length,o=this.getWrapper(e);if(!o||n<=1||!t.contains(e))return!1;const a=i.indexOf(o),l=o.querySelectorAll("div"),c=[];l.forEach(u=>{0!==u.scrollTop&&c.push([u,u.scrollTop])});let d=!1;for(s?o.classList.contains("ag-always-on-top")?a!==n-1&&(Wi(r).insertAdjacentElement("afterend",o),d=!0):a!==n-s-1&&(r[0].insertAdjacentElement("beforebegin",o),d=!0):a!==n-1&&(Wi(i).insertAdjacentElement("afterend",o),d=!0);c.length;){const u=c.pop();u[0].scrollTop=u[1]}return d}},sFe=["touchstart","touchend","touchmove","touchcancel"],OX=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new vc(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){const r=qm(sFe,t);e.addEventListener(t,i,{capture:!!n,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},oFe=class extends Se{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===ve.UP,r=e===ve.LEFT;let s,o;if(i||e===ve.DOWN)o=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,s=r!==l?a[0]:Wi(a)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case ve.UP:i=this.getCellAbove(i);break;case ve.DOWN:i=this.getCellBelow(i);break;case ve.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case ve.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,Re("unknown key for navigation ",e)}n=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(n=!0);const r=this.rowModel.getRow(e.rowIndex);return(n?void 0:this.getNextStickyPosition(r))||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!XA(this.gos)||!e||!e.sticky)return;let n=[];n=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex)?[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const r=t?-1:1,s=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=n[s+r];return o?{rowIndex:o.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;let r=!1;if(i?0===t:t===this.pageBoundsService.getFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(r=!0);const s=this.rowModel.getRow(e.rowIndex);return(r?void 0:this.getNextStickyPosition(s,!0))||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=t[0];const s=this.getRowBelow(e);if(Ui(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??1))return null;i=s?s.rowIndex:null,n=s?s.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=Wi(t);const s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ui(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??1))return null;i=s?s.rowIndex:null,n=s?s.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}},$a=(e,t)=>{for(const i in t)t[i]=e;return t},LX={...$a("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...$a("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...$a("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...$a("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...$a("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...$a("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...$a("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...$a("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...$a("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...$a("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...$a("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...$a("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...$a("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...$a("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...$a("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},E4={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},aFe=(e,t)=>e.eventService.dispatchEvent(t),NX=class{};Reflect.defineProperty(NX,"name",{value:"GridApi"});var lFe=class extends Se{constructor(){super(),this.beanName="apiFunctionService",this.api=new NX,this.fns={...E4,dispatchEvent:aFe},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in LX)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:i,beans:n}=this;i!==E4&&(i[e]=n?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:n}=this;if(t){const r=LX[e];i.assertModuleRegistered(r,`api.${e}`)&&Re(`API function '${e}' not registered to module '${r}'`)}else Re(`Grid API function ${e}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`)}destroy(){super.destroy(),this.fns=E4,this.beans=null}};function cFe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var dFe=class extends Se{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const n=[],r={};return e.forEach(s=>{let a=!0,l=this.createDefFromColumn(s,t,i),c=s.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}const h=r[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],r[u.groupId]=u,l=u,c=c.getOriginalParent()),null!=c&&d===c){a=!1;break}d=c}a&&n.push(l)}),n}createDefFromGroup(e){const t=PN(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=PN(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n}},uFe=class extends Se{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:1===t.length?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:n,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:n,finished:r,source:i})}columnPinned(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i})}columnResized(e,t,i,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,source:i})}},hFe=class extends Se{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){if(Ui(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(n=>this.createStateItemFromColumn(n));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?i.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,o=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:r,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map((n,r)=>[n.getColId(),r]));e.sort((n,r)=>(i.has(n.colId)?i.get(n.colId):-1)-(i.has(r.colId)?i.get(r.colId):-1))}},pFe=class extends Se{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[];return qh(null,this.columnModel.getColTree(),i=>{Ua(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];qh(null,t,n=>{if(Ua(n)){const r=n.getColGroupDef(),s={groupId:n.getGroupId(),open:r?r.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(r=>{const o=r.open,a=this.columnModel.getProvidedColGroup(r.groupId);a&&a.isExpanded()!==o&&(a.setExpanded(o),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},gFe=class extends Se{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const n=this.visibleColsService.isBodyWidthDirty();if(e!==this.scrollWidth||t!==this.scrollPosition||n){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t]}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!this.isAnyParentAutoHeaderHeight(e))||this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,r=this.viewportRight+200;return!(t<n&&i<n||t>r&&i>r)}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,i,r=>{const s=r.getLeft();return Ye(s)&&s>this.viewportLeft})}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(s=>e[s.getId()]=!0);const r=(s,o,a)=>{let l=!1;for(let c=0;c<s.length;c++){const d=s[c];let u=!1;if(yg(d))u=!0===e[d.getId()];else{const g=d.getDisplayedChildren();g&&(u=r(g,o,a+1))}u&&(l=!0,o[a]||(o[a]=[]),o[a].push(d))}return l};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const t=this.getViewportColumns().map(n=>`${n.getId()}-${n.getPinned()||"normal"}`).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},fFe=class extends Se{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class t{refresh(){return!1}getGui(){return this.eGui}init(n){const r=e(n),s=typeof r;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=r?r:PS("<span></span>"):PS("<span>"+r+"</span>")}}}doesImplementIComponent(e){return!!e&&e.prototype&&"getGui"in e.prototype}},mFe=class extends Se{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},VX=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map((e,t)=>[e,t]));function yFe(e,t){return((e.beanName?VX[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((t.beanName?VX[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function bFe(e,t){return"gridDestroyService"===e?.beanName?-1:0}var _Fe=class extends Se{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const i=this.registry[e];if(null!=i)return new i(...t)}},CFe=class extends Se{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>e?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},wFe=class extends Se{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}equals(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex}},xFe=class extends Se{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){os(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},SFe=class extends Se{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(Ye(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}},BX={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},zX={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},GX={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},DFe=class extends Se{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(BX),this.getSizeEl(zX),this.getSizeEl(GX)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(BX)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(zX)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(GX)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const i=this.measureSizeEl(e);return"detached"===i||"no-styles"===i?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const i=t.offsetWidth;return i===HX?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${HX}px)`,i.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);"no-styles"===n&&Re(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(t,()=>{const s=this.measureSizeEl(e);"detached"===s||"no-styles"===s||(this.lastKnownValues.set(e,s),s!==n&&(n=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const i=this.readAncestorThemeClasses();MFe(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const i=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of i)t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:i}=this,n=e.get("theme")||null;n!==i&&(i?.stopUse(),this.gridTheme=n,n?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},MFe=(e,t)=>e.length===t.length&&-1===e.findIndex((i,n)=>e[n]!==t[n]),HX=15538,EFe=class extends Se{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new M0}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=QA(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},I4=class _d extends Se{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",_d.toggleKeyboardMode),t.addEventListener("mousedown",_d.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",_d.toggleKeyboardMode),t.removeEventListener("mousedown",_d.toggleKeyboardMode))}static toggleKeyboardMode(t){const n="keydown"===t.type;n&&(t.ctrlKey||t.metaKey||t.altKey)||_d.keyboardModeActive!==n&&(_d.keyboardModeActive=n)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const t=Vs(this.gos);_d.addKeyboardModeEvents(t),_d.instanceCount++,this.addDestroyFunc(()=>{_d.instanceCount--,_d.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,i=this.columnModel.getCol(t.getId());t!==i&&this.clearFocusedCell()}isKeyboardMode(){return _d.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Ur(this.gos),nv.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Ur(this.gos),yT.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,i){let n=t;for(;n;){if(xS(this.gos,n,i))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return!!this.isCellRestoreFocused(t)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),i())})}isCellRestoreFocused(t){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:i,rowPinned:n,column:r}=t,s={rowIndex:i,rowPinned:n,column:r,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n});return o&&(s.isFullWidthCell=o.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:i,rowIndex:n,rowPinned:r,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(i);a?(this.focusedCellPosition={rowIndex:n,rowPinned:Uh(r),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:s,preventScrollOnBrowserFocus:o})):this.focusedCellPosition=null}isCellFocused(t){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(null==this.focusedHeaderPosition)return!1;const i=t.getColumnGroupChild(),n=t.getRowIndex(),r=t.getPinned(),{column:s,headerRowIndex:o}=this.focusedHeaderPosition;return i===s&&n===o&&r==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,i){this.focusedHeaderPosition={headerRowIndex:t,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:n,allowUserOverride:r,event:s,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(l);if(r){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(n){const u=this.gos.getCallback("tabToNextHeader");u&&(l=this.getHeaderPositionFromUserFunc({userFunc:u,direction:i,currentPosition:c,headerPosition:l,headerRowCount:d}))}else{const u=this.gos.getCallback("navigateToNextHeader");u&&s&&(l=u({key:s.key,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:d,event:s}))}}return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:s,fromCell:o,rowWithoutSpanValue:a})}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:n,direction:r,event:s}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:i,direction:r,currentPosition:o,headerPosition:n,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:s})}getHeaderPositionFromUserFunc(t){const{userFunc:i,direction:n,currentPosition:r,headerPosition:s,headerRowCount:o}=t,l=i({backwards:"Before"===n,previousHeaderPosition:r,nextHeaderPosition:s,headerRowCount:o});return!0===l||null===l?(null===l&&Re("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):!1===l?null:l}focusProvidedHeaderPosition(t){const{headerPosition:i,direction:n,fromCell:r,rowWithoutSpanValue:s,event:o}=t,{column:a,headerRowIndex:l}=i;if(-1===l)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,n);const d=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned())?.focusHeader(i.headerRowIndex,a,o)||!1;return d&&(null!=s||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(s??-1),d}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,n=Wi(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,i){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Uh(i)}findFocusableElements(t,i,n=!1){let s=CQ;i&&(s+=", "+i),n&&(s+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter(c=>Vd(c)),a=Array.prototype.slice.apply(t.querySelectorAll(s));return a.length?(d=a,o.filter(u=>-1===d.indexOf(u))):o;var d}focusInto(t,i=!1,n=!1){const r=this.findFocusableElements(t,null,n),s=i?Wi(r):r[0];return!!s&&(s.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(t,i){if(!i)return null;const n=this.findFocusableElements(t),r=n.indexOf(i);if(-1===r)return null;let s=-1;for(let o=r-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){s=o;break}return s<=0?null:n[s-1]}findNextFocusableElement(t=this.eGridDiv,i,n){const r=this.findFocusableElements(t,i?':not([tabindex="-1"])':null),s=Ur(this.gos);let o;o=i?r.findIndex(l=>l.contains(s)):r.indexOf(s);const a=o+(n?-1:1);return a<0||a>=r.length?null:r[a]}isTargetUnderManagedComponent(t,i){if(!i)return!1;const n=t.querySelectorAll(`.${ev.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let r=0;r<n.length;r++)if(n[r].contains(i))return!0;return!1}findTabbableParent(t,i=5){let n=0;for(;t&&null===QN(t)&&++n<=i;)t=t.parentElement;return null===QN(t)?null:t}focusOverlay(t){const i=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!i&&this.focusInto(i,t)}focusGridViewFailed(t,i){return i&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,i=!1,n=!0){if(this.overlayService.isExclusive())return n&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():!(!n||!this.focusOverlay(i))||this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){const{rowIndex:s,rowPinned:o}=r;if(t??(t=this.getFocusedHeader()?.column),t&&null!=s)return this.navigationService.ensureCellVisible({rowIndex:s,column:t,rowPinned:o}),i&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(r,i)||(this.setFocusedCell({rowIndex:s,column:t,rowPinned:Uh(o),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:s,rowPinned:o,column:t})),!0}return!!(n&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const t=Ur(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,i=!1){return!(i||!this.gridCtrl.focusNextInnerContainer(t))||((i||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(t,i){const n=(i?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};I4.keyboardModeActive=!1,I4.instanceCount=0;var IFe=I4,AFe=class extends Se{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=qo(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},TFe=class extends Se{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:n,mouseEventService:r,ctrlsService:s,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:c=>1===c||0===c,getIconName:()=>"notAllowed"};n.addDropTarget(a),this.addDestroyFunc(()=>n.removeDropTarget(a)),r.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new S4(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),s.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(0===n){if(i>0){const s=Wi(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(Wi(i),!0);const r=Wi(n);if(this.focusService.focusGridView(r,!0))return!0}if(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let r=1;r<i.length;r++)if(this.focusService.focusInto(i[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(-1===n||i<0||i>=t.length)return;const r=t[i];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}getNextFocusableIndex(e,t){const i=Ur(this.gos),n=e.findIndex(s=>s.getGui().contains(i));return{indexWithFocus:n,nextIndex:n+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);const i=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},jX=class extends FX{constructor(e){super(),this.gridBody=ht,this.sideBar=ht,this.pagination=ht,this.rootWrapperBody=ht,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:s=>this.addCssClass(s),setGridThemeClass:s=>this.addCssClass(s),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:s=>{this.getGui().style.userSelect=s??"",this.getGui().style.webkitUserSelect=s??""},setCursor:s=>{this.getGui().style.cursor=s??""}},t=this.createManagedBean(new TFe),i=t.getOptionalSelectors(),n=this.createTemplate(i),r=[Y2e,...Object.values(i).filter(s=>!!s)];this.setTemplate(n,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>t.focusInnerElement(s),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&qc("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){return`<div class="ag-root-wrapper" role="presentation">\n                ${e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body data-ref="gridBody"></ag-grid-body>\n                    ${e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${e.statusBarSelector?"<ag-status-bar></ag-status-bar>":""}\n                ${e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':""}\n                ${e.watermarkSelector?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){e||!this.pagination?.isDisplayed()?super.forceFocusOutOfContainer(e):this.pagination.forceFocusOutOfContainer(e)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>Vd(t.getGui()))}},kFe={version:oi,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends Se{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t="function"==typeof e;"function"==typeof e&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{if(!r)return ji("alignedGrids contains an undefined option."),t||ji('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void ji(i());if(this.isGridApi(r))return r;const s=r;return"current"in s?s.current?.api:(s.api||ji(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),s.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(e);break;case"columnGroupOpened":this.processGroupOpenedEvent(e);break;case"columnPivotChanged":Re("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(i=>{let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),(!i||n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const n=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:s,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const d=e.api.getColumnState().map(u=>({colId:u.colId}));r.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const d=e.api.getColumnState().map(u=>({colId:u.colId,hide:u.hide}));r.applyColumnState({state:d},"alignedGridChanged")}break;case"columnPinned":{const d=e.api.getColumnState().map(u=>({colId:u.colId,pinned:u.pinned}));r.applyColumnState({state:d},"alignedGridChanged")}break;case"columnResized":{const c=e,d={};n.forEach(u=>{d[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),c.flexColumns?.forEach(u=>{d[u.getId()]&&delete d[u.getId()]}),s.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",l)})}}]},xOe={version:oi,moduleName:"@ag-grid-community/data-type",beans:[class extends Se{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Zm(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>r=>{const{column:s,node:o,value:a}=r;let l=s.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(s,o,a,l)};Object.entries(e).forEach(([n,r])=>{const s={...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)};this.dataTypeDefinitions[n]=s,this.formatValueFuncs[n]=t(s)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,r])=>{const s=this.processDataTypeDefinition(r,i,[n],e);s&&(this.dataTypeDefinitions[n]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[n]=r.dataTypeMatcher),this.formatValueFuncs[n]=t(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const r=this.dataTypeMatchers[n];r&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=r??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...rT(e.columnTypes),...rT(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[s];const a=t[s];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,s))return;r=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(s))return void Re('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const o=t[s];if(!this.validateDataTypeDefinition(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...i,s],n);if(!a)return;r=this.mergeDataTypeDefinitions(a,e)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(Re('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(Re(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){const i=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(i){if("first"===i||"last"===i)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==i){if("number"==typeof t.value)return e.valueFormatter(t);if("object"==typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||"groupRows"===this.gos.get("groupDisplayType"))&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&"string"==typeof t.value&&!e.dataTypeMatcher?.(t.value))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t;const{field:r}=t;if(void 0===n&&(n=e.cellDataType),(null==n||!0===n)&&(n=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(r,i)),!n)return void(e.cellDataType=!1);const s=this.dataTypeDefinitions[n];if(s)return e.cellDataType=n,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,s,i),s.columnTypes;Re(`Missing data type definition - "${n}"`)}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!os(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const n=null===t.type?e.type:t.type;if(n){const r=this.gos.get("columnTypes")??{};if(rT(n).some(o=>{const a=r[o.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(e,t,i,n))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;const r=e[i];return null===r?(t[i]=!1,!1):void 0===n?!!r:r===n}inferCellDataType(e,t){if(!e)return;let i;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=MS(n,e,s)}else this.initWaitForRowData(t);if(null==i)return;const[r]=Object.entries(this.dataTypeMatchers).find(([s,o])=>o(i))??["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:r}=n;r&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const n={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const a=this.columnModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=this.getUpdatedColumnState(a,o);d.rowGroup&&null==d.rowGroupIndex&&(n[s]=d),d.pivot&&null==d.pivotIndex&&(r[s]=d),i.push(d)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete i[n],"rowGroup"===n?delete i.rowGroupIndex:"pivot"===n&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(null==t)return!0;const i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!i||i(t)}validateColDef(e){const t=i=>Re(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,n){const r=this.formatValueFuncs[t];switch(i.baseDataType){case"number":e.cellEditor="agNumberCellEditor";break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===ve.SPACE;break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=r;break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(s,o)=>{const a=this.columnModel.getColDefCol(n),l=a?.getColDef();if(!a||!l)return 0;const c=null==s?"":r({column:a,node:null,value:s}),d=null==o?"":r({column:a,node:null,value:o});return c===d?0:c>d?1:-1},e.keyCreator=r}this.filterManager?.setColDefPropertiesForDataType(e,i,r)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>""===i.newValue?.trim?.()?null:Number(i.newValue),valueFormatter:i=>null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>"number"==typeof i},text:{baseDataType:"text",valueParser:i=>""===i.newValue?null:vN(i.newValue),dataTypeMatcher:i=>"string"==typeof i},boolean:{baseDataType:"boolean",valueParser:i=>null==i.newValue?i.newValue:""===i.newValue?.trim?.()?null:"true"===String(i.newValue).toLowerCase(),valueFormatter:i=>null==i.value?"":String(i.value),dataTypeMatcher:i=>"boolean"==typeof i},date:{baseDataType:"date",valueParser:i=>Ll(null==i.newValue?null:String(i.newValue)),valueFormatter:i=>null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?td(i.value,!1)??"":t("invalidDate","Invalid Date"),dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Ll(i)??void 0,dateFormatter:i=>td(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>"string"==typeof i&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>vN(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]};function UX(e,t){const{colKey:i,rowNode:n,useFormatter:r}=t,s=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(Ui(s))return null;const o=e.valueService.getValueForDisplay(s,n);return r?e.valueService.formatValue(s,n,o)??Iu(o,!0):o}function WX(e,t){e.gos.updateGridOptions({options:t})}function $X(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function YX(e){return e.rowRenderer.getLastVirtualRenderedRow()}var U3e={version:oi,moduleName:"@ag-grid-community/api",dependantModules:[{version:oi,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function qOe(e){return e.context.getGridId()},destroy:function ZOe(e){e.gridDestroyService.destroy()},isDestroyed:function QOe(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function XOe(e,t){return e.gos.get(t)},setGridOption:function JOe(e,t,i){WX(e,{[t]:i})},updateGridOptions:WX}},{version:oi,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function AOe(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function TOe(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function ROe(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function kOe(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}},{version:oi,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function D3e(e,t){if(!t.nodes.every(a=>a.rowPinned?(Re("cannot select pinned rows"),!1):void 0!==a.id||(Re("cannot select node until id for node is known"),!1)))return;const{nodes:n,source:r,newValue:s}=t;e.selectionService.setNodesSelected({nodes:n,source:r??"api",newValue:s})},selectAll:function M3e(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})},deselectAll:function E3e(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function I3e(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function A3e(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function T3e(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function R3e(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function k3e(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function P3e(e){return e.selectionService.getSelectedRows()}}},{version:oi,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function PFe(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null},getColumnDefs:function FFe(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function OFe(e,t){"number"==typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function LFe(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")},getColumnGroup:function NFe(e,t,i){return e.visibleColsService.getColumnGroup(t,i)},getProvidedColumnGroup:function VFe(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function BFe(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""},getDisplayNameForColumnGroup:function zFe(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""},getColumn:function GFe(e,t){return e.columnModel.getColDefCol(t)},getColumns:function HFe(e){return e.columnModel.getColDefCols()},applyColumnState:function jFe(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function UFe(e){return e.columnGetStateService.getColumnState()},resetColumnState:function WFe(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function $Fe(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function YFe(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function KFe(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function qFe(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function ZFe(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function QFe(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function XFe(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function JFe(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function eOe(e,t,i){e.columnModel.setColsVisible([t],i,"api")},setColumnsVisible:function tOe(e,t,i){e.columnModel.setColsVisible(t,i,"api")},setColumnPinned:function iOe(e,t,i){e.columnModel.setColsPinned([t],i,"api")},setColumnsPinned:function nOe(e,t,i){e.columnModel.setColsPinned(t,i,"api")},getAllGridColumns:function rOe(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function sOe(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function oOe(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function aOe(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function lOe(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function cOe(e){return e.columnViewportService.getViewportColumns()},moveColumn:function dOe(e,t,i){e.columnMoveService.moveColumns([t],i,"api")},moveColumnByIndex:function uOe(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")},moveColumns:function hOe(e,t,i){e.columnMoveService.moveColumns(t,i,"api")},setColumnWidth:function pOe(e,t,i,n=!0,r="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,n,r)},setColumnWidths:function gOe(e,t,i=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,i,n)},getLeftDisplayedColumnGroups:function fOe(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function mOe(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function vOe(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function yOe(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function bOe(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})},autoSizeColumns:function _Oe(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})},autoSizeAllColumns:function COe(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}},{version:oi,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function g3e(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))},setRowNodeExpanded:function f3e(e,t,i,n,r){e.expansionService.setRowNodeExpanded(t,i,n,r)},getRowNode:function m3e(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function v3e(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)},getRenderedNodes:function y3e(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function b3e(e,t,i){e.rowModel.forEachNode(t,i)},getFirstDisplayedRow:function _3e(e){return $X(e)},getFirstDisplayedRowIndex:$X,getLastDisplayedRow:function C3e(e){return YX(e)},getLastDisplayedRowIndex:YX,getDisplayedRowAtIndex:function w3e(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function x3e(e){return e.rowModel.getRowCount()},getModel:function S3e(e){return e.rowModel}}},{version:oi,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function DOe(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function MOe(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)},getRowDropZoneParams:function EOe(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},{version:oi,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function _Pe(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function CPe(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:TX,ensureIndexVisible:RX,ensureNodeVisible:function wPe(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}}},{version:oi,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function FOe(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function OOe(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function LOe(e){e.overlayService.hideOverlay()}}},{version:oi,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function r3e(e){return e.focusService.getFocusedCell()},clearFocusedCell:function s3e(e){return e.focusService.clearFocusedCell()},setFocusedCell:function o3e(e,t,i,n){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})},setFocusedHeader:function c3e(e,t,i=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,i);n&&e.focusService.focusHeaderPosition({headerPosition:n})},tabToNextCell:function a3e(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function l3e(e,t){return e.navigationService.tabToNextCell(!0,t)}}},{version:oi,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function e3e(e,t,i){e.apiEventService.addEventListener(t,i)},addGlobalListener:function i3e(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function t3e(e,t,i){e.apiEventService.removeEventListener(t,i)},removeGlobalListener:function n3e(e,t){e.apiEventService.removeGlobalListener(t)}}},{version:oi,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function VOe(e,t,i){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;null===i?n.removeAttribute(r):n.setAttribute(r,i)},refreshCells:function BOe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))},flashCells:function zOe(e,t={}){const i=n=>Re(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);Ye(t.fadeDelay)&&i("fade"),Ye(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))},refreshHeader:function GOe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))},isAnimationFrameQueueEmpty:function HOe(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function jOe(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function UOe(e){return{rowHeight:$m(e.gos),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function WOe(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(LS)}}},{version:oi,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function YOe(e){e.valueCache.expire()},getValue:function KOe(e,t,i){return UX(e,{colKey:t,rowNode:i})},getCellValue:UX}},{version:oi,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function d3e(e,t,i){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function u3e(e,t,i){let n=e.columnModel.getCol(t);n||(n=e.columnModel.getColDefCol(t)),n?e.menuService.showColumnMenu({column:n,mouseEvent:i,positionBy:"mouse"}):ji(`column '${t}' not found`)},showColumnMenu:function h3e(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showColumnMenu({column:i,positionBy:"auto"}):ji(`column '${t}' not found`)},hidePopupMenu:function p3e(e){e.menuService.hidePopupMenu()}}},{version:oi,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function F3e(e){e.sortController.onSortChanged("api")}}}]};var KX={version:oi,moduleName:"@ag-grid-community/state-core",beans:[class extends Se{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ha(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ha(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Ha(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=os(this.gos),this.cachedState=this.getInitialState(),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{"gridInitializing"===n&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return function $3e(e){return"32.1.0"===(e.version||(e.version="32.1.0"),e.version)&&(e=function Y3e(e){return e.cellSelection=function K3e(e,t){if(e&&"object"==typeof e)return e[t]}(e,"rangeSelection"),e}(e)),e}(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:n}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{0!==this.gos.get("groupDefaultExpanded")&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:n}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!n?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],n=[],r=[],s=[],o=[],a=[],l=[],c=[];let d=0;const u=this.columnGetStateService.getColumnState();for(let h=0;h<u.length;h++){const{colId:g,sort:m,sortIndex:y,rowGroup:_,rowGroupIndex:x,aggFunc:D,pivot:M,pivotIndex:k,pinned:V,hide:H,width:F,flex:P}=u[h];c.push(g),m&&(t[y??d++]={colId:g,sort:m}),_&&(i[x??0]=g),"string"==typeof D&&n.push({colId:g,aggFunc:D}),M&&(r[k??0]=g),V&&("right"===V?o:s).push(g),H&&a.push(g),(P||F)&&l.push({colId:g,flex:P??void 0,width:F})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:n,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=e,d={},u=_=>{let x=d[_];return x||(x={colId:_},d[_]=x,x)},h=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:_,sort:x},D)=>{const M=u(_);M.sort=x,M.sortIndex=D}),h.sort=null,h.sortIndex=null),i&&(i.groupColIds.forEach((_,x)=>{const D=u(_);D.rowGroup=!0,D.rowGroupIndex=x}),h.rowGroup=null,h.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:_,aggFunc:x})=>{u(_).aggFunc=x}),h.aggFunc=null),r&&(r.pivotColIds.forEach((_,x)=>{const D=u(_);D.pivot=!0,D.pivotIndex=x}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),s&&(s.leftColIds.forEach(_=>{u(_).pinned="left"}),s.rightColIds.forEach(_=>{u(_).pinned="right"}),h.pinned=null),o&&(o.hiddenColIds.forEach(_=>{u(_).hide=!0}),h.hide=null),a&&(a.columnSizingModel.forEach(({colId:_,flex:x,width:D})=>{const M=u(_);M.flex=x??null,M.width=D}),h.flex=null);const g=l?.orderedColIds,m=!!g?.length,y=m?g.map(_=>u(_)):Object.values(d);y.length&&(this.columnStates=y,this.columnApplyStateService.applyColumnState({state:y,applyOrder:m,defaultState:h},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const r of t)this.pivotResultColsService.getPivotResultCol(r.colId)&&n.push(r);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:n})=>{n&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set(e.columnGroup?.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{const s=t.has(r);return s&&t.delete(r),{groupId:r,open:s}});t.forEach(r=>{n.push({groupId:r,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:n}=e??{advancedFilterModel:t};i&&this.filterManager?.setFilterModel(i,"columnFilter"),n&&this.filterManager?.setAdvancedFilterModel(n)}getRangeSelectionState(){const e=this.rangeService?.getCellRanges().map(t=>{const{id:i,type:n,startRow:r,endRow:s,columns:o,startColumn:a}=t;return{id:i,type:n,startRow:r,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:i,columnModel:n,visibleColsService:r}=this;if(!Eu(t)||!i)return;const s=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const d=n.getCol(c);d&&a.push(d)}),!a.length)return;let l=n.getCol(o.startColId);if(!l){const c=r.getAllCols(),d=new Set(a);l=c.find(u=>d.has(u))}s.push({...o,columns:a,startColumn:l})}),function UIe(e){return void 0!==e.get("cellSelection")}(t)&&function WIe(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&(t?.suppressMultiRanges??!1):e.get("suppressMultiRangeSelection")}(t)&&s.length>1)return Re("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return e||t?{page:e,pageSize:t}:void 0}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationService.setPage(e.page))}getRowSelectionState(){const e=this.selectionService.getSelectionState();return e&&(Array.isArray(e)||!1!==e.selectAll&&!1!==e.selectAllChildren||e?.toggledNodes?.length)?e:void 0}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([n,r])=>{wS(r,this.cachedState[n])||(i=!0)}),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),wS(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{"rowSelection"===e&&this.setCachedStateValue(e,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}}]},Q3e={version:oi,moduleName:"@ag-grid-community/state",dependantModules:[KX,{version:oi,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function W3e(e){return e.stateService?.getState()??{}}},dependantModules:[KX]}]},jS="paginationPageSizeSelector",uLe={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends tn{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(jS,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&this.reloadPageSizesSelector()}reset(){ma(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get(jS)}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){const r=this.gos.exists("paginationPageSize"),s=!0!==this.gos.get(jS);Re(`'paginationPageSize=${t}'${r?"":" (default value)"}, but ${t} is not included in${s?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),s||Re(`Either set '${jS}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const n=String(i?"":t);this.selectPageSizeComp?($h(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.localeService.getLocaleTextFunc(),n=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new l4).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const t=this.gos.get(jS);return!Array.isArray(t)||Fl(t)?[20,50,100]:[...t].sort((i,n)=>i-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},pLe={selector:"AG-PAGINATION",component:class extends FX{constructor(){super(),this.btFirst=ht,this.btPrevious=ht,this.btNext=ht,this.btLast=ht,this.lbRecordCount=ht,this.lbFirstRowOnPage=ht,this.lbLastRowOnPage=ht,this.lbCurrent=ht,this.lbTotal=ht,this.pageSizeComp=ht,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[uLe]);const{btFirst:t,btPrevious:i,btNext:n,btLast:r}=this;this.activateTabIndex([t,i,n,r]),t.insertAdjacentElement("afterbegin",mc(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",mc(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",mc(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",mc(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===ve.ENTER||n.key===ve.SPACE)&&(n.preventDefault(),i())}})}),function cLe(e,t,i){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===ve.TAB){const r=n.shiftKey;i.findNextFocusableElement(t,!1,r)||i.focusNextGridCoreContainer(r)&&n.preventDefault()}}})}(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc();return function eX(e,t,i){return"number"!=typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${i}</span>\n                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${n}</span>\n                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${l}-start-page">${t}</span>\n                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${n}</span>\n                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===i-1||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){(function OAe(e,t){Xc(e,"disabled",t)})(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),n=e?i:null;if(1===n){const D=this.rowModel.getRow(0);if(D&&D.group&&!D.groupData&&!D.aggData)return void this.setTotalLabelsToZero()}const r=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>n&&(a=n));const c=!e&&i<o+s-1,d=this.formatNumber(o);let u;this.lbFirstRowOnPage.textContent=d;const h=this.localeService.getLocaleTextFunc();u=c?h("pageLastRowUnknown","?"):this.formatNumber(a),this.lbLastRowOnPage.textContent=u;const y=this.formatNumber(t>0?r+1:0);let _,x;if(this.lbCurrent.textContent=y,e)_=this.formatNumber(t),x=this.formatNumber(n);else{const D=h("more","more");_=D,x=D}this.lbTotal.textContent=_,this.lbRecordCount.textContent=x,this.announceAriaStatus(d,u,x,y,_)}announceAriaStatus(e,t,i,n,r){const s=this.localeService.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,d=`${o} ${n} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}}},qX={version:oi,moduleName:"@ag-grid-community/pagination-core",beans:[class extends Se{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return pLe}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||"number"!=typeof this.currentPage||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ye(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ye(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ye(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ye(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},class extends Se{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=Math.max($m(this.gos),1),n=Math.floor(e/i);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?Ha(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},mLe={version:oi,moduleName:"@ag-grid-community/pagination",dependantModules:[qX,{version:oi,moduleName:"@ag-grid-community/pagination-api",dependantModules:[qX],apiFunctions:{paginationIsLastPageFound:function X3e(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function J3e(e){return e.paginationService?.getPageSize()??100},paginationGetCurrentPage:function eLe(e){return e.paginationService?.getCurrentPage()??0},paginationGetTotalPages:function tLe(e){return e.paginationService?.getTotalPages()??1},paginationGetRowCount:function iLe(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function nLe(e){e.paginationService?.goToNextPage()},paginationGoToPreviousPage:function rLe(e){e.paginationService?.goToPreviousPage()},paginationGoToFirstPage:function sLe(e){e.paginationService?.goToFirstPage()},paginationGoToLastPage:function oLe(e){e.paginationService?.goToLastPage()},paginationGoToPage:function aLe(e,t){e.paginationService?.goToPage(t)}}}]},Nl="clientSide",Ya="serverSide",B0="infinite",vLe={onGroupExpandedOrCollapsed:[Nl],refreshClientSideRowModel:[Nl],isRowDataEmpty:[Nl],forEachLeafNode:[Nl],forEachNodeAfterFilter:[Nl],forEachNodeAfterFilterAndSort:[Nl],resetRowHeights:[Nl],applyTransaction:[Nl],applyTransactionAsync:[Nl],flushAsyncTransactions:[Nl],getBestCostNodeSelection:[Nl],getServerSideSelectionState:[Ya],setServerSideSelectionState:[Ya],applyServerSideTransaction:[Ya],applyServerSideTransactionAsync:[Ya],applyServerSideRowData:[Ya],retryServerSideLoads:[Ya],flushServerSideAsyncTransactions:[Ya],refreshServerSide:[Ya],getServerSideGroupLevelState:[Ya],refreshInfiniteCache:[B0],purgeInfiniteCache:[B0],getInfiniteRowCount:[B0],isLastRowIndexKnown:[B0,Ya],expandAll:[Nl,Ya],collapseAll:[Nl,Ya],onRowHeightChanged:[Nl,Ya],setRowCount:[B0,Ya],getCacheBlockState:[B0,Ya]},yLe={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}},wg=(e,t)=>"clientSide"===(t.rowModelType??"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null,CLe={enableRowGroup:wg,rowGroup:wg,rowGroupIndex:wg,enablePivot:wg,enableValue:wg,pivot:wg,pivotIndex:wg,aggFunc:wg,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>z0},z0={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},validations:CLe},DLe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},ZX={version:oi,moduleName:"@ag-grid-community/core-community-features",dependantModules:[{version:oi,moduleName:"@ag-grid-community/core"},{version:oi,moduleName:"@ag-grid-community/core-validations",beans:[class extends Se{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...ES.ALL_PROPERTIES,...IS.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":return e.getDataPath?null:`treeData requires 'getDataPath' in the ${t} row model.`;case"serverSide":return e.isServerSideGroup&&e.getServerSideGroupKey?null:`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return"boolean"==typeof t||null==t||t.length?null:"'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false."}},rowSelection:{validate:({rowSelection:e})=>e&&"string"==typeof e?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':null},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>z0,defaultColDef:()=>z0,defaultColGroupDef:()=>z0,autoGroupColumnDef:()=>z0,selectionColumnDef:()=>z0}})}validateApiFunction(e,t){return function bLe(e,t,i){const n=yLe[e];if(n){const{version:s,new:o,old:a,message:l}=n,c=a??e;return(...d)=>(Re(`Since ${s} api.${c} is deprecated. ${o?`Please use ${o} instead. `:""}${l??""}`),t.apply(t,d))}const r=vLe[e];return r?(...s)=>{const o=i.rowModel.getType();if(r.includes(o))return t.apply(t,s);ji(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`)}:t}(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:n,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...s??[],...Object.keys(n)],r,o,a);const l=new Set;Object.keys(e).forEach(d=>{const u=n[d];if(u)if("renamed"in u){const{renamed:M,version:k}=u;l.add(`As of v${k}, ${String(d)} is deprecated. Please use ${String(M)} instead.`),e[M]=e[d]}else{const{message:M,version:k}=u;l.add(`As of v${k}, ${String(d)} is deprecated. ${M??""}`)}const h=e[d];if(null==h||!1===h)return;const g=i[d];let m;if(!g)return;if("function"==typeof g){const M=g(e,this.gridOptions);if(!M)return;if("objectName"in M){const k=e[d];return Array.isArray(k)?void k.forEach(V=>{this.processOptions(V,M)}):void this.processOptions(e[d],M)}m=M}else m=g;const{module:y,dependencies:_,validate:x,supportedRowModels:D}=m;if(D){const M=this.gridOptions.rowModelType??"clientSide";if(!D.includes(M))return void l.add(`${String(d)} is not supported with the '${M}' row model.`)}if(y){const M=Array.isArray(y)?y:[y];let k=!0;if(M.forEach(V=>{this.gos.assertModuleRegistered(V,String(d))||(k=!1,l.add(`${String(d)} is only available when ${V} is loaded.`))}),!k)return}if(_){const M=this.checkForRequiredDependencies(d,_,e);if(M)return void l.add(M)}if(x){const M=x(e,this.gridOptions);if(M)return void l.add(M)}}),l.size>0&&l.forEach(d=>{Re(d)})}checkForRequiredDependencies(e,t,i){const r=Object.entries(t).find(([a,l])=>!l.includes(i[a]));if(!r)return null;const[s,o]=r;return o.length>1?`'${String(e)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${o[0]}.`}checkProperties(e,t,i,n,r){const o=function STe(e,t,i){const n={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>n[s]=OQ(s,i).values),n}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(Zc(o,(a,l)=>{let c=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`\nIf you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),Re(c)}),Object.keys(o).length>0&&r){const a=this.getFrameworkOverrides().getDocLink(r);Re(`to see all the valid ${n} properties please check: ${a}`)}}}]},zPe,lke,Q3e,xOe,kFe,mLe,U3e]},RLe=class extends Se{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},IT=new Set(["gridPreDestroyed","fillStart","pasteStart"]),PLe=new Map([...ES.BOOLEAN_PROPERTIES.map(e=>[e,bN]),...ES.NUMBER_PROPERTIES.map(e=>[e,JQ]),["groupAggFiltering",e=>"function"==typeof e?e:bN(e)],["pageSize",Tu(1)],["autoSizePadding",Tu(0)],["keepDetailRowsCount",Tu(1)],["rowBuffer",Tu(0)],["infiniteInitialRowCount",Tu(1)],["cacheOverflowSize",Tu(1)],["cacheBlockSize",Tu(1)],["serverSideInitialRowCount",Tu(1)],["viewportRowModelPageSize",Tu(1)],["viewportRowModelBufferSize",Tu(0)]]);function QX(e,t){const i=PLe.get(e);return i?i(t):t}var XX=class Lue extends Se{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new M0,this.globalEventHandlerFactory=t=>(i,n)=>{if(!this.isAlive())return;const r=IT.has(i);if(r&&!t||!r&&t)return;const s=IS.getCallbackForEvent(i),o=this.gridOptions[s];"function"==typeof o&&this.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??DLe[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return Ye(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const r=n;return r.api=this.api,r.context=this.gridOptionsContext,t(r)})}updateGridOptions({options:t,force:i,source:n="api"}){const r={id:Lue.changeSetId++,properties:[]},s=[];Object.entries(t).forEach(([o,a])=>{"api"===n&&EAe[o]&&Re(`${o} is an initial property and cannot be updated.`);const l=QX(o,a),d=this.gridOptions[o];(i||"object"==typeof l&&"api"===n||d!==l)&&(this.gridOptions[o]=l,s.push({type:o,currentValue:l,previousValue:d,changeSet:r,source:n}))}),this.validationService?.processGridOptions(this.gridOptions),r.properties=s.map(o=>o.type),s.forEach(o=>{this.gridOptions.debug&&qc(`Updated property ${o.type} from`,o.previousValue," to ",o.currentValue),this.propertyEventService.dispatchEvent(o)})}addPropertyEventListener(t,i){this.propertyEventService.addEventListener(t,i)}removePropertyEventListener(t,i){this.propertyEventService.removeEventListener(t,i)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const i=t;return i.api=this.api,i.context=this.gridOptionsContext,i}assertModuleRegistered(t,i){return Zh.__assertRegistered(t,i,this.gridId)}isModuleRegistered(t){return Zh.__isRegistered(t,this.gridId)}};XX.changeSetId=0;var OLe=XX,LLe=class extends Se{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,n;if(Bs(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,i=this.visibleColsService[n](e.column)),!i)return;const{headerRowIndex:r}=e;if("filter"!==this.getHeaderRowType(r)){const a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-r]}const{column:s,headerRowIndex:o}=this.getHeaderIndexToFocus(i,r);return{column:s,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let i;if(Bs(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let r=i;for(;r!==n;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some(t=>t.isSpanHeaderHeight())}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),r="column"===i;let s="filter"===i?e:e.getParent(),o=t-1,a=o;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=e,o=t,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){let r=e,s=t+1;const o=s;if("group"===this.getHeaderRowType(t)){const a=e.getDisplayedLeafColumns(),l="After"===i?a[0]:Wi(a),c=[];let d=l;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(r=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){const h=c[u];if(!h.isPadding()){r=h;break}s++}else r=Wi(c),r||(r=l)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),n=i["start"===t?0:i.length-1];if(!n)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned())?.getRowType(e);return"group"==s?{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(n,e)}:{headerRowIndex:null==s?-1:e,column:n}}},NLe=class extends Se{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,n,r)=>e({key:i,defaultValue:n,variableValues:r});const t=this.gos.get("localeText");return(i,n,r)=>{let s=t&&t[i];if(s&&r&&r.length){let o=0;for(;!(o>=r.length||-1===s.indexOf("${variable}"));)s=s.replace("${variable}",r[o++])}return s??n}}},VLe=class extends Se{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new RN(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),n=QA(this.gos)&&!IT.has(e),r=n?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventService.addEventListener(e,i,n)}removeEventListener(e,t){const i=this.frameworkEventWrappingService.unwrap(t),r=!!this.asyncEventListeners.get(e)?.delete(i);r||this.syncEventListeners.get(e)?.delete(i),this.eventService.removeEventListener(e,i,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(QA(this.gos)){const n=(s,o)=>{IT.has(s)&&t(s,o)},r=(s,o)=>{IT.has(s)||t(s,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:r}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(r=>this.eventService.removeEventListener(n,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},BLe=class extends Se{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},zLe=class extends Se{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Ui(this.topRowBounds)||Ui(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=Ye(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},GLe=class extends Se{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Ha(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Vs(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),gQ(t,"polite"),function FAe(e,t){Xc(e,"relevant",t)}(t,"additions text"),function PAe(e,t){Xc(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(ma(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},HLe=class extends Se{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return e(),void t();const i=n=>{for(;n.length;){const r=n.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},jLe=class extends Se{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},ULe=class extends Se{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=os(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.overlayWrapperComp}isExclusive(){return 1===this.state&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(void 0!==e||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!this.gos.get("loading")&&!this.gos.get("suppressNoRowsOverlay")&&this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?Re("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead."):this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp)return void(this.state=0);let e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){const n=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(n,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;2===this.state?e=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:0!==this.wrapperPadding&&(e=0),this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},WLe=class extends Se{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return Ye(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),eQ(t,this.processClassesFromGridOptions(e.rowNode)),eQ(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=s=>{"string"==typeof s?t.push(s):Array.isArray(s)&&s.forEach(o=>t.push(o))},n=this.gos.get("rowClass");if(n){if("function"==typeof n)return Re("rowClass should not be a function, please use getRowClass instead"),[];i(n)}const r=this.gos.getCallback("getRowClass");return r&&i(r({data:e.data,node:e,rowIndex:e.rowIndex})),t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},$Le=class extends Se{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function WAe(){if(void 0!==YN)return YN;if(!document.body)return-1;let e=1e6;const t=qN()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=2*e;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),YN=e,e}(),this.gos.get("debug")&&qc("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&qc(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)}},YLe=class extends Se{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Mu(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Mu(this.gos))}doFullSort(e,t){const n=e.map((r,s)=>({currentPos:s,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,i){const n=t.rowNode,r=i.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l="desc"===a.sort,c=this.getValue(n,a.column),d=this.getValue(r,a.column);let u;const h=this.getComparator(a,n);if(u=h?h(c,d,n,r,l):BIe(c,d,this.isAccentedSort),!isNaN(u)&&0!==u)return"asc"===a.sort?u:-1*u}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(null!=n)return n;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const s=this.columnModel.getColDefCol(r);return s?s.getColDef().comparator:void 0}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(JA(this.gos,this.columnModel.isPivotActive())){const s=e.allLeafChildren?.[0];return s?this.valueService.getValue(t,s,!1,!1):void 0}const r=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());return r?e.groupData?.[r.getId()]:void 0}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}},AT=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const r=e.childrenAfterGroup[n];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},i++,t=t.parent;return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const r=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},JX=class extends Se{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return null!==this.root&&this.getRange().some(t=>t.id===e.id)}getRoot(){return this.root&&null===this.root?.key&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&null===this.end?.key&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const i=t[0].id===this.root.id,n=t.findIndex(r=>r.id===e.id);if(n>-1){const r=t.slice(0,n),s=t.slice(n+1);return this.setEndRange(e),i?{keep:r,discard:s}:{keep:s,discard:r}}return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(null==i){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(r=>r.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=tT(e),this.groupSelectsChildren=Km(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const n=Km(e),r=tT(e);(n!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=n,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return"multiRow"===this.rowSelectionMode}overrideSelectionValue(e,t){if(!(e=>"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e)(t))return e;const i=this.selectionCtx.getRoot();return!i||(i.isSelected()??!1)}setNodesSelected(e){const{newValue:t,clearSelection:i,suppressFinishActions:n,rangeSelect:r,nodes:s,event:o,source:a}=e;if(0===s.length)return 0;if(s.length>1&&!this.isMultiSelect())return Re("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,c=s.map(u=>u.footer?u.sibling:u);if(r){if(c.length>1)return Re("cannot range select while selecting multiple rows"),0;const u=c[0],h=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(u)){const g=this.selectionCtx.truncate(u);return h&&this.selectRange(g.discard,!1,a),this.selectRange(g.keep,h,a)}if(this.selectionCtx.getRoot()!==u){const y=this.selectionCtx.extend(u,this.groupSelectsChildren);return h&&this.selectRange(y.discard,!1,a),this.selectRange(y.keep,h,a)}}}n||this.selectionCtx.setRoot(c[0]);let d=0;for(let u=0;u<c.length;u++){const h=c[u];l&&h.group||h.selectThisNode(t,o,a)&&d++,this.groupSelectsChildren&&h.childrenAfterGroup?.length&&(d+=this.selectChildren(h,t,l,a))}return n||(t&&(i||!this.isMultiSelect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(e,t,i){let n=0;return e.forEach(r=>{r.group&&this.groupSelectsChildren||r.selectThisNode(t,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i,n){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Ui(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:r})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,n)=>{i&&e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!os(this.gos))return!1;const n=this.rowModel.getRootNode();t||(t=new AT(!0,n)).setInactive();let r=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==n){const o=s.calculateSelectedFromChildren();r=s.selectThisNode(null!==o&&o,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let n=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const s=this.selectedNodes.get(r.id);n+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const s=r.calculateSelectedFromChildren();r.selectThisNode(null!==s&&s,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){Ye(t)&&e.id!==t.id&&t&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!os(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(null===t)return;const i=[];return function n(r){for(let s=0,o=r.length;s<o;s++){const a=r[s];a.isSelected()?i.push(a):a.group&&a.children&&n(a.children)}}(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),0===e}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,n),i=os(this.gos),{source:n,justFiltered:r,justCurrentPage:s}=e;if(s||r){if(!i)return void ji("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,s).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(n);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let i=0,n=0;return this.getNodesToSelect(e,t).forEach(s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?i++:s.selectable&&n++)}),{selectedCount:i,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(e,t);return(0!==i||0!==n)&&(i>0&&n>0?null:i>0)}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const i=[];if(t)return this.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||i.push(r);else{const s=o=>{i.push(o),o.childrenAfterFilter?.length&&o.childrenAfterFilter.forEach(s)};s(r)}else i.push(r)}),i;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(r=>{i.push(r)}),i):(n.forEachNode(r=>{i.push(r)}),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let n=t;n<=i;n++){const r=this.rowModel.getRow(n);r&&e(r)}}selectAllRowNodes(e){if(function jIe(e){return"string"!=typeof e.get("rowSelection")}(this.gos)&&!SN(this.gos))return Re("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:i,justCurrentPage:n}=e,r=this.getNodesToSelect(i,n);r.forEach(s=>s.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(Wi(r)??null),os(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return ji("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(e),n=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&n.push(r)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!os(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},KLe=class extends Se{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,i=ZA(t),n=xN(t);if(!i||!n)return;const r=Km(t),s=os(t)&&r,o=[],a=l=>{if(e&&!l.group)return;if(s&&l.group){const d=l.childrenAfterGroup.some(u=>!0===u.selectable);return void l.setRowSelectable(d,!0)}const c=n?.(l)??!0;l.setRowSelectable(c,!0),!c&&l.isSelected()&&o.push(l)};s?new AT(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0):this.rowModel.forEachNode(a),o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof JX&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},eJ=["asc","desc",null],qLe=class extends Se{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){"asc"!==t&&"desc"!==t&&(t=null);let s=[e];if(Mu(this.gos)&&e.getColDef().showRowGroup){const c=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(d=>d.isSortable());c&&(s=[e,...c])}s.forEach(l=>l.setSort(t,n));const a=[];if(!i&&!this.gos.get("alwaysMultiSort")||this.gos.get("suppressMultiSort")){const l=this.clearSortBarTheseColumns(s,n);a.push(...l)}this.updateSortIndex(e),a.push(...s),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){const t=Mu(this.gos),i=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),n=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(a=>a.setSortIndex(null));const s=r.filter(a=>!(t&&a.getColDef().showRowGroup||a===n));(n.getSort()?[...s,n]:s).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):eJ,!Array.isArray(t)||t.length<=0)return Re(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort());let s;return s=i<0||i==t.length-1?t[0]:t[i+1],eJ.indexOf(s)<0?(Re("invalid sort type ",s),null):s}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=Mu(this.gos);e=e.filter(o=>{const a=!!o.getAggFunc(),l=!o.isPrimary(),c=s?this.showRowGroupColsService?.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const t=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),i={};e.forEach((s,o)=>i[s.getId()]=o),e.sort((s,o)=>{const a=s.getSortIndex(),l=o.getSortIndex();return null!=a&&null!=l?a-l:null==a&&null==l?i[s.getId()]>i[o.getId()]?1:-1:null==l?-1:1});const n=Mu(this.gos)&&!!t.length;n&&(e=[...new Set(e.map(s=>this.showRowGroupColsService?.getShowRowGroupCol(s.getId())??s))]);const r=new Map;return e.forEach((s,o)=>r.set(s,o)),n&&t.forEach(s=>{const o=this.showRowGroupColsService.getShowRowGroupCol(s.getId());r.set(s,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Mu(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const n=null!=e.getColDef().field||e.getColDef().valueGetter?[e,...t]:t,r=n[0].getSort();return n.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},ZLe=class extends Se{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&qc(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(t);this.columnModel.setColumnDefs(t,Zm(e.source))}}},XLe=class extends Se{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){os(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),r=new AT(n,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(s=>{i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},JLe=class extends Se{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);ji("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return qc("Processing of the expression failed"),qc("Expression = ",e),qc("Params = ",t),qc("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},eNe=class extends Se{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}},tNe=class extends Se{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=Wh(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=QA(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!i,r=this.gos.get("groupSuppressBlankHeader");if(!n||r)return this.getValue(e,t);let s=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");return s="function"!=typeof o?!!o:!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this}),this.getValue(e,t,!1,n&&s)}getValue(e,t,i=!1,n=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),s=r.field,o=e.getColId(),a=t.data;let l;const c=t.groupData&&void 0!==t.groupData[o],d=!n&&t.aggData&&void 0!==t.aggData[o],u=this.isSsrm&&n&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,a,e,t):this.isTreeData&&d?l=t.aggData[o]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):this.isTreeData&&s&&a?l=MS(a,s,e.isFieldContainsDots()):c?l=t.groupData[o]:d?l=t.aggData[o]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):h?l=MS(a,t.field,e.isFieldContainsDots()):s&&a&&!u&&(l=MS(a,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof l&&0===l.indexOf("=")){const g=l.substring(1);l=this.executeValueGetter(g,a,e,t)}if(null==l){const g=this.getOpenedGroup(t,e);if(null!=g)return g}return l}parseValue(e,t,i,n){const r=e.getColDef(),s=r.valueParser;if(Ye(s)){const o=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:n,newValue:i,colDef:r,column:e});return"function"==typeof s?s(o):this.expressionService.evaluate(s,o)}return i}getDeleteValue(e,t){return Ye(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,n,r=!0){let o,s=null;const a=e.getColDef();if(n?o=n:r&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});s="function"==typeof o?o(l):this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let r=e.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===n||n===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,n){const r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;Ui(e.data)&&(e.data={});const{field:s,valueSetter:o}=r.getColDef();if(Ui(s)&&Ui(o))return Re("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,i))return Re("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r});let l;if(a.newValue=i,l=Ye(o)?"function"==typeof o?o(a):this.expressionService.evaluate(o,a):this.setValueUsingField(e.data,s,i,r.isFieldContainsDots()),void 0===l&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const c=this.getValue(r,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"==typeof t&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let r=!1;if(n){const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();0===s.length?(r=o[a]===i,r||(o[a]=i)):o=o[a]}}else r=e[t]===i,r||(e[t]=i);return!r}executeFilterValueGetter(e,t,i,n){const r=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return"function"==typeof e?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,n){const r=i.getColId(),s=this.valueCache.getValue(n,r);if(void 0!==s)return s;const o=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return a="function"==typeof e?e(o):this.expressionService.evaluate(e,o),this.valueCache.setValue(n,r,a),a}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let r=i;return n&&(r=n(this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&Re("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},A4=class by{static applyGlobalGridOptions(t){if(!by.gridOptions)return t;let i={};return Wa(i,by.gridOptions,!0,!0),"deep"===by.mergeStrategy?Wa(i,t,!0,!0):i={...i,...t},by.gridOptions.context&&(i.context=by.gridOptions.context),t.context&&("deep"===by.mergeStrategy&&i.context&&Wa(t.context,i.context,!0,!0),i.context=t.context),i}};A4.gridOptions=void 0,A4.mergeStrategy="shallow";var TT=A4,nNe=1,iJ=class extends Se{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}},dNe={version:oi,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function rNe(e){e.expansionService.expandAll(!0)},collapseAll:function sNe(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function oNe(e){const t=e.rowModelHelperService?.getClientSideRowModel(),i=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}}},uNe={version:oi,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function aNe(e,t,i){const n=e.rowModelHelperService?.getServerSideRowModel();if(n)return e.funcColsService.isRowGroupEmpty()?void n.setRowCount(t,i):void ji("setRowCount cannot be used while using row grouping.");const r=e.rowModelHelperService?.getInfiniteRowModel();r&&r.setRowCount(t,i)},getCacheBlockState:function lNe(e){return e.rowNodeBlockLoader?.getBlockState()??{}},isLastRowIndexKnown:function cNe(e){return e.rowModel.isLastRowIndexKnown()}}},hNe=class{wrap(e,t,i=[],n){const r=this.createWrapper(e,n);return t.forEach(s=>{this.createMethod(r,s,!0)}),i.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&Re("Framework component is missing the method "+t+"()"),null)}}},T4=class{};T4.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},T4.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],T4.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var G0=typeof global>"u"?{}:global;G0.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,G0.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,G0.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,G0.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,G0.Node=typeof Node>"u"?{}:Node,G0.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var k4="32.2.1",nJ={version:k4,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[class extends Se{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Ha(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Qh(this.beans),this.nodeManager=new class{constructor(e,t,i,n,r,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=n,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return rQ(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"==typeof e)return void Re("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,r)=>this.createNode(n,this.rootNode,0,r)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,i=t?.length??0,n=new Map;let r=-1,s=-1;for(let o=0;o<i;++o){const a=t[o],l=a.data;l!==e[o]&&(s<0&&(r=o),s=o,n.set(l,a))}if(r<0)return!1;for(let o=r;o<=s;++o){const a=n.get(e[o]);void 0!==a&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const i=e.add;if(Fl(i))return;const n=this.rootNode.allLeafChildren;let r=n.length;if("number"==typeof e.addIndex&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")))for(let l=0;l<n.length;l++)if(n[l]?.rowIndex==r-1){r=l+1;break}const s=i.map((a,l)=>this.createNode(a,this.rootNode,0,r+l));if(r<n.length){const a=n.slice(0,r),l=n.slice(r,n.length),c=a.length+s.length;for(let d=0,u=l.length;d<u;++d)l[d].sourceRowIndex=c+d;this.rootNode.allLeafChildren=[...a,...s,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(s);const o=this.rootNode.sibling;o&&(o.allLeafChildren=n),t.rowNodeTransaction.add=s}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){const{remove:n}=e;if(Fl(n))return;const r={};n.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.isSelected()&&i.push(a),a.clearRowTopAndRowIndex(),r[a.id]=!0,delete this.allNodesMap[a.id],t.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(o=>!r[o.id])??null,this.rootNode.allLeafChildren?.forEach((o,a)=>{o.sourceRowIndex=a});const s=this.rootNode.sibling;s&&(s.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){const{update:n}=e;Fl(n)||n.forEach(r=>{const s=this.lookupRowNode(r);s&&(s.updateData(r),!s.selectable&&s.isSelected()&&i.push(s),this.setMasterForRow(s,r,0,!1),t.update.push(s))})}lookupRowNode(e){const t=I0(this.gos);let i;if(t){const n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return ji(`could not find row id=${n}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren?.find(n=>n.data===e),!i)return ji("could not find data item as object was not found",e),ji("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,n){const r=new Qh(this.beans);return r.sourceRowIndex=n,r.group=!1,this.setMasterForRow(r,e,i,!0),t&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&Re(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,t,i,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");e.setMaster(!o||o(t))}else e.setMaster(!1);if(n){const o=this.funcColsService.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(i+(o?o.length:0))}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}}(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...n,...n,...r,...s,...o,...a];this.addManagedPropertyListeners(l,c=>{const d=c.changeSet?.properties;if(!d)return;const u=h=>d.some(g=>h.has(g));u(e)?this.setRowData(this.rootNode.allLeafChildren.map(h=>h.data)):u(t)?this.refreshModel({step:"group"}):u(i)?this.refreshModel({step:"filter"}):u(n)?this.refreshModel({step:"pivot"}):u(r)?this.refreshModel({step:"aggregate"}):u(s)?this.refreshModel({step:"sort"}):u(o)?this.refreshModel({step:"filter_aggregates"}):u(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),c=Math.min(a,n);for(let d=l;d<=c;d++){const u=this.getRow(d);if(u.rowHeightEstimated){const h=fg(this.gos,u);u.setRowHeight(h.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,n=qo(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){const s=this.rowsToDisplay[r];if(null!=s.id&&i.add(s.id),null==s.rowHeight){const o=fg(this.gos,s,n,e);s.setRowHeight(o.height,o.estimated)}s.setRowTop(t),s.setRowIndex(r),t+=s.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),n=s=>{s&&null!=s.id&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(i&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(r))};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const n=this.getRowIndexAtPixel(t),r=this.getRow(n),s=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{ja(o,a)}),e.forEach((a,l)=>{DS(o,a,Math.max(n+i,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,n=null!=i?this.getRow(i):null;if(!n||!e||n===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(r),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(!(t=this.getRow(r||0)))return 1}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(0===this.rowsToDisplay.length)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return(t?t.length:0)+(this.rootNode.sibling?1:0)}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;i-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1];if(n.footer&&i>=this.rootNode.childrenAfterSort.length)return n.rowIndex;let s=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(Ui(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=E0(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=E0(this.gos),n=0===e.columns.length||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=E0(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Fl(e),i=new AT(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter(n=>null!=n.add&&n.add.length>0||null!=n.remove&&n.remove.length>0);return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(Ye(e)&&(t=i[e]),!Ui(t))return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")};ji(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`)}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Ui(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Ui(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return Ye(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1;const r=[],s=Km(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(!n)if(i&&(o===t||o===e)&&(n=!0,o.group&&s))r.push(...o.allLeafChildren);else{if(!i){if(o!==t&&o!==e)return;i=!0}o.group&&s||r.push(o)}}),r}setDatasource(e){ji("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Wi(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){const o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),r===t&&s===i))return o;r=t,s=i}}isRowInPixel(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:n,includeFooterNodes:r}=e;let{index:s}=e;const o=a=>{const l=t[0]?.parent;if(!l)return;const c=r&&YZ(this.gos),d=KZ(this.gos),u=r&&d({node:l});l!==this.rootNode?u===a&&(l.createFooter(),i(l.sibling,s++)):c===a&&(l.createFooter(),i(l.sibling,s++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(i(l,s++),l.hasChildren()&&!l.footer){let c=null;switch(n){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort}c&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:n,index:s,includeFooterNodes:r}))}}return o("bottom"),s}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=r=>{r&&r.forEach(s=>{const o=()=>{s.expanded=e,n(s.childrenAfterGroup)};t?Ye(s.childrenAfterGroup)&&o():i?!s.leafGroup&&o():s.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){if(this.groupStage)this.groupStage.execute(e?{rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}:{rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),Km(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const r=this.rootNode,s=r.sibling;r.childrenAfterGroup=r.allLeafChildren,s&&(s.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if("string"==typeof e&&0==e.indexOf(Qh.ID_PREFIX_ROW_GROUP)){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;this.rowDataTransactionBatch?.forEach(n=>{const{rowNodeTransaction:r,rowsInserted:s}=this.nodeManager.updateRowData(n.rowDataTransaction);s&&(i=!0),t.push(r),n.callback&&e.push(n.callback.bind(null,r))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}},class extends Se{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(n,r)=>{n.childrenAfterFilter=n.hasChildren()&&e&&!r?n.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(s.childrenAfterGroup[a],c):i(l,c)}i(s,o)};t.executeFromRootNode(s=>n(s,!1))}else t.forEachChangedNodeDepthFirst(r=>i(r,!1),!0)}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends Se{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=Ye(t)&&t.length>0,n=i&&Ye(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(s=>Mu(this.gos)?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,r)}},class extends Se{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],n=this.columnModel.isPivotMode(),r=n&&t.leafGroup,s=r?[t]:t.childrenAfterSort,o=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(o,s,i,n,0),!r&&i.length>0&&o.grandTotalRow&&(t.createFooter(),this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,"top"===o.grandTotalRow)),i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:qZ(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:YZ(this.gos),groupTotalRow:KZ(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,n,r){if(!Fl(t))for(let s=0;s<t.length;s++){const o=t[s],a=o.hasChildren(),c=e.groupRemoveSingleChildren&&a&&1===o.childrenAfterGroup.length,d=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&1===o.childrenAfterGroup.length;if(!(n&&!a)&&!(e.hideOpenParents&&o.expanded&&!o.master&&(!n||!o.leafGroup))&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,o,i,r),!n||!o.leafGroup)if(a){const m=c||d;if(o.expanded||m){const y=e.groupTotalRow({node:o});y||o.destroyFooter();const _=m?r:r+1;"top"===y&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,_)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,n,_),"bottom"===y&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,_))}}else if(o.master&&o.expanded){const m=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,m,i,r)}}}addRowNodeToRowsToDisplay(e,t,i,n,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(Ye(e.detailNode))return e.detailNode;const t=new Qh(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Ye(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},class extends Se{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,n,r,s){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(h=>h.isRowGroupActive());let l={};i&&n&&(l=this.calculateDirtyNodes(n));const c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows");r&&r.forEachChangedNodeDepthFirst(h=>{this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const g=c&&h.leafGroup;if(o&&a&&!h.leafGroup&&!s){const _=null===this.funcColsService.getRowGroupColumns()?.[h.level+1]?.getSort(),x=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort&&!_){const D={};h.childrenAfterSort.forEach((M,k)=>{D[M.id]=k}),x.sort((M,k)=>(D[M.id]??0)-(D[k.id]??0))}h.childrenAfterSort=x}else h.childrenAfterSort=!t||g?h.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(h,l,r,e):this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),d&&d({nodes:h.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=n=>{n&&n.forEach(r=>t[r.id]=!0)};return e&&e.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),t}doDeltaSort(e,t,i,n){const r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,n);const o={},a=[];r.forEach(u=>{t[u.id]||!i.canSkip(u)?a.push(u):o[u.id]=!0});const l=s.filter(u=>o[u.id]),c=(u,h)=>({currentPos:h,rowNode:u}),d=a.map(c).sort((u,h)=>this.rowNodeSorter.compareRowNodes(n,u,h));return this.mergeSortedArrays(n,d,l.map(c)).map(({rowNode:u})=>u)}mergeSortedArrays(e,t,i){const n=[];let r=0,s=0;for(;r<t.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[s])<0?n.push(t[r++]):n.push(i[s++]);for(;r<t.length;)n.push(t[r++]);for(;s<i.length;)n.push(i[s++]);return n}updateChildIndexes(e){if(Ui(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],s=i===e.childrenAfterSort.length-1;n.setFirstChild(0===i),n.setLastChild(s),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return Re("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Ui(e)||e.forEach(i=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(r=>{const s=r.getColDef().showRowGroup;if("string"!=typeof s)return void ji("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const a=this.columnModel.getColDefCol(s);if(a!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{const c=this.getFirstChildOfFirstChild(i,a);c&&i.setGroupValue(r.getId(),c.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){const n=i.parent;if(!n||!i.firstChild)return null;if(n.rowGroupColumn===t)return n;i=n}return null}},class extends Se{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){os(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:r}=i.updateRowData(t);let s=!1;this.gos.get("suppressMaintainUnsortedOrder")||(s=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,s||r)}createTransactionForRowData(e){if(!os(this.gos))return ji("ImmutableService only works with ClientSideRowModel"),null;const t=I0(this.gos);if(null==t)return ji("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],r=[],s=[];return Ye(e)&&e.forEach(o=>{const a=t({data:o,level:0}),l=i[a];l?(l.data!==o&&r.push(o),i[a]=void 0):s.push(o)}),Zc(i,(o,a)=>{a&&n.push(a.data)}),{remove:n,update:r,add:s}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]},FNe={version:k4,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[nJ,{version:k4,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[iJ],apiFunctions:{onGroupExpandedOrCollapsed:function vNe(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function yNe(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)},isRowDataEmpty:function bNe(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0},forEachLeafNode:function _Ne(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)},forEachNodeAfterFilter:function CNe(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function wNe(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function xNe(e){e.columnModel.isAutoRowHeightActive()?Re("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()},applyTransaction:function SNe(e,t){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t))},applyTransactionAsync:function DNe(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,i))},flushAsyncTransactions:function MNe(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())},getBestCostNodeSelection:function ENe(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[nJ,dNe]}]},ONe=class extends Se{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(null==e||!e.length)&&(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},LNe=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:i,columnNameService:n,valueService:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=n,this.valueService=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,r){const o=this.gos.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,e,t)?this.valueService.getValue(e,r):this.createValueForGroupNode(e,r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){if(!e||!e.group)return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=e.groupData?.[t.getId()]||Wh(this.gos)&&e.group)return!0;if(e.footer&&-1===e.level){const o=t.getColDef();return null==o||!0===o.showRowGroup||o.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const s=JA(this.gos,this.columnModel.isPivotMode());return 0===i&&s}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),r=l=>{if(i||n)return l.key;const c=l.groupData?.[e.getId()];return c&&l.rowGroupColumn&&!1!==l.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueService.formatValue(l.rowGroupColumn,l,c)??c:c},s=t.footer,o=[r(t)];if(!qZ(this.gos))for(;t.parent;)o.push(r(t=t.parent));const a=o.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:n,value:r,processCellCallback:s,type:o}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:i,value:r,type:o,parseValue:a=>this.valueService.parseValue(n,i,a,this.valueService.getValue(n,i)),formatValue:a=>this.valueService.formatValue(n,i,a)??a}))??""}:!1!==n.getColDef().useValueFormatterForExport?{value:r??"",valueFormatted:this.valueService.formatValue(n,i,r)}:{value:r??""}}},NNe=class{static download(e,t){const i=document.defaultView||window;if(!i)return void Re("There is no `window` associated with the current `document`");const n=document.createElement("a"),r=i.URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}},VNe=class extends LNe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{0!==n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){0!=t&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null==e)return'""';let t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(Re("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},P4="32.2.1",sJ={version:P4,moduleName:"@ag-grid-community/csv-export-core",beans:[class extends ONe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void Re("Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\ufeff",i],{type:"text/plain"}),r="function"==typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;NNe.download(this.getFileName(r),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=e;return new VNe({columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends Se{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:i,columnKeys:n,skipRowGroups:r}=t,s=this.getColumnsToExport(i,r,n);return function VIe(...e){return t=>e.reduce((i,n)=>n(i),t)}(this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t))(e).parse()}processRow(e,t,i,n){const r=t.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=null!=t.rowPositions||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,d=this.columnModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,h=o&&n.leafGroup;if(!d&&!u&&(t.skipRowGroups||1===n.allChildrenCount&&1===n.childrenAfterGroup?.length&&(s||h)||c)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned||-1===n.level&&!d&&!u||r(this.gos.addGridCommonParams({node:n})))return;const _=e.onNewBodyRow(n);if(i.forEach((x,D)=>{_.onColumn(x,D,n)}),t.getCustomContentBelowRow){const x=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));x&&e.addCustomContent(x)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const n=new uQ,r=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const n=i.onNewHeaderRow();t.forEach((r,s)=>{n.onColumn(r,s,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{const n=this.rowModel,r=os(this.gos),s=Wh(this.gos),o=!r&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>null==c.rowPinned).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())r?n.forEachPivotNode(a,!0):s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||o){const c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(a)}else"all"===l?n.forEachNode(a):r||s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(n,r)=>null!=n.rowIndex&&null!=r.rowIndex?n.rowIndex-r.rowIndex:n.level===r.level?n.parent?.id===r.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):i(n.parent,r.parent):n.level>r.level?i(n.parent,r):i(n,r.parent);e.sort(i)}processPinnedBottomRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e=!1,t=!1,i){const n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const r=this.gos.get("treeData");let s=[];return s=e&&!n?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!r&&(s=s.filter(o=>TN(o)||R0(o))),s}recursivelyAddHeaderGroups(e,t,i){const n=[];e.forEach(r=>{r.getChildren&&r.getChildren().forEach(o=>n.push(o))}),e.length>0&&Bs(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){const n=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const o=s;let a;a=i?i(this.gos.addGridCommonParams({columnGroup:o})):this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,d,u,h)=>{let g=Wi(c);return"open"===d.getColumnGroupShow()?(!g||null!=g[1])&&(g=[u],c.push(g)):g&&null==g[1]&&(g[1]=u-1),u===h.length-1&&g&&null==g[1]&&(g[1]=u),c},[]);n.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}}]},WNe={version:P4,moduleName:"@ag-grid-community/csv-export",dependantModules:[sJ,{version:P4,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:function zNe(e,t){return e.csvCreator?.getDataAsCsv(t)},exportDataAsCsv:function GNe(e,t){e.csvCreator?.exportDataAsCsv(t)}},dependantModules:[sJ]}]},$Ne=function(){var e=(0,J.A)(function*(t){let i=0;const n=[],r=new WritableStream({write:a=>{n.push(a),i+=a.length}}),s=new ReadableStream({start:a=>{const l=new FileReader;l.onload=c=>{c.target?.result&&a.enqueue(c.target.result),a.close()},l.readAsArrayBuffer(t)}}),o=new window.CompressionStream("deflate-raw");return yield s.pipeThrough(o).pipeTo(r),{size:i,content:new Blob(n)}});return function(i){return e.apply(this,arguments)}}(),YNe=function(){var e=(0,J.A)(function*(t){const i=new Blob([t]),{size:n,content:r}=yield $Ne(i);return{size:n,content:new Uint8Array(yield r.arrayBuffer())}});return function(i){return e.apply(this,arguments)}}();function va(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}var lJ=e=>e.length?(e=>{if(!e.length)return 0;let t=-1,i=0,n=0,r=0;for(let s=0;s<e.length;s++)i=e[s],n=255&(t^i),r=ZNe[n],t=t>>>8^r;return-1^t})("string"==typeof e?(new TextEncoder).encode(e):e):0,ZNe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),cJ=(e,t,i,n,r,s)=>{const{content:o,path:a,created:l}=e,c=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),d=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),u=lJ(r),h=void 0!==s?s:n,g=function yAe(e){const t=String.fromCharCode;function r(u,h){return t(u>>h&63|128)}function s(u){if(!(4294967168&u))return t(u);let h="";return 4294965248&u?4294901760&u?4292870144&u||(h=t(u>>18&7|240),h+=r(u,12),h+=r(u,6)):(function n(u){if(u>=55296&&u<=57343)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value")}(u),h=t(u>>12&15|224),h+=r(u,6)):h=t(u>>6&31|192),h+=t(63&u|128),h}const o=function i(u){const h=[];if(!u)return[];const g=u.length;let y,_,m=0;for(;m<g;)y=u.charCodeAt(m++),y>=55296&&y<=56319&&m<g?(_=u.charCodeAt(m++),56320==(64512&_)?h.push(((1023&y)<<10)+(1023&_)+65536):(h.push(y),m--)):h.push(y);return h}(e),a=o.length;let c,l=-1,d="";for(;++l<a;)c=o[l],d+=s(c);return d}(a),m=g!==a;let y="";if(m){const M=va(1,1)+va(lJ(g),4)+g;y="up"+va(M.length,2)+M}const _="\x14\0"+(m?"\0\b":"\0\0")+va(t?8:0,2)+va(c,2)+va(d,2)+va(h?u:0,4)+va(s??n,4)+va(n,4)+va(g.length,2)+va(y.length,2),x="PK\x03\x04"+_+g+y,D="PK\x01\x02\x14\0"+_+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+va(i,4)+g+y;return{localFileHeader:Uint8Array.from(x,M=>M.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(D,M=>M.charCodeAt(0))}},dJ=e=>{let t;if("string"==typeof e){const i=atob(e.split(";base64,")[1]);t=Uint8Array.from(i,n=>n.charCodeAt(0))}else t=e;return{size:t.length,content:t}},QNe=function(){var e=(0,J.A)(function*(t,i){const{content:n}=t,{size:r,content:s}=n?dJ(n):{size:0,content:Uint8Array.from([])};let o,a,l=!1;if("file"===t.type&&s&&r>0){const u=yield YNe(s);o=u.content,a=u.size,l=!0}return{...cJ(t,l,i,r,s,a),content:o||s,isCompressed:l}});return function(i,n){return e.apply(this,arguments)}}(),XNe=(e,t)=>{const{content:i}=e,{content:n}=i?dJ(i):{content:Uint8Array.from([])};return{...cJ(e,!1,t,n.length,n,void 0),content:n,isCompressed:!1}},uJ=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t,i=!1){this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}static getZipFile(e="application/zip"){var t=this;return(0,J.A)(function*(){const i=yield t.buildCompressedFileStream();return t.clearStream(),new Blob([i],{type:e})})()}static getUncompressedZipFile(e="application/zip"){const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,i=0;for(const c of e){const{localFileHeader:d,centralDirectoryHeader:u,content:h}=c;t+=d.length+h.length,i+=u.length}const n=new Uint8Array(t),r=new Uint8Array(i);let s=0,o=0;for(const c of e){const{localFileHeader:d,centralDirectoryHeader:u,content:h}=c;n.set(d,s),s+=d.length,n.set(h,s),s+=h.length,r.set(u,o),o+=u.length}const a=((e,t,i)=>{const n="PK\x05\x06\0\0\0\0"+va(e,2)+va(e,2)+va(t,4)+va(i,4)+"\0\0";return Uint8Array.from(n,r=>r.charCodeAt(0))})(e.length,i,t),l=new Uint8Array(n.length+r.length+a.length);return l.set(n),l.set(r,n.length),l.set(a,n.length+r.length),l}static buildCompressedFileStream(){var e=this;return(0,J.A)(function*(){const t=[...e.folders,...e.files],i=[];let n=0;for(const r of t){const s=yield QNe(r,n),{localFileHeader:o,content:a}=s;i.push(s),n+=o.length+a.length}return e.packageFiles(i)})()}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const r=XNe(n,i),{localFileHeader:s,content:o}=r;t.push(r),i+=s.length+o.length}return this.packageFiles(t)}};uJ.folders=[],uJ.files=[];var e4e=class extends YPe{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){Ye(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();Ui(this.params.datasource.getRows)?Re("datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((n,r)=>{this.startRow+r<i&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){return t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new Qh(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,n)=>{const r=e.rowData?e.rowData[n]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[n]=new Qh(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),this.rowNodes[n].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],r,this.startRow+n)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},i4e=class extends Se{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){const t=this.createBean(new e4e(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&qc(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e);t.sort((o,a)=>a.getLastAccessed()-o.getLastAccessed());const n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null;t.forEach((o,a)=>{if("needsLoading"===o.getState()&&a>=1||n&&a>=r){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||null!=t.rowPinned)return!1;const i=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"==typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,Ye(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new F0;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){return vg(this.blocks).sort((i,n)=>i.getId()-n.getId())}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let n=-1,r=!1;const s=new F0;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&n+1!==l.getId())return void(o=!0);n=l.getId(),l.forEachNode(c=>{const d=c===e||c===t;(r||d)&&i.push(c),d&&(r=!r)},s,this.rowCount)}}),o||r?[]:i}},F4="32.2.1",hJ={version:F4,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[class extends Se{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){"infinite"===this.gos.get("rowModelType")&&(this.rowHeight=$m(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&Re("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=$m(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!wS(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){this.datasource&&(null!=I0(this.gos)||this.selectionService.reset("rowDataChanged"),this.resetCache())}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:$m(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new F0},this.infiniteCache=this.createBean(new i4e(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}],dependantModules:[qPe]};"object"!=typeof window||!window||"object"!=typeof document||(window,document),Zh.__registerModules([ZX,FNe,{version:F4,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[hJ,{version:F4,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[iJ],apiFunctions:{refreshInfiniteCache:function r4e(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()},purgeInfiniteCache:function s4e(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()},getInfiniteRowCount:function o4e(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}},dependantModules:[hJ,uNe]}]},WNe],!1,void 0);let EJ=(()=>{class e extends hNe{setViewContainerRef(i,n){this.viewContainerRef=i,this.angularFrameworkOverrides=n}createWrapper(i){const n=this.angularFrameworkOverrides,r=this,o=new class s extends Y4e{init(l){n.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return n.runInsideAngular(()=>r.createComponent(i))}hasMethod(l){return null!=o.getFrameworkComponentInstance()[l]}callMethod(l,c){const d=this.getFrameworkComponentInstance();return n.runInsideAngular(()=>o.getFrameworkComponentInstance()[l].apply(d,c))}addMethod(l,c){o[l]=c}};return o}createComponent(i){return this.viewContainerRef.createComponent(i)}static{this.\u0275fac=function(){let i;return function(r){return(i||(i=An(e)))(r||e)}}()}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();class Y4e{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Nd(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let IJ=(()=>{class e extends OX{constructor(i){super("angular"),this._ngZone=i,this.isRunningWithinTestZone=!1,this.wrapIncoming=(n,r)=>this.runOutside(n,r),this.wrapOutgoing=n=>this.runInsideAngular(n),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(n,r)=>"resize-observer"===r||"popupPositioning"===r?this._ngZone.runOutsideAngular(n):n():n=>this._ngZone.runOutsideAngular(n):n=>n()}get shouldWrapOutgoing(){return this._ngZone&&Mt.isInAngularZone()}isFrameworkComponent(i){if(!i)return!1;const n=i.prototype;return n&&"agInit"in n}runInsideAngular(i){return this._ngZone?this._ngZone.run(i):i()}runOutsideAngular(i,n){return this.runOutside(i,n)}static{this.\u0275fac=function(n){return new(n||e)(ne(Mt))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})(),Gd=(()=>{class e{constructor(i,n,r,s){this.viewContainerRef=n,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=s,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(o=>{this._resolveFullyReady=o}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new pe,this.toolPanelSizeChanged=new pe,this.columnMenuVisibleChanged=new pe,this.contextMenuVisibleChanged=new pe,this.cutStart=new pe,this.cutEnd=new pe,this.pasteStart=new pe,this.pasteEnd=new pe,this.columnVisible=new pe,this.columnPinned=new pe,this.columnResized=new pe,this.columnMoved=new pe,this.columnValueChanged=new pe,this.columnPivotModeChanged=new pe,this.columnPivotChanged=new pe,this.columnGroupOpened=new pe,this.newColumnsLoaded=new pe,this.gridColumnsChanged=new pe,this.displayedColumnsChanged=new pe,this.virtualColumnsChanged=new pe,this.columnEverythingChanged=new pe,this.columnHeaderMouseOver=new pe,this.columnHeaderMouseLeave=new pe,this.columnHeaderClicked=new pe,this.columnHeaderContextMenu=new pe,this.componentStateChanged=new pe,this.cellValueChanged=new pe,this.cellEditRequest=new pe,this.rowValueChanged=new pe,this.cellEditingStarted=new pe,this.cellEditingStopped=new pe,this.rowEditingStarted=new pe,this.rowEditingStopped=new pe,this.undoStarted=new pe,this.undoEnded=new pe,this.redoStarted=new pe,this.redoEnded=new pe,this.cellSelectionDeleteStart=new pe,this.cellSelectionDeleteEnd=new pe,this.rangeDeleteStart=new pe,this.rangeDeleteEnd=new pe,this.fillStart=new pe,this.fillEnd=new pe,this.filterOpened=new pe,this.filterChanged=new pe,this.filterModified=new pe,this.advancedFilterBuilderVisibleChanged=new pe,this.chartCreated=new pe,this.chartRangeSelectionChanged=new pe,this.chartOptionsChanged=new pe,this.chartDestroyed=new pe,this.cellKeyDown=new pe,this.gridReady=new pe,this.firstDataRendered=new pe,this.gridSizeChanged=new pe,this.modelUpdated=new pe,this.virtualRowRemoved=new pe,this.viewportChanged=new pe,this.bodyScroll=new pe,this.bodyScrollEnd=new pe,this.dragStarted=new pe,this.dragStopped=new pe,this.dragCancelled=new pe,this.stateUpdated=new pe,this.paginationChanged=new pe,this.rowDragEnter=new pe,this.rowDragMove=new pe,this.rowDragLeave=new pe,this.rowDragEnd=new pe,this.rowDragCancel=new pe,this.columnRowGroupChanged=new pe,this.rowGroupOpened=new pe,this.expandOrCollapseAll=new pe,this.pivotMaxColumnsExceeded=new pe,this.pinnedRowDataChanged=new pe,this.rowDataUpdated=new pe,this.asyncTransactionsFlushed=new pe,this.storeRefreshed=new pe,this.headerFocused=new pe,this.cellClicked=new pe,this.cellDoubleClicked=new pe,this.cellFocused=new pe,this.cellMouseOver=new pe,this.cellMouseOut=new pe,this.cellMouseDown=new pe,this.rowClicked=new pe,this.rowDoubleClicked=new pe,this.rowSelected=new pe,this.selectionChanged=new pe,this.cellContextMenu=new pe,this.rangeSelectionChanged=new pe,this.cellSelectionChanged=new pe,this.tooltipShow=new pe,this.tooltipHide=new pe,this.sortChanged=new pe,this._nativeElement=i.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const i=function IAe(e,t){"object"!=typeof e&&(e={});const i={...e};return IS.ALL_PROPERTIES_AND_CALLBACKS.forEach(r=>{const s=t[r];typeof s<"u"&&s!==IS.VUE_OMITTED_PROPERTY&&(i[r]=s)}),i}(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const n=function iNe(e,t,i){if(!t)return ji("No gridOptions provided to createGrid"),{};const n=(new class{create(e,t,i,n,r){const o=function FLe(e){const t={};return Object.entries(e).forEach(([i,n])=>{const r=QX(i,n);t[i]=r}),t}(TT.applyGlobalGridOptions(t)),a=o.gridId??String(nNe++),l=this.getRegisteredModules(r,a),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,r);if(!c)return void ji("Failed to create grid.");const h=new $Te({providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:yFe,beanDestroyComparator:bFe,derivedBeans:[cFe]});return this.registerModuleUserComponents(h,l),this.registerControllers(h,l),this.registerModuleApiFunctions(h,l),i(h),h.getBean("syncService").start(),n&&n(h),h.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(r=>i.register(r))})}getRegisteredModules(e,t){const i=e?e.modules:null,n=Zh.__getRegisteredModules(t),r=[],s={},o=(a,l,c)=>{var u;s[(u=l).moduleName]||(s[u.moduleName]=!0,r.push(u),Zh.__register(u,a,c)),l.dependantModules&&l.dependantModules.forEach(u=>o(a,u,c))};return o(!!i?.length||!Zh.__isPackageBased(),ZX,void 0),i&&i.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!Zh.__isPackageBased(),a,void 0)),r}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,r=>r.userComponents?r.userComponents:[]),n=e.getBean("userComponentRegistry");i.forEach(({name:r,classImp:s,params:o})=>{n.registerDefaultComponent(r,s,o)})}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach(n=>{const r=n.apiFunctions;r&&Object.keys(r).forEach(o=>{i?.addFunction(o,r[o])})})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;Ui(n)&&(n=new OX);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(e="clientSide",t,i){const n=t.filter(l=>!l.rowModel||l.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e])return void ji("Could not find row model for rowModelType = ",e);if(!Zh.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const s=[SFe,wFe,LLe,RLe,lFe,MTe,fFe,mFe,J2e,VQ,$Le,Q2e,NLe,WPe,eRe,SAe,EFe,OLe,rFe,JX,dAe,fke,zLe,BLe,jPe,JLe,cAe,Z2e,eNe,tNe,GPe,X2e,ZTe,IFe,q2e,DFe,oFe,QPe,K2e,qLe,jLe,HLe,KLe,XLe,ePe,dFe,WLe,YLe,CFe,AFe,xFe,_Fe,ZLe,ULe,iPe,VLe,GLe,nPe,gAe,uFe,fAe,hAe,hFe,pFe,xAe,pAe,CAe,gFe,wAe,rAe],o=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);s.push(...o);const a=[];return s.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}}).create(e,t,r=>{const s=new jX(e);r.createBean(s)},void 0,i);if(!Object.isFrozen(t)&&!i?.frameworkOverrides){const r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{ji(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0})}return n}(this._nativeElement,i,this.gridParams);n&&(this.api=n),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(i){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const n={};Object.entries(i).forEach(([r,s])=>{n[r]=s.currentValue}),function AAe(e,t){if(!e)return;const i={};let n=!1;if(Object.keys(e).filter(o=>IS.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{i[o]=e[o],n=!0}),!n)return;t.dispatchEvent({type:"gridOptionsChanged",options:i});const s={type:"componentStateChanged"};Zc(i,(o,a)=>{s[o]=a}),t.dispatchEvent(s)}(n,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(i){const r=this[i],s=r?.observed??r?.observers?.length>0,o=`on${i.charAt(0).toUpperCase()}${i.substring(1)}`;return s||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(i,n){if(this._destroyed)return;const r=this[i];if(r&&this.isEmitterUsed(i)){const s=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(n));this._holdEvents?this._fullyReady.then(()=>s()):s()}}static{this.\u0275fac=function(n){return new(n||e)(R(ti),R(pa),R(IJ),R(EJ))}}static{this.\u0275cmp=Be({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",enableStrictPivotColumnOrder:"enableStrictPivotColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressMoveWhenColumnDragging:"suppressMoveWhenColumnDragging",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",suppressSetFilterByDefault:"suppressSetFilterByDefault",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",loading:"loading",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",selectionColumnDef:"selectionColumnDef",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:"enableGroupEdit",initialState:"initialState",theme:"theme",loadThemeGoogleFonts:"loadThemeGoogleFonts",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[Ri([IJ,EJ]),Xn,gx],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return e})(),K4e=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({})}}return e})();const q4e=["matFormFieldNotchedOutline",""],Z4e=["*"],Q4e=["textField"],X4e=["iconPrefixContainer"],J4e=["textPrefixContainer"];function eVe(e,t){1&e&&Z(0,"span",19)}function tVe(e,t){if(1&e){const i=ct();w(0,"label",17),Q("cdkObserveContent",function(){return Le(i),Ve(ae(2)._refreshOutlineNotchWidth())}),Zi(1,1),te(2,eVe,1,0,"span",18),S()}if(2&e){const i=ae(2);B("floating",i._shouldLabelFloat())("cdkObserveContentDisabled",!i._hasOutline())("id",i._labelId),gi("for",i._control.id)("aria-owns",i._control.id),T(2),B("ngIf",!i.hideRequiredMarker&&i._control.required)}}function iVe(e,t){1&e&&te(0,tVe,3,6,"label",16),2&e&&B("ngIf",ae()._hasFloatingLabel())}function nVe(e,t){1&e&&Z(0,"div",20)}function rVe(e,t){}function sVe(e,t){1&e&&te(0,rVe,0,0,"ng-template",22),2&e&&(ae(2),B("ngTemplateOutlet",Wc(1)))}function oVe(e,t){if(1&e&&(w(0,"div",21),te(1,sVe,1,1,"ng-template",9),S()),2&e){const i=ae();B("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",i._labelWidth),T(1),B("ngIf",!i._forceDisplayInfixLabel())}}function aVe(e,t){1&e&&(w(0,"div",23,24),Zi(2,2),S())}function lVe(e,t){1&e&&(w(0,"div",25,26),Zi(2,3),S())}function cVe(e,t){}function dVe(e,t){1&e&&te(0,cVe,0,0,"ng-template",22),2&e&&(ae(),B("ngTemplateOutlet",Wc(1)))}function uVe(e,t){1&e&&(w(0,"div",27),Zi(1,4),S())}function hVe(e,t){1&e&&(w(0,"div",28),Zi(1,5),S())}function pVe(e,t){1&e&&Z(0,"div",29)}function gVe(e,t){1&e&&(w(0,"div",30),Zi(1,6),S()),2&e&&B("@transitionMessages",ae()._subscriptAnimationState)}function fVe(e,t){if(1&e&&(w(0,"mat-hint",34),O(1),S()),2&e){const i=ae(2);B("id",i._hintLabelId),T(1),Et(i.hintLabel)}}function mVe(e,t){if(1&e&&(w(0,"div",31),te(1,fVe,2,2,"mat-hint",32),Zi(2,7),Z(3,"div",33),Zi(4,8),S()),2&e){const i=ae();B("@transitionMessages",i._subscriptAnimationState),T(1),B("ngIf",i.hintLabel)}}const vVe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yVe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Sg=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["mat-label"]]}),e})();const bVe=new Me("MatError");let _Ve=0,AJ=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+_Ve++}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,n){2&i&&(dc("id",n.id),gi("align",null),ei("mat-mdc-form-field-hint-end","end"===n.align))},inputs:{align:"align",id:"id"}}),e})();const CVe=new Me("MatPrefix"),TJ=new Me("MatSuffix");let B4=(()=>{class e{constructor(){this._isText=!1}set _isTextSelector(i){this._isText=!0}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Ri([{provide:TJ,useExisting:e}])]}),e})(),RJ=(()=>{class e{constructor(i){this._elementRef=i,this.floating=!1}getWidth(){return function wVe(e){if(null!==e.offsetParent)return e.scrollWidth;const i=e.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);const n=i.scrollWidth;return i.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return e.\u0275fac=function(i){return new(i||e)(R(ti))},e.\u0275dir=tt({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,n){2&i&&ei("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating"}}),e})();const kJ="mdc-line-ripple--active",FT="mdc-line-ripple--deactivating";let PJ=(()=>{class e{constructor(i,n){this._elementRef=i,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(FT);"opacity"===r.propertyName&&o&&s.remove(kJ,FT)},n.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const i=this._elementRef.nativeElement.classList;i.remove(FT),i.add(kJ)}deactivate(){this._elementRef.nativeElement.classList.add(FT)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Mt))},e.\u0275dir=tt({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),FJ=(()=>{class e{constructor(i,n){this._elementRef=i,this._ngZone=n,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Mt))},e.\u0275cmp=Be({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,n){2&i&&ei("mdc-notched-outline--notched",n.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:q4e,ngContentSelectors:Z4e,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,n){1&i&&(co(),Z(0,"div",0),w(1,"div",1),Zi(2),S(),Z(3,"div",2)),2&i&&(T(1),mu("width",n._getNotchWidth()))},encapsulation:2,changeDetection:0}),e})();const xVe={transitionMessages:gc("transitionMessages",[Du("enter",Qi({opacity:1,transform:"translateY(0%)"})),ss("void => enter",[Qi({opacity:0,transform:"translateY(-5px)"}),rs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let OT=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e}),e})();const j0=new Me("MatFormField"),SVe=new Me("MAT_FORM_FIELD_DEFAULT_OPTIONS");let OJ=0,U0=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Ei(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){const n=this._appearance;this._appearance=i||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,n,r,s,o,a,l,c){this._elementRef=i,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._document=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+OJ++,this._hintLabelId="mat-mdc-hint-"+OJ++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new oe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(kr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),$(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(kr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(kr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){const n=this._control?this._control.ngControl:null;return n&&n[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),r&&i.push(r.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const i=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(i.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;i.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const i=this._elementRef.nativeElement;if(i.getRootNode){const n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Es),R(Mt),R(ga),R(Ns),R(SVe,8),R(Hc,8),R(fi))},e.\u0275cmp=Be({type:e,selectors:[["mat-form-field"]],contentQueries:function(i,n,r){if(1&i&&(zr(r,Sg,5),zr(r,Sg,7),zr(r,OT,5),zr(r,CVe,5),zr(r,TJ,5),zr(r,bVe,5),zr(r,AJ,5)),2&i){let s;ii(s=ni())&&(n._labelChildNonStatic=s.first),ii(s=ni())&&(n._labelChildStatic=s.first),ii(s=ni())&&(n._formFieldControl=s.first),ii(s=ni())&&(n._prefixChildren=s),ii(s=ni())&&(n._suffixChildren=s),ii(s=ni())&&(n._errorChildren=s),ii(s=ni())&&(n._hintChildren=s)}},viewQuery:function(i,n){if(1&i&&(Jn(Q4e,5),Jn(X4e,5),Jn(J4e,5),Jn(RJ,5),Jn(FJ,5),Jn(PJ,5)),2&i){let r;ii(r=ni())&&(n._textField=r.first),ii(r=ni())&&(n._iconPrefixContainer=r.first),ii(r=ni())&&(n._textPrefixContainer=r.first),ii(r=ni())&&(n._floatingLabel=r.first),ii(r=ni())&&(n._notchedOutline=r.first),ii(r=ni())&&(n._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,n){2&i&&ei("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===n._animationMode)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary","accent"!==n.color&&"warn"!==n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ri([{provide:j0,useExisting:e}])],ngContentSelectors:yVe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,n){1&i&&(co(vVe),te(0,iVe,1,1,"ng-template",null,0,GO),w(2,"div",1,2),Q("click",function(s){return n._control.onContainerClick&&n._control.onContainerClick(s)}),te(4,nVe,1,0,"div",3),w(5,"div",4),te(6,oVe,2,3,"div",5),te(7,aVe,3,0,"div",6),te(8,lVe,3,0,"div",7),w(9,"div",8),te(10,dVe,1,1,"ng-template",9),Zi(11),S(),te(12,uVe,2,0,"div",10),te(13,hVe,2,0,"div",11),S(),te(14,pVe,1,0,"div",12),S(),w(15,"div",13),te(16,gVe,2,1,"div",14),te(17,mVe,5,2,"div",15),S()),2&i&&(T(2),ei("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),T(2),B("ngIf",!n._hasOutline()&&!n._control.disabled),T(2),B("ngIf",n._hasOutline()),T(1),B("ngIf",n._hasIconPrefix),T(1),B("ngIf",n._hasTextPrefix),T(2),B("ngIf",!n._hasOutline()||n._forceDisplayInfixLabel()),T(2),B("ngIf",n._hasTextSuffix),T(1),B("ngIf",n._hasIconSuffix),T(1),B("ngIf",!n._hasOutline()),T(1),ei("mat-mdc-form-field-subscript-dynamic-size","dynamic"===n.subscriptSizing),B("ngSwitch",n._getDisplayedMessages()),T(1),B("ngSwitchCase","error"),T(1),B("ngSwitchCase","hint"))},dependencies:[ui,u$,Dm,Sx,YSe,AJ,RJ,FJ,PJ],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[xVe.transitionMessages]},changeDetection:0}),e})(),LT=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[ns,Fh,iq,ns]}),e})();const VJ=Qx({passive:!0});let EVe=(()=>{class e{constructor(i,n){this._platform=i,this._ngZone=n,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Bn;const n=Bh(i),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new oe,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,VJ),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",a,VJ)}}),s}stopMonitoring(i){const n=Bh(i),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}}return e.\u0275fac=function(i){return new(i||e)(ne(Ns),ne(Mt))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),IVe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({}),e})();const BJ=new Me("MAT_INPUT_VALUE_ACCESSOR"),AVe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let TVe=0;const RVe=FL(class{constructor(e,t,i,n){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=n,this.stateChanges=new oe}});let NT=(()=>{class e extends RVe{get disabled(){return this._disabled}set disabled(i){this._disabled=Ei(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(kn.required)??!1}set required(i){this._required=Ei(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&ZK().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Ei(i)}constructor(i,n,r,s,o,a,l,c,d,u){super(a,s,o,r),this._elementRef=i,this._platform=n,this._autofillMonitor=c,this._formField=u,this._uid="mat-input-"+TVe++,this.focused=!1,this.stateChanges=new oe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>ZK().has(m)),this._iOSKeyupListener=m=>{const y=m.target;!y.value&&0===y.selectionStart&&0===y.selectionEnd&&(y.setSelectionRange(1,1),y.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,g=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&d.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===g,this._isTextarea="textarea"===g,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){const i=this._getPlaceholder();if(i!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){AVe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Ns),R(Fd,10),R(xu,8),R(Pn,8),R(AA),R(BJ,10),R(EVe),R(Mt),R(j0,8))},e.\u0275dir=tt({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,n){1&i&&Q("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&i&&(dc("id",n.id)("disabled",n.disabled)("required",n.required),gi("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),ei("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ri([{provide:OT,useExisting:e}]),Ht,Xn]}),e})(),kVe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[ns,LT,LT,IVe,ns]}),e})();var zJ=Object.defineProperty,PVe=Object.getOwnPropertyDescriptor,Xh=(e,t)=>{for(var i in t)zJ(e,i,{get:t[i],enumerable:!0})},E=(e,t,i,n)=>{for(var o,r=n>1?void 0:n?PVe(t,i):t,s=e.length-1;s>=0;s--)(o=e[s])&&(r=(n?o(t,i,r):o(r))||r);return n&&r&&zJ(t,i,r),r},FVe={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},OVe=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"],GJ=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(GJ||{});Xh({},{TimeInterval:()=>sv,day:()=>$4,friday:()=>QJ,hour:()=>W4,millisecond:()=>H4,minute:()=>U4,monday:()=>YJ,month:()=>q4,saturday:()=>XJ,second:()=>j4,sunday:()=>K4,thursday:()=>ZJ,tuesday:()=>KJ,utcDay:()=>tee,utcHour:()=>eee,utcMinute:()=>JJ,utcMonth:()=>iee,utcYear:()=>nee,wednesday:()=>qJ,year:()=>Z4});var z4=new Map;function G4(e,t){z4.has(t)||(z4.set(t,!0),e())}function HJ(e){return e}function jJ(e,t=0,i){const{leading:n=!0,trailing:r=!0}=i??{};let s,o,a=!1;function l(){r&&o?(s=setTimeout(l,t),e(...o)):a=!1,o=null}return Object.assign(function c(...d){a?o=d:(a=!0,s=setTimeout(l,t),n?e(...d):o=d)},{cancel(){clearTimeout(s),a=!1,o=null}})}G4.clear=()=>z4.clear();var Xe={log(...e){console.log(...e)},warn(e,...t){console.warn(`AG Charts - ${e}`,...t)},error(e,...t){"object"==typeof e?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)},table(...e){console.table(...e)},warnOnce(e,...t){G4(()=>Xe.warn(e,...t),`Logger.warn: ${e}`)},errorOnce(e,...t){G4(()=>Xe.error(e,...t),`Logger.error: ${e}`)}},sv=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,i){const n=this._rangeCallback?.(e,t),r=this._encode(i?this.floor(e):this.ceil(e)),s=this._encode(i?this.ceil(t):this.floor(t));if(s<r)return[];const o=[];for(let a=r;a<=s;a++){const l=this._decode(a);o.push(l)}return n?.(),o}},yc=class extends sv{getOffset(e,t){const i="number"==typeof e||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%t}every(e,t){let n,i=0;const r=e;r!==(e=Math.max(1,Math.round(e)))&&Xe.warnOnce(`interval step of [${r}] rounded to [${e}].`);const{snapTo:s="start"}=t??{};if("string"==typeof s){const l=i;n=(c,d)=>(i=this.getOffset("start"===s?c:d,e),()=>i=l)}else"number"==typeof s?i=this.getOffset(new Date(s),e):s instanceof Date&&(i=this.getOffset(s,e));return new sv(l=>{const c=this._encode(l);return Math.floor((c-i)/e)},l=>this._decode(l*e+i),n)}},H4=new yc(function $Ve(e){return e.getTime()},function YVe(e){return new Date(e)}),KVe=H4,Dg=1e3,Zo=60*Dg,Ka=60*Zo,id=24*Ka,Jh=7*id,WS=30*id,W0=365*id,UJ=(new Date).getTimezoneOffset()*Zo,j4=new yc(function qVe(e){return Math.floor((e.getTime()-UJ)/Dg)},function ZVe(e){return new Date(UJ+e*Dg)}),$S=j4,WJ=(new Date).getTimezoneOffset()*Zo,U4=new yc(function QVe(e){return Math.floor((e.getTime()-WJ)/Zo)},function XVe(e){return new Date(WJ+e*Zo)}),YS=U4,$J=(new Date).getTimezoneOffset()*Zo,W4=new yc(function JVe(e){return Math.floor((e.getTime()-$J)/Ka)},function eBe(e){return new Date($J+e*Ka)}),KS=W4,$4=new yc(function tBe(e){const t=e.getTimezoneOffset()*Zo;return Math.floor((e.getTime()-t)/id)},function iBe(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}),Y4=$4;function ov(e){const i=(7+e-4)%7;return new yc(function n(s){const o=s.getTimezoneOffset()*Zo;return Math.floor((s.getTime()-o)/Jh-i/7)},function r(s){const o=new Date(1970,0,1);return o.setDate(o.getDate()+7*s+i),o})}var K4=ov(0),YJ=ov(1),KJ=ov(2),qJ=ov(3),ZJ=ov(4),QJ=ov(5),XJ=ov(6),VT=K4,q4=new yc(function nBe(e){return 12*e.getFullYear()+e.getMonth()},function rBe(e){const t=Math.floor(e/12);return new Date(t,e-12*t,1)}),$0=q4,Z4=new yc(function sBe(e){return e.getFullYear()},function oBe(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}),Q4=Z4,JJ=new yc(function aBe(e){return Math.floor(e.getTime()/Zo)},function lBe(e){return new Date(e*Zo)}),eee=new yc(function cBe(e){return Math.floor(e.getTime()/Ka)},function dBe(e){return new Date(e*Ka)}),tee=new yc(function uBe(e){return Math.floor(e.getTime()/id)},function hBe(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}),iee=new yc(function pBe(e){return 12*e.getUTCFullYear()+e.getUTCMonth()},function gBe(e){const t=Math.floor(e/12);return new Date(Date.UTC(t,e-12*t,1))}),nee=new yc(function fBe(e){return e.getUTCFullYear()},function mBe(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}),ree={};Xh(ree,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Za,fromToMotion:()=>_s,staticFromToMotion:()=>Pu});var X4=new Map;function see(){X4.clear()}function nd(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const n=(X4.get(i)??0)+1;return X4.set(i,n),`${i}-${n}`}function vBe(){return crypto.randomUUID?.()??function yBe(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t="";for(let i=0;i<e.length;i++)(4===i||6===i||8===i||10===i)&&(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}()}function*Mg(...e){for(const t of e)yield*t}function oee(e){return null!=e&&"object"==typeof e&&Symbol.iterator in e?e:[e]}var BT=Symbol("interpolate"),zT=e=>null!=e[BT];function GT(e,t,i,n=1/0){const r={nearest:void 0,distanceSquared:n};for(const s of i){const o=s.distanceSquared(e,t);if(0===o)return{nearest:s,distanceSquared:0};o<r.distanceSquared&&(r.nearest=s,r.distanceSquared=o)}return r}function bBe(e,t,i,n=1/0){const{x:r=e,y:s=t}=i.transformPoint?.(e,t)??{},o={nearest:void 0,distanceSquared:n};for(const a of i.children){const{nearest:l,distanceSquared:c}=a.nearestSquared(r,s,o.distanceSquared);if(0===c)return{nearest:l,distanceSquared:c};c<o.distanceSquared&&(o.nearest=l,o.distanceSquared=c)}return o}var Ru={};function Hd(e){return e?Ru.document?.[e]:Ru.document}function Do(e){return e?Ru.window?.[e]:Ru.window}function $n(e,t,i){const n=Hd().createElement(e);if("object"==typeof t&&(i=t,t=void 0),t)for(const r of t.split(" "))n.classList.add(r);return i&&Object.assign(n.style,i),n}function J4(e,t){return Hd().createElementNS(e,t)}function aee(e,t){const{body:i}=Hd(),n=$n("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}function lee(e){Ru.document=e}function cee(e){Ru.window=e}function Eg(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`)}function _Be(e){if(e.focus({preventScroll:!0}),null==e.lastChild?.textContent)return;const t=Hd().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const i=Do().getSelection();i?.removeAllRanges(),i?.addRange(t)}typeof window<"u"?Ru.window=window:typeof global<"u"&&(Ru.window=global.window),typeof document<"u"?Ru.document=document:typeof global<"u"&&(Ru.document=global.document);var CBe=0;function wBe(e){return`${e??"ag-charts-element"}-${CBe++}`}function Si(e,t,i){return Math.min(i,Math.max(e,t))}function HT(e,t){const[i,n]=Vl(t);return Si(i,e,n)}function Vl(e){if(0===e.length)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function Y0(e){const[t,i]=Vl(e);return i-t}function av(e,t,i=1e-10){return Math.abs(e-t)<i}function qS(e){return-1===Math.sign(e)||Object.is(e,-0)}function jT(e,t=2){const i=10**t;return Math.round(e*i)/i}function UT(e,t=2){const i=Math.floor(Math.log(Math.abs(e))/Math.LN10);return i>=0||!isFinite(i)?e.toFixed(t):e.toFixed(Math.abs(i)-1+t)}function WT(e,t){return Math.floor(e%t+(e<0?t:0))}function ZS(e){if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let r;[t,r]=t.split("e"),null!=r&&(i=Number(r))}const n=t.split(".")[1]?.length??0;return Math.max(n-i,0)}function eV(e,t){return t=t??Do("navigator").language,new Intl.NumberFormat(t,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function tV(e,t){return eV(e/100,t)}var QS=class IC{constructor(t,i,n,r){this.x=t,this.y=i,this.width=n,this.height=r}static fromDOMRect({x:t,y:i,width:n,height:r}){return new IC(t,i,n,r)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON:()=>({})}}clone(){const{x:t,y:i,width:n,height:r}=this;return new IC(t,i,n,r)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height}intersection(t){if(!this.collidesBBox(t))return;const i=Si(t.x,this.x,t.x+t.width),n=Si(t.y,this.y,t.y+t.height),r=Si(t.x,this.x+this.width,t.x+t.width),s=Si(t.y,this.y+this.height,t.y+t.height);return new IC(i,n,r-i,s-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;const n=t-Si(this.x,t,this.x+this.width),r=i-Si(this.y,i,this.y+this.height);return n*n+r*r}static nearestBox(t,i,n){return GT(t,i,n)}clip(t){if(void 0===t)return this;const i=Math.max(this.x,t.x),n=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.y=n,this.width=Math.max(0,r-i),this.height=Math.max(0,s-n),this}shrink(t,i){const n=(r,s)=>{switch(r){case"top":this.y+=s;case"bottom":this.height-=s;break;case"left":this.x+=s;case"right":this.width-=s;break;case"vertical":this.y+=s,this.height-=2*s;break;case"horizontal":this.x+=s,this.width-=2*s;break;case void 0:this.x+=s,this.width-=2*s,this.y+=s,this.height-=2*s}};return"number"==typeof t?n(i,t):"object"==typeof t&&Object.entries(t).forEach(([r,s])=>n(r,s)),this}grow(t,i){if("number"==typeof t)this.shrink(-t,i);else{const n={...t};for(const r in n)n[r]*=-1;this.shrink(n)}return this}translate(t,i){return this.x+=t,this.y+=i,this}combine(t){const{x:i,y:n,width:r,height:s}=this;this.x=Math.min(i,t.x),this.y=Math.min(n,t.y),this.width=Math.max(i+r,t.x+t.width)-this.x,this.height=Math.max(n+s,t.y+t.height)-this.y}static merge(t){let i=1/0,n=1/0,r=-1/0,s=-1/0;for(const o of t)o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>r&&(r=o.x+o.width),o.y+o.height>s&&(s=o.y+o.height);return new IC(i,n,r-i,s-n)}[BT](t,i){return new IC(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};QS.zero=Object.freeze(new QS(0,0,0,0)),QS.NaN=Object.freeze(new QS(NaN,NaN,NaN,NaN));var It=QS,Ig=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(Ig||{});function Ct(e){return function(t,i){t[i]||function xBe(e,t,i,n){const{redraw:r=1,type:s="normal",changeCb:o,convertor:a,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:r,type:s,changeCb:o,checkDirtyOnAssignment:l,convertor:a};let d;switch(s){case"normal":d=function EBe(e,t){const{redraw:i=1,changeCb:n}=t;return function(r){return r!==this[e]?(this[e]=r,this.markDirty(i),n?.(this),r):XS}}(i,c);break;case"transform":d=function IBe(e,t){const{redraw:i=1}=t;return function(n){return n!==this[e]?(this[e]=n,this.markDirtyTransform(i),n):XS}}(i,c);break;case"path":d=function ABe(e,t){const{redraw:i=1}=t;return function(n){return n!==this[e]?(this[e]=n,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(i)),n):XS}}(i,c)}d=function MBe(e,t){const{checkDirtyOnAssignment:i}=t;return i?function(n){const r=e.call(this,n);return r!==XS&&null!=n&&n._dirty>0&&this.markDirty(n._dirty),r}:e}(function DBe(e,t){const{changeCb:i}=t;return i?function(n){const r=e.call(this,n);return r!==XS&&i.call(this,this),r}:e}(function SBe(e,t){const{convertor:i}=t;return i?function(n){e.call(this,i(n))}:e}(d,c),c),c),Object.defineProperty(e,t,{set:d,get:function(){return this[i]},enumerable:!0,configurable:!0})}(t,i,`__${i}`,e)}}var XS=Symbol("no-change"),dee=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(dee||{}),JS=class Nue{constructor(t){this.serialNumber=Nue._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0},this.id=nd(this),this.pointerEvents=0,this._dirty=3,this.dirtyZIndex=!1,this.virtualChildrenCount=0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.zIndexSubOrder=void 0,this.name=t?.name,this.isVirtual=t?.isVirtual??!1,this.tag=t?.tag??NaN,this.zIndex=t?.zIndex??0}static*extractBBoxes(t,i){for(const n of t)if(!i||n.visible&&!n.transitionOut){const r=n.getBBox();r&&(yield r)}}get datum(){return this._datum??this.parentNode?.datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1;for(const t of this.children()){const i=t.preRender();this.childNodeCounts.groups+=i.groups,this.childNodeCounts.nonGroups+=i.nonGroups}return this.childNodeCounts}render(t){const{stats:i}=t;if(this._dirty=0,t.debugNodeSearch){const n=this.name??this.id;t.debugNodeSearch.some(r=>"string"==typeof r?r===n:r.test(n))&&(t.debugNodes[this.name??this.id]=this)}i&&i.nodesRendered++}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(const i of this.children(!1))i._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes||this.hasVirtualChildren())return;const i=[...this.childNodes].sort(t);this.childNodes.clear();for(const n of i)this.childNodes.add(n)}*traverseUp(t){let i=this;for(t&&(yield i);i=i.parentNode;)yield i}*children(t=!0){if(!this.childNodes)return;const i=[];for(const n of this.childNodes)t&&n.isVirtual?i.push(n.children()):yield n;for(const n of i)yield*n}*virtualChildren(){if(this.childNodes&&this.virtualChildrenCount)for(const t of this.childNodes)t.isVirtual&&(yield t)}hasVirtualChildren(){return this.virtualChildrenCount>0}isLeaf(){return!this.childNodes?.size}isRoot(){return!this.parentNode}append(t){this.childNodes??(this.childNodes=new Set);for(const i of oee(t))i.parentNode?.removeChild(i),this.childNodes.add(i),i.parentNode=this,i._setLayerManager(this.layerManager),i.isVirtual&&this.virtualChildrenCount++;this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3)}appendChild(t){return this.append(t),t}removeChild(t){return!!this.childNodes?.delete(t)&&(delete t.parentNode,t._setLayerManager(),t.isVirtual&&this.virtualChildrenCount--,this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3),!0)}remove(){return this.parentNode?.removeChild(this)??!1}clear(){for(const t of this.children(!1))delete t.parentNode,t._setLayerManager();this.childNodes?.clear(),this.invalidateCachedBBox(),this.virtualChildrenCount=0}destroy(){this.parentNode?.removeChild(this)}setProperties(t,i){if(i)for(const n of i)this[n]=t[n];else Object.assign(this,t);return this}containsPoint(t,i){return!1}pickNode(t,i,n=!1){if(!this.visible||1===this.pointerEvents||!this.containsPoint(t,i))return;const r=[...this.children()];if(r.length>1e3)for(let s=r.length-1;s>=0;s--){const o=r[s],l=o.containsPoint(t,i)?o.pickNode(t,i):void 0;if(l)return l}else if(r.length)for(let s=r.length-1;s>=0;s--){const o=r[s].pickNode(t,i);if(o)return o}else if(!this.isContainerNode)return this}invalidateCachedBBox(){this.cachedBBox=void 0,this.parentNode?.invalidateCachedBBox()}getBBox(){return null==this.cachedBBox&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(t=1,i=t){const{_dirty:n}=this;null==this.cachedBBox&&(n>t||n===t&&t===i)||(this.invalidateCachedBBox(),this._dirty=Math.max(n,t),this.parentNode?this.parentNode.markDirty(i):this.layerManager&&this.layerManager.markDirty())}markClean(t){const{force:i=!1,recursive:n=!0}=t??{};if(0!==this._dirty||i){this._dirty=0;for(const r of this.children(!1))(r.isVirtual?!1!==n:!0===n)&&r.markClean({force:i})}}onVisibleChange(){}onZIndexChange(){this.parentNode&&(this.parentNode.dirtyZIndex=!0)}toSVG(){}};JS._nextSerialNumber=0,E([Ct({redraw:3,changeCb:e=>e.onVisibleChange()})],JS.prototype,"visible",2),E([Ct({redraw:1,changeCb:e=>e.onZIndexChange()})],JS.prototype,"zIndex",2),E([Ct({redraw:1,changeCb:e=>e.onZIndexChange()})],JS.prototype,"zIndexSubOrder",2);var Ag=JS,$T=(e,t,i)=>e*(1-i)+t*i,iV=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},nV=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},uee=class Cr{constructor(t,i,n,r=1){this.r=Si(0,t||0,1),this.g=Si(0,i||0,1),this.b=Si(0,n||0,1),this.a=Si(0,r||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Cr.parseHex(t):t.indexOf("rgb")>=0?!!Cr.stringToRgba(t):!!Cr.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return Cr.fromHexString(t);const i=Cr.nameToHex[t.toLowerCase()];if(i)return Cr.fromHexString(i);if(t.indexOf("rgb")>=0)return Cr.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){let i;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(`${t[n]}${t[n+1]}`,16));break;case 3:case 4:i=t.split("").map(n=>parseInt(n,16)).map(n=>n+16*n)}if(i?.length>=3&&i.every(n=>n>=0))return 3===i.length&&i.push(255),i}static fromHexString(t){const i=Cr.parseHex(t);if(i){const[n,r,s,o]=i;return new Cr(n/255,r/255,s/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let i=-1,n=-1;for(let a=0;a<t.length;a++){const l=t[a];if(-1===i&&"("===l)i=a;else if(")"===l){n=a;break}}if(-1===i||-1===n)return;const s=t.substring(i+1,n).split(","),o=[];for(let a=0;a<s.length;a++){const l=s[a];let c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=Si(0,c,100),c/=100):3===a?c=Si(0,c,1):(c=Si(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(t){const i=Cr.stringToRgba(t);if(i){if(3===i.length)return new Cr(i[0],i[1],i[2]);if(4===i.length)return new Cr(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(4===t.length)return new Cr(t[0],t[1],t[2],t[3]);if(3===t.length)return new Cr(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,n,r=1){const s=Cr.HSBtoRGB(t,i,n);return new Cr(s[0],s[1],s[2],r)}static fromHSL(t,i,n,r=1){const s=Cr.HSLtoRGB(t,i,n);return new Cr(s[0],s[1],s[2],r)}static fromOKLCH(t,i,n,r=1){const s=Cr.OKLCHtoRGB(t,i,n);return new Cr(s[0],s[1],s[2],r)}static padHex(t){return 1===t.length?"0"+t:t}toHexString(){let t="#"+Cr.padHex(Math.round(255*this.r).toString(16))+Cr.padHex(Math.round(255*this.g).toString(16))+Cr.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=Cr.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(t=3){const i=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return Cr.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,i,n){const r=iV(t),s=iV(i),o=iV(n),a=Math.cbrt(.4122214708*r+.5363325363*s+.0514459929*o),l=Math.cbrt(.2119034982*r+.6806995451*s+.1073969566*o),c=Math.cbrt(.0883024619*r+.2817188376*s+.6299787005*o),d=.2104542553*a+.793617785*l-.0040720468*c,u=1.9779984951*a-2.428592205*l+.4505937099*c,h=.0259040371*a+.7827717662*l-.808675766*c,g=180*Math.atan2(h,u)/Math.PI;return[d,Math.hypot(u,h),g>=0?g:g+360]}static OKLCHtoRGB(t,i,n){const r=t,s=i*Math.cos(n*Math.PI/180),o=i*Math.sin(n*Math.PI/180),a=(r+.3963377774*s+.2158037573*o)**3,l=(r-.1055613458*s-.0638541728*o)**3,c=(r-.0894841775*s-1.291485548*o)**3,u=-1.2684380046*a+2.6097574011*l-.3413193965*c,h=-.0041960863*a-.7034186147*l+1.707614701*c;return[nV(4.0767416621*a-3.3077115913*l+.2309699292*c),nV(u),nV(h)]}static RGBtoHSL(t,i,n){const r=Math.min(t,i,n),s=Math.max(t,i,n),o=(s+r)/2;let a,l;if(s===r)a=0,l=0;else{const c=s-r;l=o>.5?c/(2-s-r):c/(s+r),a=s===t?(i-n)/c+(i<n?6:0):s===i?(n-t)/c+2:(t-i)/c+4,a*=60}return[a,l,o]}static HSLtoRGB(t,i,n){if(0===i)return[n,n,n];const r=n<.5?n*(1+i):n+i-n*i,s=2*n-r;function o(d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?s+6*(r-s)*d:d<.5?r:d<2/3?s+(r-s)*(2/3-d)*6:s}return[o((t=(t%360+360)%360)/360+1/3),o(t/360),o(t/360-1/3)]}static RGBtoHSB(t,i,n){const r=Math.min(t,i,n),s=Math.max(t,i,n);let a=0;if(r!==s){const l=s-r,c=(s-t)/l,d=(s-i)/l,u=(s-n)/l;a=t===s?u-d:i===s?2+c-u:4+d-c,a/=6,a<0&&(a+=1)}return[360*a,0===s?0:(s-r)/s,s]}static HSBtoRGB(t,i,n){t=(t%360+360)%360/360;let r=0,s=0,o=0;if(0===i)r=s=o=n;else{const a=6*(t-Math.floor(t)),l=a-Math.floor(a),c=n*(1-i),d=n*(1-i*l),u=n*(1-i*(1-l));switch(a>>0){case 0:r=n,s=u,o=c;break;case 1:r=d,s=n,o=c;break;case 2:r=c,s=n,o=u;break;case 3:r=c,s=d,o=n;break;case 4:r=u,s=c,o=n;break;case 5:r=n,s=c,o=d}}return[r,s,o]}static mix(t,i,n){return new Cr($T(t.r,i.r,n),$T(t.g,i.g,n),$T(t.b,i.b,n),$T(t.a,i.a,n))}};uee.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var ku=uee;function hee(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function pee(e,t){if("string"==typeof e)try{e=ku.fromString(e)}catch{e=ku.fromArray([0,0,0])}if("string"==typeof t)try{t=ku.fromString(t)}catch{t=ku.fromArray([0,0,0])}return i=>ku.mix(e,t,i).toRgbaString()}var YT=Symbol("BREAK"),K0="__decorator_config";function gee(e,t){null==Object.getOwnPropertyDescriptor(e,K0)&&Object.defineProperty(e,K0,{value:{}});const i=e[K0],n=t.toString();if(typeof i[n]<"u")return i[n];const r=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:r};const s=Object.getOwnPropertyDescriptor(e,t),o=s?.set,a=s?.get;return Object.defineProperty(e,t,{set:function(d){const{setters:u,observers:h}=i[n];let g;u.some(m=>m.length>2)&&(g=a?a.call(this):r.get(this));for(const m of u)if((d=m(this,t,d,g))===YT)return;o?o.call(this,d):r.set(this,d);for(const m of h)m(this,d,g)},get:function(){let d=a?a.call(this):r.get(this);for(const u of i[n].getters)if(d=u(this,t,d),d===YT)return;return d},enumerable:!0,configurable:!1}),i[n]}function ep(e,t,i){return(n,r)=>{const s=gee(n,r);s.setters.push(e),t&&s.getters.unshift(t),i&&Object.assign(s,i)}}function KT(e){return typeof e<"u"&&K0 in e}function q0(e){const t=new Set;for(;KT(e);)t.add(e?.[K0]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function RBe(e){return q0(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function Z0(e){return null!=e}function as(e){return Array.isArray(e)}function rV(e){return"boolean"==typeof e}function e1(e){return e instanceof Date}function t1(e){return e1(e)&&!isNaN(Number(e))}function fee(e){return e instanceof RegExp}function tp(e){return"function"==typeof e}function qa(e){return"object"==typeof e&&null!==e&&!as(e)}function PBe(e){return as(e)||Bl(e)}function Bl(e){return"object"==typeof e&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function zl(e){return"string"==typeof e}function bc(e){return"number"==typeof e}function nn(e){return Number.isFinite(e)}function mee(e){return typeof window<"u"&&e instanceof HTMLElement}function FBe(e,t){return zl(t)&&Object.keys(e).includes(t)}function vee(e,t){return Object.values(e).includes(t)}function yee(e){return"symbol"==typeof e}function bee(e,t){return e.type!==t}function _ee(e,t,i){for(const n in t)if(!(n in e))return!1;for(const n in e)if(!(n in t)||!i(e[n],t[n]))return!1;return!0}function OBe(...e){return $i(...e.reverse())}function $i(...e){const t={};for(const i of e){if(!qa(i))continue;const n=KT(i)?q0(i):Object.keys(i);for(const r of n)Bl(t[r])&&Bl(i[r])?t[r]=$i(t[r],i[r]):t[r]??(t[r]=i[r])}return t}function qT(e,...t){return t&&as(e)?e.map(i=>$i(i,...t)):e}function sV(e,t){return Object.entries(e).reduce((i,[n,r])=>(i[n]=t(r,n,e),i),{})}function oV(e,t){const i={...e};for(const n of t)delete i[n];return i}function aV(e,t){return(as(t)?t:t.split(".")).reduce((n,r)=>n[r],e)}var lV=new Set(["__proto__","constructor","prototype"]);function cV(e,t,i){const n=as(t)?t.slice():t.split("."),r=n.pop();if(n.some(o=>lV.has(o)))return;const s=n.reduce((o,a)=>o[a],e);return s[r]=i,s[r]}function lv(e,t,i){if(void 0===i)return t;for(const n of e){const r=i[n];void 0!==r&&(t[n]=r)}return t}var dV={};Xh(dV,{easeIn:()=>LBe,easeInOut:()=>NBe,easeInOutQuad:()=>zBe,easeInQuad:()=>VBe,easeOut:()=>n1,easeOutQuad:()=>BBe,inverseEaseOut:()=>wee,linear:()=>Cee});var Cee=e=>e,LBe=e=>1-Math.cos(e*Math.PI/2),n1=e=>Math.sin(e*Math.PI/2),NBe=e=>-(Math.cos(e*Math.PI)-1)/2,VBe=e=>e*e,BBe=e=>1-(1-e)**2,zBe=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,wee=e=>2*Math.asin(e)/Math.PI,Q0=["initial","remove","update","add","trailing","end","none"],r1={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:.2,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},xee=(e=>(e.Loop="loop",e.Reverse="reverse",e))(xee||{});function QT(e){return function GBe(e){return e.every(t=>t instanceof Ag)}(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function uV(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((i,n)=>uV(i,t[n])):zT(e)&&zT(t)?e.equals(t):!(!Bl(e)||!Bl(t))&&_ee(e,t,uV))}var See=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??Cee,this.phase=e.phase,this.duration=(e.duration??r1[this.phase].animationDuration)*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,!0===e.skip&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),!1!==e.collapsable&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return uV(e.from,e.to)?0:t}play(e=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(i,!1,this);const n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(n-t)):0}get delta(){return this.ease(Si(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if("object"!=typeof t||zT(t))return this.interpolateValue(e,t);const i=[];for(const n in t){const r=this.interpolateValue(e[n],t[n]);null!=r&&i.push([n,r])}return n=>{const r={};for(const[s,o]of i)r[s]=o(n);return r}}interpolateValue(e,t){if(null!=e&&null!=t){if(zT(e))return i=>e[BT](t,i);try{switch(typeof e){case"number":return hee(e,t);case"string":return pee(e,t);case"boolean":if(e===t)return()=>e}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},Za={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function _s(e,t,i,n,r,s,o){const{fromFn:a,toFn:l,applyFn:c=((m,y)=>m.setProperties(y))}=r,{nodes:d,selections:u}=QT(n),h=(m,y)=>{let _,x=0,D=0;for(const M of y){const k=m[x]===M,V={last:D>=y.length-1,lastLive:x>=m.length-1,prev:y[D-1],prevFromProps:_,prevLive:m[x-1],next:y[D+1],nextLive:m[x+(k?1:0)]},H=`${e}_${t}_${M.id}`;i.stopByAnimationId(H);let F="unknown";k?s&&o&&(F=HBe(M,M.datum,s,o)):F="removed",M.transitionOut="removed"===F;const{phase:P,start:G,finish:Y,delay:q,duration:ee,...K}=a(M,M.datum,F,V),{phase:gt,start:jt,finish:Fe,delay:$e,duration:Ke,...dt}=l(M,M.datum,F,V);i.animate({id:H,groupId:e,phase:P??gt??"update",duration:ee??Ke,delay:q??$e,from:K,to:dt,ease:n1,collapsable:null==Y,onPlay:()=>{c(M,{...G,...jt,...K})},onUpdate(qt){c(M,qt)},onStop:()=>{c(M,{...G,...jt,...K,...dt,...Y,...Fe})}}),k&&x++,D++,_=K}};let g=0;for(const m of u){const y=m.nodes();h(y.filter(x=>!m.isGarbage(x)),y),i.animate({id:`${e}_${t}_selection_${g}`,groupId:e,phase:"end",from:0,to:1,ease:n1,onStop(){m.cleanup()}}),g++}h(d,d)}function Pu(e,t,i,n,r,s,o){const{nodes:a,selections:l}=QT(n),{start:c,finish:d,phase:u}=o;i.animate({id:`${e}_${t}`,groupId:e,phase:u??"update",from:r,to:s,ease:n1,onPlay:()=>{if(c){for(const h of a)h.setProperties(c);for(const h of l)for(const g of h.nodes())g.setProperties(c)}},onUpdate(h){for(const g of a)g.setProperties(h);for(const g of l)for(const m of g.nodes())m.setProperties(h)},onStop:()=>{for(const h of a)h.setProperties({...s,...d});for(const h of l){for(const g of h.nodes())g.setProperties({...s,...d});h.cleanup()}}})}function HBe(e,t,i,n){const r=i(e,t);return n.added.has(r)?"added":n.removed.has(r)?"removed":"updated"}var Mo=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},Fu=class qG{constructor(t,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=qG.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=i}static is(t){return t instanceof qG}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const i=this.getDomain(),n=this.getPixelRange(),r=Math.abs(i[1]-i[0])/t+1,s=Math.floor(n),o=Math.min(r,s);return n/Math.max(1,o)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,i){const n=i?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const r=this.getDomain().map(d=>this.transform(d)),[s,o]=r,{range:a}=this,[l,c]=a;if(t=this.transform(t),"clamped"===n){const[d,u]=Vl(r.map(Number));if(Number(t)<d)return l;if(Number(t)>u)return c}return s===o?(l+c)/2:t===s?l:t===o?c:l+(Number(t)-Number(s))/(Number(o)-Number(s))*(c-l)}invert(t){this.refresh();const i=this.getDomain().map(h=>this.transform(h)),[n,r]=i,{range:s}=this,[o,a]=s,l=o>a;let u;return t<(l?a:o)?l?r:n:t>(l?o:a)?l?n:r:(u=this.toDomain(o===a?(Number(n)+Number(r))/2:Number(n)+(t-o)/(a-o)*(Number(r)-Number(n))),this.transformInvert(u))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Xe.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[t,i]=this.range;return Math.abs(i-t)}};Fu.defaultTickCount=5,Fu.defaultMaxTickCount=6,E([Mo],Fu.prototype,"domain",2),E([Mo],Fu.prototype,"range",2),E([Mo],Fu.prototype,"nice",2),E([Mo],Fu.prototype,"interval",2),E([Mo],Fu.prototype,"tickCount",2),E([Mo],Fu.prototype,"minTickCount",2),E([Mo],Fu.prototype,"maxTickCount",2);var Fn=Fu;function Ou(e){if(0===e.length)return null;let t=1/0,i=-1/0;for(let r of e)r instanceof Date&&(r=r.getTime()),"number"==typeof r&&(r<t&&(t=r),r>i&&(i=r));const n=[t,i];return n.every(isFinite)?n:null}function XT(e,t,i){let n=!1;return e.length>2&&(e=Ou(e)??[NaN,NaN]),isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}function Tg(e,t){if(null==e||null==t||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!Tg(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function JT(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function eR(e){return Array.from(new Set(e))}function hV(e,t){return e.reduce((i,n)=>{const r=t(n);return i[r]??(i[r]=[]),i[r].push(n),i},{})}function pV(e,t,i=0){if(0===e.length)return[];const n=[];for(let r=0;r<t;r++)n.push(e.at((r+i)%e.length));return n}function jBe(e,t){const i=new Map;return t.forEach((n,r)=>{i.set(n,r)}),e.sort((n,r)=>(i.get(n)??1/0)-(i.get(r)??1/0))}var tR={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function gV(e,t=new Date(e.getFullYear(),0,1)){const i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+6e4*i;return Math.floor(n/864e5)}function Dee(e,t){const r=(t-new Date(e.getFullYear(),0,1).getDay()+7)%7,s=new Date(e.getFullYear(),0,r+1);return s<=e?Math.floor(gV(e,s)/7)+1:0}function Iee(e,t=e.getFullYear()){const n=new Date(t,0,1).getDay(),s=new Date(t,0,(4-n+7)%7-3+1);return s<=e?Math.floor(gV(e,s)/7)+1:Iee(e,t-1)}var $Be={a:e=>tR.shortDays[e.getDay()],A:e=>tR.days[e.getDay()],b:e=>tR.shortMonths[e.getMonth()],B:e=>tR.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Qo(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Qo(1e3*e.getMilliseconds(),6,t??"0"),H:(e,t)=>Qo(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return 0===i?"12":Qo(i,2,t??"0")},j:(e,t)=>Qo(gV(e)+1,3,t??"0"),m:(e,t)=>Qo(e.getMonth()+1,2,t??"0"),M:(e,t)=>Qo(e.getMinutes(),2,t??"0"),L:(e,t)=>Qo(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Qo(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Qo(Dee(e,0),2,t??"0"),V:(e,t)=>Qo(Iee(e),2,t??"0"),w:(e,t)=>Qo(e.getDay(),2,t??"0"),W:(e,t)=>Qo(Dee(e,1),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Qo(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Qo(e.getFullYear(),4,t??"0"),Z:e=>function WBe(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${Qo(Math.floor(i/60),2,"0")}${Qo(Math.floor(i%60),2,"0")}`}(e),"%":()=>"%"},YBe={_:" ",0:"0","-":""};function Qo(e,t,i){const n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function s1(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(0!==i){const a=i>0?e.substring(0,i):e;t.push(a)}if(i<0)break;const r=YBe[e[i+1]];null!=r&&i++;const s=e[i+1],o=$Be[s];if("function"==typeof o)t.push([o,r]);else if("string"==typeof o){const a=s1(o);t.push([a,r])}else t.push(`${r??""}${s}`);e=e.substring(i+2)}return i=>{const n="number"==typeof i?new Date(i):i;return t.map(r=>"string"==typeof r?r:r[0](n,r[1])).join("")}}function Gl(e){return e instanceof Date?e.getTime():e}function fV(e,t,i){const r=s1(Aee(e,t,i));return s=>r(s)}function Aee(e=[],t=e,i=0){let n=1/0;for(let l=1;l<e.length;l++)n=Math.min(n,Math.abs(e[l]-e[l-1]));const r=new Date(t[0]).getFullYear(),o=new Date(t.at(-1)).getFullYear()-r>0,a=isFinite(n)?function KBe(e,t){return e<Dg?0:e<Zo?1:e<Ka?2:e<id?3:e<Jh?4:e<28*id||e<31*id&&function ZBe(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}(t)?5:e<W0?6:7}(n,e):function qBe(e){return $S.floor(e)<e?0:YS.floor(e)<e?1:KS.floor(e)<e?2:Y4.floor(e)<e?3:$0.floor(e)<e?VT.floor(e)<e?4:5:Q4.floor(e)<e?6:7}(e[0]);return function QBe(e,t,i){const n=Gl(i[0]),r=Gl(i.at(-1)),s=Math.abs(r-n),c=[["hour",6*Ka,14*id,3,"%I %p"],["hour",Zo,6*Ka,3,"%I:%M"],["second",1e3,6*Ka,1,":%S"],["ms",0,6*Ka,0,".%L"],["am/pm",Zo,6*Ka,3,"%p"]," ",["day",id,Jh,4,"%a"],["month",0===s?0:Jh,52*Jh,5,"%b %d"],["month",5*Jh,10*W0,6,"%B"]," ",["year",t||7===e?0:W0,1/0,7,"%Y"]].filter(h=>{if("string"==typeof h)return!0;const[g,m,y,_]=h;return _>=e&&m<=s&&s<y}).reduce((h,g)=>("string"==typeof g?h.result.push(g):h.used.has(g[0])||(h.result.push(g),h.used.add(g[0])),h),{result:[],used:new Set}).result,d=c.findIndex(h=>"string"!=typeof h),u=c.findLastIndex(h=>"string"!=typeof h);return c.slice(d,u+1).map(h=>"string"==typeof h?h:h[4]).join("").replaceAll(/\s+/g," ").trim()}(Math.max(a-i,0),o,e)}var iR=class Vue{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof Vue}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Xe.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(const i of t){const n=Gl(i);void 0===this.getIndex(n)&&this.index.set(n,this._domain.push(i)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){this.refresh();const i=this.getIndex(t);return null==i?NaN:this.ordinalRange[i]??NaN}invert(t){this.refresh();const i=this.ordinalRange.findIndex(n=>n===t);return this.domain[i]}invertNearest(t){this.refresh();let i=-1,n=1/0;const r=this.ordinalRange.findIndex((s,o)=>{if(s===t)return!0;const a=Math.abs(t-s);return a<n&&(n=a,i=o),!1});return this.domain[r]??this.domain[i]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=Si(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=Si(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=Si(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(0===t)return;const[i,n]=this.range;let{_paddingInner:r}=this;const{_paddingOuter:s,round:o}=this,a=n-i;let l;1===t?(r=0,l=a*(1-2*s)):l=a/Math.max(1,t-r+2*s);const c=o?Math.floor(l):l;let d=i+(a-c*(t-r))/2,u=c*(1-r);o&&(d=Math.round(d),u=Math.round(u)),this._step=c,this._inset=d,this._bandwidth=u,this._rawBandwidth=l*(1-r),this.ordinalRange=this._domain.map((h,g)=>d+c*g)}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};E([Mo],iR.prototype,"range",2),E([Mo],iR.prototype,"round",2),E([Mo],iR.prototype,"interval",2);var Rg=iR,Fi=class{set(e){const{className:t=this.constructor.name}=this.constructor;if("object"!=typeof e)return Xe.warn(`unable to set ${t} - expecting a properties object`),this;const i=new Set(Object.keys(e));for(const n of q0(this))if(i.has(n)){const r=e[n],s=this;if(Lu(s[n]))if(s[n]instanceof nR){const o=s[n].reset(r);null!=o?s[n]=o:Xe.warn(`unable to set [${n}] - expecting a properties array`)}else s[n].set(r);else s[n]=r;i.delete(n)}for(const n of i)Xe.warn(`unable to set [${n}] in ${t} - property is unknown`);return this}isValid(e){return q0(this).every(t=>{const{optional:i}=function kBe(e,t){const i=t.toString();for(;KT(e);){const n=e[K0];if(Object.hasOwn(n,i))return n[i];e=Object.getPrototypeOf(e)}}(this,t),n=!0===i||typeof this[t]<"u";return n||Xe.warnOnce(`${e??""}[${t}] is required.`),n})}toJson(){return q0(this).reduce((e,t)=>{const i=this[t];return e[t]=Lu(i)?i.toJson():i,e},{})}},nR=class Bue extends Array{constructor(t,...i){super(i.length);const r=(s=t,s?.prototype?.constructor?.name?s=>(new t).set(s):t);var s;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(as(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){if(Array.isArray(t))return new Bue(this.itemFactory,...t)}toJson(){return this.map(t=>t?.toJson?.()??t)}};function Lu(e){return e instanceof Fi||e instanceof nR}function L(e,t={}){const{optional:i=!1,property:n}=t;return ep((r,s,o)=>{const a={...t,target:r,property:s};if(i&&typeof o>"u"||e(o,a))return Lu(r[s])&&!Lu(o)?(r[s].set(o),r[s]):o;const l=n??String(s).replace(/^_*/,""),c=r.constructor.className??r.constructor.name.replace(/Properties$/,"");let d=a1(o);if(null!=d&&d.length>50){const h=d.length-50;d=d.slice(0,50)+`... (+${h} characters)`}return Xe.warn(`Property [${l}] of [${c}] cannot be set to [${d}]${e.message?`; expecting ${o1(e,a)}`:""}, ignoring.`),YT},void 0,{optional:i})}var rd=(...e)=>{const t=[];return Kn((i,n)=>(t.length=0,e.every(r=>{const s=r(i,n);return s||t.push(o1(r,n)),s})),()=>t.filter(Boolean).join(" AND "))},cv=(...e)=>Kn((t,i)=>e.some(n=>n(t,i)),t=>e.map(function a6e(e){return t=>o1(t,e)}(t)).filter(Boolean).join(" OR ")),Tt=Bee(Kn((e,t)=>Lu(e)||qa(e)&&Lu(t.target[t.property]),"a properties object")),Tee=Bee(Kn(e=>qa(e),"an object")),Jt=Kn(rV,"a boolean"),Hl=Kn(tp,"a function"),et=Kn(zl,"a string"),ar=function c6e(e){return Object.assign(e,{restrict({min:t,max:i}={}){const n=["a number"],r=bc(t),s=bc(i);return r&&s?n.push(`between ${t} and ${i} inclusive`):r?n.push(`greater than or equal to ${t}`):s&&n.push(`less than or equal to ${i}`),Kn(o=>nn(o)&&(!r||o>=t)&&(!s||o<=i),n.join(" "))}})}(Kn(nn,"a number")),Ree=Kn(e=>bc(e)&&!isNaN(e),"a real number"),rR=Kn(e=>bc(e)&&isNaN(e),"NaN"),st=ar.restrict({min:0}),hn=ar.restrict({min:0,max:1}),kg=ar.restrict({min:-360,max:360}),X0=cv(ar,rR),J0=function l6e(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let n="an array";return bc(i)&&i>0?n="a non-empty array":bc(t)&&(n=`an array of length ${t}`),Kn(r=>as(r)&&(!bc(t)||r.length===t)&&(!bc(i)||r.length>=i),n)}})}(Kn(as,"an array")),ip=(e,t)=>Kn((i,n)=>as(i)&&i.every(r=>e(r,n)),i=>{const n=o1(J0,i)??"";return t?`${n} of ${t}`:n}),sR=e=>nn(e)||t1(e),e_=e=>Kn((t,i)=>!sR(t)||!sR(i.target[e])||t<i.target[e],`to be less than ${e}`),t_=e=>Kn((t,i)=>!sR(t)||!sR(i.target[e])||t>i.target[e],`to be greater than ${e}`),mV=Kn(t1,"Date object"),vV=cv(mV,st),kee="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",On=Kn(e=>zl(e)&&ku.validColorString(e),`color String. ${kee}`),sd=Kn(ip(On),`color strings. ${kee}`),XBe=ip(Jt,"boolean values"),oR=ip(ar,"numbers"),Pee=ip(et,"strings"),JBe=Kn(ip(mV),"Date objects"),Fee=Kn(ip(Tt),"objects"),e6e=Yn(["butt","round","square"],"a line cap"),t6e=Yn(["round","bevel","miter"],"a line join"),i6e=Yn(["solid","dashed","dotted"],"a line style"),np=Kn(ip(st),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),yV=Yn(["top","right","bottom","left"],"a position"),Pg=Yn(["normal","italic","oblique"],"a font style"),Fg=cv(Yn(["normal","bold","bolder","lighter"],"a font weight"),ar.restrict({min:1,max:1e3})),aR=Yn(["never","always","hyphenate","on-space"],"a text wrap strategy"),Oee=Yn(["left","center","right"],"a text align"),n6e=Yn(["top","middle","bottom"],"a vertical align"),r6e=Yn(["ellipsis","hide"],"an overflow strategy"),Lee=Yn(["horizontal","vertical"],"a direction"),s6e=Yn(["inside","outside"],"a placement"),lR=cv(Yn(["exact","nearest"],"interaction range"),ar),bV=Yn(["top","bottom","left","right"]);function Yn(e,t="a"){return Kn((i,n)=>{const r=e.find(s=>i===("string"==typeof s?s:s.value));if(null==r)return!1;if("string"!=typeof r&&(!0===r.deprecated||null!=r.deprecatedTo)){const s=[`Property [%s] with value '${r.value}' is deprecated.`];r.deprecatedTo&&s.push(`Use ${r.deprecatedTo} instead.`),Xe.warnOnce(s.join(" "),n.property)}return!0},`${t} keyword such as ${function o6e(e){const t=e.filter(n=>"string"==typeof n||!0!==n.undocumented).map(n=>`'${"string"==typeof n?n:n.value}'`);if(1===t.length)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}(e)}`)}var Nee=cv(rd(ar.restrict({min:1}),e_("maxSpacing")),rR),Vee=cv(rd(ar.restrict({min:1}),t_("minSpacing")),rR);function Kn(e,t){return e.message=t,e}function o1(e,t){return tp(e.message)?e.message(t):e.message}function Bee(e){return Object.assign(e,{restrict:t=>Kn(i=>i instanceof t,i=>o1(e,i)??`an instance of ${t.name}`)})}function a1(e){if("number"==typeof e){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var _V=(e=>(e.X="x",e.Y="y",e))(_V||{}),CV=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){const t=zl(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(zl(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(zl(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){for(const e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},zee={};function Xs(e,t){const{nodes:i,selections:n}=QT(e);for(const r of n){for(const s of r.nodes()){const o=t(s,s.datum);s.setProperties(o)}r.cleanup()}for(const r of i){const s=t(r,r.datum);r.setProperties(s)}}function Gee(e){let t,i;const n=u6e.exec(e);n&&([,t,e,i]=n);const r=d6e.exec(e);if(!r)throw new Error(`The number formatter is invalid: ${e}`);const[,s,o,a,l,c,d,u,h,g,m]=r;return{fill:s,align:o,sign:a,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:!!g,type:m,prefix:t,suffix:i}}function Hee(e){const t="string"==typeof e?Gee(e):e,{fill:i,align:n,sign:r="-",symbol:s,zero:o,width:a,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=t;let{trim:g}=t;const m=null==h||isNaN(h);let y,_;if(c)if(c in od&&c in i_)y=m?i_[c]:od[c];else if(c in od)y=od[c];else{if(!(c in i_))throw new Error(`The number formatter type is invalid: ${c}`);y=i_[c]}else y=od.g,g=!0;return _=null==h||m?c?6:12:h,x=>{let D=y(x,_);return g&&(D=function g6e(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}(D)),l&&(D=function f6e(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const n=e.substring(0,i).split(""),r=e.substring(i);for(let s=n.length-3;s>0;s-=3)n.splice(s,0,t);return`${n.join("")}${r}`}(D,l)),D=function v6e(e,t,i=""){if("("===i)return e>=0?t:`(${t})`;return`${e>=0?"+"===i?"+":"":p6e}${t}`}(x,D,r),s&&"#"!==s&&(D=`${s}${D}`),"#"===s&&"x"===c&&(D=`0x${D}`),"s"===c&&(D=`${D}${function m6e(e){return h6e[Wee(e)]}(x)}`),("%"===c||"p"===c)&&(D=`${D}%`),null!=a&&!isNaN(a)&&(D=function y6e(e,t,i=" ",n=">"){let r=e;if(">"!==n&&n){if("<"===n)r=r.padEnd(t,i);else if("^"===n){const s=Math.max(0,t-r.length),o=Math.ceil(s/2),a=Math.floor(s/2);r=r.padStart(o+r.length,i),r=r.padEnd(a+r.length,i)}}else r=r.padStart(t,i);return r}(D,a,i??o,n)),D=`${d}${D}${u}`,D}}Xh(zee,{resetMotion:()=>Xs});var d6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,u6e=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,i_={b:e=>cR(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>cR(e).toString(8),x:e=>cR(e).toString(16),X:e=>i_.x(e).toUpperCase(),n:e=>i_.d(e),"%":e=>`${cR(100*e).toFixed(0)}`},od={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>od.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>od.f(e,t).toUpperCase(),g:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>od.g(e,t).toUpperCase(),n:(e,t)=>od.g(e,t),p:(e,t)=>od.r(100*e,t),r:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),r=Math.floor(Math.log10(i))-(t-1);if(r<=0)return i.toFixed(-r);const s=10**r;return(Math.round(i/s)*s).toFixed()},s:(e,t)=>{const i=Wee(e);return od.r(e/10**i,t)},"%":(e,t)=>od.f(100*e,t)},jee=-24,Uee=24,h6e={[jee]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[Uee]:"Y"},p6e="\u2212";function cR(e){return Math.floor(Math.abs(e))}function Wee(e){return Si(jee,e?3*Math.floor(Math.log10(Math.abs(e))/3):0,Uee)}var Cs=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),l1=[Cs($S,Dg,1),Cs($S,Dg,5),Cs($S,Dg,15),Cs($S,Dg,30),Cs(YS,Zo,1),Cs(YS,Zo,5),Cs(YS,Zo,15),Cs(YS,Zo,30),Cs(KS,Ka,1),Cs(KS,Ka,3),Cs(KS,Ka,6),Cs(KS,Ka,12),Cs(Y4,id,1),Cs(Y4,id,2),Cs(VT,Jh,1),Cs(VT,Jh,2),Cs(VT,Jh,3),Cs($0,WS,1),Cs($0,WS,2),Cs($0,WS,3),Cs($0,WS,4),Cs($0,WS,6),Cs(Q4,W0,1)],$ee=[1,2,5,10];function Yee(e,t){return Math.abs(Math.round(e)-e)<t}function dR(e,t,i,n,r){if(i<2)return[e,t];const s=n_(e,t,i,n,r);return Number.isFinite(s)?(Yee(e/s,1e-12)||(e=Math.ceil(e/s)*s),Yee(t/s,1e-12)||(t=Math.floor(t/s)*s),uR(e,t,s)):[]}function Kee(e,t,i,n,r,s){const o=s??Math.abs(t-e)/Math.max(i,1);let a=0;for(const h of l1){if(o<=h.duration)break;a++}if(0===a){const h=Math.max(n_(e,t,i,n,r),1);return KVe.every(h)}if(a===l1.length){const h=null==s?n_(e/W0,t/W0,i,n,r):1;return Q4.every(h)}const l=l1[a-1],c=l1[a],{timeInterval:d,step:u}=o-l.duration<c.duration-o?l:c;return d.every(u)}function n_(e,t,i,n=0,r=1/0){if(e===t)return Si(1,n,r);if(i<1)return NaN;const s=Math.abs(t-e),o=10**Math.floor(Math.log10(s/i));let a=NaN,l=1/0,c=!1;for(const d of $ee){const u=Math.ceil(s/(d*o)),h=u>=n&&u<=r;if(c&&!h)continue;const g=Math.abs(u-i);(l>g||c!==h)&&(c||(c=h),l=g,a=d)}return a*o}function qee(e){for(let t=e.length-1;t>=0;t-=1)if("0"!==e[t])return t+1;return 0}function Zee(e,t){const i=Gee(t??",f");(null==i.precision||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r))return 0;const[s,o]=r.toExponential((i.type?6:12)-1).split(/\.|e/g);return("1"!==s&&"-1"!==s?1:0)+qee(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r)||0===r)return 0;const s=Math.floor(Math.log10(Math.abs(r))),l=qee(r.toExponential((i.type?6:12)-1).split(/\.|e/g)[1]);return Math.max(0,l-s)}))));const n=Hee(i);return r=>n(Number(r))}function uR(e,t,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**ZS(i),r=Math.min(e,t),s=Math.max(e,t),o=[];for(let a=0;;a+=1){const l=Math.round((r+i*a)*n)/n;if(!(l<=s))break;o.push(l)}return o}function c1(e,t){return e>=t&&(Xe.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}var Qee=class ZG extends Fn{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=HJ,this.basePow=HJ,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,Xe.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=ZG.getBaseLogMethod(this.base),this.basePow=ZG.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,i]=this.domain,n=t>i?Math.ceil:Math.floor,r=t>i?Math.floor:Math.ceil,s=this.pow(n(this.log(t))),o=this.pow(r(this.log(i)));this.niceDomain=[s,o]}ticks(){const t=this.tickCount??10;if(!this.domain||this.domain.length<2||t<1)return[];this.refresh();const i=this.base,[n,r]=this.getDomain(),s=Math.min(n,r),o=Math.max(n,r);let a=this.log(s),l=this.log(o);if(this.interval){const y=D=>D>=s&&D<=o,x=uR(a,l,Math.min(Math.abs(this.interval),Math.abs(l-a))).map(this.pow).filter(y);if(!c1(x.length,this.getPixelRange()))return x}if(i%1!=0||l-a>=t)return dR(a,l,Math.min(l-a,t)).map(this.pow);const u=[],h=s>0;a=Math.floor(a)-1,l=Math.round(l)+1;const g=Y0(this.range)/t;let m=1/0;for(let y=a;y<=l;y++){const _=this.convert(this.pow(y+1));for(let x=1;x<i;x++){const D=h?x:i-x+1,M=this.pow(y)*D,k=this.convert(M),V=Math.abs(m-k),H=Math.abs(k-_);M>=s&&M<=o&&(1===x||V>=g&&H>=g||0===u.length)&&(u.push(M),m=k)}}return u}tickFormat({count:t,ticks:i,specifier:n}){return t!==1/0&&null==i&&this.ticks(),n??(n=10===this.base?".0e":","),zl(n)?Hee(n):n}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:return i=>Math.log(i)/Math.log(t)}}static getBasePowerMethod(t){switch(t){case 10:return i=>i>=0?10**i:1/10**-i;case Math.E:return Math.exp;default:return i=>t**i}}};E([Mo],Qee.prototype,"base",2);var wV=Qee,xV=class oP extends Fn{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,i){return super.convert(new Date(t),i)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:t,nice:i,tickCount:n,minTickCount:r,maxTickCount:s}=this,[o,a]=Vl(this.getDomain().map(Gl));return null!=t?oP.getTicksForInterval({start:o,stop:a,interval:t,availableRange:this.getPixelRange()})??oP.getDefaultTicks({start:o,stop:a,tickCount:n,minTickCount:r,maxTickCount:s}):i&&2===n?this.niceDomain:i&&1===n?this.niceDomain.slice(0,1):oP.getDefaultTicks({start:o,stop:a,tickCount:n,minTickCount:r,maxTickCount:s})}static getDefaultTicks({start:t,stop:i,tickCount:n,minTickCount:r,maxTickCount:s}){const o=Kee(t,i,n,r,s);return o?o.range(new Date(t),new Date(i)):[]}static getTicksForInterval({start:t,stop:i,interval:n,availableRange:r}){if(!n)return[];if(n instanceof sv){const d=n.range(new Date(t),new Date(i));return c1(d.length,r)?void 0:d}const s=Math.abs(n);if(c1((i-t)/s,r))return;const o=l1.findLast(d=>s%d.duration==0);if(o)return o.timeInterval.every(s/(o.duration/o.step)).range(new Date(t),new Date(i));let a=new Date(t);const l=new Date(i),c=[];for(;a<=l;)c.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+s);return c}tickFormat({ticks:t,domain:i,specifier:n,formatOffset:r}){return null==n?fV(t,i,r):s1(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[i,n]=this.domain;for(let r=0;r<4;r++){this.updateNiceDomainIteration(i,n);const[s,o]=this.niceDomain;if(Gl(i)===Gl(s)&&Gl(n)===Gl(o))break;i=s,n=o}}updateNiceDomainIteration(t,i){const n=Math.min(Gl(t),Gl(i)),r=Math.max(Gl(t),Gl(i)),s=t>i,{interval:o}=this;let a;if(a=o instanceof sv?o:Kee(n,r,"number"==typeof o?(r-n)/Math.max(o,1):this.tickCount,this.minTickCount,this.maxTickCount),a){const l=a.range(new Date(n),new Date(r),!0),c=s?[...l].reverse():l,d=c[0],u=c.at(-1);this.niceDomain=[d,u]}}};function C6e(e,t){return e-t}var d1=class zue extends Rg{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=Fn.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof zue}setVisibleRange(t){this.visibleRange=t}set domain(t){this.invalid=!0,0!==t.length?(this._domain=t,this.timestamps=eR(t.map(Gl)),this.sortedTimestamps=this.timestamps.slice().sort(C6e)):this._domain=[]}get domain(){return this._domain}ticks(){this.refresh();const[t,i]=[this.timestamps[0],this.timestamps.at(-1)],n=Math.min(t,i),r=Math.max(t,i);let o;if(null==this.interval)o=this.getDefaultTicks(this.maxTickCount,t>i);else{const[l,c]=this.range,d=Math.abs(c-l);o=xV.getTicksForInterval({start:n,stop:r,interval:this.interval,availableRange:d})??[]}const a=new Set;return o.filter(l=>{const c=this.convert(l);return!isNaN(c)&&!a.has(c)&&(a.add(c),!0)})}getDefaultTicks(t,i){const n=[],r=this.timestamps.length,s=Math.ceil(r*(this.visibleRange[1]-this.visibleRange[0])/t),o=Math.floor(s/2);for(const[a,l]of this.timestamps.entries())s>0&&(a+o)%s||n.push(i?new Date(this.timestamps[r-a-1]):new Date(l));return n}convert(t){this.refresh();const i=Number(t);if(i<this.sortedTimestamps[0])return NaN;let n=this.findInterval(i);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),this.ordinalRange[n]??NaN}findInterval(t){const{sortedTimestamps:i}=this;let n=0,r=i.length-1;for(;n<=r;){const s=Math.floor((n+r)/2);if(i[s]===t)return s;i[s]<t?n=s+1:r=s-1}return n}tickFormat({ticks:t,domain:i,specifier:n}){return null==n?fV(t,i):s1(n)}invert(t){this.refresh();const i=this.ordinalRange.findIndex(n=>t<=n);return this.domain[i]}invertNearest(t){return new Date(super.invertNearest(t))}};E([Mo],d1.prototype,"tickCount",2),E([Mo],d1.prototype,"minTickCount",2),E([Mo],d1.prototype,"maxTickCount",2),E([Mo],d1.prototype,"interval",2);var jd=d1;function Xee(e,t){return"number"==typeof e&&"number"==typeof t?e-t:"string"==typeof e&&"string"==typeof t?e.localeCompare(t):null==e&&null==t?0:null==e?-1:null==t?1:String(e).localeCompare(String(t))}function Jee(e){return"function"==typeof e?e():e}function ete(e,t,i){for(const n in e){const r=i(Jee(e[n]),Jee(t[n]));if(0!==r)return r}return 0}function ad(e){let t=1,i=e.visible?1:0,n=e.dirty>0?1:0;for(const r of e.children(!1)){const s=ad(r);t+=s.count,n+=s.dirtyCount,i+=s.visibleCount}return{count:t,visibleCount:i,dirtyCount:n}}var tte=Object.freeze([1,0,0,1,0,0]);function r_(e,t,i=1e-8){return e===t||Math.abs(t-e)<i}var SV=class AC{get e(){return[...this.elements]}constructor(t=[...tte]){this.elements=t}setElements(t){const i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){const t=this.elements;return r_(t[0],1)&&r_(t[1],0)&&r_(t[2],0)&&r_(t[3],1)&&r_(t[4],0)&&r_(t[5],0)}AxB(t,i,n){const s=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],a=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],c=t[1]*i[4]+t[3]*i[5]+t[5];(n=n??t)[0]=t[0]*i[0]+t[2]*i[1],n[1]=s,n[2]=o,n[3]=a,n[4]=l,n[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const i=new Array(6);return this.AxB(this.elements,t instanceof AC?t.elements:[t.a,t.b,t.c,t.d,t.e,t.f],i),new AC(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],n=t[1],r=t[2],s=t[3];const o=t[4],a=t[5],l=1/(i*s-n*r);return i*=l,n*=l,r*=l,s*=l,new AC([s,-n,-r,i,r*a-s*o,n*o-i*a])}inverseTo(t){const i=this.elements;let n=i[0],r=i[1],s=i[2],o=i[3];const a=i[4],l=i[5],c=1/(n*o-r*s);return n*=c,r*=c,s*=c,o*=c,t.setElements([o,-r,-s,n,s*l-o*a,r*a-n*l]),this}invertSelf(){const t=this.elements;let i=t[0],n=t[1],r=t[2],s=t[3];const o=t[4],a=t[5],l=1/(i*s-n*r);return i*=l,n*=l,r*=l,s*=l,t[0]=s,t[1]=-n,t[2]=-r,t[3]=i,t[4]=r*a-s*o,t[5]=n*o-i*a,this}transformPoint(t,i){const n=this.elements;return{x:t*n[0]+i*n[2]+n[4],y:t*n[1]+i*n[3]+n[5]}}transformBBox(t,i){const n=this.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=.5*t.width,c=.5*t.height,d=t.x+l,u=t.y+c,h=Math.abs(l*r)+Math.abs(c*o),g=Math.abs(l*s)+Math.abs(c*a);return i??(i=new It(0,0,0,0)),i.x=d*r+u*o+n[4]-h,i.y=d*s+u*a+n[5]-g,i.width=h+h,i.height=g+g,i}toContext(t){if(this.identity)return;const i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static flyweight(t){return AC.instance.setElements(t.elements)}static updateTransformMatrix(t,i,n,r,s,o,a){const l=i,c=n;let d,u;1===l&&1===c?(d=0,u=0):(d=a?.scalingCenterX??0,u=a?.scalingCenterY??0);const h=r,g=Math.cos(h),m=Math.sin(h);let y,_;0===h?(y=0,_=0):(y=a?.rotationCenterX??0,_=a?.rotationCenterY??0);const M=d*(1-l)-y,k=u*(1-c)-_;return t.setElements([g*l,m*l,-m*c,g*c,g*M-m*k+y+s,m*M+g*k+_+o]),t}static fromContext(t){const i=t.getTransform();return new AC([i.a,i.b,i.c,i.d,i.e,i.f])}};SV.instance=new SV;var Ud=SV;function Og(e){return nte(e.constructor)}var ite=Symbol("isMatrixTransform");function nte(e){return!0===e[ite]}function DV(e){var i;const n=e;if(nte(e))return e;const r=Symbol("matrix_combined_transform");class s extends n{constructor(){super(...arguments),this[i]=new Ud,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty(3)}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[r].setElements(tte),this.updateMatrix(this[r]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[r].identity?a.clone():this[r].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[r].identity?{x:a,y:l}:this[r].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[r].identity?a.clone():this[r].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[r].identity?{x:a,y:l}:this[r].inverse().transformPoint(a,l)}computeBBox(){const a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l,c=!1){return c||({x:a,y:l}=this.fromParentPoint(a,l)),super.pickNode(a,l)}render(a){this._dirtyTransform&&(this.computeTransformMatrix(),a.forceRender||(a={...a,forceRender:"dirtyTransform"}));const l=this[r];let c=!1;l.identity||(a.ctx.save(),c=!0,l.toContext(a.ctx)),super.render(a),c&&a.ctx.restore()}toSVG(){const a=super.toSVG(),l=this[r];if(l.identity||null==a)return a;const c=document.createElementNS("http://www.w3.org/2000/svg","g");c.append(...a.elements);const[d,u,h,g,m,y]=l.e;return c.setAttribute("transform",`matrix(${d} ${u} ${h} ${g} ${m} ${y})`),{elements:[c],defs:a.defs}}}return i=r,s[ite]=!0,s}function dv(e){var t;const i=e,n=Symbol("matrix_rotation");class r extends(DV(i)){constructor(){super(...arguments),this[t]=new Ud,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:a,rotationCenterX:l,rotationCenterY:c}=this;0!==a&&(Ud.updateTransformMatrix(this[n],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[n]))}}return t=n,E([Ct({type:"transform"})],r.prototype,"rotationCenterX",2),E([Ct({type:"transform"})],r.prototype,"rotationCenterY",2),E([Ct({type:"transform"})],r.prototype,"rotation",2),r}function MV(e){var t;const i=e,n=Symbol("matrix_scale");class r extends(DV(i)){constructor(){super(...arguments),this[t]=new Ud,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:a,scalingY:l,scalingCenterX:c,scalingCenterY:d}=this;1===a&&1===l||(Ud.updateTransformMatrix(this[n],a,l,0,0,0,{scalingCenterX:c,scalingCenterY:d}),o.multiplySelf(this[n]))}}return t=n,E([Ct({type:"transform"})],r.prototype,"scalingX",2),E([Ct({type:"transform"})],r.prototype,"scalingY",2),E([Ct({type:"transform"})],r.prototype,"scalingCenterX",2),E([Ct({type:"transform"})],r.prototype,"scalingCenterY",2),r}function Lg(e){var t;const i=e,n=Symbol("matrix_translation");class r extends(DV(i)){constructor(){super(...arguments),this[t]=new Ud,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:a,translationY:l}=this;0===a&&0===l||(Ud.updateTransformMatrix(this[n],1,1,0,a,l),o.multiplySelf(this[n]))}}return t=n,E([Ct({type:"transform"})],r.prototype,"translationX",2),E([Ct({type:"transform"})],r.prototype,"translationY",2),r}var ws=class{static fromCanvas(e,t){const i=[];for(const n of e.traverseUp())Og(n)&&i.unshift(n);for(const n of i)t=n.fromParent(t);return Og(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){null==t?t=e.getBBox():Og(e)&&(t=e.toParent(t));for(const i of e.traverseUp())Og(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){const n=[];for(const r of e.traverseUp())Og(r)&&n.unshift(r);for(const r of n)({x:t,y:i}=r.fromParentPoint(t,i));return Og(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){Og(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(const n of e.traverseUp())Og(n)&&({x:t,y:i}=n.toParentPoint(t,i));return{x:t,y:i}}},EV=class aM extends Ag{constructor(t){super(t),this.opts=t,this.opacity=1,this.isContainerNode=!0,this.zIndexSubOrder=t?.zIndexSubOrder}static is(t){return t instanceof aM}static computeChildrenBBox(t,i=!0){return It.merge(Ag.extractBBoxes(t,i))}static compareChildren(t,i){return ete([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.serialNumber],[i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.serialNumber],Xee)}containsPoint(t,i){return!0}computeBBox(){return aM.computeChildrenBBox(this.children())}preRender(){const t=super.preRender();return t.groups+=1,t.nonGroups-=1,t}isDirty(t){const{resized:i}=t,{dirty:n,dirtyZIndex:r}=this,s=n>=2||r||i;let o=s,a=!1;for(const l of this.children())if(o||(o=null==l.layerManager&&l.dirty>=1),a||(a=null!=l.layerManager&&l.dirty>=1),o)break;return this.opts?.name&&this._debug?.({name:this.opts.name,group:this,isDirty:s,isChildDirty:o,renderCtx:t}),{isDirty:s,isChildDirty:o,isChildLayerDirty:a}}debugSkip(t){t.stats&&this.opts?.name&&this._debug?.({name:this.opts.name,group:this,result:"skipping",counts:ad(this),renderCtx:t})}render(t,i){if(i)return super.render(t);const{opts:{name:n}={},_debug:r}=this,{isDirty:s,isChildDirty:o,isChildLayerDirty:a}=this.isDirty(t),{ctx:l,stats:c}=t;let{forceRender:d}=t;if(!(s||o||a||d))return this.debugSkip(t),void this.markClean({recursive:!1});"dirtyTransform"!==d&&(d||(d=this.dirtyZIndex)),l.globalAlpha*=this.opacity,this.dirtyZIndex&&this.sortChildren(aM.compareChildren);const u=this.sortedChildren(),h=this.renderClip(t)??t.clipBBox;this.renderChildren(u,d!==t.forceRender||h!==t.clipBBox?{...t,forceRender:d,clipBBox:h}:t),super.render(t),this.clipRect&&l.restore();for(const m of this.virtualChildren())m.markClean({recursive:"virtual"});n&&c&&r?.({name:n,renderCtx:t,result:"rendered",skipped:c.nodesSkipped,counts:ad(this),group:this})}sortedChildren(){let t=this.children();return this.hasVirtualChildren()&&(t=[...t].sort(aM.compareChildren)),t}renderClip(t){if(!this.clipRect)return;const{x:i,y:n,width:r,height:s}=this.clipRect,{ctx:o}=t;return o.save(),o.beginPath(),o.rect(i,n,r,s),o.clip(),this._debug?.(()=>({name:this.opts?.name,clipRect:this.clipRect,ctxTransform:o.getTransform(),renderCtx:t,group:this})),ws.toCanvas(this,this.clipRect)}renderChildren(t,i){const{ctx:n,forceRender:r,stats:s}=i;for(const o of t)o.visible&&this.visible?r||0!==o.dirty?(n.save(),o.render(i),n.restore()):s&&(s.nodesSkipped+=ad(o).count):(o.markClean(),s&&(s.nodesSkipped+=ad(o).count))}setClipRect(t){this.clipRect=t?ws.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}toSVG(){if(!this.visible)return;const t=[],i=[];for(const n of this.sortedChildren()){const r=n.toSVG();null!=r&&(i.push(...r.elements),null!=r.defs&&t.push(...r.defs))}return{elements:i,defs:t}}};EV.className="Group",E([Ct({redraw:3,convertor:e=>Si(0,e,1)})],EV.prototype,"opacity",2);var Ti=EV,w6e=class extends(MV(Ti)){},x6e=class extends(dv(Ti)){},rp=class extends(Lg(Ti)){},IV=class extends(dv(Lg(Ti))){},rte=Date.now(),vr={create:(...e)=>Object.assign((...i)=>{vr.check(...e)&&("function"==typeof i[0]&&(i=JT(i[0]())),(()=>{const e=Date.now()-rte;if(e>2e3){const t=(Math.floor(e/100)/10).toFixed(1);Xe.log(`**** ${t}s since last log message ****`)}rte=Date.now()})(),Xe.log(...i))},{check:()=>vr.check(...e)}),check:(...e)=>(0===e.length&&e.push(!0),JT(Do("agChartsDebug")).some(i=>e.includes(i)))},$r=class _y{constructor(t,i,n=!0){this.parentNode=t,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=vr.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Ag,i)?()=>new i:i}static select(t,i,n=!0){return new _y(t,i,n)}static selectAll(t,i){const n=[],r=s=>{i(s)&&n.push(s);for(const o of s.children())r(o)};return r(t),n}static selectByClass(t,...i){return _y.selectAll(t,n=>i.some(r=>n instanceof r))}static selectByTag(t,i){return _y.selectAll(t,n=>n.tag===i)}createNode(t,i,n){const r=this.nodeFactory(t);return r.datum=t,i?.(r),null==n?this._nodes.push(r):this._nodes.splice(n,0,r),this.parentNode.appendChild(r),r}update(t,i,n){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),n){const r=new Map(t.map((s,o)=>[n(s),[s,o]]));for(const[s,o]of this._nodesMap.entries())if(r.has(o)){const[a]=r.get(o);s.datum=a,this.garbageBin.delete(s),r.delete(o)}else this.garbageBin.add(s);for(const[s,[o,a]]of r.entries())this._nodesMap.set(this.createNode(o,i,a),s)}else{const r=Math.max(t.length,this.data.length);for(let s=0;s<r;s++)s>=t.length?this.garbageBin.add(this._nodes[s]):s>=this._nodes.length?this.createNode(t[s],i):(this._nodes[s].datum=t[s],this.garbageBin.delete(this._nodes[s]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter(t=>!this.garbageBin.has(t)||(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1))),this}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(const i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t];yield{node:i,datum:i.datum,index:t}}}select(t){return _y.selectAll(this.parentNode,t)}selectByClass(t){return _y.selectByClass(this.parentNode,t)}selectByTag(t){return _y.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}},ld=2*Math.PI;function qn(e){return e%=ld,(e+=ld)%ld}function ste(e){return e%=ld,(e+=ld)!==ld&&(e%=ld),e}function u1(e){return(e%=ld)<-Math.PI?e+=ld:e>=Math.PI&&(e-=ld),e}function cd(e,t,i){const n=qn(e),r=qn(t),s=qn(i);return r<s?r<=n&&n<=s:!(r>s)||r<=n||n<=s}function ya(e){return e/180*Math.PI}function M6e(e){return e/Math.PI*180}function E6e(e,t,i){i&&([e,t]=[t,e]);const n=qn(e);return(qn(t)+ld-n)%ld}function h1(e,t){return e=qn(e),(t=qn(t))-e+(e>t?2*Math.PI:0)}function I6e(e,t,i,n){return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}var A6e=1e-6;function ote(e,t){return h1(e,t)<A6e?t:qn(e-t)+t}function T6e(e,t,i=0){const r=Math.abs(t-e)>=2*Math.PI?2*Math.PI:qn(t-e);return{startAngle:e=ote(e,i),endAngle:t=e+r}}function p1(e,t,i,n){const r=e-i,s=t-n;return r*r+s*s}function g1(e,t,i,n,r,s,o){if(i===r&&n===s)return Math.min(o,p1(e,t,i,n));const a=r-i,l=s-n,c=Math.max(0,Math.min(1,((e-i)*a+(t-n)*l)/(a*a+l*l)));return Math.min(o,p1(e,t,i+c*a,n+c*l))}function ate(e,t,i,n,r,s,o,a,l){if(a&&([o,s]=[s,o]),!cd(Math.atan2(t-n,e-i),s,o)){const u=i+Math.cos(s)*r,h=n+Math.sin(s)*r,g=i+Math.cos(s)*r,m=n+Math.sin(s)*r;return Math.min(l,p1(e,t,u,h),p1(e,t,g,m))}const d=r-Math.sqrt(p1(e,t,i,n));return Math.min(l,d*d)}var lte=e=>{const t=ku.fromString(e),[i,n,r]=ku.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:r,a:t.a}},AV=1e-6,cte=e=>e.c<AV||e.l<AV||e.l>1-AV,uv=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(lte)}update(){const{domain:e,range:t}=this;e.length<2&&(Xe.warnOnce("`colorDomain` should have at least 2 values."),0===e.length?e.push(0,1):1===e.length&&e.push(e[0]+1));for(let i=1;i<e.length;i++)if(e[i-1]>=e[i]){Xe.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((s,o)=>s-o);break}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(lte)}convert(e){this.refresh();const{domain:t,range:i,parsedRange:n}=this,r=t[0],s=t.at(-1);if(e<=r)return i[0];if(e>=s)return i[i.length-1];let l,c;if(2===t.length){const h=(e-r)/(s-r),g=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(h*(i.length-1)),i.length-2),c=(h-l*g)/g}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const h=t[l];c=(e-h)/(t[l+1]-h)}return((e,t,i)=>{let n;if(i=Si(0,i,1),cte(e))n=t.h;else if(cte(t))n=e.h;else{let l=t.h;const c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),n=e.h*(1-i)+l*i}return ku.fromOKLCH(e.l*(1-i)+t.l*i,e.c*(1-i)+t.c*i,n,e.a*(1-i)+t.a*i)})(n[l],n[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Xe.warnOnce("Expected update to not invalidate scale"))}};E([Mo],uv.prototype,"domain",2),E([Mo],uv.prototype,"range",2);var hR=class{constructor(e,t=[],i){this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t){const i=this.bbox??t;if(null!=this._cache&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:n,colorSpace:r}=this;if(0===n.length)return;if(1===n.length)return n[0].color;let s=this.createCanvasGradient(e,i);if(null==s)return;const o="oklch"===r;let l=n[0];s.addColorStop(l.offset,l.color);for(let c=1;c<n.length;c+=1){const d=n[c];if(o){const u=new uv;u.domain=[l.offset,d.offset],u.range=[l.color,d.color];for(let h=l.offset+.05;h<d.offset;h+=.05)s.addColorStop(h,u.convert(h))}s.addColorStop(d.offset,d.color),l=d}return"createPattern"in s&&(s=s.createPattern()),this._cache={ctx:e,bbox:i,gradient:s},s}},TV=class extends hR{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}createCanvasGradient(e,t){const{angle:n}=this,r=qn(ya(n+90)),s=Math.cos(r),o=Math.sin(r),a=t.width,l=t.height,c=t.x+.5*a,d=t.y+.5*l,u=Math.sqrt(l*l+a*a)/2,h=Math.atan2(l,a);let g;g=r<Math.PI/2?r:r<Math.PI?Math.PI-r:r<1.5*Math.PI?r-Math.PI:2*Math.PI-r;const m=u*Math.abs(Math.cos(g-h));return e.createLinearGradient(c+s*m,d+o*m,c-s*m,d-o*m)}},k6e=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,jl=class rh extends Ag{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=rh.defaultStyles.fill,this.stroke=rh.defaultStyles.stroke,this.strokeWidth=rh.defaultStyles.strokeWidth,this.lineDash=rh.defaultStyles.lineDash,this.lineDashOffset=rh.defaultStyles.lineDashOffset,this.lineCap=rh.defaultStyles.lineCap,this.lineJoin=rh.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=rh.defaultStyles.opacity,this.fillShadow=rh.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){const{fill:t}=this;let i;if(t instanceof hR)this.gradient=t;else if(t?.startsWith("linear-gradient")&&(i=k6e.exec(t))){const n=parseFloat(i[1]),r=[],s=i[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let a;for(;a=o.exec(s);)r.push(a[0]);this.gradient=new TV("rgb",r.map((l,c)=>({color:l,offset:c/(r.length-1)})),n)}else this.gradient=void 0}align(t,i){const n=this.layerManager?.canvas?.pixelRatio??1,r=Math.round(t*n)/n;return null==i?r:0===i?0:i<1?Math.ceil(i*n)/n:Math.round((i+t)*n)/n-r}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){if(this.fill){const{globalAlpha:n}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=n}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,i){i?t.fill(i):t.fill()}applyFill(t){t.fillStyle=this.gradient?.createGradient(t,this.getBBox())??("string"==typeof this.fill?this.fill:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){const i=this.layerManager?.canvas.pixelRatio??1,n=this.fillShadow;n?.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*i,t.shadowOffsetY=n.yOffset*i,t.shadowBlur=n.blur*i)}renderStroke(t,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:n}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),null!=this.miterLimit&&(t.miterLimit=this.miterLimit),this.executeStroke(t,i),t.globalAlpha=n}}executeStroke(t,i){i?t.stroke(i):t.stroke()}containsPoint(t,i){return this.isPointInPath(t,i)}};jl.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},E([Ct({redraw:2})],jl.prototype,"fillOpacity",2),E([Ct({redraw:2})],jl.prototype,"strokeOpacity",2),E([Ct({redraw:2,changeCb:e=>e.onFillChange()})],jl.prototype,"fill",2),E([Ct({redraw:2})],jl.prototype,"stroke",2),E([Ct({redraw:2})],jl.prototype,"strokeWidth",2),E([Ct({redraw:2})],jl.prototype,"lineDash",2),E([Ct({redraw:2})],jl.prototype,"lineDashOffset",2),E([Ct({redraw:2})],jl.prototype,"lineCap",2),E([Ct({redraw:2})],jl.prototype,"lineJoin",2),E([Ct({redraw:2})],jl.prototype,"miterLimit",2),E([Ct({redraw:2,convertor:e=>Si(0,e,1)})],jl.prototype,"opacity",2),E([Ct({redraw:2,checkDirtyOnAssignment:!0})],jl.prototype,"fillShadow",2);var Wd=jl,Ul=class extends Wd{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new It(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return(this.x1===this.x2||this.y1===this.y2)&&this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t)}distanceSquared(e,t){const{x1:i,y1:n,x2:r,y2:s}=this;return g1(e,t,i,n,r,s,1/0)}render(e){const{ctx:t,forceRender:i,stats:n,devicePixelRatio:r}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=ad(this).count));let{x1:s,y1:o,x2:a,y2:l}=this;if(s===a){const{strokeWidth:c}=this,d=Math.round(s*r)/r+Math.trunc(c*r)%2/(2*r);s=d,a=d}else if(o===l){const{strokeWidth:c}=this,d=Math.round(o*r)/r+Math.trunc(c*r)%2/(2*r);o=d,l=d}t.beginPath(),t.moveTo(s,o),t.lineTo(a,l),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=document.createElementNS("http://www.w3.org/2000/svg","line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),e.setAttribute("stroke",this.stroke??"none"),e.setAttribute("stroke-opacity",String(this.strokeOpacity)),e.setAttribute("stroke-width",String(this.strokeWidth)),{elements:[e]}}};Ul.className="Line",Ul.defaultStyles={...Wd.defaultStyles,fill:void 0,strokeWidth:1},E([Ct({redraw:3})],Ul.prototype,"x1",2),E([Ct({redraw:3})],Ul.prototype,"y1",2),E([Ct({redraw:3})],Ul.prototype,"x2",2),E([Ct({redraw:3})],Ul.prototype,"y2",2);var RV=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const i=this.store.keys();let n=this.store.size-this.maxCacheSize;for(;n>0;){const r=i.next();r.done||this.store.delete(r.value),n--}}return t}clear(){this.store.clear()}},sp=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t="string"==typeof e.font?e.font:ls.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){const n=function P6e(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}();n.font=e,n.textAlign=t.textAlign??"start",n.textBaseline=t.textBaseline??"alphabetic";const r=new dte(n,t);return this.instanceMap.set(i,r),r}};sp.instanceMap=new RV(10);var dte=class{constructor(e,t){this.ctx=e,this.measureMap=new RV(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font="string"==typeof t.font?t.font:ls.toFontString(t.font),this.textMeasurer=new kV(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},ls=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:i,fontFamily:n,lineHeight:r}){let s="";return t&&(s+=`${t} `),i&&(s+=`${i} `),s+=`${e}px`,r&&(s+=`/${r}px`),s+=` ${n}`,s.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}};ls.EllipsisChar="\u2026",ls.defaultLineHeight=1.15,ls.lineSplitter=/\r?\n/g;var kV=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,r=0,s=0;const o=ls.getVerticalModifier(this.textBaseline),a=[];let l=0;const c=e.length;for(const d of e){const u=this.measureTextFn(d);u.fontBoundingBoxAscent??(u.fontBoundingBoxAscent=u.emHeightAscent),u.fontBoundingBoxDescent??(u.fontBoundingBoxDescent=u.emHeightDescent),t<u.width&&(t=u.width),r<u.actualBoundingBoxLeft&&(r=u.actualBoundingBoxLeft),0===l?(i+=u.actualBoundingBoxAscent,n+=u.actualBoundingBoxAscent):s+=u.fontBoundingBoxAscent,l===c-1?i+=u.actualBoundingBoxDescent:s+=u.fontBoundingBoxDescent,a.push({text:d,width:u.width,height:u.actualBoundingBoxAscent+u.actualBoundingBoxDescent,lineHeight:u.fontBoundingBoxAscent+u.fontBoundingBoxDescent,offsetTop:u.actualBoundingBoxAscent,offsetLeft:u.actualBoundingBoxLeft}),l++}return i+=s,n+=s*o,{width:t,height:i,offsetTop:n,offsetLeft:r,lineMetrics:a}}textWidth(e,t){if(t){let i=0;for(let n=0;n<e.length;n++)i+=this.textWidth(e.charAt(n));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t="string"==typeof e?e.split(ls.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},_c=class aP extends Wd{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=aP.defaultStyles.textAlign,this.textBaseline=aP.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split("\n").map(t=>t.trim())??[]}static computeBBox(t,i,n,r){const{offsetTop:s,offsetLeft:o,width:a,height:l}=sp.measureLines(t,r);return new It(i-o,n-s,a,l)}computeBBox(){const{x:t,y:i,lines:n,textBaseline:r,textAlign:s}=this;return aP.computeBBox(n,t,i,{font:this,textBaseline:r,textAlign:s})}isPointInPath(t,i){const n=this.getBBox();return!!n&&n.containsPoint(t,i)}render(t){const{ctx:i,forceRender:n,stats:r}=t;if(0===this.dirty&&!n)return void(r&&(r.nodesSkipped+=ad(this).count));if(!this.lines.length||!this.layerManager)return void(r&&(r.nodesSkipped+=ad(this).count));const{fill:s,stroke:o,strokeWidth:a}=this,{pixelRatio:l}=this.layerManager.canvas;if(i.font=ls.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,s){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:c}=this;c?.enabled&&(i.shadowColor=c.color,i.shadowOffsetX=c.xOffset*l,i.shadowOffsetY=c.yOffset*l,i.shadowBlur=c.blur*l),this.renderLines((d,u,h)=>i.fillText(d,u,h))}if(o&&a){i.strokeStyle=o,i.lineWidth=a,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:c,lineDashOffset:d,lineCap:u,lineJoin:h}=this;c&&i.setLineDash(c),d&&(i.lineDashOffset=d),u&&(i.lineCap=u),h&&(i.lineJoin=h),this.renderLines((g,m,y)=>i.strokeText(g,m,y))}super.render(t)}renderLines(t){const{lines:i,x:n,y:r}=this,s=this.lineHeight??ls.getLineHeight(this.fontSize);let o=(s-s*i.length)*ls.getVerticalModifier(this.textBaseline);for(const a of i)t(a,n,r+o),o+=s}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){if(!this.visible||!this.text)return;const t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("font-family",this.fontFamily?.split(",")[0]??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};_c.className="Text",_c.defaultStyles={...Wd.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"},E([Ct({redraw:3})],_c.prototype,"x",2),E([Ct({redraw:3})],_c.prototype,"y",2),E([Ct({redraw:3,changeCb:e=>e.onTextChange()})],_c.prototype,"text",2),E([Ct()],_c.prototype,"fontStyle",2),E([Ct()],_c.prototype,"fontWeight",2),E([Ct()],_c.prototype,"fontSize",2),E([Ct()],_c.prototype,"fontFamily",2),E([Ct({redraw:3})],_c.prototype,"textAlign",2),E([Ct({redraw:3})],_c.prototype,"textBaseline",2),E([Ct({redraw:3})],_c.prototype,"lineHeight",2);var ho=_c,ute=class extends(dv(ho)){},hv=class extends(dv(Lg(ho))){};function F6e(e,t,i,n,r,s){if(0===e.size)return!1;let o=e.x,a=e.y;null!=t&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<i?l=i:o>i+r&&(l=i+r);let c=a;a<n?c=n:a>n+s&&(c=n+s);const d=o-l,u=a-c;return Math.sqrt(d*d+u*u)<=.5*e.size}function hte(e,t,i,n,r){return e.x+e.width>t&&e.x<t+n&&e.y+e.height>i&&e.y<i+r}function O6e(e,t,i,n,r){return t+n<e.x+e.width&&t>e.x&&i>e.y&&i+r<e.y+e.height}var N6e={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function B6e(e,t=0){const i=[];for(let n=0;n<e.length;n++){const r=e[n],{point:{x:s,y:o},label:{text:a}}=r;let{width:l,height:c}=r.label;if(l+=t,c+=t,i.some(d=>hte(d,s,o,l,c)))return!0;i.push({index:n,text:a,x:s,y:o,width:l,height:c,datum:r})}return!1}function pte(e,t){return e.length===t.length&&e.every((i,n)=>Number(i)===Number(t[n]))}var PV="class-instance";function dd(e,t,i){if(as(t)){if(!as(e)||e.length!==t.length||t.some((n,r)=>null!=dd(e[r],n)))return t}else{if(Bl(t)){if(!Bl(e))return t;const n={},r=new Set([...Object.keys(e),...Object.keys(t)]);for(const s of r)if(e[s]!==t[s]&&!i?.includes(s))if(typeof e[s]==typeof t[s]){const o=dd(e[s],t[s]);null!==o&&(n[s]=o)}else n[s]=t[s];return Object.keys(n).length?n:null}if(e!==t)return t}return null}function Eo(e,t){return as(e)?e.map(i=>Eo(i,t)):Bl(e)?sV(e,(i,n)=>t?.shallow?.includes(n)?pR(i):Eo(i,t)):e instanceof Map?new Map(Eo(Array.from(e))):pR(e)}function pR(e){return as(e)?[...e]:Bl(e)?{...e}:e1(e)?new Date(e):fee(e)?new RegExp(e.source,e.flags):e}function Nu(e,t,i,...n){if(as(e))t(e,...n),e.forEach((r,s)=>{Nu(r,t,i,...gte(n,s))});else if(Bl(e)){t(e,...n);for(const r of Object.keys(e)){if(i?.skip?.includes(r))continue;const s=e[r];(as(s)||Bl(s))&&Nu(s,t,i,...gte(n,r))}}}function s_(e,t,i={}){const{path:n,matcherPath:r=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:s=[]}=i;if(null==e)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(null==t)return e;if(Lu(e))return e.set(t);const o=e,a=FV(e);for(const l in t){if(lV.has(l))continue;const c=`${r?r+".":""}${l}`;if(s.includes(c))continue;const d=t[l],u=`${n?n+".":""}${l}`,h=o.constructor,g=o[l];try{const m=FV(g),y=FV(d);if(a===PV&&!(l in e)){Xe.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}if(null!=m&&null!=y&&y!==m&&(m!==PV||"object"!==y)){Xe.warn(`unable to set [${u}] in ${h?.name} - can't apply type of [${y}], allowed types are: [${m}]`);continue}Lu(g)?o[l].set(d):"object"===y?(null==g&&(o[l]={}),s_(g??o[l],d,{...i,path:u,matcherPath:c})):o[l]=d}catch(m){Xe.warn(`unable to set [${u}] in [${h?.name}]; nested error is: ${m.message}`)}}return e}function gte(e,t){return e.map(i=>i?.[t])}function FV(e){return null==e?null:mee(e)||e1(e)?"primitive":as(e)?"array":qa(e)?Bl(e)?"object":PV:tp(e)?"function":"primitive"}function As(e,t){const i=as(e)?e:e.split(".");if(1===i.length){const[n]=i;return ep((r,s,o)=>r[n]=o,r=>r[n],t)}return ep((n,r,s)=>cV(n,i,s),n=>aV(n,i),t)}function z6e(e){return ep((t,i,n)=>t[e]=n)}function Io(e,t){return ep((i,n,r)=>i[e][t??n]=r)}function Qa(e){const{newValue:t,oldValue:i,changeValue:n}=e;return ep((r,s,o,a)=>(o!==a&&(void 0!==a&&i?.call(r,a),void 0!==o&&t?.call(r,o),n?.call(r,o,a)),o))}function ba(e){return function TBe(e){return(t,i)=>{gee(t,i).observers.push(e)}}(e)}var OV="color: green",LV="color: grey",NV=class Xl{constructor(t,i,n){this.defaultState=t,this.states=i,this.enterEach=n,this.debug=vr.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,OV)}transition(t,i){if(!this.transitionChild(t,i)||this.state===Xl.child||this.state===Xl.parent)return;const r=this.state,s=this.states[this.state];let o=s[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(d=>{if(!d.guard)return!0;const u=d.guard(i);return u||this.debug(`${a} ${d.target} (guarded)`,LV),u});else if("object"==typeof o&&!(o instanceof Xl)&&o.guard&&!o.guard(i))return void this.debug(`${a} ${o.target} (guarded)`,LV);if(!o)return void this.debug(`${a} ${this.state}`,LV);const l=this.getDestinationState(o),c=l===this.state?void 0:s.onExit;this.debug(`${a} ${l}`,OV),this.state=l,"function"==typeof o?o(i):"object"==typeof o&&!(o instanceof Xl)&&o.action?.(i),c?.(),this.enterEach?.(r,l),l!==r&&l!==Xl.child&&l!==Xl.parent&&this.states[l].onEnter?.(r,i)}transitionAsync(t,i){setTimeout(()=>{this.transition(t,i)},0)}is(t){return this.state===Xl.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){return this.state!==Xl.child||!this.childState||(this.childState.transition(t,i),!this.childState.is(Xl.parent))||(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,OV),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(t){let i=this.state;return"string"==typeof t?i=t:t instanceof Xl?(this.childState=t,i=Xl.child):"object"==typeof t&&(t.target instanceof Xl?(this.childState=t.target,i=Xl.child):null!=t.target&&(i=t.target)),i}};NV.child="__child",NV.parent="__parent";var f1=NV,VV=class{static wrapText(e,t){return this.wrapLines(e,t).join("\n")}static wrapLines(e,t){const i=this.textWrap(e,t);return"hide"===t.overflow&&i.some(n=>n.endsWith(ls.EllipsisChar))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+ls.EllipsisChar}static truncateLine(e,t,i,n){const r=t.textWidth(ls.EllipsisChar);let s=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(s+a>i)break;s+=a}if(e.length===o&&(!n||s+r<=i))return n?e+ls.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+r>i;)e=e.slice(0,-1).trimEnd();return e+ls.EllipsisChar}static textWrap(e,t){const i=e.split(ls.lineSplitter),n=sp.getMeasurer(t);if("never"===t.textWrap)return i.map(a=>this.truncateLine(a.trimEnd(),n,t.maxWidth));const r=[],s="hyphenate"===t.textWrap,o=null==t.textWrap||"on-space"===t.textWrap;for(let a of i)if(a=a.trimEnd(),""!==a){for(let l=0,c=0,d=0;l<a.length;l++){const u=a.charAt(l);if(c+=n.textWidth(u)," "===u&&(d=l),c>t.maxWidth){if(0===l)break;const h=n.textWidth(a.slice(0,l+1));if(h<=t.maxWidth){c=h;continue}if(d){const y=this.getWordAt(a,d+1),_=n.textWidth(y);if(_<=t.maxWidth){r.push(a.slice(0,d).trimEnd()),a=a.slice(d).trimStart(),l=-1,c=0,d=0;continue}o&&_>t.maxWidth&&r.push(a.slice(0,d).trimEnd(),this.truncateLine(a.slice(d).trimStart(),n,t.maxWidth,!0))}else o&&r.push(this.truncateLine(a,n,t.maxWidth,!0));if(o){a="";break}const g=s?"-":"";let m=a.slice(0,l).trim();for(;m.length&&n.textWidth(m+g)>t.maxWidth;)m=m.slice(0,-1).trimEnd();if(r.push(m+g),!m.length){a="";break}a=a.slice(m.length).trimStart(),l=-1,c=0,d=0}}a&&r.push(a)}else r.push(a);return this.avoidOrphans(r,n,t),this.clipLines(r,n,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return-1===i?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:n,lineMetrics:r}=t.measureLines(e);if(n<=i.maxHeight)return e;for(let s=0,o=0;s<r.length;s++){const{lineHeight:a}=r[s];if(o+=a,o>i.maxHeight){if("hide"===i.overflow)return[];const l=e.slice(0,s||1),c=l.pop();return l.concat(this.truncateLine(c,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(!1===i.avoidOrphans||e.length<2)return;const{length:n}=e,r=e[n-1],s=e[n-2];if(s.length<r.length)return;const o=s.lastIndexOf(" ");if(-1===o||o===s.indexOf(" ")||r.includes(" "))return;const a=s.slice(o+1);t.textWidth(r+a)<=i.maxWidth&&(e[n-2]=s.slice(0,o),e[n-1]=a+" "+r)}},Vu={isEnterprise:!1};function Wl(e,t,i){void 0===i||""===i?e?.removeAttribute(t):e?.setAttribute(t,i.toString())}function pv(e,t){if(null==t)return;let i;for(i in t)"class"!==i&&Wl(e,i,t[i])}function fte(e,t,i){if(!(e instanceof HTMLElement))return;const n=e.getAttribute(t);if(null===n)return i;const r=typeof{}[t];return"boolean"===r?"true"===n:"number"===r?Number(n):"string"===r?n:void 0}function Ng(e,t,i){null!=e&&(null==i?e.style.removeProperty(t):e.style.setProperty(t,i))}function mte(e,t,i,n){let{top:r,right:s,bottom:o,left:a,width:l,height:c}=n;return null!=a?null!=l?s=i.width-a+l:null!=s&&(l=i.width-a-s):null!=s&&null!=l&&(a=i.width-s-l),null!=r?null!=c?o=i.height-r-c:null!=o&&(c=i.height-o-r):null!=o&&null!=c&&(r=i.height-o-c),null==l?null==c?(l=e,c=t):l=Math.ceil(e*c/t):null==c&&(c=Math.ceil(t*l/e)),null==a&&(a=null==s?Math.floor((i.width-l)/2):i.width-s-l),null==r&&(r=null==o?Math.floor((i.height-c)/2):i.height-c-o),{x:a,y:r,width:l,height:c}}var Bu="ag-chart-tooltip",vte="ag-chart-dark-tooltip",op={html:"",ariaLabel:""};function G6e(e){const t=(i,n,r)=>0===n||"."!==r[n-1]?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function o_(e,t){if("string"==typeof e)return{html:e,ariaLabel:e};const{content:i=t?.content??"",title:n=t?.title,color:r=t?.color??"white",backgroundColor:s=t?.backgroundColor??"#888"}=e;return{html:`${n?`<div class="${Bu}-title"\n        style="color: ${r}; background-color: ${s}">${n}</div>`:""}${i?`<div class="${Bu}-content">${i}</div>`:""}`,ariaLabel:G6e(`${n?`${n}: `:""}${i}`)}}var a_=class extends Fi{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};E([L(Yn(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0}],"a position type"))],a_.prototype,"type",2),E([L(ar)],a_.prototype,"xOffset",2),E([L(ar)],a_.prototype,"yOffset",2);var ud=class extends Fi{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new a_,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",Bu),this.element.classList.add(Bu)}destroy(e){e.removeChild("canvas-overlay",Bu)}isVisible(){return!this.element?.classList.contains(Bu+"-hidden")}show(e,t,i,n,r=!1){const{element:s}=this,o=s?.getBoundingClientRect();if(null!=n&&null!=s)s.innerHTML=n.html;else if(!s?.innerHTML)return void this.toggle(!1);const a=i.position?.type??this.position.type,l=i.position?.xOffset??0,c=i.position?.yOffset??0,d=this.getTooltipBounds({positionType:a,meta:i,yOffset:c,xOffset:l,canvasRect:t}),u={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height},h=mte(s.clientWidth,s.clientHeight,u,d),g=u.x,m=u.y,y=u.width-s.clientWidth-1+g,_=u.height-s.clientHeight+m,x=Si(g,h.x,y),D=Si(m,h.y,_);let M=!1;null!=o&&(M=u.width-o.width-1+g>y||u.height-o.height+m>_),this.updateShowArrow(i.showArrow??this.showArrow??!("node"!==a&&"pointer"!==a&&"sparkline"!==a||x!==h.x||D!==h.y||l||c)),M&&(s.style.transition="none"),s.style.transform=`translate(${Math.round(x)}px, ${Math.round(D)}px)`,M&&(s.style.transition=""),i.enableInteraction?(this.enableInteraction=!0,s.style.pointerEvents="auto",Wl(s,"aria-hidden",void 0)):(this.enableInteraction=!1,s.style.pointerEvents="none",Wl(s,"aria-hidden",!0)),this.delay>0&&!r?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}toggle(e){if(!this.element)return;const{classList:t}=this.element,i=(l,c)=>t.toggle(`${Bu}-${l}`,c),n=this.isVisible();let r=1/0;if(e||clearTimeout(this.showTimeout),n!==e){const l=Date.now();r=l-this.lastVisibilityChange,this.lastVisibilityChange=l}r>5&&i("no-animation",!n&&e&&r>100),i("no-interaction",!this.enableInteraction),i("hidden",!e),i("arrow",this._showArrow),t.toggle(vte,this.darkTheme);for(const l of this.wrapTypes)t.toggle(`${Bu}-wrap-${l}`,l===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};const{positionType:t,meta:i,yOffset:n,xOffset:r,canvasRect:s}=e,{clientWidth:o,clientHeight:a}=this.element,l={width:o,height:a};switch(t){case"node":case"pointer":return l.top=i.offsetY+n-a-8,l.left=i.offsetX+r-o/2,l;case"top":return l.top=n,l.left=s.width/2-o/2+r,l;case"right":return l.top=s.height/2-a/2+n,l.left=s.width-o/2+r,l;case"left":return l.top=s.height/2-a/2+n,l.left=r,l;case"bottom":return l.top=s.height-a+n,l.left=s.width/2-o/2+r,l;case"top-left":return l.top=n,l.left=r,l;case"top-right":return l.top=n,l.left=s.width-o+r,l;case"bottom-right":return l.top=s.height-a+n,l.left=s.width-o+r,l;case"bottom-left":return l.top=s.height-a+n,l.left=r,l;case"sparkline":return l.top=Vu.isEnterprise?n-a-8:i.offsetY+n-a-8,l.left=i.offsetX+r-o/2,l}}};E([L(Jt)],ud.prototype,"enabled",2),E([L(Jt,{optional:!0})],ud.prototype,"showArrow",2),E([ba((e,t,i)=>{t&&e.element?.classList.add(t),i&&e.element?.classList.remove(i)}),L(et,{optional:!0})],ud.prototype,"class",2),E([L(st)],ud.prototype,"delay",2),E([L(lR,{optional:!0})],ud.prototype,"range",2),E([L(aR)],ud.prototype,"wrapping",2),E([L(Tt)],ud.prototype,"position",2),E([L(Jt)],ud.prototype,"darkTheme",2),E([L(Yn(["extended","canvas"]))],ud.prototype,"bounds",2);var yr=class extends Fi{constructor(){super(...arguments),this.id=nd(this),this.node=new ute({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){const{regionManager:i,proxyInteractionService:n,layoutManager:r}=e,s=i.getRegion("root");return function WVe(...e){return()=>{for(const t of e)t()}}(r.addListener("layout:complete",()=>this.updateA11yText(n,t)),s.addListener("hover",a=>this.handleMouseMove(e,a)),s.addListener("leave",a=>this.handleMouseLeave(e,a)))}computeTextWrap(e,t){const{text:i,padding:n,wrapping:r}=this,s=Math.min(this.maxWidth??1/0,e)-2*n,o=this.maxHeight??t-2*n;if(!isFinite(s)&&!isFinite(o))return void(this.node.text=i);const a=VV.wrapText(i??"",{maxWidth:s,maxHeight:o,font:this,textWrap:r});this.node.text=a,this.truncated=a.includes(ls.EllipsisChar)}updateA11yText(e,t){if(this.enabled&&this.text){const i=ws.toCanvas(this.node);if(i){const{id:n}=this;this.proxyText??(this.proxyText=e.createProxyElement({type:"text",id:n,parent:t})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(i)}}else this.proxyText?.remove(),this.proxyText=void 0}handleMouseMove(e,t){if(void 0!==t&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:i,offsetY:n}=t;e.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:t,showArrow:!1},o_({content:this.text}))}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};yr.SMALL_PADDING=10,yr.LARGE_PADDING=20,E([L(Jt),Io("node","visible")],yr.prototype,"enabled",2),E([L(et,{optional:!0}),Io("node")],yr.prototype,"text",2),E([L(Oee,{optional:!0}),Io("node")],yr.prototype,"textAlign",2),E([L(Pg,{optional:!0}),Io("node")],yr.prototype,"fontStyle",2),E([L(Fg,{optional:!0}),Io("node")],yr.prototype,"fontWeight",2),E([L(st),Io("node")],yr.prototype,"fontSize",2),E([L(et),Io("node")],yr.prototype,"fontFamily",2),E([L(On,{optional:!0}),Io("node","fill")],yr.prototype,"color",2),E([L(st,{optional:!0})],yr.prototype,"spacing",2),E([L(st,{optional:!0})],yr.prototype,"maxWidth",2),E([L(st,{optional:!0})],yr.prototype,"maxHeight",2),E([L(aR)],yr.prototype,"wrapping",2),E([L(st)],yr.prototype,"padding",2),E([L(et)],yr.prototype,"layoutStyle",2);var yte=class Gue extends Ti{constructor(t){super(t),this.opts=t,this.lastBBox=void 0}static is(t){return t instanceof Gue}markDirty(t=1){super.markDirty(t,1)}preRender(){const t=super.preRender();return t.nonGroups>0&&(this.layer??(this.layer=this._layerManager?.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})),this.opts?.deriveZIndexFromChildren&&this.deriveZIndexFromChildren()),t}debugSkip(t){super.debugSkip(t);const{stats:i}=t;i&&(i.layersSkipped++,i.nodesSkipped+=ad(this).count)}render(t){if(!this.layer)return super.render(t);const{opts:{name:i}={},_debug:n,clipRect:r}=this,{isDirty:s,isChildDirty:o,isChildLayerDirty:a}=this.isDirty(t),{stats:l}=t;let{forceRender:c,clipBBox:d}=t;const u=this.getBBox();if(this.lastBBox?.equals(u)||(c="dirtyTransform",this.lastBBox=u),!(s||o||a||c))return this.debugSkip(t),void this.markClean({recursive:!1});"dirtyTransform"!==c&&(c=o||this.dirtyZIndex),c&&this.layer.clear(),this.dirtyZIndex&&this.sortChildren(Ti.compareChildren);const h=this.sortedChildren(),g=t.ctx.getTransform(),{context:m}=this.layer;if(m.save(),d){const{width:y,height:_,x,y:D}=d;m.beginPath(),m.rect(x,D,y,_),m.clip(),n?.(()=>({name:i,clipBBox:d,renderCtx:t,group:this,ctxTransform:m.getTransform()}))}m.setTransform(g),this.clipRect&&(d=this.renderClip({...t,ctx:m})),this.renderChildren(h,{...t,ctx:m,forceRender:c,clipBBox:d}),super.render(t,!0),r&&m.restore();for(const y of this.virtualChildren())y.markClean({recursive:"virtual"});l&&l.layersRendered++,m.restore(),m.verifyDepthZero?.(),i&&l&&n?.({name:i,renderCtx:t,result:"rendered",skipped:l.nodesSkipped,counts:ad(this),group:this})}deriveZIndexFromChildren(){let t;for(const i of this.children())i.childNodeCounts.nonGroups&&(!t||Ti.compareChildren(t,i)<0)&&(t=i);this.zIndex=t?.zIndex??-1/0,this.zIndexSubOrder=t?.zIndexSubOrder}_setLayerManager(t){this.layer&&(this._layerManager?.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getComputedOpacity(){let t=1;for(const i of this.traverseUp(!0))i instanceof Ti&&(t*=i.opacity);return t}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}};yte.className="Layer";var zu=yte,l_=class extends(Lg(zu)){},Gu=class extends Wd{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new It(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=ad(this).count));let{x1:r,y1:s,x2:o,y2:a}=this;r=this.align(r),s=this.align(s),o=this.align(o),a=this.align(a);const{fill:l,opacity:c,isRange:d}=this;if(d&&l){const{fillOpacity:x}=this;this.applyFill(t),t.globalAlpha=c*x,t.beginPath(),t.moveTo(r,s),t.lineTo(o,s),t.lineTo(o,a),t.lineTo(r,a),t.closePath(),t.fill()}const{stroke:h,strokeWidth:g,startLine:m,endLine:y}=this;if((m||y)&&h&&g){const{strokeOpacity:x,lineDash:D,lineDashOffset:M,lineCap:k,lineJoin:V}=this;t.strokeStyle=h,t.globalAlpha=c*x,t.lineWidth=g,D&&t.setLineDash(D),M&&(t.lineDashOffset=M),k&&(t.lineCap=k),V&&(t.lineJoin=V),t.beginPath(),m&&(t.moveTo(r,s),t.lineTo(o,s)),y&&(t.moveTo(o,a),t.lineTo(r,a)),t.stroke()}this.fillShadow?.markClean(),super.render(e)}};Gu.className="Range",Gu.defaultStyles={...Wd.defaultStyles,strokeWidth:1},E([Ct({redraw:2})],Gu.prototype,"x1",2),E([Ct({redraw:2})],Gu.prototype,"y1",2),E([Ct({redraw:2})],Gu.prototype,"x2",2),E([Ct({redraw:2})],Gu.prototype,"y2",2),E([Ct({redraw:2})],Gu.prototype,"startLine",2),E([Ct({redraw:2})],Gu.prototype,"endLine",2),E([Ct({redraw:2})],Gu.prototype,"isRange",2);var po=class extends Fi{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return ls.toFontString(this)}};function gR(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?qn(ya(e.rotation)):0,r=!n&&t>=0&&t<=Math.PI?-1:1,s=!n&&i>=0&&i<=Math.PI?-1:1;let o=0;return e.parallel?o=r*Math.PI/2:-1===s&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:r,regularFlipFlag:s}}function H6e(e,t){return isNaN(e)?t?0:10:e}function BV(e,t,i,n,r){const s=t>0&&t<=Math.PI,o=i>0&&i<=Math.PI;if(e){if(!t&&!i)return"center";if(n*(s||o?-1:1)==-1)return"end"}else if(n*r==-1)return"end";return"start"}function U6e(e,t,i){const{x:n,y:r,width:s,height:o}=t,a=new It(n,r,0,0);i.transformBBox(a,t);const{x:l,y:c}=t;return{point:{x:l,y:c},label:{text:e,width:s,height:o}}}E([L(Jt)],po.prototype,"enabled",2),E([L(On,{optional:!0})],po.prototype,"color",2),E([L(Pg,{optional:!0})],po.prototype,"fontStyle",2),E([L(Fg,{optional:!0})],po.prototype,"fontWeight",2),E([L(st)],po.prototype,"fontSize",2),E([L(et)],po.prototype,"fontFamily",2),E([L(Hl,{optional:!0})],po.prototype,"formatter",2);var bte=(e=>(e[e.SERIES_BACKGROUND=0]="SERIES_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.SERIES_CROSSLINE_RANGE=3]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=4]="SERIES_LAYER",e[e.SERIES_HIGHLIGHT=5]="SERIES_HIGHLIGHT",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.CHART_OVERLAY=8]="CHART_OVERLAY",e[e.SERIES_CROSSLINE_LINE=9]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=10]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=11]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=12]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=13]="STATUS_BAR",e[e.SERIES_LABEL=14]="SERIES_LABEL",e[e.LEGEND=15]="LEGEND",e[e.NAVIGATOR=16]="NAVIGATOR",e[e.FOREGROUND=17]="FOREGROUND",e))(bte||{});function _te(e){return null!=e&&Object.hasOwn(e,"toString")&&zl(e.toString())}function Cte(e){return null!=e&&Object.hasOwn(e,"valueOf")&&nn(e.valueOf())}function fR(e){return nn(e)||t1(e)||Cte(e)}function zV(e,t){return null!=e&&(!t||fR(e))}function gv(e){return _te(e)&&Object.hasOwn(e,"id")?e.id:e}var GV=e=>"value"===e?Kn((t,i)=>"line"===i.target.type,t=>"range"===t.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Kn((t,i)=>"range"===i.target.type,t=>"line"===t.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),wte=(e,t,i,n,r)=>{const s="line"===e&&void 0!==t,o="range"===e&&void 0!==i;if(!s&&!o)return!0;const[a,l]=i??[t,void 0],c=Fn.is(n)||jd.is(n),d=zV(a,c)&&!isNaN(n.convert(a)),u=zV(l,c)&&!isNaN(n.convert(l));if(s&&d||o&&d&&u)return r?.()??!0;const h=["Expecting crossLine"];return o?(d||h.push(`range start ${a1(a)}`),u||h.push(`${d?"":"and "}range end ${a1(l)}`)):h.push(`value ${a1(a)}`),h.push("to match the axis scale domain."),Xe.warnOnce(h.join(" ")),!1},W6e={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},$6e={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function HV({yDirection:e,padding:t=0,position:i="top",bbox:n}){const r=e?W6e:$6e,{xTranslationDirection:s,yTranslationDirection:o}=r[i];return{xTranslation:s*(t+n.width/2),yTranslation:o*(t+n.height/2)}}function xte({yDirection:e,bbox:t,padding:i=0,position:n="top"}){const r={};return n.startsWith("inside")||("top"!==n||e?"bottom"!==n||e?"left"===n&&e?r.left=i+t.width:"right"===n&&e&&(r.right=i+t.width):r.bottom=i+t.height:r.top=i+t.height),r}var mR=({direction:e,xEnd:t,yStart:i,yEnd:n})=>"y"===e?{x:t/2,y:i}:{x:t,y:isNaN(n)?i:(i+n)/2},Ste=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:r})=>"y"===e?{x:t,y:isNaN(r)?n:(n+r)/2}:{x:i/2,y:n},Dte=({direction:e,xEnd:t,yStart:i,yEnd:n})=>"y"===e?{x:t,y:isNaN(n)?i:(i+n)/2}:{x:t/2,y:isNaN(n)?i:n},Mte=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:r})=>"y"===e?{x:i/2,y:isNaN(r)?n:r}:{x:t,y:isNaN(r)?n:(n+r)/2},Ete=({direction:e,xStart:t,xEnd:i,yStart:n})=>"y"===e?{x:t/2,y:n}:{x:i,y:n},Ite=({direction:e,xStart:t,yStart:i,yEnd:n})=>"y"===e?{x:t,y:isNaN(n)?i:n}:{x:t,y:i},Ate=({direction:e,xEnd:t,yStart:i,yEnd:n})=>"y"===e?{x:t,y:i}:{x:t,y:isNaN(n)?i:n},Tte=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:r})=>"y"===e?{x:i,y:isNaN(r)?n:r}:{x:t,y:isNaN(r)?n:r},Rte={top:{c:mR},bottom:{c:Mte},left:{c:Ste},right:{c:Dte},topLeft:{c:Ete},topRight:{c:Ate},bottomLeft:{c:Ite},bottomRight:{c:Tte},inside:{c:({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2})},insideLeft:{c:Ste},insideRight:{c:Dte},insideTop:{c:mR},insideBottom:{c:Mte},insideTopLeft:{c:Ete},insideBottomLeft:{c:Ite},insideTopRight:{c:Ate},insideBottomRight:{c:Tte}},K6e=Yn(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),hd=class extends Fi{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};E([L(Jt,{optional:!0})],hd.prototype,"enabled",2),E([L(et,{optional:!0})],hd.prototype,"text",2),E([L(Pg,{optional:!0})],hd.prototype,"fontStyle",2),E([L(Fg,{optional:!0})],hd.prototype,"fontWeight",2),E([L(st)],hd.prototype,"fontSize",2),E([L(et)],hd.prototype,"fontFamily",2),E([L(ar)],hd.prototype,"padding",2),E([L(On,{optional:!0})],hd.prototype,"color",2),E([L(K6e,{optional:!0})],hd.prototype,"position",2),E([L(kg,{optional:!0})],hd.prototype,"rotation",2),E([L(Jt,{optional:!0})],hd.prototype,"parallel",2);var _a=class lM extends Fi{constructor(){super(),this.id=nd(this),this.label=new hd,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new zu({name:this.id,zIndex:lM.LINE_LAYER_ZINDEX}),this.labelGroup=new zu({name:this.id,zIndex:lM.LABEL_LAYER_ZINDEX}),this.crossLineRange=new Gu,this.crossLineLabel=new hv,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){const{enabled:i,data:n,type:r,value:s,range:o,scale:a}=this;if(!(r&&a&&i&&t&&wte(r,s,o,a)&&0!==n.length))return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,i){if(!t)return;const{scale:n,gridLength:r,sideFlag:s,direction:o,label:{position:a="top"},clippedRange:l,strokeWidth:c=0}=this;if(this.data=[],!n)return;const d=n.bandwidth??0,h=(i?-1:1)*(n instanceof Rg?((n.step??0)-d)/2:0),[g,m]=[0,s*r];let[y,_]=this.getRange();const x=void 0===_&&jd.is(n)?d/2+h:0;let[D,M]=[Number(n.convert(y,{clampMode:"clamped"}))-h+x,n.convert(_,{clampMode:"clamped"})+d+h];D=HT(D,l),M=HT(M,l),[y,_]=[Number(n.convert(y))+x,n.convert(_)+d];const k=(y===D||_===M||D!==M)&&Math.abs(M-D)>0;if(k&&D>M&&([D,M]=[M,D],[y,_]=[_,y]),y-h>=D&&(y-=h),_+h<=M&&(_+=h),this.isRange=k,this.startLine=c>0&&y>=D&&y<=D+h,this.endLine=c>0&&_>=M-d-h&&_<=M,!k&&!this.startLine&&!this.endLine||(this.data=[D,M],!this.label.enabled))return;const{c:V=mR}=Rte[a]??{},{x:H,y:F}=V({direction:o,xStart:g,xEnd:m,yStart:D,yEnd:M});this.labelPoint={x:H,y:F}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:t,sideFlag:i,gridLength:n,data:r,startLine:s,endLine:o,isRange:a,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,lineDash:h}=this;t.x1=0,t.x2=i*n,t.y1=r[0],t.y2=r[1],t.startLine=s,t.endLine=o,t.isRange=a,t.fill=l,t.fillOpacity=c??1,t.stroke=d,t.strokeWidth=u??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=h}updateLabel(){const{crossLineLabel:t,label:i}=this;i.text&&(t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.text=i.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:i,y:n}={},label:{parallel:r,rotation:s,position:o="top",padding:a=0},direction:l,parallelFlipRotation:c,regularFlipRotation:d}=this;if(void 0===i||void 0===n)return;const{defaultRotation:u,configuredRotation:h}=gR({rotation:s,parallel:r,regularFlipRotation:d,parallelFlipRotation:c});t.rotation=u+h,t.textBaseline="middle",t.textAlign="center";const g=t.getBBox();if(!g)return;const m="y"===l,{xTranslation:y,yTranslation:_}=HV({yDirection:m,padding:a,position:o,bbox:g});t.translationX=i+y,t.translationY=n+_}getZIndex(t=!1){return t?lM.RANGE_LAYER_ZINDEX:lM.LINE_LAYER_ZINDEX}getRange(){const{value:t,range:i,scale:n}=this,r=Fn.is(n)||jd.is(n),s=i?.[0]??t;let o=i?.[1];return!r&&void 0===o&&(o=s),r&&s===o&&(o=void 0),[s,o]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const i=new hv;i.fontFamily=t.fontFamily,i.fontSize=t.fontSize,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.text=t.text;const{labelPoint:{x:n,y:r}={},label:{parallel:s,rotation:o,position:a="top",padding:l=0},direction:c,parallelFlipRotation:d,regularFlipRotation:u}=this;if(void 0===n||void 0===r)return;const{configuredRotation:h}=gR({rotation:o,parallel:s,regularFlipRotation:u,parallelFlipRotation:d});i.rotation=h,i.textBaseline="middle",i.textAlign="center";const g=i.getBBox();if(!g)return;const m="y"===c,{xTranslation:y,yTranslation:_}=HV({yDirection:m,padding:l,position:a,bbox:g});return i.x=n+y,i.y=r+_,i.getBBox()}calculatePadding(t){const{isRange:i,startLine:n,endLine:r,direction:s,label:{padding:o=0,position:a="top"}}=this;if(!i&&!n&&!r)return;const l=this.computeLabelBBox();if(null==l?.x||null==l?.y)return;const c=xte({yDirection:"y"===s,padding:o,position:a,bbox:l});t.left=Math.max(t.left??0,c.left??0),t.right=Math.max(t.right??0,c.right??0),t.top=Math.max(t.top??0,c.top??0),t.bottom=Math.max(t.bottom??0,c.bottom??0)}};_a.LINE_LAYER_ZINDEX=9,_a.RANGE_LAYER_ZINDEX=3,_a.LABEL_LAYER_ZINDEX=14,_a.className="CrossLine",E([L(Jt,{optional:!0})],_a.prototype,"enabled",2),E([L(Yn(["range","line"],"a crossLine type"),{optional:!0})],_a.prototype,"type",2),E([L(rd(GV("range"),J0.restrict({length:2})),{optional:!0})],_a.prototype,"range",2),E([L(GV("value"),{optional:!0})],_a.prototype,"value",2),E([L(On,{optional:!0})],_a.prototype,"fill",2),E([L(hn,{optional:!0})],_a.prototype,"fillOpacity",2),E([L(On,{optional:!0})],_a.prototype,"stroke",2),E([L(ar,{optional:!0})],_a.prototype,"strokeWidth",2),E([L(hn,{optional:!0})],_a.prototype,"strokeOpacity",2),E([L(np,{optional:!0})],_a.prototype,"lineDash",2),E([L(Tt)],_a.prototype,"label",2);var jV=_a,q6e=["stroke","lineDash"],Z6e=ip(e=>qa(e)&&Object.keys(e).every(t=>q6e.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),vR=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function Vg(e,t=[void 0]){return ep((i,n,r)=>t.includes(r)?tp(e)?e(r):e:r)}E([L(Jt)],vR.prototype,"enabled",2),E([L(st)],vR.prototype,"width",2),E([L(Z6e)],vR.prototype,"style",2);var kte=Kn(e=>nn(e)&&e>0||e instanceof sv,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),fv=class extends Fi{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};E([L(kte,{optional:!0})],fv.prototype,"step",2),E([L(J0,{optional:!0})],fv.prototype,"values",2),E([L(Nee),Vg(NaN)],fv.prototype,"minSpacing",2),E([L(Vee),Vg(NaN)],fv.prototype,"maxSpacing",2);var go=class extends Fi{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};E([L(Jt)],go.prototype,"enabled",2),E([L(Pg,{optional:!0})],go.prototype,"fontStyle",2),E([L(Fg,{optional:!0})],go.prototype,"fontWeight",2),E([L(ar.restrict({min:1}))],go.prototype,"fontSize",2),E([L(et)],go.prototype,"fontFamily",2),E([L(st)],go.prototype,"padding",2),E([L(X0),Vg(NaN)],go.prototype,"minSpacing",2),E([L(On,{optional:!0})],go.prototype,"color",2),E([L(kg,{optional:!0})],go.prototype,"rotation",2),E([L(Jt)],go.prototype,"avoidCollisions",2),E([L(Jt)],go.prototype,"mirrored",2),E([L(Jt)],go.prototype,"parallel",2),E([L(Hl,{optional:!0})],go.prototype,"formatter",2),E([L(et,{optional:!0})],go.prototype,"format",2);var m1=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};E([L(Jt)],m1.prototype,"enabled",2),E([L(st)],m1.prototype,"width",2),E([L(On,{optional:!0})],m1.prototype,"stroke",2);var c_=class extends Fi{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};E([L(Jt)],c_.prototype,"enabled",2),E([L(st)],c_.prototype,"width",2),E([L(st)],c_.prototype,"size",2),E([L(On,{optional:!0})],c_.prototype,"stroke",2);var $d=class extends Fi{constructor(){super(...arguments),this.caption=new yr,this.enabled=!1,this.spacing=yr.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};function UV(e){const[t,i]=Vl(e.range),n=Math.floor(t),r=Math.ceil(i);return{min:n,max:r,visible:n!==r}}E([L(Jt)],$d.prototype,"enabled",2),E([L(et,{optional:!0})],$d.prototype,"text",2),E([L(st,{optional:!0})],$d.prototype,"spacing",2),E([L(Pg,{optional:!0})],$d.prototype,"fontStyle",2),E([L(Fg,{optional:!0})],$d.prototype,"fontWeight",2),E([L(st)],$d.prototype,"fontSize",2),E([L(et)],$d.prototype,"fontFamily",2),E([L(On,{optional:!0})],$d.prototype,"color",2),E([L(aR)],$d.prototype,"wrapping",2),E([L(Hl,{optional:!0})],$d.prototype,"formatter",2);var WV=2*Math.PI,Q6e=WV/2;function Pte(e){const t=(o,a)=>{const[l=e.min,c=e.max]=Vl(a??[]);return o<l||o>c};return{tick:{fromFn(o,a,l){let c=o.y1+o.translationY,d=o.opacity;return("added"===l||t(o.datum.translationY,o.datum.range))&&(c=a.translationY,d=0),{y:0,translationY:c,opacity:d,phase:Za[l]}},toFn(o,a,l){const c=a.translationY;let d=1;return"removed"===l&&(d=0),{y:0,translationY:c,opacity:d,finish:{y:c,translationY:0}}},applyFn(o,a){o.setProperties(a),o.visible=!t(o.y)}},line:{fromFn:(o,a)=>({...o.previousDatum??a,phase:Za.updated}),toFn:(o,a)=>({...a})},label:{fromFn(o,a,l){const c=o.previousDatum??a,d=c.x,u=c.y,h=c.rotationCenterX;let g=Math.round(o.translationY),m=c.rotation,y=o.opacity;return"removed"===l||t(c.y,c.range)?m=a.rotation:("added"===l||t(o.datum.y,o.datum.range))&&(g=Math.round(c.translationY),y=0,m=a.rotation),{x:d,y:u,rotationCenterX:h,translationY:g,rotation:m,opacity:y,phase:Za[l]}},toFn(o,a,l){const c=a.x,d=a.y,u=a.rotationCenterX,h=Math.round(a.translationY);let g=0,m=1;return"added"===l?(m=1,g=a.rotation):"removed"===l?(m=0,g=a.rotation):g=function X6e(e,t){return Math.abs(t-e)<Q6e?t:e>t?t+WV:t-WV}(o.previousDatum?.rotation??a.rotation,a.rotation),{x:c,y:d,rotationCenterX:u,translationY:h,rotation:g,opacity:m,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){const{rotation:l,translationX:c,translationY:d}=o;return{rotation:l,translationX:c,translationY:d,phase:Za.updated}},toFn(o,a){const{rotation:l,translationX:c,translationY:d}=a;return{rotation:l,translationX:c,translationY:d}}}}}function Fte(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function Ote(e){const{visible:t,min:i,max:n}=e;return(r,s)=>{const o=s.translationY;return{y:o,translationY:0,opacity:1,visible:t&&o>=i&&o<=n}}}function Lte(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function Nte(){return(e,t)=>({...t})}var $V=class extends(Lg(Ul)){},ap=class Hue{constructor(t,i){let n;this.moduleCtx=t,this.scale=i,this.id=nd(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new fv,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new IV({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new $V({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new Ti({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new Ti({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new IV({name:`${this.id}-CrossLines`}),this.labelGroup=new Ti({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new IV({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new Ti({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=$r.select(this.tickLineGroup,$V,!1),this.tickLabelGroupSelection=$r.select(this.tickLabelGroup,hv,!1),this.gridLineGroupSelection=$r.select(this.gridLineGroup,$V,!1),this._crossLines=[],this.line=new m1,this.tick=new c_,this.gridLine=new vR,this.label=this.createLabel(),this.defaultTickMinSpacing=Hue.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new $d,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.moduleMap=new CV,this.range=this.scale.range.slice(),this.crossLines.forEach(r=>this.initCrossLine(r)),this.axisGroup.appendChild(this.title.caption.node),this.animationManager=t.animationManager,this.animationState=new f1("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"),t.layoutManager.addListener("layout:complete",r=>{null!=n&&null!=dd(r.chart,n)&&this.animationState.transition("resize"),n={...r.chart}}))}get type(){return this.constructor.type??""}set crossLines(t){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=t.map(n=>{const r=new i;return r.set(n),r}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(t){"initial"===t&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateRange(){const{range:t,visibleRange:i,scale:n}=this,r=(t[1]-t[0])/(i[1]-i[0]),o=t[0]-r*i[0];n.setVisibleRange?.(i),n.range=[o,o+r],this.crossLines.forEach(a=>{a.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,i){i.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,i){i.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}inRange(t,i=0){const[n,r]=Vl(this.range);return t>=n-i&&t<=r+i}onFormatChange(t,i,n,r){const{scale:s}=this,o=s instanceof wV,a=l=>o?String:c=>"number"==typeof c?c.toFixed(i+l):String(c);if(r&&s&&s.tickFormat)try{const l=s.tickFormat({ticks:t,specifier:r});this.labelFormatter=l,this.datumFormatter=l}catch{this.labelFormatter=a(0),this.datumFormatter=a(1),Xe.warnOnce(`the axis label format string ${r} is invalid. No formatting will be applied`)}else this.labelFormatter=a(0),this.datumFormatter=a(1)}onGridLengthChange(t,i){i^t&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new go}update(t=!0){if(!this.tickGenerationResult)return;const{rotation:i,parallelFlipRotation:n,regularFlipRotation:r}=this.calculateRotations(),s=this.label.getSideFlag();this.updatePosition();const o=this.getAxisLineCoordinates(),{tickData:a,combinedRotation:l,textBaseline:c,textAlign:d,primaryTickCount:u}=this.tickGenerationResult,h=this.tickLabelGroupSelection.nodes().map(g=>g.datum.tickId);if(this.updateSelections(o,a.ticks,{combinedRotation:l,textAlign:d,textBaseline:c,range:this.scale.range}),!t||this.animationManager.isSkipped())this.resetSelectionNodes();else{const g=this.calculateUpdateDiff(h,a);this.animationState.transition("update",g)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(s),this.updateTickLines(),this.updateTitle({anyTickVisible:a.ticks.length>0}),this.updateCrossLines({rotation:i,parallelFlipRotation:n,regularFlipRotation:r}),this.updateLayoutState(a.fractionDigits),u}getAxisLineCoordinates(){const[t,i]=Vl(this.range);return{x:0,y1:t,y2:i}}getTickLineCoordinates(t){const n=this.label.getSideFlag()*this.getTickSize(),r=Math.min(0,n);return{x1:r,x2:r+Math.abs(n),y:t.translationY}}getTickLabelProps(t,i){const{label:n}=this,{combinedRotation:r,textBaseline:s,textAlign:o,range:a}=i,l=t.tickLabel,d=n.getSideFlag()*(this.getTickSize()+n.padding+this.seriesAreaPadding);return{tickId:t.tickId,translationY:t.translationY,fill:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,rotation:r,rotationCenterX:d,text:l,textAlign:o,textBaseline:s,visible:""!==l&&null!=l,x:d,y:0,range:a}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,i){const{title:n}=this;if(!n.enabled)return t.enabled=!1,void(t.node.visible=!1);t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.enabled=n.enabled,t.wrapping=n.wrapping;const r=t.node,s=(n.spacing??0)+i.spacing,o=this.label.getSideFlag(),a=qn(this.rotation),l=-1===o&&a>Math.PI&&a<2*Math.PI?-1:1,c=l*o*Math.PI/2,d=1===l?"bottom":"top",{range:u}=this,h=Math.floor(l*o*(u[0]+u[1])/2),g=Math.floor(-1===o?l*-s:-s),{callbackCache:m}=this.moduleCtx,{formatter:y=(x=>x.defaultValue)}=n,_=m.call(y,this.getTitleFormatterParams());t.text=_,r.setProperties({visible:!0,text:_,textBaseline:d,x:h,y:g,rotation:c})}calculateLayout(t,i){const{rotation:n,parallelFlipRotation:r,regularFlipRotation:s}=this.calculateRotations(),o=this.label.getSideFlag(),a=o*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(t),this.tickGenerationResult=this.generateTicks({primaryTickCount:i,parallelFlipRotation:r,regularFlipRotation:s,labelX:a,sideFlag:o});const{tickData:l,combinedRotation:c,textBaseline:d,textAlign:u,...h}=this.tickGenerationResult;this.updateLayoutState(l.fractionDigits);const g=[],{x:m,y1:y,y2:_}=this.getAxisLineCoordinates(),x=new It(m+Math.min(o*this.seriesAreaPadding,0),y,this.seriesAreaPadding,_-y);if(g.push(x),this.tick.enabled&&l.ticks.forEach(V=>{const{x1:H,x2:F,y:P}=this.getTickLineCoordinates(V),G=new It(H,P,F-H,0);g.push(G)}),this.label.enabled){const V=new hv;l.ticks.forEach(H=>{const F=this.getTickLabelProps(H,{combinedRotation:c,textAlign:u,textBaseline:d,range:this.scale.range});if(!F.visible)return;V.setProperties({...F,translationY:Math.round(H.translationY)});const P=V.getBBox();P&&g.push(P)})}if(this.title?.enabled){const V=new yr,H=It.merge(g).width;this.setTitleProps(V,{spacing:H});const F=V.node.getBBox();F&&g.push(F)}const D=It.merge(g),M=this.getTransformBox(D),k=this.isAnySeriesActive();return this.crossLines.forEach(V=>{var H;V.sideFlag=-o,V.direction=n===-Math.PI/2?"x":"y",V instanceof jV&&((H=V.label).parallel??(H.parallel=this.label.parallel)),V.parallelFlipRotation=r,V.regularFlipRotation=s,V.calculateLayout?.(k,this.reverse)}),{primaryTickCount:h.primaryTickCount,bbox:M}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}getTransformBox(t){const i=new Ud,{rotation:n,translationX:r,translationY:s}=this.getAxisTransform();return Ud.updateTransformMatrix(i,1,1,n,r,s),i.transformBBox(t)}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(t){t?this.setDomain(t):this.calculateDomain(),this.updateRange(),this.scale.interval=this.interval.step,Fn.is(this.scale)&&(this.scale.nice=this.nice,this.scale.update())}calculateRotations(){const t=ya(this.rotation);return{rotation:t,parallelFlipRotation:qn(t),regularFlipRotation:qn(t-Math.PI/2)}}generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:n,labelX:r,sideFlag:s}){const{scale:o,interval:{minSpacing:a,maxSpacing:l},label:{parallel:c,rotation:d,fontFamily:u,fontSize:h,fontStyle:g,fontWeight:m}}=this,y=void 0!==t,{defaultRotation:_,configuredRotation:x,parallelFlipFlag:D,regularFlipFlag:M}=gR({rotation:d,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),k=x+_,V=new Ud,{maxTickCount:H}=this.estimateTickCount({minSpacing:a,maxSpacing:l}),P=!Fn.is(o)&&!jd.is(o)||isNaN(H)?10:H;let G=BV(c,x,0,s,M);const Y=function j6e(e,t,i,n){return e&&!t?i*n==-1?"hanging":"bottom":"middle"}(c,x,s,D),q=ls.toFontString({fontFamily:u,fontSize:h,fontStyle:g,fontWeight:m}),ee=sp.getMeasurer({font:q}),K={fontFamily:u,fontSize:h,fontStyle:g,fontWeight:m,textBaseline:Y,textAlign:G};let gt={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},jt=0,Fe=0,$e=!0,Ke=[],dt=!1;for(;$e&&jt<=P&&!dt;){Fe=0,G=BV(c,x,0,s,M);const qt=this.getTickStrategies({secondaryAxis:y,index:jt});for(const Vt of qt){({tickData:gt,index:jt,autoRotation:Fe,terminate:dt}=Vt({index:jt,tickData:gt,textProps:K,labelOverlap:$e,terminate:dt,primaryTickCount:t}));const Kt=k+Fe,_n=H6e(this.label.minSpacing,0!==x||0!==Fe);Ud.updateTransformMatrix(V,1,1,Kt,0,0),G=BV(c,x,Fe,s,M),Ke=this.createLabelData(gt.ticks,r,V,ee),$e=!!this.label.avoidCollisions&&B6e(Ke,_n)}}return!y&&gt.rawTicks.length>0&&(t=gt.rawTicks.length),{tickData:gt,primaryTickCount:t,combinedRotation:_+x+Fe,textBaseline:Y,textAlign:G,labelData:Ke}}getTickStrategies({index:t,secondaryAxis:i}){const{scale:n,label:r}=this,{minSpacing:s}=this.interval,o=Fn.is(n)||jd.is(n),a=r.enabled&&r.avoidCollisions,c=!0===r.autoRotate&&void 0===r.rotation,d=[];let u;return u=this.interval.values?3:i?1:!o&&0!==t&&a?2:0,d.push(({index:g,tickData:m,primaryTickCount:y,terminate:_})=>this.createTickData(u,g,m,_,y)),o||isNaN(s)||d.push(({index:m,tickData:y,primaryTickCount:_,terminate:x})=>this.createTickData(2,m,y,x,_)),a?(c&&d.push(({index:m,tickData:y,labelOverlap:_,terminate:x})=>({index:m,tickData:y,autoRotation:this.getAutoRotation(_),terminate:x})),d):d}createTickData(t,i,n,r,s){const{scale:o}=this,{step:a,values:l,minSpacing:c,maxSpacing:d}=this.interval,{maxTickCount:u,minTickCount:h,defaultTickCount:g}=this.estimateTickCount({minSpacing:c,maxSpacing:d}),m=Fn.is(o)||jd.is(o),y=!m||isNaN(u)?10:u;let _=m?Math.max(g-i,h):u;const x=void 0===a&&void 0===l&&_>h&&(m||2===t);let D=!0;for(;D&&i<=y;){const k=n.rawTicks;_=m?Math.max(g-i,h):u;const{rawTicks:V,fractionDigits:H,ticks:F,labelCount:P}=this.getTicks({tickGenerationType:t,previousTicks:k,tickCount:_,minTickCount:h,maxTickCount:u,primaryTickCount:s});n.rawTicks=V,n.fractionDigits=H,n.ticks=F,n.labelCount=P,D=!!x&&pte(V,k),i++}return r||(r=void 0!==a||void 0!==l),{tickData:n,index:i,autoRotation:0,terminate:r}}createLabelData(t,i,n,r){const s=[];for(const{tickLabel:o,translationY:a}of t){if(!o)continue;const{width:l,height:c}=r.measureLines(o),u=U6e(o,new It(i,a,l,c),n);s.push(u)}return s}getAutoRotation(t){return t?qn(ya(this.label.autoRotateAngle??0)):0}getTicks({tickGenerationType:t,previousTicks:i,tickCount:n,minTickCount:r,maxTickCount:s,primaryTickCount:o}){const{range:a,scale:l,visibleRange:c}=this;let d;switch(t){case 3:if(d=this.interval.values,Fn.is(l)){const[M,k]=Vl(l.getDomain().map(Number));d=d.filter(V=>V>=M&&V<=k).sort((V,H)=>V-H)}break;case 1:d=Fn.is(l)?this.updateSecondaryAxisTicks(o):this.createTicks(n,r,s);break;case 2:d=this.filterTicks(i,n);break;default:d=this.createTicks(n,r,s)}const u=d.reduce((M,k)=>Math.max(M,"number"==typeof k?ZS(k):0),0),h=(l.bandwidth??0)/2,g=[];let m=0;const y=new Map,_=Math.max(0,Math.floor(c[0]*d.length)),x=Math.min(d.length,Math.ceil(c[1]*d.length)),D=d.slice(_,x);this.onFormatChange(D,u,d,this.label.format);for(let M=0;M<D.length;M++){const k=D[M],V=l.convert(k)+h;if(a.length>0&&!this.inRange(V,.001))continue;const H=this.formatTick(k,u,_+M);let F=H;if(y.has(F)){const P=y.get(F);y.set(F,P+1),F=`${F}_${P}`}else y.set(F,1);g.push({tick:k,tickId:F,tickLabel:H,translationY:Math.floor(V)}),""!==H&&null!=H&&m++}return{rawTicks:d,fractionDigits:u,ticks:g,labelCount:m}}filterTicks(t,i){const{minSpacing:n,maxSpacing:r}=this.interval,o=isNaN(n)&&isNaN(r)?2:Math.ceil(t.length/i);return t.filter((a,l)=>l%o==0)}createTicks(t,i,n){const{scale:r}=this;return t&&(Fn.is(r)||jd.is(r))&&(r.tickCount=t,r.minTickCount=i??0,r.maxTickCount=n??1/0),r.ticks?.()??[]}estimateTickCount({minSpacing:t,maxSpacing:i}){if(!this.label.avoidCollisions)return{minTickCount:Fn.defaultMaxTickCount,maxTickCount:Fn.defaultMaxTickCount,defaultTickCount:Fn.defaultMaxTickCount};const n=this.calculateRangeWithBleed(),r=Math.max(this.defaultTickMinSpacing,n/Fn.defaultMaxTickCount);let s=!isNaN(i);isNaN(t)&&(t=r),isNaN(i)&&(i=n),t>i&&(t===r?t=i:i=t),s&&(s=2<r);const a=Si(1,Math.floor(n/t),s?Math.min(Math.floor(n/2),100):100),l=Math.min(a,Math.ceil(n/i));return{minTickCount:l,maxTickCount:a,defaultTickCount:Si(l,Fn.defaultTickCount,a)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:i,regularFlipRotation:n}){const r=this.label.getSideFlag(),s=this.isAnySeriesActive();this.crossLines.forEach(o=>{var a;o.sideFlag=-r,o.direction=t===-Math.PI/2?"x":"y",o instanceof jV&&((a=o.label).parallel??(a.parallel=this.label.parallel)),o.parallelFlipRotation=i,o.regularFlipRotation=n,o.update(s)})}updateTickLines(){const{tick:t,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each(r=>{r.strokeWidth=t.width,r.stroke=t.stroke,r.x1=n*this.getTickSize(),r.x2=0})}calculateAvailableRange(){return Y0(this.range)}calculateRangeWithBleed(){const t=1/Y0(this.visibleRange);return jT(this.calculateAvailableRange()*t,2)}calculateDomain(){const i=this.boundSeries.filter(n=>this.includeInvisibleDomains||n.isEnabled()).flatMap(n=>n.getDomain(this.direction));this.setDomain(i)}getAxisTransform(){return{rotation:ya(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:i,gridGroup:n,translation:r}=this,{rotation:s}=this.calculateRotations(),o=Math.floor(r.x),a=Math.floor(r.y);t.setProperties({rotation:s,translationX:o,translationY:a}),n.setProperties({rotation:s,translationX:o,translationY:a}),i.datum=this.getAxisTransform()}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,i,n){const r=o=>o.tickId,s=i.map(o=>this.getTickLabelProps(o,n));this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,r),this.tickLineGroupSelection.update(i,void 0,r),this.tickLabelGroupSelection.update(s,void 0,r)}updateAxisLine(){const{enabled:t,stroke:i,width:n}=this.line;this.lineNode.setProperties({stroke:i,strokeWidth:t?n:0})}updateGridLines(t){const{gridLine:{style:i,width:n},gridPadding:r,gridLength:s}=this;0===s||0===i.length||this.gridLineGroupSelection.each((o,a,l)=>{const{stroke:c,lineDash:d}=i[l%i.length];o.setProperties({x1:r,x2:-t*s+r,stroke:c,strokeWidth:n,lineDash:d})})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,i)=>{t.setProperties(i,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}updateTitle(t){const{title:i,lineNode:n,tickLineGroup:r,tickLabelGroup:s}=this;let o=0;i.enabled&&t.anyTickVisible&&(o+=Ti.computeChildrenBBox([r,s,n]).width+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)),this.setTitleProps(i.caption,{spacing:o})}formatTick(t,i,n){return String(this.getFormatter(n,!0)(t,i))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(t=0,i){const{label:n,labelFormatter:r,datumFormatter:s,moduleCtx:{callbackCache:o}}=this;return n.formatter?(a,l)=>o.call(n.formatter,{value:a,index:t,fractionDigits:l})??a:!i&&s?a=>o.call(s,a)??String(a):r?a=>o.call(r,a)??String(a):a=>String(a)}getBBox(){return this.axisGroup.getBBox()}getRegionNode(){}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,i,n,r){this.tickLineGroup.setClipRect(new It(t,i,n,r))}clipGrid(t,i,n,r){this.gridGroup.setClipRect(new It(t,i,n,r))}getTitleFormatterParams(){const{direction:t}=this,i=[];for(const n of this.boundSeries){const r=n.getKeys(t),s=n.getNames(t);for(let o=0;o<r.length;o++)i.push({key:r[o],name:s[o]})}return{direction:t,boundSeries:i,defaultValue:this.title?.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Fn.is(t)||jd.is(t),keys:()=>this.boundSeries.flatMap(i=>i.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(s=>{i.indexOf(s)<0&&i.push(s)}),i),[]),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleBandwidth:()=>t.bandwidth??0,scaleDomain:()=>t.getDomain?.(),scaleConvert:i=>t.convert(i),scaleInvert:jd.is(t)?i=>t.invertNearest?.(i):i=>t.invert?.(i),scaleInvertNearest:i=>t.invertNearest?.(i),scaleStep:()=>t.step??0,attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n)}}getScaleValueFormatter(t){const{scale:i}=this;if(t&&i&&i.tickFormat)try{return i.tickFormat({specifier:t})}catch{Xe.warnOnce(`the format string ${t} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(t){const{animationManager:i}=this.moduleCtx,r=Pte(UV(this));_s(this.id,"axis-group",i,[this.axisGroup],r.group),_s(this.id,"line",i,[this.lineNode],r.line),_s(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(s,o)=>o.tickId,t),_s(this.id,"tick-labels",i,[this.tickLabelGroupSelection],r.label,(s,o)=>o.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:i,tickLabelGroupSelection:n,lineNode:r}=this,s=UV(this);Xs([this.axisGroup],(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})),Xs([t,i],Ote(s)),Xs([n],(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})),Xs([r],(e,t)=>({...t}))}calculateUpdateDiff(t,i){const n=new Set,r=new Set,s={},o=Math.max(t.length,i.ticks.length);for(let a=0;a<o;a++){const l=i.ticks[a],c=t[a],d=l?.tickId;s[d??c]=l,c!==d&&(r.has(d)?r.delete(d):d&&n.add(d),n.has(c)?n.delete(c):c&&r.add(c))}return{changed:n.size>0||r.size>0,added:n,removed:r}}isReversed(){return this.reverse}};ap.defaultTickMinSpacing=50,ap.CrossLineConstructor=jV,E([L(Jt)],ap.prototype,"nice",2),E([L(Jt)],ap.prototype,"reverse",2),E([L(Pee)],ap.prototype,"keys",2),E([L(Tt)],ap.prototype,"interval",2),E([L(Tt)],ap.prototype,"title",2),E([ba((e,t,i)=>e.onGridLengthChange(t,i))],ap.prototype,"gridLength",2);var YV=ap,KV=class extends go{constructor(){super(...arguments),this.autoRotateAngle=335}};E([L(Jt,{optional:!0})],KV.prototype,"autoRotate",2),E([L(kg)],KV.prototype,"autoRotateAngle",2);var qV=class jue extends YV{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof jue}get direction(){return"top"===this.position||"bottom"===this.position?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t){return this.updateDirection(),super.update(t)}calculateLayout(t,i){return this.updateDirection(),super.calculateLayout(t,i)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new KV}getRegionNode(){return this.axisGroup}};E([L(st)],qV.prototype,"thickness",2),E([L(yV)],qV.prototype,"position",2);var Bg=qV,d_=class Uue extends Bg{constructor(t,i=new Rg){super(t,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(t){return t instanceof Uue}normaliseDataDomain(t){const i=[],n=new Set;for(const r of t){const s=r instanceof Date?r.getTime():r;n.has(s)||(n.add(s),i.push(r))}return{domain:i,clipped:!1}}updateScale(t){let{paddingInner:i,paddingOuter:n}=this;if(!nn(i)||!nn(n)){const r=this.reduceBandScalePadding();i??(i=r.inner),n??(n=r.outer)}this.scale.paddingInner=i??0,this.scale.paddingOuter=n??0,super.updateScale(t)}reduceBandScalePadding(){return this.boundSeries.reduce((t,i)=>{const n=i.getBandScalePadding?.();return n&&(t.inner>n.inner&&(t.inner=n.inner),t.outer<n.outer&&(t.outer=n.outer)),t},{inner:1/0,outer:-1/0})}};d_.className="CategoryAxis",d_.type="category",E([L(hn)],d_.prototype,"groupPaddingInner",2),E([L(hn,{optional:!0})],d_.prototype,"paddingInner",2),E([L(hn,{optional:!0})],d_.prototype,"paddingOuter",2);var v1=d_,Vte=class{constructor(e="",t,i=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((e,t)=>t!==this.number):[]}};function t5e(e,t,i){const r=i/(t.number-e.number);t.change-=r,t.shift+=i,e.change+=r,t.prelim+=i,t.mod+=i}function i5e(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function Bte(e,t){const i=e.children;if(i.length){let n=i[0];i.forEach(o=>{Bte(o,t),n=function r5e(e,t,i){const n=e.getLeftSibling();if(n){let r=e,s=e,o=n,a=s.getLeftmostSibling(),l=s.mod,c=r.mod,d=o.mod,u=a.mod;for(;o.nextRight()&&s.nextLeft();){o=o.nextRight(),s=s.nextLeft(),a=a.nextLeft(),r=r.nextRight(),r.ancestor=e;const h=o.prelim+d-(s.prelim+l)+i;h>0&&(t5e(i5e(o,e,t),e,h),l+=h,c+=h),d+=o.mod,l+=s.mod,u+=a.mod,c+=r.mod}o.nextRight()&&!r.nextRight()?(r.thread=o.nextRight(),r.mod+=d-c):(s.nextLeft()&&!a.nextLeft()&&(a.thread=s.nextLeft(),a.mod+=l-u),t=e)}return t}(o,n,t)}),function n5e(e){const t=e.children;if(t){let i=0,n=0;for(let r=t.length-1;r>=0;r--){const s=t[r];s.prelim+=i,s.mod+=i,n+=s.change,i+=s.shift+n}}}(e);const r=(i[0].prelim+i.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+t,e.mod=e.prelim-r):e.prelim=r}else{const n=e.getLeftSibling();e.prelim=n?n.prelim+t:0}}var zte=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){const{x:i,y:n}=t(e);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function Gte(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.update(e),e.children.forEach(n=>Gte(n,t+e.mod,i))}function Hte(e){const t=e.children;let i=0;t.forEach(n=>{Hte(n),n.children.length?i+=n.leafCount:i++}),e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function s5e(e){const t=new o5e;return Bte(e,1),Gte(e,-e.prelim,t),Hte(e),t}var o5e=class{constructor(){this.dimensions=new zte,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,t=>({x:t.x,y:t.y})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t,i=0,n=0,r=!1){const s=this.leafCount-1,o=this.depth,a=this.dimensions;let l=1,c=1;e>0&&s&&(l=e/s/((a.right-a.left)/s),r&&(l=-l)),t>0&&o&&(c=t/o/((a.bottom-a.top)/o));const d=new zte;this.nodes.forEach(g=>{g.screenX=g.x*l,g.screenY=g.y*c,d.update(g,m=>({x:m.screenX,y:m.screenY}))});const u=-d.left,h=-d.top;this.nodes.forEach(g=>{g.screenX+=u+i,g.screenY+=h+n})}},jte=class extends go{constructor(){super(...arguments),this.grid=!1}};E([L(Jt)],jte.prototype,"grid",2);var zg=class extends Bg{constructor(e){const t=new Rg;t.paddingOuter=.1,t.paddingInner=2*t.paddingOuter,super(e,t),this.tickScale=new Rg,this.line=new m1,this.label=new jte,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:r,tickScale:s}=this;s.paddingInner=1,s.paddingOuter=0,this.gridLineSelection=$r.select(r,Ul),this.axisLineSelection=$r.select(i,Ul),this.separatorSelection=$r.select(i,Ul),this.labelSelection=$r.select(n,hv),this.lineNode.visible=!1}updateRange(){const{range:e,visibleRange:t,scale:i}=this,n=(e[1]-e[0])/(t[1]-t[0]),s=e[0]-n*t[0];this.tickScale.range=i.range=[s,s+n],this.resizeTickTree()}resizeTickTree(){const e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,n=this.lineHeight;i&&i.resize(Math.abs(t[1]-t[0]),i.depth*n,(Math.min(t[0],t[1])||0)+(e.bandwidth??0)/2,-i.depth*n,t[1]-t[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){const{direction:e}=this;let t=null;const i=this.boundSeries.filter(r=>r.visible).flatMap(r=>{if("y"===e||t)return r.getDomain(e);if(null===t){const s=r.getDomain(e);return t=bc(s[0]),s}return[]});this.setDomain(Ou(i)??eR(i));const{domain:n}=this.dataDomain;this.tickTreeLayout=s5e(function J6e(e,t=!0){const i=new Vte;let n=0;return t&&e.forEach(r=>n=Math.max(n,r.labels.length)),e.forEach(r=>{if(t)for(;r.labels.length<n;)r.labels.unshift("");!function e5e(e,t){const i=t.labels.slice().reverse(),n=i.length-1;i.forEach((r,s)=>{const o=e.children,a=o.find(c=>c.label===r),l=s!==n;if(a&&l)e=a;else{const c=new Vte(r,e);c.number=o.length,o.push(c),l&&(e=c)}})}(i,r)}),i}(n)),this.tickScale.domain=n.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){this.title.caption.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each((i,n)=>{i.setProperties(n)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:e}=this.computedLayout,{range:t}=this;this.separatorSelection.update(e).each((r,s)=>{r.x1=s.x1,r.x2=s.x2,r.y1=s.y,r.y2=s.y,r.visible=this.tick.enabled&&s.y>=t[0]-1e-7&&s.y<=t[1]+1e-7,r.stroke=this.tick.stroke,r.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each((i,n)=>{i.setProperties(n),i.stroke=this.line.stroke,i.strokeWidth=this.line.width})}updateCategoryGridLines(){const{gridLength:e,gridLine:t,label:i,range:n,tickScale:r}=this,s=r.ticks(),o=i.getSideFlag(),a=this.gridLineSelection.update(e?s:[]);if(e){const{width:l,style:c}=t,d=c.length;a.each((u,h,g)=>{const m=Math.round(r.convert(h)),{stroke:y,lineDash:_}=c[g%d];u.visible=t.enabled&&m>=n[0]&&m<=n[1],u.x1=0,u.x2=-o*e,u.y1=m,u.y2=m,u.stroke=y,u.strokeWidth=l,u.lineDash=_})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:e,label:t,label:{parallel:i},moduleCtx:{callbackCache:n},range:r,title:s,title:{formatter:o=(Ne=>Ne.defaultValue)}={}}=this,a=e.range[0],l=e.range[1],d=Math.abs(l-a)/e.domain.length||0,u=Math.ceil(t.fontSize/d),h=ya(this.rotation),g=Math.abs(Math.cos(h))<1e-8,m=t.getSideFlag(),y=this.lineHeight,_=this.tickTreeLayout,x=e.ticks(),D=_?_.nodes:[],M=!!_&&_.depth>1,k=s?.enabled&&x.length>0,{defaultRotation:V,configuredRotation:H,parallelFlipFlag:F}=gR({rotation:t.rotation,parallel:i,regularFlipRotation:qn(h-Math.PI/2),parallelFlipRotation:qn(h)}),P=[],G=Ne=>({fill:Ne.fill,fontFamily:Ne.fontFamily,fontSize:Ne.fontSize,fontStyle:Ne.fontStyle,fontWeight:Ne.fontWeight,rotation:Ne.rotation,rotationCenterX:Ne.rotationCenterX,rotationCenterY:Ne.rotationCenterY,text:Ne.text,textAlign:Ne.textAlign,textBaseline:Ne.textBaseline,translationX:Ne.translationX,translationY:Ne.translationY,visible:Ne.visible,x:Ne.x,y:Ne.y}),Y=new Map;let q=0;const ee=new hv,K=(Ne,qe)=>{if(0===qe){if(k){const Je=n.call(o,this.getTitleFormatterParams());return ee.setProperties({text:Je,fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,textAlign:"center",textBaseline:"hanging",translationX:Ne.screenY-.25*s.fontSize,translationY:Ne.screenX}),!0}return!1}return ee.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:-1===F?"bottom":"hanging",translationX:Ne.screenY-.25*t.fontSize,translationY:Ne.screenX}),!(qe%u!=0||Ne.screenX<r[0]||Ne.screenX>r[1]||(ee.text=t.formatter?n.call(t.formatter,{value:String(Ne.label),index:qe})??String(Ne.label):String(Ne.label),0))};D.forEach((Ne,qe)=>{if(!K(Ne,qe))return;const mt=ee.getBBox();mt&&(Y.set(qe,mt),!Ne.children.length&&mt.width>q&&(q=mt.width))});const gt=m*t.padding,jt=this.label.grid,Fe=[];D.forEach((Ne,qe)=>{const Je=!Ne.children.length;let $t,mt=K(Ne,qe);if(ee.x=gt,ee.y=0===qe&&k?s.spacing??0:0,ee.rotationCenterX=gt,Je)ee.rotation=H,ee.textAlign="end",ee.textBaseline="middle";else{const Di=Ne.leafCount*d,an=Y.get(qe);ee.translationX-=q-y+this.label.padding,an&&an.width>Di?(mt=!1,Y.delete(qe)):ee.rotation=g?V:-Math.PI/2}if(Ne.parent&&M){const Di=Je?Ne.screenX-d/2:Ne.screenX-Ne.leafCount*d/2;if(Je)(Ne.number!==Ne.children.length-1||jt)&&Fe.push({y:Di,x1:0,x2:-q-2*this.label.padding});else{const an=-q-2*this.label.padding+Ne.screenY;Fe.push({y:Di,x1:an+y,x2:an})}}if(mt){const Di=ws.toCanvas(ee);Di&&Y.set(qe,Di),$t={...G(ee),visible:mt}}else Y.delete(qe),$t={visible:mt};P.push($t)});let $e=0;Fe.forEach(Ne=>$e=Math.min($e,Ne.x2)),Fe.push({y:Math.max(a,l),x1:0,x2:$e});const Ke=[],dt=[];Fe.forEach(Ne=>{if(Ne.y>=r[0]-1e-7&&Ne.y<=r[1]+1e-7){const{x1:qe,x2:Je,y:mt}=Ne,$t=new It(Math.min(qe,Je),mt,Math.abs(qe-Je),0);dt.push($t),Ke.push({x1:qe,x2:Je,y:mt})}});const qt=[],Vt=[],Ut=_?_.depth+1:1;for(let Ne=0;Ne<Ut;Ne++){const qe=x.length>0&&(0===Ne||jt&&M),Je=Ne>0?-q-2*this.label.padding-(Ne-1)*y:0,mt=new It(Je,Math.min(...r),0,Math.abs(r[1]-r[0]));Vt.push(mt),qt.push({x:Je,y1:r[0],y2:r[1],visible:qe})}const Kt=It.merge(Mg(Y.values(),dt,Vt));return{bbox:this.getTransformBox(Kt),tickLabelLayout:P,separatorLayout:Ke,axisLineLayout:qt}}calculateLayout(){const{axisLineLayout:e,separatorLayout:t,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};zg.className="GroupedCategoryAxis",zg.type="grouped-category",E([L(On,{optional:!0})],zg.prototype,"labelColor",2);var y1=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},Ute=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(...e){for(const t of e){this.registerDependencies(t);const i=this.modules.find(n=>t.type===n.type&&t.optionsKey===n.optionsKey&&t.identifier===n.identifier);if(i){if("enterprise"===t.packageType&&"community"===i.packageType){const n=this.modules.indexOf(i);this.modules.splice(n,1,t)}}else this.modules.push(t)}}hasEnterpriseModules(){return this.modules.some(e=>"enterprise"===e.packageType)}*byType(...e){const{dependents:t}=this,i=new Set;let n=0;const s=this.modules.filter(o=>e.includes(o.type));do{for(const o of s)if(!i.has(o.optionsKey)&&!t.has(o.optionsKey)){yield o,i.add(o.optionsKey);for(const[a,l]of t.entries())l.delete(o.optionsKey),0===l.size&&t.delete(a)}n++}while(i.size<s.length&&n<3);if(t.size>0)throw new Error(`Could not resolve module dependencies: [${[...t.keys()]}]`)}registerDependencies(e){if(null!=e.dependencies&&0!==e.dependencies.length){for(const t of e.dependencies){const i=this.dependencies.get(t)??new Set;i.add(e.optionsKey),this.dependencies.set(t,i)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},Gg=new Ute;function a5e(e){return new Promise(t=>{setTimeout(()=>t(void 0),e)})}var Wte=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if("function"!=typeof t)throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){this.eventListeners.get(e)?.delete(t),0===this.eventListeners.size&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach(t=>t(e))}},Hg=class extends Fi{constructor(e=0,t=e,i=e,n=t){super(),this.top=e,this.right=t,this.bottom=i,this.left=n}};function $te(e,t){let r,s,i=0,n=!1;const o=()=>n,a=()=>{n=!1,s?.(),s=void 0,r=void 0,i>0&&e(l)},l=()=>{const c=i;i=0,n=!0;const d=t({count:c});d?d.then(a,a):a()};return{schedule(c){0===i&&!o()&&e(l,c),i++},await:()=>(0,J.A)(function*(){if(o())for(null==r&&(r=new Promise(c=>{s=c}));o();)yield r})()}}E([L(st)],Hg.prototype,"top",2),E([L(st)],Hg.prototype,"right",2),E([L(st)],Hg.prototype,"bottom",2),E([L(st)],Hg.prototype,"left",2);var Yte=class{constructor(){this.events=new Map}on(e,t){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e)?.add(t),()=>this.off(e,t)}off(e,t){const i=this.events.get(e);i&&(i.delete(t),0===i.size&&this.events.delete(e))}emit(e,t){this.events.get(e)?.forEach(i=>i(t))}clear(e){e?this.events.delete(e):this.events.clear()}},ZV=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.Toolbar=2]="Toolbar",e[e.Navigator=3]="Navigator",e[e.Overlay=4]="Overlay",e))(ZV||{}),Kte=class{constructor(){this.events=new Yte,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>this.elements.get(e)?.delete(t)}createContext(e,t){const i=new u5e(e,t);for(const n of Object.values(ZV))"number"==typeof n&&this.elements.get(n)?.forEach(r=>r(i));return i}emitLayoutComplete(e,t){const i="layout:complete",{width:n,height:r}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:n,height:r},clipSeries:t.clipSeries??!1,series:t.series})}},u5e=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new It(0,0,e,t)}},yR=class{constructor(){this.title=new yr,this.subtitle=new yr,this.footnote=new yr}positionCaptions(e){const{title:t,subtitle:i,footnote:n}=this,r=e.layoutBox.height/10;if(t.enabled){const{spacing:s=(i.enabled?yr.SMALL_PADDING:yr.LARGE_PADDING)}=t;this.positionCaption("top",t,e.layoutBox,r),this.shrinkLayoutByCaption("top",t,e.layoutBox,s)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,r),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,e.layoutBox,r),this.shrinkLayoutByCaption("bottom",n,e.layoutBox,n.spacing))}positionAbsoluteCaptions(e){const{title:t,subtitle:i,footnote:n}=this,{rect:r}=e.series;for(const s of[t,i,n])if("overlay"===s.layoutStyle)if("left"===s.textAlign)s.node.x=r.x+s.padding;else if("right"===s.textAlign){const o=s.node.getBBox();s.node.x=r.x+r.width-o.width-s.padding}}computeX(e,t){return"left"===e?t.x:"right"===e?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,n){const r=Math.max(ls.getLineHeight(t.fontSize),n);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+("top"===e?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,r)}shrinkLayoutByCaption(e,t,i,n=0){if("block"===t.layoutStyle){const r=t.node.getBBox();i.shrink(Math.ceil("top"===e?r.y-i.y+r.height+n:i.y+i.height-r.y+n),e)}}};E([L(Tt)],yR.prototype,"title",2),E([L(Tt)],yR.prototype,"subtitle",2),E([L(Tt)],yR.prototype,"footnote",2);var mv=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const n=i.findIndex(r=>r.symbol===e);if(n>=0){i.splice(n,1),0===i.length&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const i of this.getListenersByType(e))try{i.handler(...t)}catch(n){Xe.errorOnce(n)}}dispatchWrapHandlers(e,t,...i){for(const n of this.getListenersByType(e))try{t(n.handler,...i)}catch(r){Xe.errorOnce(r)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Hu=class{constructor(){this.listeners=new mv,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e())}},bR=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.All=63]="All",e))(bR||{}),qte=class extends Hu{addListener(e,t,i=32){return super.addListener(e,n=>{this.getState()&i&&t(n)})}},Zte=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}},b1="10.3.1",Qte=Symbol("previous-memento-not-found"),Xte=class{constructor(e){this.version=e.split("-")[0]}save(...e){const t={version:this.version};for(const i of Object.values(e))t[i.mementoOriginatorKey]=this.encode(i,i.createMemento());return t}restore(e,...t){if("object"==typeof e)if(null!=e)if("version"in e&&"string"==typeof e.version)for(const i of t){if(!(i.mementoOriginatorKey in e))continue;const n=this.decode(i,e[i.mementoOriginatorKey]);if(!i.guardMemento(n))return void Xe.warnOnce(`Could not restore [${i.mementoOriginatorKey}] data, value was invalid, ignoring.`,n);i.restoreMemento(this.version,e.version,n)}else Xe.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else Xe.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else Xe.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`)}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(i){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(i){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}encodeTypes(e,t){return e1(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return qa(this[e])&&"__type"in this[e]&&"date"===this[e].__type?new Date(this[e].value):t}};function lp(e,t,i,n){t.addEventListener(i,n);const r=()=>t.removeEventListener(i,n);return e.push(r),r}function Jte(e,t,i){lp(e,t,"keydown",n=>{"Escape"===n.key&&i(n)})}function eie(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function QV(e,t,...i){return eie(e)&&(e.key===t||i.some(n=>e.key===n))}function tie(e,t,i,n){i&&lp(e,t,"keydown",r=>{QV(r,n)&&i.focus()})}function v5e(e,t,i,n,r,s){tie(e,t,r,s),tie(e,t,i,n),lp(e,t,"keydown",o=>{QV(o,n,s)&&o.preventDefault()})}var iie={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function XV(e){return e.toolbar.role="toolbar",e.toolbar.ariaOrientation=e.orientation,e.toolbar.ariaHidden=(0===e.buttons.length).toString(),_1(e)}function _1(e){const{orientation:t,buttons:i,wrapAround:n=!1,onEscape:r,onFocus:s,onBlur:o}=e,{nextKey:a,prevKey:l}=iie[t],c=g=>{g.target&&"tabIndex"in g.target&&(i.forEach(m=>m.tabIndex=-1),g.target.tabIndex=0)},[d,u]=n?[i.length,i.length]:[0,1/0],h=[];for(let g=0;g<i.length;g++){const m=i[(d+g-1)%u],y=i[g],_=i[(d+g+1)%u];lp(h,y,"focus",c),s&&lp(h,y,"focus",s),o&&lp(h,y,"blur",o),r&&Jte(h,y,r),v5e(h,y,m,l,_,a),y.tabIndex=0===g?0:-1}return h}function b5e(e){const{sourceEvent:t,orientation:i,menu:n,buttons:r,closeCallback:s,autoCloseOnBlur:o=!1}=e,{nextKey:a,prevKey:l}=iie[i],c=rie(t);Wl(c,"aria-expanded",!0);const d=new class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(function f5e(e,t,i){const n=lp(e,window,"mousedown",r=>{[0,2].includes(r.button)&&!function m5e(e,t){if(t.target instanceof Element){const{x:i,y:n,width:r,height:s}=e.getBoundingClientRect(),{clientX:o,clientY:a}=t;return o>=i&&a>=n&&o<=i+r&&a<=n+s}return!1}(t,r)&&(i(),n())});return n}(this.destroyFns,e,()=>this.close()))}close(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing()}finishClosing(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0,Wl(this.lastFocus,"aria-expanded",!1),this.lastFocus?.focus(),this.lastFocus=void 0}}(n,c,s),u=()=>d.close(),{destroyFns:h}=d;if(n.role="menu",n.ariaOrientation=i,h.push(..._1({orientation:i,buttons:r,onEscape:u,wrapAround:!0})),n.tabIndex=-1,Jte(h,n,u),lp(h,n,"keydown",g=>{g.target===n&&(g.key===a||g.key===l)&&(g.preventDefault(),r[0]?.focus())}),o){const g=m=>{!r.includes(m.relatedTarget)&&u()};for(const m of r)lp(h,m,"blur",g)}return r[0]?.focus(),d}function JV(e,t){return i=>{if("true"===e.ariaDisabled)return i.preventDefault();t(i)}}function nie(e){return"button"in e?0===e.button:eie(e)&&("Space"===e.code||"Enter"===e.key)}function rie(e){if(e?.target instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function sie(e){const t=i=>{i.defaultPrevented||fte(i.target,"data-preventdefault",!0)&&QV(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var w5e=["styles","canvas","canvas-center","canvas-overlay","canvas-proxy","series-area"],x5e=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]),oie={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON:()=>oie},aie=class extends Hu{constructor(e,t){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([e,t])=>this.observe(e,t)),this.queuedObserveRequests=[]},!(typeof ResizeObserver>"u")&&(this.resizeObserver=new ResizeObserver(e=>{for(const{target:t,contentRect:{width:i,height:n}}of e){const r=this.elements.get(t);this.checkSize(r,t,i,n)}}),this.documentReady="complete"===Hd("readyState"),this.documentReady||Do()?.addEventListener("load",this.onLoad))}destroy(){Do()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(e,t,i,n){e&&(i!==e.size?.width||n!==e.size?.height)&&(e.size={width:i,height:n},e.cb(e.size,t))}observe(e,t){this.documentReady?(this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e),this.elements.set(e,{cb:t})):this.queuedObserveRequests.push([e,t])}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}};const i=$n("div");i.innerHTML='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="img" class="ag-charts-series-area" tabindex="-1"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',this.element=i.children.item(0),this.styleRootElement=t,this.rootElements=w5e.reduce((r,s)=>{const o=`ag-charts-${s}`,a=this.element.classList.contains(o)?this.element:this.element.querySelector(`.${o}`);if(!a)throw new Error(`AG Charts - unable to find DOM element ${o}`);return r[s]={element:a,children:new Map,listeners:[]},r},{});let n=!1;this.observer=function S5e(e,t){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(n=>{for(const r of n)r.target===e&&t(r.intersectionRatio)},{root:e});return i.observe(e),i}(this.element,r=>{0===r&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=0===r}),this.setSizeOptions(),this.addStyles("ag-charts-community",'.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative;user-select:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{opacity:0;pointer-events:auto;position:absolute}.ag-charts-series-area:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-border-radius: var(--ag-border-radius, 4px);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size: 14px;--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-dialog-input-group-label-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-dialog-tab-color--inactive: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-focus-box-shadow: var(--box-shadow), 0 0 0 2px #fff8, var(--ag-charts-focus-border-shadow);--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-input-background-color: var(--ag-charts-background-color);--ag-charts-input-background-color--hover: var(--ag-charts-hover-color);--ag-charts-input-background-color--active: var(--ag-charts-hover-color);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-color--active: var(--ag-charts-active-color);--ag-charts-input-border-radius: var(--ag-border-radius, 4px);--ag-charts-input-color--active: var(--ag-charts-active-color);--ag-charts-input-focus-outline: var(--ag-charts-focus-border);--ag-charts-input-focus-box-shadow: var(--ag-charts-focus-border-shadow);--ag-charts-input-font-family: var(--ag-charts-font-family);--ag-charts-input-font-size: var(--ag-charts-font-size);--ag-charts-input-padding: 8px;--ag-charts-input-padding-large: 10px;--ag-charts-input-placeholder-color: #888888;--ag-charts-input-spacing: 8px;--ag-charts-input-transition-duration: .25s;--ag-charts-input-transition-duration--fast: .1s;--ag-charts-input-transition-timing-function: ease-out;--ag-charts-input-checkbox-background-color: #babbbc;--ag-charts-input-checkbox-background-color--checked: var(--ag-charts-active-color)}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18%);--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-dialog-input-group-label-text-color: #ffffff;--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-input-placeholder-color: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;color:inherit;font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);transition-duration:var(--ag-charts-input-transition-duration);transition-property:none;transition-timing-function:var(--ag-charts-input-transition-timing-function)}.ag-charts-input:focus-visible{outline:var(--ag-charts-input-focus-outline);box-shadow:var(--ag-charts-input-focus-box-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);cursor:pointer;padding:var(--ag-charts-input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-input-background-color--hover)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{appearance:none;background:var(--ag-charts-input-checkbox-background-color);border-radius:9px;cursor:pointer;height:18px;margin:0;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:7px;content:" ";height:14px;margin:2px;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-input-checkbox-background-color--checked)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--line-height);font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);padding:var(--ag-charts-input-padding-large) var(--ag-charts-input-padding)}.ag-charts-textarea[placeholder]:empty:before{color:var(--ag-charts-input-placeholder);content:attr(placeholder)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:none;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;white-space:nowrap;--stroke-width-color: var(--ag-charts-toolbar-foreground-color)}.ag-charts-toolbar__no-pointer-events{pointer-events:none}.ag-charts-toolbar__button--drag-handle{min-width:24px;padding-left:0;padding-right:0}.ag-charts-toolbar__button--with-transition{transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover:not([aria-disabled=true],.ag-charts-toolbar__button--drag-handle){background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2;--stroke-width-color: var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button.ag-charts-toolbar__button--drag-handle{cursor:grab}.ag-charts-toolbar__button.ag-charts-toolbar__button--dragging{cursor:grabbing}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__button--stroke-width-visible:before{content:"";height:min(var(--strokeWidth),20px);width:12px;background:var(--stroke-width-color);margin-right:var(--ag-charts-toolbar-button-padding)}.ag-charts-toolbar__button--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}\n'),e&&this.setContainer(e),this.destroyFns.push(sie(this.element))}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(e=>{e.children.forEach(t=>t.remove()),e.element.remove()}),this.element.remove()}setSizeOptions(e=300,t=300,i,n){const{style:r}=this.element;r.width=`${i??e}px`,r.height=`${n??t}px`}updateContainerSize(){const{style:e}=this.rootElements["canvas-center"].element;e.width=`${this.containerSize?.width??0}px`,e.height=`${this.containerSize?.height??0}px`}setContainer(e){if(e!==this.container){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),null==this.getShadowDocumentRoot(e))for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=e;for(const[i,n]of this.styles)this.addStyles(i,n);e.appendChild(this.element),this.sizeMonitor.observe(e,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}}setThemeClass(e){this.element.classList.forEach(i=>{i.startsWith("ag-charts-theme-")&&i!==e&&this.element.classList.remove(i)}),this.element.classList.add(e)}setTabIndex(e){this.rootElements["series-area"].element.tabIndex=e}updateCanvasLabel(e){Wl(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,t){return["focus","blur","keydown","keyup"].includes(t)?this.rootElements["series-area"].element:e}addEventListener(e,t,i){this.getEventElement(this.element,e).addEventListener(e,t,i)}removeEventListener(e,t,i){this.getEventElement(this.element,e).removeEventListener(e,t,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){const e=Do(),t=new It(0,0,e.innerWidth,e.innerHeight),i=this.getRawOverlayClientRect(),n=It.fromDOMRect(i??this.getBoundingClientRect());return t.intersection(n)?.toDOMRect()??oie}getRawOverlayClientRect(){let e=this.element;for(;null!=e;){const i=e.computedStyleMap?.(),n=i?.get("overflow-x")?.toString(),r=i?.get("overflow-y")?.toString();if(null!=n&&"visible"!==n||r&&"visible"!==r)return e.getBoundingClientRect();e=e.parentElement}const t=this.getShadowDocumentRoot();if(t)return t.getBoundingClientRect()}getShadowDocumentRoot(e=this.container){const t=e?.ownerDocument?.body??Hd("body");for(;null!=e;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}return this.container}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],i=[];for(const n of t.values())i.push(It.fromDOMRect(n.getBoundingClientRect()));return It.merge(i)}calculateCanvasPosition(e){let t=0,i=0;const{x:n=0,y:r=0}=this.getChildBoundingClientRect("canvas")??{},s=e.getBoundingClientRect();return t=s.x-n,i=s.y-r,{x:t,y:i}}isManagedChildDOMElement(e,t,i){const{children:n}=this.rootElements[t],r=n?.get(i);return null!=r&&e.contains(r)}isEventOverElement(e){const t=e.target;return null!=t&&this.element.contains(t)}addStyles(e,t){const i="data-ag-charts";if(this.styles.set(e,t),null==this.container)return;const n=o=>o.getAttribute(i)===e,r=o=>{for(const l of o.children)if(n(l))return;const a=$n("style");return o.appendChild(a),a};let s;s=this.styleRootElement?r(this.styleRootElement):null!=this.getShadowDocumentRoot(this.container)?this.addChild("styles",e):r(Hd("head")),null!=s&&!n(s)&&(s.setAttribute(i,e),s.innerHTML=t)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,i,n){const{element:r,children:s,listeners:o}=this.rootElements[e];if(!s)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(s.has(t))return s.get(t);const{childElementType:a="div"}=x5e.get(e)??{};if(i&&i.tagName.toLowerCase()!==a.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??$n(a);for(const[c,d,u]of o)l.addEventListener(c,d,u);if(s.set(t,l),n){const c=r.querySelector(n.query);if(null==c)throw new Error(`AG Charts - addChild query failed ${n.query}`);c.insertAdjacentElement(n.where,l)}else r?.appendChild(l);return l}removeChild(e,t){const{children:i}=this.rootElements[e];i&&(i.get(t)?.remove(),i.delete(t))}incrementDataCounter(e){const{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}setDataBoolean(e,t){this.element.dataset[e]=String(t)}getIconClassNames(e){return`ag-charts-icon ag-charts-icon-${e}`}};function u_(e,t,i,n,r,s,o,a){const l=(i-e)*(a-s)-(n-t)*(o-r);if(0===l)return 0;const c=((o-r)*(t-s)-(e-r)*(a-s))/l,d=((i-e)*(t-s)-(n-t)*(e-r))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function I5e(e,t,i,n,r,s,o,a,l,c,d,u){let h=0;const g=c-u,m=d-l,y=l*(u-c)-c*(d-l),_=lie(e,i,r,o),x=lie(t,n,s,a),H=function E5e(e,t,i,n){if(0===e)return function M5e(e,t,i){if(0===e)return function D5e(e,t){const i=-t/e;return 0!==e&&i>=0&&i<=1?[i]:[]}(t,i);const n=t*t-4*e*i,r=[];if(0===n){const s=-t/(2*e);s>=0&&s<=1&&r.push(s)}else if(n>0){const s=Math.sqrt(n),o=(-t-s)/(2*e),a=(-t+s)/(2*e);o>=0&&o<=1&&r.push(o),a>=0&&a<=1&&r.push(a)}return r}(t,i,n);const r=t/e,s=i/e,a=(3*s-r*r)/9,l=(9*r*s-n/e*27-2*r*r*r)/54,c=a*a*a+l*l,d=1/3,u=[];if(c>=0){const h=Math.sqrt(c),g=Math.sign(l+h)*Math.pow(Math.abs(l+h),d),m=Math.sign(l-h)*Math.pow(Math.abs(l-h),d),y=Math.abs(Math.sqrt(3)*(g-m)/2),_=-d*r+(g+m);if(_>=0&&_<=1&&u.push(_),0===y){const x=-d*r-(g+m)/2;x>=0&&x<=1&&u.push(x)}}else{const h=Math.acos(l/Math.sqrt(-a*a*a)),g=d*r,m=2*Math.sqrt(-a),y=m*Math.cos(d*h)-g,_=m*Math.cos(d*(h+2*Math.PI))-g,x=m*Math.cos(d*(h+4*Math.PI))-g;y>=0&&y<=1&&u.push(y),_>=0&&_<=1&&u.push(_),x>=0&&x<=1&&u.push(x)}return u}(g*_[0]+m*x[0],g*_[1]+m*x[1],g*_[2]+m*x[2],g*_[3]+m*x[3]+y);for(const F of H){const P=F*F,G=F*P;let ee;ee=l===d?(x[0]*G+x[1]*P+x[2]*F+x[3]-c)/(u-c):(_[0]*G+_[1]*P+_[2]*F+_[3]-l)/(d-l),ee>=0&&ee<=1&&h++}return h}function lie(e,t,i,n){return[3*t-e-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function cie(e,t,i,n,r,s,o,a,l,c){if(isNaN(e)||isNaN(t))return 0;s&&([r,n]=[n,r]);const d=(c-a)/(l-o),u=a-d*o,h=Math.pow(d,2)+1,g=2*(d*(u-t)-e),m=Math.pow(e,2)+Math.pow(u-t,2)-Math.pow(i,2),y=Math.pow(g,2)-4*h*m;if(y<0)return 0;const _=(-g+Math.sqrt(y))/2/h,x=(-g-Math.sqrt(y))/2/h;let D=0;return[_,x].forEach(M=>{M>=Math.min(o,l)&&M<=Math.max(o,l)&&cd(Math.atan2(d*M+u-t,M-e),n,r)&&D++}),D}function _R(e,t,i,n,r){return(1-r)**3*e+3*(1-r)**2*r*t+3*(1-r)*r**2*i+r**3*n}function CR(e,t,i,n,r){if(r<=Math.min(e,n))return e<n?0:1;if(r>=Math.max(e,n))return e<n?1:0;let s=0,o=1,a=NaN;for(let l=0;l<12;l+=1)a=(s+o)/2,_R(e,t,i,n,a)<r?s=a:o=a;return a}function wR(e,t,i,n,r,s,o,a,l){const c=(1-l)*e+l*i,d=(1-l)*t+l*n,u=(1-l)*i+l*r,h=(1-l)*n+l*s,g=(1-l)*r+l*o,m=(1-l)*s+l*a,y=(1-l)*c+l*u,_=(1-l)*d+l*h,x=(1-l)*u+l*g,D=(1-l)*h+l*m,M=(1-l)*y+l*x,k=(1-l)*_+l*D;return[[{x:e,y:t},{x:c,y:d},{x:y,y:_},{x:M,y:k}],[{x:M,y:k},{x,y:D},{x:g,y:m},{x:o,y:a}]]}function eB(e,t,i,n){const r=3*t-e-3*i+n,s=3*e-6*t+3*i,o=-3*e+3*t;if(0===r){if(0!==s){const l=-o/s;if(l>0&&l<1)return[l]}return[]}const a=s*s-4*r*o;if(a>=0){const l=Math.sqrt(a);return[(-s+l)/(2*r),(-s-l)/(2*r)].filter(u=>u>0&&u<1)}return[]}function die(e,t,i,n,r,s,o,a){return[...eB(e,i,r,o),...eB(t,n,s,a)]}var C1=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,r){r=Math.min(r,i/2,n/2),this.moveTo(e,t+r),this.arc(e+r,t+r,r,Math.PI,1.5*Math.PI),this.lineTo(e+r,t),this.lineTo(e+i-r,t),this.arc(e+i-r,t+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+r),this.lineTo(e+i,t+n-r),this.arc(e+i-r,t+n-r,r,0,Math.PI/2),this.lineTo(e+i-r,t+n),this.lineTo(e+r,t+n),this.arc(e+ +r,t+n-r,r,Math.PI/2,Math.PI),this.lineTo(e,t+n-r),this.closePath()}arc(e,t,i,n,r,s){this.openedPath=!0,this.path2d.arc(e,t,i,n,r,s),this.commands.push(2),this.params.push(e,t,i,n,r,s?1:0)}cubicCurveTo(e,t,i,n,r,s){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,r,s),this.commands.push(3),this.params.push(e,t,i,n,r,s)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,n=this.params,r=i.length,s=-1e4,o=-1e4;let a=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,g=0;h<r;h++)switch(i[h]){case 0:u+=u_(a,l,c,d,s,o,e,t),c=n[g++],a=c,d=n[g++],l=d;break;case 1:u+=u_(c,d,n[g++],n[g++],s,o,e,t),c=n[g-2],d=n[g-1];break;case 3:u+=I5e(c,d,n[g++],n[g++],n[g++],n[g++],n[g++],n[g++],s,o,e,t),c=n[g-2],d=n[g-1];break;case 2:{const m=n[g++],y=n[g++],_=n[g++],x=n[g++],D=n[g++];u+=cie(m,y,_,x,D,!!n[g++],s,o,e,t),isNaN(a)||(u+=u_(c,d,m+Math.cos(x)*_,y+Math.sin(x)*_,s,o,e,t)),c=m+Math.cos(D)*_,d=y+Math.sin(D)*_;break}case 4:u+=u_(a,l,c,d,s,o,e,t)}return u%2==1}distanceSquared(e,t){let i=1/0;const n=this.commands,r=this.params,s=n.length;let o=NaN,a=NaN,l=0,c=0;for(let d=0,u=0;d<s;d++)switch(n[d]){case 0:l=o=r[u++],c=a=r[u++];break;case 1:i=g1(e,t,l,c,r[u++],r[u++],i);break;case 3:Xe.error("Command.Curve distanceSquare not implemented");break;case 2:{const h=r[u++],g=r[u++],m=r[u++],y=r[u++],_=r[u++],x=h+Math.cos(y)*m,D=g+Math.sin(y)*m,M=!!r[u++];i=g1(e,t,l,c,x,D,i),i=ate(e,t,h,g,m,y,_,M,i),l=h+Math.cos(_)*m,c=g+Math.sin(_)*m;break}case 4:i=g1(e,t,l,c,o,a,i)}return i}getPoints(){const{commands:e,params:t}=this,i=[];let n=0;for(const r of e)switch(r){case 0:case 1:i.push({x:t[n++],y:t[n++]});break;case 3:n+=4,i.push({x:t[n++],y:t[n++]});break;case 2:i.push({x:t[n++],y:t[n++]}),n+=4}return i}toSVG(e=((t,i)=>({x:t,y:i}))){const t=[],{commands:i,params:n}=this,r=(o,...a)=>{t.push(o);for(let l=0;l<a.length;l+=2){const{x:c,y:d}=e(a[l],a[l+1]);t.push(c,d)}};let s=0;for(const o of i)switch(o){case 0:r("M",n[s++],n[s++]);break;case 1:r("L",n[s++],n[s++]);break;case 3:r("C",n[s++],n[s++],n[s++],n[s++],n[s++],n[s++]);break;case 2:{const a=n[s++],l=n[s++],c=n[s++],d=n[s++],u=n[s++],h=n[s++];let g=h?d-u:u-d;g<0&&(g+=2*Math.ceil(-g/(2*Math.PI))*Math.PI),h&&(g=-g);const m=Math.max(Math.ceil(Math.abs(g)/(Math.PI/2)),1),y=g/m,_=4/3*Math.tan(y/4);r(0===t.length?"M":"L",a+Math.cos(d)*c,l+Math.sin(d)*c);for(let D=0;D<m;D+=1){const M=d+y*(D+0),k=d+y*(D+1),V=c*Math.sin(M),H=c*Math.cos(M),F=c*Math.sin(k),P=c*Math.cos(k);r("C",a+H-_*V,l+V+_*H,a+P+_*F,l+F-_*P,a+P,l+F)}break}case 4:t.push("Z")}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[i,n,r,s]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[l,c]=[NaN,NaN];const d=(h,g,m)=>{i=Math.min(g,i),n=Math.min(h,n),r=Math.max(h,r),s=Math.max(g,s),m&&([o,a]=[h,g])};let u=0;for(const h of e)switch(h){case 0:d(t[u++],t[u++],!0),[l,c]=[o,a];break;case 1:d(t[u++],t[u++],!0);break;case 3:{const g=t[u++],m=t[u++],y=t[u++],_=t[u++],x=t[u++],D=t[u++];d(x,D,!0),die(o,a,g,m,y,_,x,D).forEach(k=>{const V=_R(o,g,y,x,k),H=_R(a,m,_,D,k);d(V,H)});break}case 2:{const g=t[u++],m=t[u++],y=t[u++];let _=qn(t[u++]),x=qn(t[u++]);t[u++]&&([_,x]=[x,_]);const M=(V,H)=>{const F=g+y*Math.cos(V),P=m+y*Math.sin(V);d(F,P,H)};M(_),M(x,!0);const k=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const V of k)(_<x&&_<=V&&V<=x||_>x&&(_<=V||V<=x))&&M(V);break}case 4:[o,a]=[l,c]}return new It(n,i,r-n,s-i)}};function mi(e){const{redraw:t=3,changeCb:i,convertor:n}=e??{};return Ct({redraw:t,type:"path",convertor:n,changeCb:i})}var Ca=class extends Wd{constructor(){super(...arguments),this.path=new C1,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(){return this.updatePathIfDirty(),super.preRender()}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0!==this.dirty||i){if(!this.clip||isNaN(this._clipX)||isNaN(this._clipY))this._clipPath=void 0,this.drawPath(t);else{t.save();const r=this.strokeWidth/2;this._clipPath??(this._clipPath=new C1),this._clipPath.clear(),this._clipPath.rect(-r,-r,this._clipX+r,this._clipY+r+r),t.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),t.restore()}this.fillShadow?.markClean(),super.render(e)}else n&&(n.nodesSkipped+=ad(this).count)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",this.svgPathData()),e.setAttribute("fill","string"==typeof this.fill?this.fill:"none"),e.setAttribute("fill-opacity",String(this.fillOpacity)),null!=this.stroke&&(e.setAttribute("stroke",this.stroke),e.setAttribute("stroke-opacity",String(this.strokeOpacity)),e.setAttribute("stroke-width",String(this.strokeWidth))),{elements:[e]}}};Ca.className="Path",E([mi()],Ca.prototype,"clip",2),E([mi()],Ca.prototype,"clipX",1),E([mi()],Ca.prototype,"clipY",1);var xR="ag-charts-focus-indicator";function SR(e,t){return t.params?.type===e}function uie(e){const t={params:e,result:void 0};return t.result=function R5e(e){if("button"===e)return $n("button");if("slider"===e)return $n("input");if(["toolbar","group","list"].includes(e))return $n("div");if("text"===e)return new class{set textContent(e){this.textElement.textContent=e;const i=this.textElement.getBBox?.();i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=J4("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=J4("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=$n("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(e){Eg(this.boundedContainer,e)}};if("listswitch"===e)return{button:$n("button"),listitem:$n("div")};throw Error("AG Charts - error allocating meta")}(t.params.type),t}var P5e=/\$\{(\w+)}(?:\[(\w+)])?/gi,tB={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},O5e=class extends mv{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){const{localeText:i=FVe,getLocaleText:n}=this,r=i[e];return n?.({key:e,defaultValue:r,variables:t})??(({defaultValue:e,variables:t})=>e?.replaceAll(P5e,(i,n,r)=>{const s=t[n],o=null!=r?tB[r]:null;return null!=r&&null==o&&Xe.warnOnce(`Format style [${r}] is not supported`),null!=o?o.format(s):"number"==typeof s?tB.number.format(s):s instanceof Date?tB.datetime.format(s):String(s)}))({key:e,defaultValue:r,variables:t})??e}},hie=class QG{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:i,height:n,pixelRatio:r,canvasElement:s,willReadFrequently:o=!1}=t;this.pixelRatio=function L5e(){if(typeof navigator>"u")return!1;const e=/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/.exec(navigator.userAgent);if(null==e)return!1;const[t,i]=e[1].split("_").map(Number);return t<16||16===t&&i<6}()?1:r??Do("devicePixelRatio"),this.element=s??$n("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:o}),this.onEnabledChange(),this.resize(i??0,n??0),QG.debugContext(this.context)}static is(t){return t instanceof QG}drawImage(t,i=0,n=0){return t.drawImage(this.context.canvas,i,n)}toDataURL(t){return this.element.toDataURL(t)}resize(t,i){if(!(t>0&&i>0))return;const{element:n,context:r,pixelRatio:s}=this;n.width=Math.round(t*s),n.height=Math.round(i*s),r.setTransform(s,0,0,s,0,0),n.style.width=t+"px",n.style.height=i+"px",this.width=t,this.height=i}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(vr.check("canvas")){const i=t.save.bind(t),n=t.restore.bind(t);let r=0;Object.assign(t,{save(){i(),r++},restore(){if(0===r)throw new Error("AG Charts - Unable to restore() past depth 0");n(),r--},verifyDepthZero(){if(0!==r)throw new Error(`AG Charts - Save/restore depth is non-zero: ${r}`)}})}}};E([ba(e=>e.onEnabledChange())],hie.prototype,"enabled",2);var iB=hie,pie=class $ue{constructor(){this.offscreenCanvas=new OffscreenCanvas(1,1),$ue.offscreenCanvasCount++;const t=this.offscreenCanvas.getContext("2d");if(null==t)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:t,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize({spritePixelRatio:t,spriteWidth:i,spriteHeight:n}){this.offscreenCanvas.width=Math.max(i,0)*t,this.offscreenCanvas.height=Math.max(n,0)*t}renderSprite(t,i){t=oee(t);const{renderCtx:n,renderCtx:{ctx:r},offscreenCanvas:s}=this,{scale:o=1,translateX:a=0,translateY:l=0}=i??{};r.resetTransform(),r.clearRect(0,0,s.width,s.height),r.save(),r.beginPath(),r.setTransform(o,0,0,o,a,l);for(const c of t)c.preRender(),c.render(n);return r.closePath(),r.restore(),s.transferToImageBitmap()}};pie.offscreenCanvasCount=0;var gie=pie;function fie(e,t,i,n,r={},s=It.zero){if(!vr.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},d=performance.now(),{start:u,...h}=t,g=Object.entries(h).map(([F,P])=>yie(F,P)).filter(F=>null!=F).join(" + "),m=Object.entries(r).map(([F,P])=>`${F}: ${P}`).join(" ; "),y=vr.check("scene:stats:verbose"),_=[`${yie("\u23f1\ufe0f",u,d)} (${g})`,`${m}`,`Layers: ${y?vie(o,a):e.size}; Sprites: ${gie.offscreenCanvasCount}`,y?`Nodes: ${vie(l,c)}`:null].filter(zl),x=new kV(F=>i.measureText(F)),D=new Map(_.map(F=>[F,x.measureLines(F)])),M=Math.max(...Array.from(D.values(),F=>F.width)),k=function j5e(e,t){let i=0;for(const n of e)i+=t(n);return i}(D.values(),F=>F.height),V=2+s.x;i.save(),i.fillStyle="white",i.fillRect(V,0,M,k),i.fillStyle="black";let H=0;for(const[F,P]of D.entries())H+=P.height,i.fillText(F,V,H);i.restore()}var z5e=new Set,G5e=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function H5e(e){const{...t}=e;for(const i in t)G5e.has(i)||"number"!=typeof t[i]&&"string"!=typeof t[i]&&"boolean"!=typeof t[i]&&(z5e.add(i),delete t[i]);return t}function DR(e,t){if(!vr.check(!0,"scene"))return{};const{parentNode:i}=e;let n=0;return{node:"json"===t?H5e(e):e,name:e.name??e.id,dirty:Ig[e.dirty],...i?.isVirtual?{virtualParentDirty:Ig[i.dirty],virtualParent:i}:{},...Array.from(e.children(!1),r=>DR(r,t)).reduce((r,s)=>{let{name:o}=s;const{node:{visible:a,opacity:l,zIndex:c,zIndexSubOrder:d,translationX:u,translationY:h,rotation:g,scalingX:m,scalingY:y},node:_,virtualParent:x}=s;(!a||l<=0)&&(o=`(${o})`),zu.is(_)&&(o=`*${o}*`);const D=d?.map(H=>"function"==typeof H?`${H()} (fn)`:H).join(" / "),M=[`${(n++).toString().padStart(3,"0")}|`,`${o??"<unknown>"}`,`z: ${c}`,D&&`zo: ${D}`,x&&"(virtual parent)",u&&`x: ${u}`,h&&`y: ${h}`,g&&`r: ${g}`,null!=m&&1!==m&&`sx: ${m}`,null!=y&&1!==y&&`sy: ${y}`].filter(H=>!!H).join(" ");let k=M,V=1;for(;null!=r[k]&&V<100;)k=`${M} (${V++})`;return r[k]=s,r},{})}}function mie(e){if(0===e.dirty)return{dirtyTree:{},paths:[]};const t=Array.from(e.children(),r=>mie(r)).filter(r=>r.paths.length>0),i=Ti.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap(r=>r.paths).map(r=>`${i}.${r}`):[i];return{dirtyTree:{name:i,node:e,dirty:Ig[e.dirty],...t.map(r=>r.dirtyTree).filter(r=>null!=r.dirty).reduce((r,s)=>(r[s.name??"<unknown>"]=s,r),{})},paths:n}}function vie(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function yie(e,t,i){return`${e}: ${Math.round(100*(null!=i?i-t:t))/100}ms`}var nB=class{constructor(e){this.debug=vr.create(!0,"scene"),this.id=nd(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new iB(e),this.layersManager=new class Wue{constructor(t,i){this.canvas=t,this.markDirty=i,this.debug=vr.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,i){return ete([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],[i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.id],Xee)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort(Wue.sortLayers).forEach(t)}resize(t,i){this.canvas.resize(t,i),this.layersMap.forEach(({canvas:n})=>n.resize(t,i))}addLayer(t){const{width:i,height:n,pixelRatio:r}=this.canvas,{zIndex:s=this.nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}=t,d=new iB({width:i,height:n,pixelRatio:r});return s>=this.nextZIndex&&(this.nextZIndex=s+1),this.layersMap.set(d,{id:this.nextLayerId++,name:o,canvas:d,zIndex:s,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}),this.debug("Scene.addLayer() - layers",this.layersMap),d}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,i,n){const r=this.layersMap.get(t);r&&(r.zIndex=i,r.zIndexSubOrder=n,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}}(this.canvas,()=>{this.isDirty=!0})}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(e){const{element:t}=this.canvas;return t.parentElement?.removeChild(t),e.appendChild(t),this}setRoot(e){return this.root===e||(this.isDirty=!0,this.root?._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager))),this}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){return this.root?.appendChild(e),this}removeChild(e){return this.root?.removeChild(e),this}download(e,t){aee(this.canvas.toDataURL(t),e?.trim()??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)&&(this.pendingSize=[e,t],this.isDirty=!0,!0)}render(e){var t=this;return(0,J.A)(function*(){const{debugSplitTimes:i={start:performance.now()},extraDebugStats:n,seriesRect:r}=e??{},{canvas:s,canvas:{context:o}={},root:a,pendingSize:l}=t;if(!o)return;const c=performance.now();if(l&&(t.layersManager.resize(...l),t.pendingSize=null),a&&!a.visible)return void(t.isDirty=!1);if(a&&!t.isDirty)return t.debug.check()&&t.debug("Scene.render() - no-op",{redrawType:Ig[a.dirty],tree:DR(a,"console")}),void fie(t.layersManager,i,o,void 0,n,r);const d={ctx:o,devicePixelRatio:t.canvas.pixelRatio??1,forceRender:!0,resized:!!l,debugNodes:{}};vr.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),function V5e(e){const t=JT(Do("agChartsSceneDebug")),i=[];for(const n of t)"layout"===n?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);e.debugNodeSearch=i}(d);let u=!1;if((!a||a.dirty>=1)&&(u=!0,s.clear()),a&&vr.check("scene:dirtyTree")){const{dirtyTree:h,paths:g}=mie(a);vr.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:h,paths:g})}if(a&&u){if(a.visible&&a.preRender(),t.debug.check()){const h=DR(a,"console");t.debug("Scene.render() - before",{redrawType:Ig[a.dirty],canvasCleared:u,tree:h})}a.visible&&(o.save(),a.render(d),o.restore())}if(i["\u270d\ufe0f"]=performance.now()-c,t.layersManager.size&&u){const h=performance.now();o.save(),o.resetTransform(),t.layersManager.forEach(g=>{g.canvas.enabled&&g.getVisibility()&&(o.globalAlpha=g.getComputedOpacity(),g.canvas.drawImage(o))}),o.restore(),i["\u26d9"]=performance.now()-h}o.verifyDepthZero?.(),t.isDirty=!1,fie(t.layersManager,i,o,d.stats,n,r),function B5e(e,t){e.save();for(const[i,n]of Object.entries(t)){const r=ws.toCanvas(n);r?(e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(r.x,r.y,r.width,r.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,r.x,r.y,r.width),e.fillText(i,r.x,r.y,r.width)):Xe.log(`Scene.render() - no bbox for debugged node [${i}].`)}e.restore()}(o,d.debugNodes),a&&t.debug.check()&&t.debug("Scene.render() - after",{redrawType:Ig[a.dirty],tree:DR(a,"console"),canvasCleared:u})})()}toSVG(){const e=this.root?.toSVG();if(null==e)return;const t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.setAttribute("width",String(this.width)),t.setAttribute("height",String(this.height)),null!=e.defs){const i=document.createElementNS("http://www.w3.org/2000/svg","defs");i.append(...e.defs),t.append(i)}return t.append(...e.elements),t.outerHTML}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};nB.className="Scene";var W5e=class extends Hu{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return as(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i).map(n=>$i(n,this.getAnnotationTypeStyles(n.type))),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},MR=class extends mv{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=vr.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){"function"==typeof e&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return jJ(t=>this.fetch(t),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return jJ((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}fetch(e){var t=this;return(0,J.A)(function*(){if(!t.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const i=performance.now(),n=t.requestCounter++;let r;t.debug(`DataService - requesting | ${n}`),t.freshRequests.push(n);try{r=yield t.dataSourceCallback(e),t.debug(`DataService - response | ${performance.now()-i}ms | ${n}`)}catch(o){t.debug(`DataService - request failed | ${n}`),Xe.errorOnce(`DataService - request failed | [${o}]`)}t.isLoadingInitialData=!1;const s=t.freshRequests.findIndex(o=>o===n);-1===s||t.dispatchOnlyLatest&&s!==t.freshRequests.length-1?t.debug(`DataService - discarding stale request | ${n}`):(t.freshRequests=t.freshRequests.slice(s+1),0===t.freshRequests.length&&(t.isLoadingData=!1),Array.isArray(r)?t.throttledDispatch(n,r):t.dispatch("data-error"))})()}};E([Qa({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],MR.prototype,"dispatchThrottle",2),E([Qa({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],MR.prototype,"requestThrottle",2);var bie=class{constructor(e){this.maxAnimationTime=e,this.debug=vr.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Q0.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Q0[this.currentPhase])??[]}checkOverlappingId(e){null!=e&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(!e.isComplete)return Q0.indexOf(e.phase)<this.currentPhase?(this.debug("Skipping animation due to being for an earlier phase",e.id),void e.stop()):(this.controllers.set(e.id,e),void this.phases.get(e.phase)?.push(e))}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t?.indexOf(e);null!=i&&i>=0&&t?.splice(i,1)}progress(e){if(!this.isReady)return;let t=0===e?.01:e;const i=()=>{const c=Q0[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:r1[c]}};let{phase:n,phaseControllers:r,phaseMeta:s}=i();const o=()=>null==Q0[this.currentPhase],a=()=>{for(({phase:n,phaseControllers:r,phaseMeta:s}=i());!o()&&0===r.length;)this.currentPhase++,({phase:n,phaseControllers:r,phaseMeta:s}=i()),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${r?.length} of ${l}`);do{const c=t,d=s.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let u=0;for(const h of r)d?h.stop():t=Math.min(h.update(c),t),h.isComplete&&(u++,this.removeAnimation(h));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${r.length} controllers; ${u} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&!0!==r1[t.phase].skipIfNoEarlierAnimations){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(!1===this.skipAnimations&&!0===e){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}pause(){for(const e of this.controllers.values())e.pause()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){Xe.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(null!=e&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function w1(e){const t={...e,preventDefault(){t.sourceEvent?.preventDefault()}};return t}function _ie(e,t){e.dispatchWrapHandlers(t.type,(i,n)=>i(n),w1(t))}var rB=["drag-start","drag","drag-end"],sB=[...rB,"click","dblclick","contextmenu","hover","leave","enter","page-left","wheel"],Y5e=["blur","focus"],K5e=["keydown","keyup"],oB=["mousemove","mouseup"],Cie=["pagehide","mousemove","mouseup"],wie=["dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],xie=class XG extends qte{constructor(t,i){super(),this.keyboardOptions=t,this.domManager=i,this.debug=vr.create(!0,"interaction"),this.eventHandler=n=>this.processEvent(n),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=34,this.rootElement=this.domManager.getShadowDocumentRoot();for(const n of wie)n.startsWith("touch")||"wheel"===n?this.domManager.addEventListener(n,this.eventHandler,{passive:!1}):this.domManager.addEventListener(n,this.eventHandler);for(const n of Cie)Do().addEventListener(n,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",()=>this.containerChanged())}containerChanged(t=!1){const i=this.domManager.getShadowDocumentRoot();if(t||i!==this.rootElement){for(const n of oB)this.rootElement?.removeEventListener(n,this.eventHandler);this.rootElement=i,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const n of oB)this.rootElement?.addEventListener(n,this.eventHandler)}}destroy(){super.destroy();for(const t of Cie)Do().removeEventListener(t,this.eventHandler);for(const t of oB)this.rootElement?.removeEventListener(t,this.eventHandler);for(const t of wie)this.domManager.removeEventListener(t,this.eventHandler);this.domManager.removeStyles("interactionManager")}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){this.debug("Received raw event",t);let i=this.decideInteractionEventTypes(t);null!=i&&!Array.isArray(i)&&(i=[i]);for(const n of i??[])this.dispatchEvent(t,n).catch(r=>Xe.errorOnce(r))}dispatchEvent(t,i){var n=this;return(0,J.A)(function*(){if(function q5e(e){return sB.includes(e)}(i))return void n.dispatchPointerEvent(t,i);const{relatedElement:r,targetElement:s}=n.extractElements(t);!function Z5e(e){return Y5e.includes(e)}(i)?function Q5e(e){return K5e.includes(e)}(i)&&n.dispatchTypedEvent(n.listeners,{type:i,sourceEvent:t,relatedElement:r,targetElement:s}):n.dispatchTypedEvent(n.listeners,{type:i,sourceEvent:t,relatedElement:r,targetElement:s})})()}dispatchTypedEvent(t,i){const n=w1(i);this.debug("Dispatching typed event",n,this.getState()),t.dispatchWrapHandlers(i.type,(r,s)=>r(s),n)}extractElements(t){let i,n;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(i=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(n=t.target),{relatedElement:i,targetElement:n}}dispatchPointerEvent(t,i){const n=this.calculateCoordinates(t);if(null==n)return;const r=this.buildPointerEvent({type:i,event:t,...n});this.debug("Dispatching pointer event",r,this.getState()),_ie(this.listeners,r)}getEventHTMLTarget(t){return t.target instanceof HTMLElement?t.target:t.currentTarget instanceof HTMLElement?t.currentTarget:void 0}recordDown(t){t instanceof MouseEvent&&(lv(["offsetX","offsetY"],this.clickHistory[0],t),lv(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),lv(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragPreStartElement=this.getEventHTMLTarget(t)}recordUp(t){return t instanceof MouseEvent&&lv(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragPreStartElement=void 0,!!this.dragStartElement&&(this.dragStartElement=void 0,!0)}decideInteractionEventTypes(t){switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?t.type:void 0;case"dblclick":case"contextmenu":case"wheel":return t.type;case"mousedown":if(!this.isEventOverElement(t))return;return this.mouseDown=!0,void this.recordDown(t);case"touchstart":if(!this.isEventOverElement(t))return;return this.touchDown=!0,void this.recordDown(t);case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?this.dragStartElement?"drag":(this.dragStartElement=this.dragPreStartElement,this.dragPreStartElement=void 0,["drag-start","drag"]):"hover":void 0;case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.recordUp(t)?"drag-end":"click"):void 0;case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.recordUp(t)?"drag-end":"click"):void 0;case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const i=t.touches[0]??t.changedTouches[0],{clientX:n,clientY:r,pageX:s,pageY:o}=i;return{...XG.NULL_COORDS,clientX:n,clientY:r,pageX:s,pageY:o}}return t instanceof PageTransitionEvent?t.persisted?void 0:XG.NULL_COORDS:void 0}getMouseEventCoords(t){const{clientX:i,clientY:n,pageX:r,pageY:s}=t;let{offsetX:o,offsetY:a}=t;const l=this.getEventHTMLTarget(t),{x:c=0,y:d=0}=l?this.domManager.calculateCanvasPosition(l):{};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){const u=this.domManager.calculateCanvasPosition(this.dragStartElement);o-=u.x-c,a-=u.y-d}else o+=c,a+=d;return{clientX:i,clientY:n,pageX:r,pageY:s,offsetX:o,offsetY:a}}isWheelEvent(t){return"wheel"===t.type}buildPointerEvent(t){const{type:i,event:n,clientX:r,clientY:s}=t;let{offsetX:o,offsetY:a,pageX:l,pageY:c}=t;if(!nn(o)||!nn(a)){const x=this.domManager.getBoundingClientRect();o=r-x.left,a=s-x.top}if(!nn(l)||!nn(c)){const x=this.rootElement?.getBoundingClientRect();l=r-(x?.left??0),c=s-(x?.top??0)}let[d,u]=[NaN,NaN];if(this.isWheelEvent(n)){const x=0===n.deltaMode?.01:1;d=n.deltaX*x,u=n.deltaY*x}let h=[];"click"===n.type?h=this.clickHistory:"dblclick"===n.type&&(h=this.dblclickHistory);const{relatedElement:g,targetElement:m}=this.extractElements(n),_={type:i,offsetX:o,offsetY:a,pageX:l,pageY:c,deltaX:d,deltaY:u,button:"button"in n?Number(n.button):0,pointerHistory:h,sourceEvent:n,relatedElement:g,targetElement:m};return this.debug("InteractionManager - builtEvent: ",_,this.getState()),_}};xie.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var Sie=xie;function Die(e){return null==e||!isNaN(e)&&e>=0&&e<=2}var Mie=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new bie(1.5*this.defaultDuration),this.debug=vr.create(!0,"animation"),this.events=new Yte,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){return void this.failsafeOnError(a)}let{id:i}=e;null==i&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||"none"===e.phase;n&&this.debug("AnimationManager - skipping animation");const{delay:r,duration:s}=e;if(!Die(r))throw new Error(`Animation delay of ${r} is unsupported (${i})`);if(!Die(s))throw new Error(`Animation duration of ${s} is unsupported (${i})`);const o=new See({...e,id:i,skip:n,autoplay:!!this.isPlaying&&e.autoplay,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=Do().requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){var e=this;if(!this.rafAvailable||!this.batch.isActive()||null!==this.requestId)return;let t;const i=function(){var n=(0,J.A)(function*(r){const s=function(){var o=(0,J.A)(function*(){const a=r-(t??r);t=r,e.debug("AnimationManager - onAnimationFrame()",{controllersCount:e.batch.size,deltaTime:a}),e.interactionManager.pushState(2);try{e.batch.progress(a)}catch(l){e.failsafeOnError(l)}e.events.emit("animation-frame",{type:"animation-frame",deltaMs:a})});return function(){return o.apply(this,arguments)}}();e.isSkippingFrames()?yield e.chartUpdateMutex.acquireImmediately(s):yield e.chartUpdateMutex.acquire(s),e.batch.isActive()?e.scheduleAnimationFrame(i):(e.batch.stop(),e.events.emit("animation-stop",{type:"animation-stop",deltaMs:e.batch.consumedTimeMs}))});return function(s){return n.apply(this,arguments)}}();this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(i)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){Xe.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new bie(1.5*this.defaultDuration),!0===e&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},Eie=class extends Hu{legendItemClick(e,t,i,n){this.listeners.dispatch("legend-item-click",{type:"legend-item-click",series:e,itemId:t,enabled:i,legendItemName:n})}legendItemDoubleClick(e,t,i,n,r){this.listeners.dispatch("legend-item-double-click",{type:"legend-item-double-click",series:e,itemId:t,enabled:i,legendItemName:r,numVisibleItems:n})}axisHover(e,t){this.listeners.dispatch("axis-hover",{type:"axis-hover",axisId:e,direction:t})}},Iie=class Yue{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new mv;const{Default:i,ContextMenu:n}=bR;this.destroyFns=[t.listenAll("contextmenu",r=>this.onContextMenu(r),i|n)]}destroy(){this.destroyFns.forEach(t=>t())}onContextMenu(t){"all"===Yue.toContextType(t.region)&&this.dispatchContext("all",t,{})}static toContextType(t){return"legend"===t||"series"===t?t:"all"}static check(t,i){return i.type===t}static checkCallback(t,i,n){return t===i}dispatchContext(t,i,n,r){const{sourceEvent:s}=i,o=r?.x??i.offsetX,a=r?.y??i.offsetY;s.stopPropagation(),this.listeners.dispatch("",w1({type:t,x:o,y:a,context:n,sourceEvent:s}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter(i=>i.id&&!this.hiddenActions.has(i.id)&&["all",t].includes(i.type))}registerDefaultAction(t){const i=null!=t.id&&!this.defaultActions.some(({id:n})=>n===t.id);return i&&this.defaultActions.push(t),()=>{const n=i?this.defaultActions.findIndex(({id:r})=>r===t.id):-1;-1!==n&&this.defaultActions.splice(n,1)}}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}showAction(t){this.hiddenActions.add(t)}hideAction(t){this.hiddenActions.delete(t)}isDisabled(t){return this.disabledActions.has(t)}},h_=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},Aie=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(Aie||{}),Tie=class{constructor(e){this.domManager=e,this.stateTracker=new h_("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function Rie(e,t){return Math.sqrt(function X5e(e,t){const i=e.screenX-t.screenX,n=e.screenY-t.screenY;return i*i+n*n}(e,t))}var kie=class extends Hu{constructor(e){super(),this.domManager=e,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){const{touches:t}=e,{finger1:i,finger2:n}=this.pinch;if(0!==this.pinch.status&&2===t.length){if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[0],t[1]];if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[1],t[0]]}}copyTouchData(e){const t=["identifier","screenX","screenY"];lv(t,this.pinch.finger1,e.touches[0]),lv(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=Rie(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,i){const{finger1:n,finger2:r,origin:s}=this.pinch;this.listeners.dispatch(e,w1({sourceEvent:i,type:e,finger1:n,finger2:r,deltaDistance:t,origin:s}))}onTouchStart(e){this.stopPinchTracking(e);const{pinch:t}=this;2===e.touches.length&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){const t=this.findPinchTouches(e);if(void 0!==t){const[i,n]=t,{pinch:r}=this,s=Rie(i,n),o=s-r.distance;1===r.status?Math.abs(o)>1&&(r.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):2===r.status?(r.distance=s,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",o,e)):Xe.error(`unexpected pinch.status: ${r.status}`)}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){const{pinch:t}=this;2===t.status&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},Pie=class extends Hu{constructor(){super(...arguments),this.highlightStates=new h_}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||null!=e&&null!=t&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}},Fie=class extends qte{constructor(e,t,i){super(),this.focusIndicator=e,this.interactionManager=t,this.previousInputDevice="keyboard",this.destroyFns.push(t.addListener("click",()=>this.onClick(),41),t.addListener("hover",()=>this.onMouse(),41),t.addListener("drag-start",()=>this.onMouse(),41),t.addListener("blur",r=>this.onBlur(r),63),t.addListener("focus",r=>this.onFocus(r),63),t.addListener("keydown",r=>this.onKeyDown(r),63)),this.focusIndicator.overrideFocusVisible("integrated"!==i&&void 0)}getState(){return this.interactionManager.getState()}destroy(){super.destroy()}onClick(){this.focusIndicator.overrideFocusVisible(!1),this.previousInputDevice="mouse"}onMouse(){this.previousInputDevice="mouse"}onBlur(e){this.focusIndicator.overrideFocusVisible(void 0),this.dispatch("blur",0,e)}onFocus(e){this.dispatch("focus",0,e)}onKeyDown(e){const t=this.getState(),{key:i,code:n,altKey:r,shiftKey:s,metaKey:o,ctrlKey:a}=e.sourceEvent;if(a||o){if("y"===i||"z"===i&&s)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("redo",0,e);if("z"===i)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("undo",0,e)}if(9&t)this.focusIndicator.overrideFocusVisible(!1);else{switch(i){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}if(!(r||s||o||a))switch(this.focusIndicator.overrideFocusVisible(!0),n){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e)}}}dispatch(e,t,i){const{previousInputDevice:n}=this;_ie(this.listeners,{type:e,delta:t,sourceEvent:i,previousInputDevice:n}),"keydown"===i.type&&!["redo","undo","nav-zoom"].includes(e)&&(this.previousInputDevice="keyboard")}},Oie=(e=>(e.NAVIGATOR="navigator",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e))(Oie||{}),x1=class{constructor(e,t){this.node=e,this.overrideId=t}get id(){return this.overrideId??this.node.id}get visible(){return this.node.visible}toCanvasBBox(){return ws.toCanvas(this.node)}fromCanvasPoint(e,t){return ws.fromCanvasPoint(this.node,e,t)}},Lie=class extends x1{constructor(e,t,i){super(e,i),this.bboxFn=t}toCanvasBBox(){return this.bboxFn()}},Nie=class extends mv{};function Vie(e,t,i,n,r=32){return e?.addListener(i,s=>{t.getState()&r&&n(s)})??(()=>{})}function Bie(e){return e instanceof Ag?new x1(e):e instanceof x1?e:new x1(e.node,e.id)}var zie=class{constructor(e){this.interactionManager=e,this.debug=vr.create(!0,"region"),this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new Nie,this.destroyFns.push(...sB.map(t=>e.addListener(t,this.processPointerEvent.bind(this),63)))}destroy(){this.destroyFns.forEach(e=>e()),this.current=void 0;for(const e of this.regions.values())e.listeners.destroy();this.regions.clear()}addRegion(e,...t){if(this.regions.has(e))throw new Error(`AG Charts - Region: ${e} already exists`);const i={properties:{name:e,bboxproviders:t.map(Bie)},listeners:new Nie};return this.regions.set(e,i),this.makeObserver(i)}updateRegion(e,...t){const i=this.regions.get(e);if(!i)throw new Error("AG Charts - unknown region: "+e);i.properties.bboxproviders=t.map(Bie)}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t,i=32){return Vie(this.allRegionsListeners,this.interactionManager,e,t,i)}makeObserver(e){const{interactionManager:t}=this;return new class i{addListener(r,s,o=32){return Vie(e?.listeners,t,r,s,o)}}}checkPointerHistory(e,t){for(const i of t.pointerHistory){const{region:n}=this.pickRegion(i.offsetX,i.offsetY)??{};if(e.properties.name!==n?.properties.name)return!1}return!0}dispatch(e,t){if(null==e)return;const i=e.region.properties.bboxproviders[0];let n=0,r=0;if("offsetX"in t&&"offsetY"in t)({x:n,y:r}=i.fromCanvasPoint(t.offsetX,t.offsetY));else{const o=i.toCanvasBBox();n=o.width/2,r=o.height/2}const s=w1({...t,region:e.region.properties.name,bboxProviderId:e.bboxProvider?.id,regionOffsetX:n,regionOffsetY:r});this.debug("Dispatching region event: ",s),this.allRegionsListeners.dispatch(s.type,s),e.region.listeners.dispatch(s.type,s)}handleDragging(e){const{current:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,{...e,type:"leave"}),!0}return!1}processPointerEvent(e){if(this.handleDragging(e))return;const{current:t}=this;let n;switch(function tze(e){const{type:t,sourceEvent:i}=e,{id:n,className:r,classList:s,ariaHidden:o}=i?.target??{};if(!(s instanceof DOMTokenList))return"leave";const a=rB;return s.contains("ag-charts-annotations__axis-button-icon")&&!a.includes(t)||"ag-charts-series-area"===r||"ag-charts-canvas-proxy"===r||"ag-charts-proxy-elem"===r&&!n?.toString().startsWith("ag-charts-legend-item-")||i?.target instanceof HTMLCanvasElement?"none":function eze(e){if(null==e||!(e instanceof HTMLElement))return;let t=e;for(;null!=t&&!t?.classList.contains("ag-charts-wrapper");){if(t.classList.contains("ag-chart-tooltip"))return t;t=t.parentElement}}(i.target)&&"true"!==o?"wait":"leave"}(e)){case"wait":return;case"none":n=this.pickRegion(e.offsetX,e.offsetY);break;case"leave":n=void 0}const r=n?.region;void 0!==t&&r?.properties.name!==t.region.properties.name&&this.dispatch(t,{...e,type:"leave"}),void 0!==r&&r.properties.name!==t?.region.properties.name&&this.dispatch(n,{...e,type:"enter"}),void 0!==r&&this.checkPointerHistory(r,e)&&this.dispatch(n,e),this.current=n}pickRegion(e,t){let n,r,i=1/0;for(const s of this.regions.values())for(const o of s.properties.bboxproviders){if(!1===o.visible)continue;const a=o.toCanvasBBox(),l=a.width*a.height;l<i&&a.containsPoint(e,t)&&(i=l,n=s,r=o)}return n?{region:n,bboxProvider:r}:void 0}},aB=["start","center","end"],ER=["seriesType","annotations","annotationOptions","ranges","zoom"],lB={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},p_=(e=>(e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(p_||{}),vv=Object.values(p_);function cB(e){return["floating-top","floating-bottom"].includes(e)}var Gie=class extends Hu{static isGroup(e,t){return t.group===e}static isChildElement(e,t){for(const i of vv)if(e.isManagedChildDOMElement(t,"canvas-overlay",`toolbar-${i}`))return!0;return!1}pressButton(e,t,i,n,r){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:e,id:t,value:i,rect:n,sourceEvent:r})}cancel(e){this.listeners.dispatch("cancelled",{type:"cancelled",group:e})}toggleButton(e,t,i){const{active:n=!1,enabled:r=!0,visible:s=!0,checked:o=!1}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:e,id:t,active:n,enabled:r,visible:s,checked:o})}updateButton(e,t,i){this.listeners.dispatch("button-updated",{type:"button-updated",group:e,id:t,...i})}toggleGroup(e,t,i){const{active:n,visible:r}=i;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:e,group:t,active:n,visible:r})}updateGroup(e){this.listeners.dispatch("group-updated",{type:"group-updated",group:e})}groupMoved(e){this.listeners.dispatch("group-moved",{type:"group-moved",group:e})}changeFloatingAnchor(e,t){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:e,anchor:t})}buttonMoved(e,t,i,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:e,value:t,rect:i,groupRect:n})}proxyGroupOptions(e,t,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:e,group:t,options:i})}},IR=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new h_,this.suppressState=new h_(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",()=>this.tooltip.toggle(!1))}updateTooltip(e,t,i){this.tooltip.enabled&&(i??(i=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{content:i,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}getTooltipMeta(e){return this.stateTracker.get(e)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||null==t?.meta||null==t?.content)return this.appliedState=null,void this.tooltip.toggle(!1);const i=this.domManager.getBoundingClientRect(),n="extended"===this.tooltip.bounds?this.domManager.getOverlayClientRect():i;if(this.appliedState?.content===t?.content){const r=this.tooltip.isVisible();this.tooltip.show(n,i,t?.meta,null,r)}else this.tooltip.show(n,i,t?.meta,t?.content);this.appliedState=t}static makeTooltipMeta(e,t){const{offsetX:i,offsetY:n}=e,r=t.series.properties.tooltip,s={offsetX:i,offsetY:n,enableInteraction:r.interaction?.enabled??!1,lastPointerEvent:{type:e.type,offsetX:i,offsetY:n},showArrow:r.showArrow,position:{type:r.position.type,xOffset:r.position.xOffset,yOffset:r.position.yOffset}},o=t.yBar?.upperPoint??t.midPoint??t.series.datumMidPoint?.(t);if(("node"===r.position.type||"sparkline"===r.position.type)&&o){const{x:a,y:l}=o,c=ws.toCanvasPoint(t.series.contentGroup,a,l);return{...s,offsetX:Math.round(c.x),offsetY:Math.round(c.y)}}return s}},Hie=class extends Hu{constructor(){super(...arguments),this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new h_(void 0,"initial"),this.rejectCallbacks=new Map}addLayoutListeners(e){this.destroyFns.push(e.addListener("layout:complete",t=>{this.axes=t.axes}))}createMemento(){const e=this.getDefinedZoom();return{rangeX:this.getRangeDirection(e,"x"),rangeY:this.getRangeDirection(e,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max}}}guardMemento(e){return qa(e)&&(null!=e.ratioX||null!=e.ratioY||null!=e.rangeX||null!=e.rangeY)}restoreMemento(e,t,i){this.listeners.dispatch("restore-zoom",{...i,type:"restore-zoom"})}updateAxes(e){const t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new ize(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t,i=!0,n){if(n&&this.rejectCallbacks.set(e,n),0!==this.axisZoomManagers.size)this.state.set(e,t),this.axisZoomManagers.forEach(r=>{r.updateZoom(e,t?.[r.getDirection()])}),this.applyChanges(e);else{const r=this.state.stateId();"initial"===r||r===e||i?(this.state.set(e,t),r!==e&&this.rejectCallbacks.get(r)?.(e)):n?.(r)}}updateAxisZoom(e,t,i){this.axisZoomManagers.get(t)?.updateZoom(e,i),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{"x"===i.getDirection()?e??(e=i.getZoom()):"y"===i.getDirection()&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).some(Boolean))return;const i={};for(const[n,r]of this.axisZoomManagers.entries())i[n]=r.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:e})}getRangeDirection(e,t){for(const i of this.axes??[]){if(i.direction!==t)continue;const n=i.scale.getDomain?.(),r=i.scale.convert?.(n?.at(0)),s=i.scale.convert?.(n?.at(-1));if(!nn(r)||!nn(s))return;let o,a;if(r<=s){const l=s-r;o=i.scale.invert?.(0),a=i.scale.invert?.(r+l*e[t].max)}else{const l=r-s;o=i.scale.invert?.(r-l*e[t].min),a=i.scale.invert?.(0)}return{start:o,end:a}}}getDefinedZoom(){const e=this.getZoom();return{x:{min:e?.x?.min??0,max:e?.x?.max??1},y:{min:e?.y?.min??0,max:e?.y?.max??1}}}},ize=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new h_({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Eo(this.state.stateValue())}applyChanges(){const e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},S1=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(S1||{}),jie=class extends mv{constructor(e){super(),this.updateCallback=e}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e?.minRect,minVisibleRect:e?.minVisibleRect})}dispatchPreDomUpdate(){this.dispatch("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(e){this.dispatch("pre-scene-render",{type:"pre-scene-render",...e})}},Uie=class extends Fi{constructor(){super(...arguments),this.range="tooltip"}};E([L(Yn(["tooltip","node"],"a range"))],Uie.prototype,"range",2);var Wie=class Kue{constructor(){this.domain=new Set}static is(t){return t instanceof Kue}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},g_=class que{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof que}static extendDomain(t,i=[1/0,-1/0]){for(const n of t)"number"==typeof n&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function sze(e){return e.map(t=>qa(t)?JSON.stringify(t):t).join("-")}function oze(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(1e4*e)/1e4}function $l(e){if(null==e)return[];const[t,i]=e.map(Number);return 0===t&&0===i?[0,1]:nn(t)&&nn(i)?[t,i]:[]}function dB(e,t){return t?.get(e.id)??0}var yv=Symbol("invalid");function $ie(e){const t=[];let n,i=0;const r=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;n=r.exec(e);){if(n.index!==i)return;i=n.index+n[0].length;const s=n[1].trim();if(s.startsWith("."))t.push(s.slice(1).trim());else if(s.startsWith("[")){const o=s.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(/\\'/g,"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(/\\"/g,'"')):t.push(o)}else t.push(s)}if(i===e.length)return t}function aze(e){return t=>{let i=t;for(const n of e)i=i[n];return i}}var Yie=class{constructor(e,t="standalone"){this.opts=e,this.mode=t,this.debug=vr.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const r of e.props){if("key"===r.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===r.type&&i&&(i=!1)}const n=({matchGroupIds:r=[]})=>{for(const s of r)if(this.values.every(o=>o.groupId!==s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(const r of e.props)switch(r.type){case"key":this.keys.push({...r,index:this.keys.length,missing:new Map});break;case"value":if(null==r.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(r)}`);this.values.push({...r,index:this.values.length,missing:new Map});break;case"aggregate":n(r),this.aggregates.push({...r,index:this.aggregates.length});break;case"group-value-processor":n(r),this.groupProcessors.push({...r,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...r,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...r,index:this.reducers.length});break;case"processor":this.processors.push({...r,index:this.processors.length})}}resolveProcessedDataDefById(e,t){const i=this.scopeCache.get(e.id)?.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map(i=>[i,this.resolveProcessedDataDefById(e,i)])}resolveProcessedDataDefsValues(e,{keys:t,values:i}){const n={};for(const[r,{index:s,def:o}]of e)n[r]=("key"===o.type?t:i)[s];return n}getDomain(e,t,i="value",n){return this.getDomainsByType(i,n)?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){const{opts:{groupByKeys:i,groupByFn:n},aggregates:r,groupProcessors:s,reducers:o,processors:a,propertyProcessors:l}=this,c=performance.now();if(i&&0===this.keys.length)return;let d=this.extractData(e,t);if(i?d=this.groupData(d):n&&(d=this.groupData(d,n(d))),s.length>0&&this.postProcessGroups(d),r.length>0&&this.aggregateData(d),l.length>0&&this.postProcessProperties(d),o.length>0&&this.reduceData(d),a.length>0&&this.postProcessData(d),e.length>0)for(const h of Mg(this.keys,this.values))for(const[g,m]of h.missing)m>=e.length&&Xe.warnOnce(`the key '${h.property}' was not found in any data element${null==g?"":` for ${g}`}.`);const u=performance.now();d.time=u-c,this.debug.check()&&function lze(e){const t=(i,n)=>{n.length>0&&(Xe.log(`DataModel.processData() - ${i}`),Xe.table(n))};if(Xe.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[]),"grouped"===e.type){const i=e.data.reduce((n,r)=>{const s=r.keys??[],o=r.aggValues??[],a=r.keys.map(()=>{}),l=o?.map(()=>{});return n.push(...r.values.map((c,d)=>[...0===d?s:a,...c??[],...0==d?o:l])),n},[]);t("Values",i)}else{const i=e.data.reduce((n,r)=>(n.push([...r.keys,...r.values,...r.aggValues??[]]),n),[]);t("Values",i)}}(d),this.scopeCache.clear();for(const h of Mg(this.keys,this.values,this.aggregates))if(h.idsMap)for(const[g,m]of h.idsMap)for(const y of m)if(this.scopeCache.has(g)){if(this.scopeCache.get(g)?.has(y))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(g).set(y,h)}else this.scopeCache.set(g,new Map([[y,h]]));return d}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[i,n]of this.values.entries())(!e||n.groupId&&e.includes(n.groupId))&&t.push(i);return t}valueIdxLookup(e,t){const i=null==e||0===e.length,n="string"==typeof t?t:t.id,s=this.values.findIndex(o=>(null==o.scopes||i&&!o.scopes.length||o.scopes.some(l=>e?.includes(l)))&&(o.property===n||o.id===n||(o=>{if(o.idsMap)for(const[a,l]of o.idsMap)if(e?.includes(a)&&l.has(n))return!0;return!1})(o)));if(-1===s)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return s}extractData(e,t){const{dataDomain:i,processValue:n,scopes:r,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),o=new Map(t?.map(g=>[g.id,g])),{keys:a,values:l}=this,c=new Array(e.length);let d=0,u=0;for(const[g,m]of e.entries()){const y={},_=r.size>0?new Set(r):void 0,x=new Array(a.length);let M,D=0;for(const F of a){if(M=n(F,m,M),M===yv)break;x&&(x[D++]=M)}if(M===yv)continue;const k=l.length>0?new Array(l.length):void 0;let V;for(const[F,P]of l.entries()){for(const G of P.scopes??r){const Y=o.get(G);if(V=n(P,Y?.data[g]??m,V,G),V!==yv&&k){if(null!=Y&&!1!==P.includeProperty){const ee=P.includeProperty&&null!=P.id?P.id:P.property;y[G]??(y[G]={}),y[G][ee]=V}k[F]=V}}if(V===yv){if(s)break;for(const G of P.scopes??r)_?.delete(G);if(0===_?.size)break}}if(V===yv&&s||0===_?.size)continue;const H={datum:{...m,...y},keys:x,values:k};!s&&_&&_.size<r.size&&(u++,H.validScopes=new Set(_)),c[d++]=H}c.length=d;const h=g=>{const m=i.get(g),y=m.getDomain();return g_.is(m)&&y[0]>y[1]?[]:y};return{type:"ungrouped",input:{count:e.length},data:c,domain:{keys:a.map(h),values:l.map(h)},defs:{allScopesHaveSameDefs:s,keys:a,values:l},partialValidDataCount:u,time:0}}groupData(e,t){const i=new Map;for(const o of e.data){const{keys:a,values:l,datum:c,validScopes:d}=o,u=t?.(o)??a,h=sze(u);if(i.has(h)){const g=i.get(h);if(g.values.push(l),g.datum.push(c),null!=d&&null!=g.validScopes)for(const m of g.validScopes)d.has(m)||g.validScopes.delete(m)}else i.set(h,{keys:u,values:[l],datum:[c],validScopes:d})}const n=new Array(i.size),r=new Array(i.size);let s=0;for(const{keys:o,values:a,datum:l,validScopes:c}of i.values())0!==c?.size&&(r[s]=o,n[s++]={keys:o,values:a,datum:l,validScopes:c});return{...e,type:"grouped",data:n,domain:{...e.domain,groups:r}}}aggregateData(e){const t="ungrouped"===e.type;e.domain.aggValues=[];for(const[i,n]of this.aggregates.entries()){const r=this.valueGroupIdxLookup(n),s=[1/0,-1/0];for(const o of e.data){if(o.aggValues??(o.aggValues=new Array(this.aggregates.length)),o.validScopes)continue;const a=t?[o.values]:o.values;let l=n.groupAggregateFunction?.()??[1/0,-1/0];for(const d of a){const u=r.map(g=>d[g]),h=n.aggregateFunction(u,o.keys);h&&(l=n.groupAggregateFunction?.(h,l)??g_.extendDomain(h,l))}const c=(n.finalFunction?.(l)??l).map(d=>oze(d));o.aggValues[i]=c,g_.extendDomain(c,s)}e.domain.aggValues.push(s)}}postProcessGroups(e){const{groupProcessors:t}=this,i=new Set,n=new Map,r=new Map,s=new Map;for(const a of t){const l=this.valueGroupIdxLookup(a);r.set(a,l),s.set(a,a.adjust());for(const c of l){const u="category"===this.values[c].valueType;i.add(c),n.set(c,u?new Wie:new g_)}}const o=a=>{for(const l of i)n.get(l)?.extend(a[l])};for(const a of e.data){for(const l of t){if(a.validScopes)continue;const c=r.get(l)??[],d=s.get(l)?.();if(d)if("grouped"===e.type)for(const u of a.values)u&&d(u,c);else a.values&&d(a.values,c)}if("grouped"===e.type)for(const l of a.values)o(l);else o(a.values)}for(const[a,l]of n)e.domain.values[a]=l.getDomain()}postProcessProperties(e){for(const{adjust:t,property:i,scopes:n}of this.propertyProcessors)t()(e,this.valueIdxLookup(n,i))}reduceData(e){e.reduced??(e.reduced={});for(const t of this.reducers){const i=t.reducer();let n=t.initialValue;for(const r of e.data)(!r.validScopes||t.scopes?.some(s=>r.validScopes?.has(s)))&&(n=i(n,r));e.reduced[t.property]=n}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e)}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const c of t)if(c.scopes)for(const d of c.scopes)i.add(d);const n=new Map,r=new Map;let s=!0;const o=()=>{for(const c of Mg(e,t))"category"===c.valueType?n.set(c,new Wie):(n.set(c,new g_),s&&(s=(c.scopes??[]).length===i.size))};o();const a=this.buildAccessors(Mg(e,t));return{dataDomain:n,processValue:(c,d,u,h)=>{let g,m;if(a.has(c.property)){try{m=a.get(c.property)(d)}catch{}g=null!=m}else g=c.property in d,m=g?d[c.property]:c.missingValue;if(null!=c.forceValue&&(m=g&&qS(m)?-1*c.forceValue:c.forceValue,g=!0),!g&&!("missingValue"in c)){const _=c.missing.get(h)??0;c.missing.set(h,_+1)}if(n.has(c)||o(),g&&!1===c.validation?.(m,d)){if(!("invalidValue"in c))return"integrated"!==this.mode&&Xe.warnOnce(`invalid value of type [${typeof m}] for [${c.scopes} / ${c.id}] ignored:`,`[${m}]`),yv;m=c.invalidValue}return c.processor&&(r.has(c)||r.set(c,c.processor()),m=r.get(c)?.(m,u===yv?void 0:u)),n.get(c)?.extend(m),m},initDataDomain:o,scopes:i,allScopesHaveSameDefs:s}}buildAccessors(e){const t=new Map;if("integrated"===this.mode)return t;for(const i of e){if(!i.property.includes(".")&&!i.property.includes("["))continue;const r=$ie(i.property);if(null==r){Xe.warnOnce("Invalid property path [%s]",i.property);continue}const s=aze(r);t.set(i.property,s)}return t}},Kie=class Op{constructor(t){this.mode=t,this.debug=vr.create(!0,"data-model"),this.requested=[],this.status="setup"}request(t,i,n){var r=this;return(0,J.A)(function*(){if("setup"!==r.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,o)=>{r.requested.push({id:t,opts:n,data:i,resolve:s,reject:o})})})()}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);const i=this.mergeRequested(t);this.debug("DataController.execute() - merged",i),this.debug.check()&&(Do().processedData=[]);const n=this.requested.map(({id:s})=>s),r=this.hasMultipleDataSources(t);for(const{opts:s,data:o,resolves:a,rejects:l,ids:c}of i)try{const d=new Yie(s,this.mode),u=d.processData(o,t);this.debug.check()&&Do("processedData").push(u),0===u?.partialValidDataCount?a.forEach((h,g)=>h({dataModel:d,processedData:this.processScopedData(c[g],u,n,r)})):u?this.splitResult(d,u,c,a):l.forEach(h=>h(new Error("AG Charts - no processed data generated")))}catch(d){l.forEach(u=>u(d))}}hasMultipleDataSources(t){if(t.length){const[{data:i},...n]=t;return n.some(r=>i!==r.data)}return!1}processScopedData(t,i,n,r){const s=a=>{if(Array.isArray(a))return a.map(s);const l=r?{...a,...a[t]}:a;for(const c of n)delete l[c];return l},o=a=>Array.isArray(a)?a.map(o):a?.[t]??a;return{...i,data:i.data.map(a=>({...a,datum:s(a.datum),values:r?a.values?.map(o):a.values}))}}validateRequests(t){const i=[];for(const[n,r]of t.entries())n>0&&r.data.length!==t[0].data.length&&!1===r.opts.groupByData?r.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(r);return i}mergeRequested(t){const i=[];for(const n of t){const r=i.find(Op.groupMatch(n));r?r.push(n):i.push([n])}return i.map(Op.mergeRequests)}splitResult(t,i,n,r){for(let s=0;s<n.length;s++){const o=n[s];(0,r[s])({dataModel:t,processedData:{...i,data:i.data.filter(({validScopes:l})=>l?.has(o)??!0)}})}}static groupMatch({data:t,opts:i}){function n(r){return r.filter(s=>"key"===s.type).map(s=>s.property).join(";")}return([r])=>(!1===i.groupByData||r.data===t)&&r.opts.groupByKeys===i.groupByKeys&&r.opts.groupByFn===i.groupByFn&&n(r.opts.props)===n(i.props)}static mergeRequests(t){return t.reduce((i,{id:n,data:r,resolve:s,reject:o,opts:{props:a,...l}})=>{i.ids.push(n),i.rejects.push(o),i.resolves.push(s),i.data??(i.data=r),i.opts??(i.opts={...l,props:[]});for(const c of a){const d={...c,scopes:[n]};Op.createIdsMap(n,d);const u=i.opts.props.find(h=>h.type===d.type&&Op.deepEqual(h,d));u?(u.scopes??(u.scopes=[]),u.scopes.push(...d.scopes??[]),("key"===u.type||"value"===u.type)&&d.idsMap?.size&&Op.mergeIdsMap(d.idsMap,u.idsMap)):i.opts.props.push(d)}return i},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,i){for(const[n,r]of t){const s=i.get(n);if(null!=s)for(const o of r)s.add(o);else i.set(n,new Set(r))}}static createIdsMap(t,i){null!=i.id&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(t)?i.idsMap.get(t).add(i.id):i.idsMap.set(t,new Set([i.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;let n,r;if(Array.isArray(t)){if(r=t.length,r!==i.length)return!1;for(n=r-1;n>=0;n--)if(!Op.deepEqual(t[n],i[n]))return!1;return!0}const s=Object.keys(t);if(r=s.length,r!==Object.keys(i).length)return!1;for(n=r-1;n>=0;n--){const o=s[n];if(!(Op.skipKeys.has(o)||Object.hasOwn(i,o)&&Op.deepEqual(t[o],i[o])))return!1}return!0}return!1}};Kie.skipKeys=new Set(["id","idsMap","type","scopes"]);var qie=Kie,cp=new class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(e=>!this.hidden.has(e))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},f_=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function bv(e){return f_.find(t=>"series"===t.type&&t.identifier===e)?.chartTypes}function bze(e){if(!function yze(e){return"enterprise"===e.packageType}(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=f_.find(i=>i.type===e.type&&i.optionsKey===e.optionsKey&&i.identifier===e.identifier&&e.chartTypes.every(n=>i.chartTypes.includes(n)));return t&&(t.useCount??(t.useCount=0),t.useCount++),null!=t}var uB=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:n}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,n)}create(e,t){const i=this.legendMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},Zie=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return"cartesian"===this.get(e)}isPolar(e){return"polar"===this.get(e)}isHierarchy(e){return"hierarchy"===this.get(e)}isTopology(e){return"topology"===this.get(e)}isFlowProportion(e){return"flow-proportion"===this.get(e)}isStandalone(e){return"standalone"===this.get(e)}isGauge(e){return"gauge"===this.get(e)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}get gaugeTypes(){return this.seriesTypes.filter(e=>this.isGauge(e))}},wze=class extends Map{set(e,t){return super.set(e,$i(t,this.get(e)))}},Yr=new Zie,Qie=new Zie,hB=new wze,Cc=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:n,defaultAxes:r,themeTemplate:s,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:d,hidden:u}){this.setThemeTemplate(e,s),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:n,defaultAxes:r,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:d}),Yr.set(e,t),u||Qie.set(e,t)}create(e,t){const i=this.seriesMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e,t){const i=this.seriesMap.get(e)?.defaultAxes;return null==i?null:{axes:Eo("function"==typeof i?i(t):i)}}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,$i(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getPaletteFactory(e){return this.seriesMap.get(e)?.paletteFactory}getTooltipDefauls(e){return this.seriesMap.get(e)?.tooltipDefaults}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}},pB=class Cy extends Hu{constructor(t){super(),this.chart=t}subscribe(t=Cy.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,Cy.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=Cy.DEFAULT_GROUP){return this.get(t)?.delete(this.chart),this}getChart(){return this.chart}getGroup(t=Cy.DEFAULT_GROUP){const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=Cy.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return Cy.chartsGroups.get(t)}};pB.chartsGroups=new Map,pB.DEFAULT_GROUP=Symbol("sync-group-default");var Sze=pB,gB=class extends Fi{constructor(){super(...arguments),this.enabled=!1}};E([L(Jt)],gB.prototype,"enabled",2),E([L(ar)],gB.prototype,"tabIndex",2);var Xie=["top","right","bottom","left"];function Dze(e){return"string"==typeof e&&Xie.includes(e)}var Eze=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function dp(e){const{series:t}=e;if(t)return t[0]?.type??"line"}function m_(e){const t=dp(e);return null!=t&&(Yr.isCartesian(t)||function uze(e){return"cartesian"===bv(e)?.find(i=>"cartesian"===i)}(t))}function AR(e){const t=dp(e);return null!=t&&("polar"===t?(Xe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yr.isPolar(t)||function hze(e){return"polar"===bv(e)?.find(i=>"polar"===i)}(t))}function fB(e){const t=dp(e);return null!=t&&("hierarchy"===t?(Xe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yr.isHierarchy(t)||function pze(e){return"hierarchy"===bv(e)?.find(i=>"hierarchy"===i)}(t))}function mB(e){const t=dp(e);return null!=t&&("topology"===t?(Xe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yr.isTopology(t)||function gze(e){return"topology"===bv(e)?.find(i=>"topology"===i)}(t))}function vB(e){const t=dp(e);return null!=t&&("flow-proportion"===t?(Xe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yr.isFlowProportion(t)||function fze(e){return"flow-proportion"===bv(e)?.find(i=>"flow-proportion"===i)}(t))}function yB(e){const t=dp(e);return null!=t&&("standalone"===t?(Xe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yr.isStandalone(t)||function mze(e){return"standalone"===bv(e)?.find(i=>"standalone"===i)}(t))}function TR(e){const t=dp(e);return null!=t&&("gauge"===t?(Xe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yr.isGauge(t)||function vze(e){return"gauge"===bv(e)?.find(i=>"gauge"===i)}(t))}function Rze(e){return null!=e&&cp.has(e)}var kze=class extends CV{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&Lu(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())"legend"===e.type&&(yield{legendType:e.identifier,legend:t})}},bB="ag-chart-overlay",Jie="ag-chart-dark-overlay",D1=class extends Fi{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){if(this.content?.remove(),this.focusBox=i,this.renderer){const n=this.renderer();if(n instanceof HTMLElement)this.content=n;else{const r=$n("div");r.innerHTML=n,this.content=r.firstElementChild}}else{const n=$n("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});n.innerText=this.getText(t),this.content=n,e?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){n.style.opacity=String(r)},onStop(){n.style.opacity="1"}})}return this.content}removeElement(e=(()=>this.content?.remove()),t){if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};E([L(et,{optional:!0})],D1.prototype,"text",2),E([L(Hl,{optional:!0})],D1.prototype,"renderer",2);var M1=class extends Fi{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new D1("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new D1("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new D1("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries])if(void 0!==t.focusBox)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};E([L(Jt)],M1.prototype,"darkTheme",2),E([L(Tt)],M1.prototype,"loading",2),E([L(Tt)],M1.prototype,"noData",2),E([L(Tt)],M1.prototype,"noVisibleSeries",2);var ene=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(ene||{}),E1=class{constructor(e,t,{datum:i},n){this.type=e,this.event=t,this.datum=i,this.seriesId=n.id}},_B=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},v_=class extends Wte{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=E1,this.internalId=nd(this),this.rootGroup=new Ti({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new CV,this._declarationOrder=-1,this.seriesListeners=new mv,this._pickNodeCache=new RV;const{moduleCtx:t,pickModes:i,directionKeys:n={},directionNames:r={},contentGroupVirtual:s=!0,canHaveAxes:o=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=r,this.canHaveAxes=o,this.contentGroup=this.rootGroup.appendChild(new rp({name:`${this.internalId}-content`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new rp({name:`${this.internalId}-highlight`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new Ti({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Ti({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new rp({name:`${this.internalId}-series-labels`,zIndex:14})),this.annotationGroup=new Ti({name:`${this.id}-annotation`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:n,visible:r}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:r,seriesGrouping:t}),this.fireEvent(new _B(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e,t=0){let i=0;switch(e){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":t+=15e3;break;case"annotation":i+=15e3}return[()=>this._declarationOrder+i,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),n=t?.[i],r=[];if(!n)return r;const s=(...o)=>{for(const a of o)Array.isArray(a)?s(...a):"object"==typeof a?s(...Object.values(a)):r.push(a)};return s(...n.map(o=>this.properties[o])),r}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules(n=>n.getDomain(e));return t.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||1===t)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return t}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||void 0===t)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){const e=this.ctx.highlightManager?.getActiveHighlight()?.series;return null==e?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNode(e,t,i=!1){const{pickModes:n,pickModeAxis:r,visible:s,rootGroup:o}=this;if(!s||!o.visible||"highlight"===t&&!this.properties.highlight.enabled||"highlight-tooltip"===t&&!this.properties.highlight.enabled)return;let a=1/0;if("tooltip"===t||"highlight-tooltip"===t){const{tooltip:h}=this.properties;a="number"==typeof h.range?h.range:1/0,i||(i="exact"===h.range)}else if("event"===t||"context-menu"===t){const{nodeClickRange:h}=this.properties;a="number"==typeof h?h:1/0,i||(i="exact"===h)}const l=n.filter(h=>!i||0===h),{x:c,y:d}=e,u=JSON.stringify({x:c,y:d,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(u))return this._pickNodeCache.get(u);for(const h of l){let g;switch(h){case 0:g=this.pickNodeExactShape(e);break;case 1:g=this.pickNodeClosestDatum(e);break;case 2:g=null!=h?this.pickNodeMainAxisFirst(e,"main-category"===r):void 0}if(g&&g.distance<=a)return this._pickNodeCache.set(u,{pickMode:h,match:g.datum,distance:g.distance})}return this._pickNodeCache.set(u,void 0)}pickNodeExactShape(e){const t=this.contentGroup.pickNode(e.x,e.y);if(t&&!0!==t.datum.missing)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const i=GT(e.x,e.y,t);if(void 0!==i.nearest&&!0!==i.nearest.datum.missing)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t,i=String){return e.formatter?this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...t})??i(t.value):i(t.value)}getMarkerStyle(e,t,i=e.getStyle()){const r=$i({size:t.datum.point?.size??0},i);return e.itemStyler?$i(this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...r,...t,datum:t.datum.datum}),r):r}updateMarkerStyle(e,t,i,n=t.getStyle(),{applyTranslation:r=!0,selected:s=!0}={}){const{point:o}=i.datum,a=this.getMarkerStyle(t,i,n),l=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);if(e.setProperties(r?{visible:l,...a,translationX:o?.x,translationY:o?.y}:{visible:l,...a}),s||(e.fillOpacity*=.25,e.strokeOpacity*=.125),"function"==typeof t.shape&&!e.dirtyPath){e.path.clear(!0),e.updatePath(),e.checkPathDirty();const c=e.getBBox();if(void 0!==o&&c.isFinite()){const d=c.computeCenter(),[u,h]=["x","y"].map(m=>(a.strokeWidth??0)+Math.abs(d[m]-o[m])),g=Math.max(c.width+u,c.height+h);o.focusSize=g}}}getMinRects(e,t){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},n=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,r=null!=dd(this.nodeDataDependencies,n);return r&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),r}pickFocus(e){}};function Bze({defs:e,values:t,xAxis:i,yAxis:n}){if(!i||!n)throw new Error("Axes must be defined");const r={};for(const[s,{def:o}]of e)if(Object.hasOwn(t,s)){const{scale:a}="key"===o.type?i:n;r[s]=Math.round(a.convert(t[s]))}return r}function y_(e,t,i,n){const r=[...e].reverse();let s;for(const o of r){if(!o.visible||!o.rootGroup.visible)continue;const{match:a,distance:l}=o.pickNode(t,i,n)??{};if(a&&null!=l&&((!s||s.distance>l)&&(s={series:o,distance:l,datum:a}),0===l))break}return s}v_.highlightedZIndex=1e12,E([Qa({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],v_.prototype,"seriesGrouping",2);var Gze=class extends Hu{constructor(e){super(),this.chart=e,this.id=nd(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="mouse",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=function c5e(e){return $te((t,i)=>Do().requestAnimationFrame(t),e)}(()=>{if(this.tooltip.lastHover||this.highlight.pendingHoverEvent){if(this.chart.getUpdateType()<=4)return void this.hoverScheduler.schedule();this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});const t=e.ctx.regionManager.getRegion("series"),i=e.ctx.regionManager.getRegion("horizontal-axes"),n=e.ctx.regionManager.getRegion("vertical-axes"),o=e.ctx.domManager.addChild("series-area","series-area-aria-label");this.ariaLabel=new class{constructor(e,t){this.element=e,this.id=t,e.id=t,e.style.display="none",Wl(e.parentElement,"aria-labelledby",t)}layoutComplete(e){this.element.parentElement.style.width=`${e.chart.width}px`,this.element.parentElement.style.height=`${e.chart.height}px`}set text(e){this.element.textContent=e}}(o,`${this.id}-aria-label`),this.destroyFns.push(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label"),t.addListener("contextmenu",a=>this.onContextMenu(a),63),t.addListener("drag",a=>this.onHoverLikeEvent(a),41),t.addListener("hover",a=>this.onHover(a),41),t.addListener("leave",()=>this.onLeave(),41),i.addListener("hover",a=>this.onHover(a),41),i.addListener("leave",()=>this.onLeave()),n.addListener("hover",a=>this.onHover(a),41),n.addListener("leave",()=>this.onLeave()),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.domManager.addListener("resize",()=>this.clearAll()),e.ctx.highlightManager.addListener("highlight-change",a=>this.changeHighlightDatum(a)),e.ctx.keyNavManager.addListener("blur",()=>this.onBlur()),e.ctx.keyNavManager.addListener("focus",a=>this.onFocus(a),34),e.ctx.keyNavManager.addListener("nav-hori",a=>this.onNavHori(a),34),e.ctx.keyNavManager.addListener("nav-vert",a=>this.onNavVert(a),34),e.ctx.keyNavManager.addListener("submit",a=>this.onSubmit(a),34),e.ctx.layoutManager.addListener("layout:complete",a=>this.layoutComplete(a)),e.ctx.regionManager.listenAll("click",a=>this.onClick(a)),e.ctx.regionManager.listenAll("dblclick",a=>this.onClick(a)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),e.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}dataChanged(){var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.focusIndicator.updateBounds(void 0),this.clearHighlight()}preSceneRender(){this.refreshFocus(),null!=this.highlight.stashedHoverEvent&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),null!=this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,i)=>{let n=t.properties.focusPriority??1/0,r=i.properties.focusPriority??1/0;return n===r&&([n,r]=[t._declarationOrder,i._declarationOrder]),n<r?-1:n>r?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.ariaLabel.layoutComplete(e)}onContextMenu(e){const{Default:t,ContextMenu:i}=bR;let n,r;if(this.chart.ctx.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(r=ws.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.chart.ctx.interactionManager.getState()&(t|i)){const s=y_(this.series,{x:e.regionOffsetX,y:e.regionOffsetY},"context-menu");s&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=s.datum)}this.clearAll(),this.chart.ctx.contextMenuRegistry.dispatchContext("series",e,{pickedNode:n},r)}onLeave(){this.chart.ctx.cursorManager.updateCursor(this.id),this.chart.ctx.focusIndicator.isFocusVisible()||this.clearAll()}onHover(e){this.hoverDevice="mouse",this.onHoverLikeEvent(e)}onHoverLikeEvent(e){if(bee(e,"drag")&&(this.tooltip.lastHover=e),this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),32===this.chart.ctx.interactionManager.getState()){const{regionOffsetX:t,regionOffsetY:i}=e,n=y_(this.series,{x:t,y:i},"event");n?.series.hasEventListener("nodeClick")||n?.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.cursorManager.updateCursor(this.id,"pointer"):this.chart.ctx.cursorManager.updateCursor(this.id)}}onClick(e){if(this.hoverDevice="mouse",this.onHoverLikeEvent(e),this.seriesRect?.containsPoint(e.offsetX,e.offsetY)&&this.checkSeriesNodeClick(e))return this.update(4),void e.preventDefault();this.chart.fireEvent({type:"click"===e.type?"click":"doubleClick",event:e.sourceEvent})}onFocus(e){this.hoverDevice=this.chart.ctx.focusIndicator.isFocusVisible()?"keyboard":"mouse",this.handleFocus(0,0),e.preventDefault()}onBlur(){this.hoverDevice="mouse",this.clearAll()}onNavVert(e){this.hoverDevice="keyboard",this.focus.seriesIndex+=e.delta,this.handleFocus(e.delta,0),e.preventDefault()}onNavHori(e){this.hoverDevice="keyboard",this.focus.datumIndex+=e.delta,this.handleFocus(0,e.delta),e.preventDefault()}onSubmit(e){const{series:t,datum:i}=this.focus,n=e.sourceEvent.sourceEvent;void 0!==t&&void 0!==i?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),e.preventDefault()}checkSeriesNodeClick(e){let t={x:e.regionOffsetX,y:e.regionOffsetY};"series"!==e.region&&(t=ws.fromCanvasPoint(this.chart.seriesRoot,e.offsetX,e.offsetY));const i=y_(this.series,t,"event");return null!=i&&("click"===e.type?(i.series.fireNodeClickEvent(e.sourceEvent,i.datum),!0):"dblclick"===e.type&&(e.preventZoomDblClick=0===i.distance,i.series.fireNodeDoubleClickEvent(e.sourceEvent,i.datum),!0))}refreshFocus(){this.chart.ctx.focusIndicator.isFocusVisible()&&this.handleSeriesFocus(0,0)}handleFocus(e,t){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);null==i?this.handleSeriesFocus(e,t):this.chart.ctx.focusIndicator.updateBounds(i.rect)}handleSeriesFocus(e,t){if("hierarchy"===this.chart.chartType)return void this.handleHierarchySeriesFocus(e,t);const{focus:i,seriesRect:n}=this,r=i.sortedSeries.filter(l=>l.visible);if(0===r.length)return;i.seriesIndex=Si(0,i.seriesIndex,r.length-1),i.series=r[i.seriesIndex];const{datumIndex:s,seriesIndex:o}=i,a=i.series.pickFocus({datumIndex:s,datumIndexDelta:t,otherIndex:o,otherIndexDelta:e,seriesRect:n});this.updatePickedFocus(a)}handleHierarchySeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:i,seriesIndex:n,datumIndex:r},seriesRect:s}=this;if(void 0===i)return;const o=i.pickFocus({datumIndex:r,datumIndexDelta:t,otherIndex:n,otherIndexDelta:e,seriesRect:s});this.updatePickedFocus(o)}updatePickedFocus(e){const{focus:t}=this;if(void 0===e||void 0===t.series)return;const{datum:i,datumIndex:n}=e;t.datumIndex=n,t.datum=i,this.chart.ctx.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset();const r=function Vze(e,t){!function Nze(e,t){const{bounds:i,showFocusBox:n}=t;n&&e?.updateBounds(i)}(e,t);const{x:i,y:n}=function Lze(e){if(null!=e)return e instanceof It?e.computeCenter():ws.toCanvas(e).computeCenter()}(t.bounds)??{};if(void 0!==i&&void 0!==n)return{type:"keyboard",offsetX:i,offsetY:n}}(this.chart.ctx.focusIndicator,e);if(void 0!==r&&"keyboard"===this.hoverDevice){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const s=t.series.getTooltipHtml(i),o=IR.makeTooltipMeta(r,i);this.chart.ctx.highlightManager.updateHighlight(this.id,i),this.chart.ctx.tooltipManager.updateTooltip(this.id,o,s),this.ariaLabel.text=this.getDatumAriaText(i,s)}}getDatumAriaText(e,t){const i=t.ariaLabel;return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:e.series.getDatumAriaText?.(e,i)??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.chart.ctx.focusIndicator.updateBounds(void 0)}handleHoverHighlight(e){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t)return;const i=this.chart.ctx.interactionManager.getState();if(32!==i&&8!==i&&1!==i)return;const{offsetX:n,offsetY:r}=t;if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,r))return void this.clearHighlight();let s={x:t.regionOffsetX,y:t.regionOffsetY};"series"!==t.region&&(s=ws.fromCanvasPoint(this.chart.seriesRoot,n,r));const{range:o}=this.chart.highlight,l=y_(this.series,s,"tooltip"===o?"highlight-tooltip":"highlight");if(l)return this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),void(this.hoverDevice="mouse");this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(e,t){const i=this.chart.ctx.interactionManager.getState();if(32!==i&&8!==i&&1!==i)return;const{offsetX:n,offsetY:r,targetElement:s,regionOffsetX:o,regionOffsetY:a}=e;if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,r))return void("mouse"==this.hoverDevice&&this.clearTooltip());if(s&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(s,"canvas-overlay",Bu))return;let l={x:o,y:a};"series"!==e.region&&(l=ws.fromCanvasPoint(this.chart.seriesRoot,n,r));const c=y_(this.series,l,"tooltip");if(!c)return void("mouse"==this.hoverDevice&&this.clearTooltip());this.hoverDevice="mouse";const d=c.series.getTooltipHtml(c.datum);if(this.chart.tooltip.enabled&&c.series.tooltipEnabled&&null!=d){const g=IR.makeTooltipMeta(e,c.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,g,d)}}changeHighlightDatum(e){const t=new Set,{series:i,datum:n}=e.currentHighlight??{},{series:r,datum:s}=e.previousHighlight??{};r&&t.add(r),i&&t.add(i),r?.properties.cursor&&s&&this.chart.ctx.cursorManager.updateCursor(r.id),i?.properties.cursor&&"default"!==i?.properties.cursor&&n&&this.chart.ctx.cursorManager.updateCursor(i.id,i.properties.cursor),null==i||null==r?this.update(4):this.update(4,{seriesToUpdate:t})}},jze=class{constructor(e,t,i,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(e=>Xe.errorOnce(e))}onZoomChange(){this.dirtyZoom=!0}updateWindow(){var e=this;return(0,J.A)(function*(){if(!e.dataService.isLazy())return;const t=e.getValidAxis();let i,n=!0;if(t){const r=e.zoomManager.getAxisZoom(t.id);i=e.getAxisWindow(t,r),n=e.shouldRefresh(t,r)}e.dirtyZoom=!1,e.dirtyDataSource=!1,n&&e.dataService.load({windowStart:i?.min,windowEnd:i?.max})})()}getValidAxis(){return this.chart.axes.find(e=>"time"===e.type)}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return!(i&&t.min===i.min&&t.max===i.max||(this.lastAxisZooms.set(e.id,t),0))}getAxisWindow(e,t){const i=e.scale.getDomain?.();if(!t||!i||0===i.length||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]);return{min:new Date(Number(i[0])+n*t.min),max:new Date(Number(i[0])+n*t.max)}}},Uze=class{constructor(e,t,i,n,r,s,o){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=n,this.localeManager=r,this.animationManager=s,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(bB),this.destroyFns.push(this.layoutManager.addListener("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),i=this.chartLike.series.some(l=>l.hasData),n=this.chartLike.series.some(l=>l.visible);this.overlays.darkTheme?this.overlayElem.classList.add(Jie):this.overlayElem.classList.remove(Jie),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const r=t,s=!t&&!i,o=i&&!n;r?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),s?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),Wl(this.overlayElem,"aria-hidden",!(r||s||o))}showOverlay(e,t){const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText="\xa0"},this.animationManager)}},Yd=vr.create(!0,"opts"),CB=class extends Fi{constructor(){super(...arguments),this.padding=new Hg(0)}};E([L(Jt,{optional:!0})],CB.prototype,"clip",2),E([L(Tt)],CB.prototype,"padding",2);var Ao=class Zue extends Wte{constructor(t,i){var n,r;super(),n=this,this.id=nd(this),this.seriesRoot=new rp({name:`${this.id}-series-root`}),this.highlightRoot=new l_({name:`${this.id}-highlight-root`,zIndex:5,deriveZIndexFromChildren:!0}),this.annotationRoot=new l_({name:`${this.id}-annotation-root`,zIndex:10}),this.debug=vr.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Hg(20),this.seriesArea=new CB,this.keyboard=new gB,this.mode="standalone",this.chartCaptions=new yR,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new kze,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>Xe.errorOnce(i))})}acquireImmediately(e){var t=this;return(0,J.A)(function*(){return!!t.available&&(yield t.acquire(e),!0)})()}waitForClearAcquireQueue(){var e=this;return(0,J.A)(function*(){return e.acquire((0,J.A)(function*(){}))})()}dispatchNext(){var e=this;return(0,J.A)(function*(){e.available=!1;let[t,i]=e.acquireQueue.shift()??[];for(;t;){try{yield t(),i?.()}catch(n){Xe.error("mutex callback error",n),i?.()}[t,i]=e.acquireQueue.shift()??[]}e.available=!0})()}},this.updateRequestors={},this.performUpdateTrigger=function d5e(e){return $te((t,i=0)=>setTimeout(t,i),e)}(function(){var h=(0,J.A)(function*({count:g}){n.destroyed||n.updateMutex.acquire((0,J.A)(function*(){try{yield n.performUpdate(g)}catch(m){Xe.error("update error",m)}})).catch(m=>Xe.errorOnce(m))});return function(g){return h.apply(this,arguments)}}()),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=h=>{this.fireEvent({...h,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=h=>{this.fireEvent({...h,type:"seriesNodeDoubleClick"})},this.seriesGroupingChanged=h=>{if(!(h instanceof _B))return;const{series:g,seriesGrouping:m,oldGrouping:y}=h;g.rootGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:g.internalId,type:g.type,rootGroup:g.rootGroup,highlightGroup:g.highlightGroup,annotationGroup:g.annotationGroup,getGroupZIndexSubOrder:_=>g.getGroupZIndexSubOrder(_),seriesGrouping:m,oldGrouping:y})},this.chartOptions=t;const s=i?.scene,o=i?.container??t.processedOptions.container??void 0,a=i?.styleContainer??t.specialOverrides.styleContainer,l=new Ti({name:"root"}),c=new zu({name:"titles",zIndex:14});l.visible=!1,l.append(c),l.append(this.seriesRoot),l.append(this.highlightRoot),l.append(this.annotationRoot),c.append(this.title.node),c.append(this.subtitle.node),c.append(this.footnote.node),this.tooltip=new ud,this.seriesLayerManager=new class{constructor(e,t,i){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,i;const{internalId:n,type:r,rootGroup:s,highlightGroup:o,annotationGroup:a,seriesGrouping:l}=e,{groupIndex:c=n}=l??{};if(null!=this.series[n])throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),(t=this.groups)[r]??(t[r]={});const d=this.lookupIdx(c),u=(i=this.groups[r])[d]??(i[d]={type:r,id:d,seriesIds:[],group:this.seriesRoot.appendChild(new zu({name:`${r}-content`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new Ti({name:`${r}-highlight`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new Ti({name:`${r}-annotation`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))});return this.series[n]={layerState:u,seriesConfig:e},u.seriesIds.push(n),u.group.appendChild(s),u.highlight.appendChild(o),u.annotation.appendChild(a),u.group}changeGroup(e){const{internalId:t,seriesGrouping:i,type:n,rootGroup:r,highlightGroup:s,annotationGroup:o,oldGrouping:a}=e,{groupIndex:l=t}=i??{};this.groups[n]?.[l]?.seriesIds.includes(t)||(null!=this.series[t]&&this.releaseGroup({internalId:t,seriesGrouping:a,type:n,rootGroup:r,highlightGroup:s,annotationGroup:o}),this.requestGroup(e))}releaseGroup(e){const{internalId:t,rootGroup:i,highlightGroup:n,annotationGroup:r,type:s}=e;if(null==this.series[t])throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const o=this.series[t]?.layerState;if(o&&(o.seriesIds=o.seriesIds.filter(a=>a!==t),o.group.removeChild(i),o.highlight.removeChild(n),o.annotation.removeChild(r)),0===o?.seriesIds.length)this.seriesRoot.removeChild(o.group),this.highlightRoot.removeChild(o.highlight),this.annotationRoot.removeChild(o.annotation),delete this.groups[o.type][o.id],delete this.groups[s][t];else if(o?.seriesIds.length>0){const a=this.series[o?.seriesIds?.[0]]?.seriesConfig;o.group.zIndexSubOrder=a?.getGroupZIndexSubOrder("data"),o.highlight.zIndexSubOrder=a?.getGroupZIndexSubOrder("highlight"),o.annotation.zIndexSubOrder=a?.getGroupZIndexSubOrder("annotation")}delete this.series[t]}lookupIdx(e){return"normal"===this.mode?e:"string"!=typeof e||(e=Number(e.split("-").at(-1)))?Math.floor(30*Si(0,e/this.expectedSeriesCount,1)):0}destroy(){for(const e of Object.values(this.groups))for(const t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}}(this.seriesRoot,this.highlightRoot,this.annotationRoot),this.mode=t.userOptions.mode??this.mode;const d=this.ctx=new class{constructor(e,t){this.callbackCache=new class{constructor(){this.cache=new WeakMap}call(e,...t){let i,n=this.cache.get(e);try{i=JSON.stringify(t)}catch{return this.invoke(e,t,n)}return null==n&&(n=new Map,this.cache.set(e,n)),n.has(i)?n.get(i):this.invoke(e,t,n,i)}invoke(e,t,i,n){try{const r=e(...t);return i&&null!=n&&i.set(n,r),r}catch(r){return void Xe.warnOnce("User callback errored, ignoring",r)}}invalidateCache(){this.cache=new WeakMap}},this.chartEventManager=new Eie,this.highlightManager=new Pie,this.layoutManager=new Kte,this.localeManager=new O5e,this.seriesStateManager=new class{constructor(){this.groups={}}registerSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var r;t&&((r=this.groups)[n]??(r[n]={}),this.groups[n][e]={grouping:t,visible:i})}updateSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){if(!t)return;const r=this.groups[n]?.[e];r&&(r.grouping=t,r.visible=i)}deregisterSeries({internalId:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&0===Object.keys(this.groups[t]).length&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const n=new Set,r=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&r.add(o.grouping.stackIndex));const s=Array.from(n);return s.sort((o,a)=>o-a),{visibleGroupCount:s.length,visibleSameStackCount:r.size,index:s.indexOf(t.groupIndex)}}},this.stateManager=new class{constructor(){this.caretaker=new Xte(b1),this.state=new Map}setState(e,t){null!=dd(this.state.get(e.mementoOriginatorKey),t)&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}},this.toolbarManager=new Gie,this.zoomManager=new Hie;const{scene:i,root:n,syncManager:r,container:s,updateCallback:o,updateMutex:a,pixelRatio:l,styleContainer:c}=t;this.chartService=e,this.syncManager=r,this.domManager=new aie(s,c);const d=this.domManager.addChild("canvas","scene-canvas",i?.canvas.element);this.scene=i??new nB({pixelRatio:l,canvasElement:d}),this.scene.setRoot(n),this.axisManager=new class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new zu({name:"Axes-Grids",zIndex:1}),this.axisGroup=new zu({name:"Axes",zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){for(const i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of t)e?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const i of t){const n=i.createAxisContext();this.axes.has(n.direction)?this.axes.get(n.direction)?.push(n):this.axes.set(n.direction,[n])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}}(n),this.annotationManager=new W5e(e.annotationRoot),this.cursorManager=new Tie(this.domManager),this.interactionManager=new Sie(e.keyboard,this.domManager),this.focusIndicator=new class{constructor(e){this.domManager=e,this.div=Hd().createElement("div"),this.svg=Hd().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=Hd().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=e.addChild("series-area",xR),this.element.classList.add(xR),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(xR),this.domManager.removeChild("series-area",xR)}updateBounds(e){void 0!==e&&(e instanceof Ca?(this.path.setAttribute("d",e.svgPathData((i,n)=>ws.toCanvasPoint(e,i,n))),this.show(this.svg)):(Eg(this.div,e),this.show(this.div)))}show(e){this.element.innerHTML="",this.element.append(e)}getFocusableElement(){const e=this.element.parentElement;if(null==e||0!==e.tabIndex&&-1!==e.tabIndex)throw new Error("AG Charts - the focus indicator must be a child of a focusable element");return e}overrideFocusVisible(e){this.getFocusableElement().style.setProperty("opacity",{true:"1",false:"0",undefined:""}[`${e}`])}isFocusVisible(){const e=this.getFocusableElement();return null!=e&&"1"===Do().getComputedStyle(e).opacity}}(this.domManager),this.keyNavManager=new Fie(this.focusIndicator,this.interactionManager,e.mode),this.regionManager=new zie(this.interactionManager),this.contextMenuRegistry=new Iie(this.regionManager),this.gestureDetector=new kie(this.domManager),this.updateService=new jie(o),this.proxyInteractionService=new class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=uie(e),{params:i,result:n}=t;return this.domManager.addChild("canvas-proxy",i.id,n),n.classList.add(...i.classList,"ag-charts-proxy-container"),n.role=i.type,"ariaOrientation"in i&&(n.ariaOrientation=i.ariaOrientation),"boolean"==typeof i.ariaHidden&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(e){const t=uie(e);if(SR("button",t)){const{params:i,result:n}=t;if(this.initInteract(i,n),n.style.pointerEvents="auto","string"==typeof i.textContent)n.textContent=i.textContent;else{const{textContent:r}=i;this.addLocalisation(()=>{n.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(i,n)}if(SR("slider",t)){const{params:i,result:n}=t;this.initInteract(i,n),n.type="range",n.role="presentation",n.style.margin="0px",n.ariaOrientation=i.ariaOrientation,this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(i,n)}if(SR("text",t)){const{params:i,result:n}=t;this.initElement(i,n.getContainer()),this.setParent(i,n.getContainer())}if(SR("listswitch",t)){const{params:i,result:{button:n,listitem:r}}=t;this.initInteract(i,n),n.style.width="100%",n.style.height="100%",n.textContent=i.textContent,n.role="switch",n.ariaChecked=i.ariaChecked.toString(),n.style.pointerEvents="auto",n.setAttribute("aria-describedby",i.ariaDescribedBy),r.role="listitem",r.style.position="absolute",r.replaceChildren(n),this.setParent(i,r)}return t.result}initElement(e,t){const{id:i}=e;t.id=i,t.classList.toggle("ag-charts-proxy-elem",!0)}initInteract(e,t){const{onclick:i,ondblclick:n,onmouseenter:r,onmouseleave:s,oncontextmenu:o,onchange:a,onfocus:l,onblur:c,tabIndex:d}=e;this.initElement(e,t),void 0!==d&&(t.tabIndex=d),i&&t.addEventListener("click",i),n&&t.addEventListener("dblclick",n),r&&t.addEventListener("mouseenter",r),s&&t.addEventListener("mouseleave",s),o&&t.addEventListener("contextmenu",o),l&&t.addEventListener("focus",l),c&&t.addEventListener("blur",c),a&&t.addEventListener("change",a)}setParent(e,t){const{id:i,parent:n}=e;"string"==typeof n?this.domManager.addChild("canvas-proxy",i,t,{where:n,query:".ag-charts-series-area"}):n.appendChild(t)}}(this.localeManager,this.domManager),this.historyManager=new class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=vr.create(!0,"history"),this.destroyFns=new Zte,this.destroyFns.setFns([e.addListener("undo",this.undo.bind(this),63),e.addListener("redo",this.redo.bind(this),63)])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const n of t){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:e,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const i=this.findPreviousMemento(t);if(i===Qte)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):Qte}restoreMemento(e,t){this.originators.get(e)?.restoreMemento(b1,b1,t)}debugEvent(...e){this.debug(...e,this.history.map((t,i)=>i===this.historyIndex?`** ${t.label} **`:t.label))}}(this.keyNavManager),this.animationManager=new Mie(this.interactionManager,a),this.dataService=new MR(this.animationManager),this.tooltipManager=new IR(this.domManager,e.tooltip),this.zoomManager.addLayoutListeners(this.layoutManager)}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.contextMenuRegistry.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.interactionManager.destroy(),this.keyNavManager.destroy(),this.focusIndicator.destroy(),this.proxyInteractionService.destroy(),this.regionManager.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy()}}(this,{scene:s,root:l,container:o,styleContainer:a,syncManager:new Sze(this),pixelRatio:t.specialOverrides.overrideDevicePixelRatio,updateCallback:(h=0,g)=>this.update(h,g),updateMutex:this.updateMutex});this._destroyFns.push(d.domManager.addListener("resize",()=>this.parentResize(d.domManager.containerSize))),this.overlays=new M1,(r=this.overlays.loading).renderer??(r.renderer=()=>function Pze(e,t){const{animationDuration:i}=r1.add,r=$n("div",`${bB}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i*t}ms linear 50ms both`}),s=$n("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=$n("p",{marginTop:"1em"});o.innerText=e;const a=$n("div",`${bB}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=$n("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,s,o,a),r}(this.overlays.loading.getText(d.localeManager),d.animationManager.defaultDuration)),this.processors=[new jze(this,d.dataService,d.updateService,d.zoomManager),new Uze(this,this.overlays,d.dataService,d.layoutManager,d.localeManager,d.animationManager,d.domManager)],this.highlight=new Uie,this.container=o;const u=this.getModuleContext();d.regionManager.addRegion("series",this.seriesRoot,new Lie(this.seriesRoot,()=>this.seriesRect??It.zero),this.ctx.axisManager.axisGridGroup),d.regionManager.addRegion("horizontal-axes"),d.regionManager.addRegion("vertical-axes"),d.regionManager.addRegion("root",l),d.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Gze(this.initSeriesAreaDependencies()),this._destroyFns.push(d.layoutManager.registerElement(0,h=>{h.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(h)}),d.layoutManager.addListener("layout:complete",h=>this.chartCaptions.positionAbsoluteCaptions(h)),d.dataService.addListener("data-load",h=>{this.data=h.data}),this.title.registerInteraction(u,"beforebegin"),this.subtitle.registerInteraction(u,"beforebegin"),this.footnote.registerInteraction(u,"afterend"),d.interactionManager.addListener("page-left",()=>this.destroy()),d.animationManager.addListener("animation-frame",()=>{this.update(6)}),d.animationManager.addListener("animation-start",()=>d.domManager.setDataBoolean("animating",!0)),d.animationManager.addListener("animation-stop",()=>d.domManager.setDataBoolean("animating",!1)),d.zoomManager.addListener("zoom-change",()=>{this.series.forEach(g=>g.animationState?.transition("updateData")),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:"initial"!==this.chartAnimationPhase})})),this.parentResize(d.domManager.containerSize)}static getInstance(t){return Zue.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,i){this.ctx.scene.download(t,i)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}initSeriesAreaDependencies(){const{ctx:t,tooltip:i,highlight:n,overlays:r,seriesRoot:s}=this,o=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:o,ctx:t,tooltip:i,highlight:n,overlays:r,seriesRoot:s}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const i=t?.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(r=>r()),this.processors.forEach(r=>r.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(t){var i=this;this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire((0,J.A)(function*(){i.destroyed||(yield t(i),!i.destroyed&&i._pendingFactoryUpdatesCount--)})).catch(n=>Xe.errorOnce(n)))}update(t=0,i){const{forceNodeDataRefresh:n=!1,skipAnimations:r,seriesToUpdate:s=this.series,newAnimationBatch:o}=i??{};n&&this.series.forEach(a=>a.markNodeDataDirty());for(const a of s)this.seriesToUpdate.add(a);if(r&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=i?.skipSync??!1,this.debug.check()){let a=(new Error).stack??"<unknown>";a=a.replace(/\([^)]*/g,""),this.updateRequestors[a]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i?.backOffMs))}performUpdate(t){var i=this;return(0,J.A)(function*(){const{performUpdateType:n,extraDebugStats:r,_performUpdateSplits:s,ctx:o}=i,a=[...i.seriesToUpdate];i.performUpdateType=7,i.seriesToUpdate.clear(),0===i.updateShortcutCount&&n<6&&(o.animationManager.startBatch(i._performUpdateSkipAnimations),o.animationManager.onBatchStop(()=>i.chartAnimationPhase="ready")),i.debug("Chart.performUpdate() - start",S1[n]);let l=performance.now();s.start??(s.start=l);const c=h=>{s[h]??(s[h]=0),s[h]+=performance.now()-l,l=performance.now()};let d=!1;switch(n){case 0:i.ctx.updateService.dispatchPreDomUpdate(),i.updateDOM();case 1:yield i.updateData(),c("\u2b07\ufe0f");case 2:yield i.processData(),i.seriesAreaManager.dataChanged(),c("\u{1f3ed}");case 3:if(i.checkUpdateShortcut(3))break;if(!i.checkFirstAutoSize(a)){d=!0;break}yield i.processLayout(),c("\u2316");case 4:{if(i.checkUpdateShortcut(4))break;const{seriesRect:h}=i;yield Promise.all(a.map(g=>g.update({seriesRect:h}))),c("\u{1f914}"),i.updateAriaLabels()}case 5:if(i.checkUpdateShortcut(5))break;o.updateService.dispatchPreSceneRender(i.getMinRects()),c("\u2196");case 6:if(i.checkUpdateShortcut(6))break;o.animationManager.endBatch(),r.updateShortcutCount=i.updateShortcutCount,yield o.scene.render({debugSplitTimes:s,extraDebugStats:r,seriesRect:i.seriesRect}),i.extraDebugStats={};for(const h in s)delete s[h];i.ctx.domManager.incrementDataCounter("sceneRenders");case 7:i.updateShortcutCount=0,i.updateRequestors={},i._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}d||(o.updateService.dispatchUpdateComplete(i.getMinRects()),i.ctx.domManager.setDataBoolean("updatePending",!1));const u=performance.now();i.debug("Chart.performUpdate() - end",{chart:i,durationMs:Math.round(100*(u-s.start))/100,count:t,performUpdateType:S1[n]})})()}updateThemeClassName(){const{theme:t}=this.chartOptions.processedOptions,i="ag-charts-theme-",n=[`${i}default`,`${i}default-dark`];let r=n[0],s=!1;"string"==typeof t?(r=t.replace("ag-",i),s=t.includes("-dark")):"string"==typeof t?.baseTheme&&(r=t.baseTheme.replace("ag-",i),s=t.baseTheme.includes("-dark")),n.includes(r)||(r=s?n[1]:n[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabIndex(t?i??0:-1)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?(Xe.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(t){if((null==this.width||null==this.height)&&!this._lastAutoSize){const i=this._performUpdateNoRenderCount++,n=(i+1)**2*40;if(i<8)return this.update(3,{seriesToUpdate:t,backOffMs:n}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",n),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,i){null==i&&0===t.length||this.ctx.axisManager.updateAxes(i??[],t)}onSeriesChange(t,i){const n=i?.filter(r=>!t.includes(r))??[];this.destroySeries(n),this.seriesLayerManager?.setSeriesCount(t.length);for(const r of t){if(i?.includes(r))continue;r.rootGroup.isRoot()&&this.seriesLayerManager.requestGroup(r);const s=this;r.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect},placeLabels:o=>s.placeLabels(o)},r.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(r),r.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(t)}destroySeries(t){t?.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(i=>i.axes[t.direction]===t)}assignAxesToSeries(){const t=hV(this.axes,i=>i.direction);this.series.forEach(i=>{i.directions.forEach(n=>{const r=t[n];if(!r)return void Xe.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);const s=i.getKeys(n),o=r.find(a=>!a.keys.length||s.some(l=>a.keys.includes(l)));o?i.axes[n]=o:Xe.warnOnce(`no matching axis for direction [${n}] and keys [${s}]; check series and axes configuration.`)})})}parentResize(t){if(null==t||null!=this.width&&null!=this.height)return;let{width:i,height:n}=t;if(i=Math.floor(i),n=Math.floor(n),0===i&&0===n)return;const[r=0,s=0]=this._lastAutoSize??[];r===i&&s===n||(this._lastAutoSize=[i,n],this.resize("SizeMonitor",{}))}resize(t,i){const{scene:n,animationManager:r}=this.ctx,{inWidth:s,inHeight:o,inMinWidth:a,inMinHeight:l}=i;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,s??this.width,o??this.height);const c=s??this.width??this._lastAutoSize?.[0],d=o??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${t}`,{width:c,height:d,stack:(new Error).stack}),null!=c&&null!=d&&nn(c)&&nn(d)&&n.resize(c,d)){r.reset();let u=!0;(null==this.width||null==this.height)&&this._firstAutoSize&&(u=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:u})}}updateData(){var t=this;return(0,J.A)(function*(){t.series.forEach(n=>n.setChartData(t.data));const i=t.modulesManager.mapModules(n=>n.updateData?.(t.data));yield Promise.all(i)})()}processData(){var t=this;return(0,J.A)(function*(){t.series.some(s=>s.canHaveAxes)&&(t.assignAxesToSeries(),t.assignSeriesToAxes());const i=new qie(t.mode),n=t.series.map(s=>s.processData(i)),r=t.modulesManager.mapModules(s=>s.processData?.(i));i.execute(),yield Promise.all([...n,...r]);for(const{legendType:s,legend:o}of t.modulesManager.legends())o.data=t.getLegendData(s,"integrated"!==t.mode)})()}placeLabels(t){const i=[],n=[];for(const d of this.series){if(!d.visible)continue;const u=d.getLabelData();e=u?.[0],null!=e&&"object"==typeof e.point&&"object"==typeof e.label&&(n.push(u),i.push(d))}var e;const{seriesRect:r}=this,{top:s,right:o,bottom:a,left:l}=this.seriesArea.padding,c=r&&n.length>0?function V6e(e,t,i=5){const n=[];e=e.map(r=>r.slice().sort((s,o)=>o.point.size-s.point.size));for(let r=0;r<e.length;r++){const s=n[r]=[],o=e[r];if(o?.length&&o[0].label)for(let a=0,l=o.length;a<l;a++){const c=o[a],{point:d,label:u,marker:h}=c,{text:g,width:m,height:y}=u,_=.5*d.size;let x=0,D=0;if(_>0&&null!=c.placement){const P=N6e[c.placement];x=(.5*m+_+i)*P.x,D=(.5*y+_+i)*P.y}const M=d.x-.5*m+x-((h?.center.x??.5)-.5)*d.size,k=d.y-.5*y+D-((h?.center.y??.5)-.5)*d.size;t&&!O6e(t,M,k,m,y)||e.some(P=>P.some(G=>F6e(G.point,G.marker?.center,M,k,m,y)))||n.some(P=>P.some(G=>hte(G,M,k,m,y)))||s.push({index:a,text:g,x:M,y:k,width:m,height:y,datum:c})}}return n}(n,{x:-l,y:-s,width:r.width+l+o,height:r.height+s+a},t):[];return new Map(c.map((d,u)=>[i[u],d]))}getLegendData(t,i){var n;const r=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(t));if(i&&r.every(a=>"category"===a.legendType)){const o={},a=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbols:[{marker:c}],label:d}of r){if(null==c.fill)continue;const u=a.get(l),h=o[u]??(o[u]={});h[n=d.text]??(h[n]=c.fill),h[d.text]!==c.fill&&Xe.warnOnce(`legend item '${d.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return r}processLayout(){var t=this;return(0,J.A)(function*(){const i=t.animationRect,{width:n,height:r}=t.ctx.scene,s=t.ctx.layoutManager.createContext(n,r);yield t.performLayout(s),i&&!t.animationRect?.equals(i)&&t.ctx.animationManager.skipCurrentBatch(),t.debug("Chart.performUpdate() - seriesRect",t.seriesRect)})()}waitForUpdate(t=1e4,i=!1){var n=this;return(0,J.A)(function*(){const r=performance.now();for(n._pendingFactoryUpdatesCount>0&&(yield n.updateMutex.waitForClearAcquireQueue());7!==n.performUpdateType;){if(performance.now()-r>t){const s=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(i)throw new Error(s);Xe.warnOnce(s)}yield a5e(50)}yield n.updateMutex.waitForClearAcquireQueue()})()}getMinRects(){const{width:t,height:i}=this.ctx.scene,n=this.series.map(d=>d.getMinRects(t,i)).filter(Z0);if(0===n.length)return;let r=0,s=0,o=0,a=0;for(const{minRect:d,minVisibleRect:u}of n)r=Math.max(r,d.width),s=Math.max(s,d.height),o=Math.max(o,u.width),a=Math.max(a,u.height);const l=new It(0,0,r,s);let c=l.clone();return o>0&&a>0&&(c=new It(0,0,o,a)),{minRect:l,minVisibleRect:c}}filterMiniChartSeries(t){return t?.filter(i=>!1!==i.showInMiniChart)}applyOptions(t){const n=t!==this.chartOptions?this.chartOptions.processedOptions:{},r=t.processedOptions,s=t.diffOptions(n);if(null==s)return;Yd("Chart.applyOptions() - applying delta",s);const o=this.applyModules(r);s.listeners&&this.registerListeners(this,s.listeners),s_(this,s,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"]});let l=!1,c="no-op";null!=s.series&&(c=this.applySeries(this,s.series,n?.series),l=!0),"replaced"===c&&this.resetAnimations(),this.applyAxes(this,r,n,c,[],!0)&&(l=!0),s.data&&(this.data=s.data),s.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,s.legend.listeners),s.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=s.locale?.localeText),this.chartOptions=t;const d=this.modulesManager.getModule("navigator"),u=this.modulesManager.getModule("zoom");!d?.enabled&&!u?.enabled&&this.ctx.zoomManager.updateZoom("chart");const h=d?.miniChart,g=r.navigator?.miniChart?.series??r.series;!0===h?.enabled&&null!=g?this.applyMiniChartOptions(h,g,r,n):!1===h?.enabled&&(h.series=[],h.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(s,c));const y=l||o?0:3;this.maybeResetAnimations(c),Yd("Chart.applyOptions() - update type",S1[y],{seriesStatus:c,forceNodeDataRefresh:l}),this.update(y,{forceNodeDataRefresh:l,newAnimationBatch:!0}),(s.initialState||s.theme)&&this.applyInitialState(t.userOptions.initialState)}applyInitialState(t){const{ctx:{annotationManager:i,historyManager:n,stateManager:r}}=this;if(null!=t?.annotations){const s=t.annotations.map(o=>$i(o,i.getAnnotationTypeStyles(o.type)));r.setState(i,s)}null!=t&&n.clear()}maybeResetAnimations(t){if("standalone"===this.mode)switch(t){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(t,i){const n=!!t.data||"data-change"===i||"replaced"===i,r=uB.getKeys(),s=Object.values(r).some(a=>null!=t[a]);return n||s||null!=t.title&&null!=t.subtitle}applyMiniChartOptions(t,i,n,r){const s=r?.navigator?.miniChart?.series??r?.series,o=this.applySeries(t,this.filterMiniChartSeries(i),this.filterMiniChartSeries(s));this.applyAxes(t,n,r,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.series;for(const d of a)d.properties.id=void 0;const l=t.axes,c=l.find(d=>"x"===d.direction);for(const d of l)d.gridLine.enabled=!1,d.label.enabled=d===c,d.tick.enabled=!1,d.interactionEnabled=!1;if(null!=c){const d=n.navigator?.miniChart,u=d?.label,h=d?.label?.interval;c.line.enabled=!1,c.label.set(oV(u,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),c.tick.set(oV(h,["enabled","width","size","color","interval","step"]));const g=h?.step;null!=g&&(c.interval.step=g)}}applyModules(t){const{type:i}=this.constructor;let n=!1;for(const r of Gg.byType("root","legend")){const o=null!=t[r.optionsKey]&&r.chartTypes.includes(i);o!==this.modulesManager.isEnabled(r)&&(o?(this.modulesManager.addModule(r,a=>a.moduleFactory(this.getModuleContext())),"legend"===r.type&&this.modulesManager.getModule(r)?.attachLegend(this.ctx.scene),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(t){for(let i=0;i<t.length;i++)t[i]._declarationOrder=i}applySeries(t,i,n){if(!i)return"no-change";const r=function Ize(e,t,i){const n=(d,u,h)=>{const g=[d];for(const m of Eze)m in u&&null!=u[m]&&g.push(`${m}=${u[m]}`);return h?.seriesGrouping&&g.push(`seriesGrouping.groupId=${h?.seriesGrouping.groupId}`),g.join(";")},r=new Map;let s=0;for(const d of e){const u=n(d.type,d.properties,i?.[s]);r.has(u)||r.set(u,[]),r.get(u)?.push([d,s++])}const o=new Map;for(const d of t){const u=n(d.type,d,d);o.has(u)||o.set(u,[]),o.get(u)?.push(d)}if(![...r.keys()].some(d=>o.has(d)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:o.keys()};const l=[];let c=-1;for(const[d,u]of o.entries())for(const h of u){c++;const g=r.get(d);if(null==g||g.length<1){l.push({opts:h,idx:c,status:"add"}),r.delete(d);continue}const[m,y]=g.shift(),x=dd(i?.[y]??{},h??{}),{groupIndex:D,stackIndex:M}=x?.seriesGrouping??{};l.push(null!=D||null!=M?{opts:h,series:m,diff:x,idx:y,status:"series-grouping"}:x?{opts:h,series:m,diff:x,idx:y,status:"update"}:{opts:h,series:m,idx:y,status:"no-op"}),0===g.length&&r.delete(d)}for(const d of r.values())for(const[u,h]of d)l.push({series:u,idx:h,status:"remove"});return{status:"overlap",changes:l}}(t.series,i,n);if("no-overlap"===r.status)return Yd(`Chart.applySeries() - creating new series instances, status: ${r.status}`,r),t.series=i.map(c=>this.createSeries(c)),this.initSeriesDeclarationOrder(t.series),"replaced";Yd("Chart.applySeries() - matchResult",r);const s=[];let o=!1,a=!1,l=!1;for(const c of r.changes)switch(a||(a="series-grouping"===c.status),o||(o=null!=c.diff?.data),l||(l="no-op"!==c.status),c.status){case"add":{const d=this.createSeries(c.opts);s.push(d),Yd("Chart.applySeries() - created new series",d);break}case"remove":Yd(`Chart.applySeries() - removing series at previous idx ${c.idx}`,c.series);break;case"no-op":s.push(c.series),Yd(`Chart.applySeries() - no change to series at previous idx ${c.idx}`,c.series);break;default:{const{series:d,diff:u,idx:h}=c;Yd(`Chart.applySeries() - applying series diff previous idx ${h}`,u,d),this.applySeriesValues(d,u),d.markNodeDataDirty(),s.push(d)}}return this.initSeriesDeclarationOrder(s),Yd("Chart.applySeries() - final series instances",s),t.series=s,a?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,i,n,r,s=[],o=!1){if(!("axes"in i)||!i.axes)return!1;s=["axes[].type",...s];const{axes:a}=i;if("replaced"!==r&&t.axes.length===a.length&&t.axes.every((u,h)=>u.type===a[h].type)&&m_(n))return t.axes.forEach((u,h)=>{const m=dd(n.axes?.[h]??{},a[h]);Yd(`Chart.applyAxes() - applying axis diff idx ${h}`,m),s_(u,m,{path:`axes[${h}]`,skip:s})}),!0;Yd(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${r}`),t.axes=this.createAxis(a,s);const d={x:[],y:[]};return t.axes.forEach(u=>{const{id:h}=u,g=u.getRegionNode();null!=g&&d[u.direction].push({id:h,node:g})}),o&&(this.ctx.regionManager.updateRegion("horizontal-axes",...d.x),this.ctx.regionManager.updateRegion("vertical-axes",...d.y)),!0}createSeries(t){const i=Cc.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(i,t),this.applySeriesValues(i,t),i}applySeriesOptionModules(t,i){const n=t.createModuleContext(),r=t.getModuleMap();for(const s of Gg.byType("series-option"))s.optionsKey in i&&s.seriesTypes.includes(t.type)&&r.addModule(s,o=>o.moduleFactory(n))}applySeriesValues(t,i){const n=t.getModuleMap(),{type:r,data:s,listeners:o,seriesGrouping:a,showInMiniChart:l,...c}=i;for(const d of f_)if("series-option"===d.type&&d.optionsKey in c){const u=n.getModule(d.optionsKey);if(u){const h=c[d.optionsKey];delete c[d.optionsKey],u.properties.set(h)}}t.properties.set(c),"data"in i&&t.setOptionsData(s),o&&this.registerListeners(t,o),"seriesGrouping"in i&&(t.seriesGrouping=null==a?void 0:{...t.seriesGrouping,...a})}createAxis(t,i){const n=[],r=this.getModuleContext();for(let s=0;s<t.length;s++){const o=t[s],a=cp.create(o.type,r);this.applyAxisModules(a,o),s_(a,o,{path:`axes[${s}]`,skip:i}),n.push(a)}return function Mze(e){const t=[],i=[],n=[...Xie];for(const r of e)r instanceof Bg&&(Dze(r.position)?i.push(r.position):t.push(r));for(const r of t){let s;do{s=n.pop()}while(s&&i.includes(s));if(null==s)break;r.position=s}}(n),n}applyAxisModules(t,i){const n=t.createModuleContext(),r=t.getModuleMap();for(const s of Gg.byType("axis-option")){const o=null!=i[s.optionsKey];o!==r.isEnabled(s)&&(o?(r.addModule(s,a=>a.moduleFactory(n)),t[s.optionsKey]=r.getModule(s)):(r.removeModule(s),delete t[s.optionsKey]))}}registerListeners(t,i){t.clearEventListeners();for(const[n,r]of Object.entries(i))tp(r)&&t.addEventListener(n,r)}};Ao.chartsInstances=new WeakMap,E([Qa({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),Ao.chartsInstances.set(e,this))},oldValue(e){Ao.chartsInstances.delete(e)}})],Ao.prototype,"container",2),E([Qa({newValue(e){this.resize("width option",{inWidth:e})}})],Ao.prototype,"width",2),E([Qa({newValue(e){this.resize("height option",{inHeight:e})}})],Ao.prototype,"height",2),E([Qa({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],Ao.prototype,"minWidth",2),E([Qa({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],Ao.prototype,"minHeight",2),E([L(Tt)],Ao.prototype,"padding",2),E([L(Tt)],Ao.prototype,"seriesArea",2),E([L(Tt)],Ao.prototype,"keyboard",2),E([L(Yn(["standalone","integrated"],"a chart mode"))],Ao.prototype,"mode",2),E([As("chartCaptions.title")],Ao.prototype,"title",2),E([As("chartCaptions.subtitle")],Ao.prototype,"subtitle",2),E([As("chartCaptions.footnote")],Ao.prototype,"footnote",2),E([Qa({changeValue(e,t){this.onAxisChange(e,t)}})],Ao.prototype,"axes",2),E([Qa({changeValue(e,t){this.onSeriesChange(e,t)}})],Ao.prototype,"series",2);var jg=Ao,Yze=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??It.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(void 0===this.subdivisions?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:n}=this.boundary,{capacity:r}=this,s=this.maxdepth-1,o=i/2,a=n/2,l=new It(e,t,o,a),c=new It(e+o,t,o,a),d=new It(e,t+a,o,a),u=new It(e+o,t+a,o,a);return new class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}}(this.child(r,s,l),this.child(r,s,c),this.child(r,s,d),this.child(r,s,u))}},Kze=class Que extends Yze{addCondition(t){const{x:i,y:n}=t.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(t,i,n){const{best:r}=n;return 0!==r.distanceSquared&&this.boundary.distanceSquared(t,i)<r.distanceSquared}findAction(t,i,n){const r=GT(t,i,this.elems,n.best.distanceSquared);void 0!==r.nearest&&r.distanceSquared<n.best.distanceSquared&&(n.best=r)}child(t,i,n){return new Que(t,i,n)}},qze=["ArrowDown","ArrowUp","Circle","Cross","Diamond","Heart","MapPin","Plus","Square","Star","Triangle"],Zze=Object.freeze({x:.5,y:.5}),RR=class extends Ca{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}isBuiltIn(){return qze.includes(this.constructor.className??"")}computeBBox(){if(!this.isBuiltIn())return this.path.computeBBox();const{x:e,y:t,size:i}=this,{center:n}=this.constructor;return new It(e-i*n.x,t-i*n.y,i,i)}applyPath(e,t){const{path:i}=this;let{x:n,y:r}=this;i.clear();for(const{x:s,y:o,t:a}of t)n+=s*e,r+=o*e,"move"===a?i.moveTo(n,r):i.lineTo(n,r);i.closePath()}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};E([mi()],RR.prototype,"x",2),E([mi()],RR.prototype,"y",2),E([mi({convertor:Math.abs})],RR.prototype,"size",2);var Yl=class extends(dv(MV(Lg(RR)))){};Yl.center=Zze;var Ug=class extends Yl{updatePath(){const{x:e,y:t,path:i,size:n}=this,r=n/2;i.clear(),i.arc(e,t,r,0,2*Math.PI),i.closePath()}};Ug.className="Circle";var wB=class Xue extends Yl{updatePath(){super.applyPath(this.size/4.2,Xue.moves)}};wB.className="Cross",wB.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var Qze=wB,xB=class Jue extends Yl{updatePath(){super.applyPath(this.size/2,Jue.moves)}};xB.className="Diamond",xB.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var ine=xB,nne=class extends Yl{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:t,size:i,rad:n}=this,r=i/4,s=this.y+r/2;t.clear(),t.arc(e-r,s-r,r,n(130),n(330)),t.arc(e+r,s-r,r,n(220),n(50)),t.lineTo(e,s+r),t.closePath()}};nne.className="Heart";var SB=class extends Yl{updatePath(){const{path:e,x:t,y:i}=this,n=this.size,r=.5;e.clear(),e.moveTo(t+-.34375*n,i+-.65625*n),e.cubicCurveTo(t+-.34375*n,i+-.848509*n,t+-.192259*n,i+-1*n,t+0*n,i+-1*n),e.cubicCurveTo(t+(.692259-r)*n,i+-1*n,t+.34375*n,i+-.848509*n,t+.34375*n,i+-.65625*n),e.cubicCurveTo(t+.34375*n,i+-.506176*n,t+.284625*n,i+(.600181-1)*n,t+(.716461-r)*n,i+(.695393-1)*n),e.cubicCurveTo(t+.199009*n,i+-.280231*n,t+(.681271-r)*n,i+-.256896*n,t+(.663785-r)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.611893-r)*n,i+(.834367-1)*n,t+(.562228-r)*n,i+(.899699-1)*n,t+(.528896-r)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.524075-r)*n,i+(.992358-1)*n,t+(.512663-r)*n,i+0*n,t+0*n,i+0*n),e.cubicCurveTo(t+(.487337-r)*n,i+0*n,t+(.475925-r)*n,i+(.992358-1)*n,t+(.471104-r)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.487337-r)*n,i+0*n,t+(.475925-r)*n,i+(.992358-1)*n,t+(.471104-r)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.437772-r)*n,i+(.899699-1)*n,t+(.388107-r)*n,i+(.834367-1)*n,t+(.336215-r)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.318729-r)*n,i+-.256896*n,t+-.199009*n,i+-.280231*n,t+(.283539-r)*n,i+(.695393-1)*n),e.cubicCurveTo(t+-.284625*n,i+(.600181-1)*n,t+-.34375*n,i+-.506176*n,t+-.34375*n,i+-.65625*n),e.closePath()}};SB.className="MapPin",SB.center={x:.5,y:1};var DB=class ehe extends Yl{updatePath(){super.applyPath(this.size/3,ehe.moves)}};DB.className="Plus",DB.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var Xze=DB,I1=class extends Yl{updatePath(){const{path:e,x:t,y:i}=this,n=this.size/2;e.clear(),e.moveTo(this.align(t-n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i+n)),e.lineTo(this.align(t-n),this.align(i+n)),e.closePath()}};I1.className="Square";var rne=class extends Yl{updatePath(){const{x:e,y:t,path:i,size:n}=this,s=n/2,o=Math.PI/2;i.clear();for(let a=0;a<10;a++){const l=a%2==0?n:s,c=a*Math.PI/5-o,d=e+Math.cos(c)*l,u=t+Math.sin(c)*l;i.lineTo(d,u)}i.closePath()}};rne.className="Star";var MB=class the extends Yl{updatePath(){super.applyPath(1.1*this.size,the.moves)}};MB.className="Triangle",MB.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var b_=MB,sne={circle:Ug,cross:Qze,diamond:ine,heart:nne,pin:SB,plus:Xze,square:I1,star:rne,triangle:b_},Jze=Object.keys(sne);function one(e){return"string"==typeof e&&Jze.includes(e)}function ju(e=I1){return one(e)?sne[e]:"function"==typeof e?e:I1}var EB=class extends v_{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation({xScale:e,yScale:t}){return{isContinuousX:Fn.is(e),isContinuousY:Fn.is(t),xScaleType:e?.type,yScaleType:t?.type}}getModulePropertyDefinitions(){const e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules(i=>i.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}requestDataModel(e,t,i){var n=this;return(0,J.A)(function*(){i.props.push(...n.getModulePropertyDefinitions());const{dataModel:r,processedData:s}=yield e.request(n.id,t??[],i);return n.dataModel=r,n.processedData=s,n.dispatch("data-processed",{dataModel:r,processedData:s}),{dataModel:r,processedData:s}})()}isProcessedDataAnimatable(){const e=this.processedData?.reduced?.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(void 0===t||0===t.length)return;const i=this.computeFocusDatumIndex(e,t);if(void 0===i)return;const{showFocusBox:n}=this,r=t[i],s={...e,datumIndex:i},o=this.computeFocusBounds(s);return void 0!==o?{bounds:o,showFocusBox:n,datum:r,datumIndex:i}:void 0}computeFocusDatumIndex(e,t){const i=a=>{const{missing:l=!1,enabled:c=!0,focusable:d=!0}=t[a];return!l&&c&&d},n=a=>{for(;a>=0&&!i(a);)a--;return-1===a?void 0:a},r=a=>{for(;a<t.length&&!i(a);)a++;return a===t.length?void 0:a};let s;const o=Si(0,e.datumIndex,t.length-1);return s=e.datumIndexDelta<0?n(o):e.datumIndexDelta>0?r(o):r(o)??n(o),void 0===s?0===e.datumIndexDelta?void 0:e.datumIndex-e.datumIndexDelta:s}},up=class extends Fi{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};E([L(On,{optional:!0})],up.prototype,"fill",2),E([L(hn,{optional:!0})],up.prototype,"fillOpacity",2),E([L(On,{optional:!0})],up.prototype,"stroke",2),E([L(st,{optional:!0})],up.prototype,"strokeWidth",2),E([L(hn,{optional:!0})],up.prototype,"strokeOpacity",2),E([L(np,{optional:!0})],up.prototype,"lineDash",2),E([L(st,{optional:!0})],up.prototype,"lineDashOffset",2);var kR=class extends Fi{};E([L(st,{optional:!0})],kR.prototype,"strokeWidth",2),E([L(hn,{optional:!0})],kR.prototype,"dimOpacity",2),E([L(Jt,{optional:!0})],kR.prototype,"enabled",2);var ane=class extends Fi{constructor(){super(...arguments),this.color="black"}};E([L(On,{optional:!0})],ane.prototype,"color",2);var IB=class extends Fi{constructor(){super(...arguments),this.enabled=!0}};E([L(Jt,{optional:!0})],IB.prototype,"enabled",2);var A1=class extends Fi{constructor(){super(...arguments),this.item=new up,this.series=new kR,this.text=new ane}};E([L(Tt)],A1.prototype,"item",2),E([L(Tt)],A1.prototype,"series",2),E([L(Tt)],A1.prototype,"text",2);var wc=class extends Fi{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new IB,this.highlightStyle=new A1}};E([L(et,{optional:!0})],wc.prototype,"id",2),E([L(Jt)],wc.prototype,"visible",2),E([L(Ree,{optional:!0})],wc.prototype,"focusPriority",2),E([L(Jt)],wc.prototype,"showInLegend",2),E([L(et)],wc.prototype,"cursor",2),E([L(lR)],wc.prototype,"nodeClickRange",2),E([L(Tt)],wc.prototype,"highlight",2),E([L(Tt)],wc.prototype,"highlightStyle",2);var _v={x:["xKey"],y:["yKey"]},Cv={x:["xName"],y:["yName"]},AB=class extends E1{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},hp=class extends wc{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};E([L(et,{optional:!0})],hp.prototype,"legendItemName",2),E([L(Jt,{optional:!0})],hp.prototype,"pickOutsideVisibleMinorAxis",2);var Wg=class extends EB{constructor({pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:r=!0,markerSelectionGarbageCollection:s=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:l,directionNames:c,...d}){if(super({directionKeys:l,directionNames:c,canHaveAxes:!0,...d}),this.NodeEvent=AB,this.dataNodeGroup=this.contentGroup.appendChild(new Ti({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new Ti({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new rp({name:`${this.id}-series-labels`,zIndex:14,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=$r.select(this.labelGroup,ho),this.highlightSelection=$r.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=$r.select(this.highlightLabel,ho),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=vr.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:r,markerSelectionGarbageCollection:s},this.paths=[];for(let u=0;u<e.length;u++)this.paths[u]=new Ca({name:`${this.id}-${e[u]}`}),this.paths[u].zIndex=4,this.paths[u].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",u),this.contentGroup.appendChild(this.paths[u]);this.datumSelection=$r.select(this.dataNodeGroup,()=>this.nodeFactory(),r),this.markerSelection=$r.select(this.markerGroup,()=>this.markerFactory(),s),this.animationState=new f1("empty",{empty:{update:{target:"ready",action:u=>this.animateEmptyUpdateReady(u)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:u=>this.animateReadyHighlight(u),highlightMarkers:u=>this.animateReadyHighlightMarkers(u),resize:u=>this.animateReadyResize(u),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:u=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(u):this.animateWaitingUpdateReady(u)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:u=>this.resetAllAnimation(u),reset:"empty"},clearing:{update:{target:"empty",action:u=>this.animateClearingUpdateEmpty(u)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e?this.animationState.transition("skip"):"disabled"===e&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:e}){var t=this;return(0,J.A)(function*(){const{visible:i,_contextNodeData:n}=t,s=t.ctx.highlightManager?.getActiveHighlight()?.series===t,o=t.checkResize(e),a=yield t.updateHighlightSelection(s);yield t.updateSelections(i),yield t.updateNodes(a,s,i);const l=t.getAnimationData(e,n);l&&(o&&t.animationState.transition("resize",l),t.animationState.transition("update",l))})()}updateSelections(e){var t=this;return(0,J.A)(function*(){var i;const n=!t.opts.animationAlwaysUpdateSelections&&t.ctx.animationManager.isSkipped();if((e||!n)&&(t.nodeDataRefresh||t.isPathOrSelectionDirty())){if(t.nodeDataRefresh){t.nodeDataRefresh=!1,t.debug("CartesianSeries.updateSelections() - calling createNodeData() for",t.id),t.markQuadtreeDirty(),t._contextNodeData=yield t.createNodeData();const r=t.isProcessedDataAnimatable();t._contextNodeData&&((i=t._contextNodeData).animationValid??(i.animationValid=r)),t.minRectsCache.dirtyNodeData=!0;const{dataModel:s,processedData:o}=t;void 0!==s&&void 0!==o&&t.dispatch("data-update",{dataModel:s,processedData:o})}yield t.updateSeriesSelections()}})()}updateSeriesSelections(e){var t=this;return(0,J.A)(function*(){const{datumSelection:i,labelSelection:n,markerSelection:r,paths:s}=t,o=t._contextNodeData;if(!o)return;const{nodeData:a,labelData:l,itemId:c}=o;yield t.updatePaths({seriesHighlighted:e,itemId:c,contextData:o,paths:s}),t.datumSelection=yield t.updateDatumSelection({nodeData:a,datumSelection:i}),t.labelSelection=yield t.updateLabelSelection({labelData:l,labelSelection:n}),t.opts.hasMarkers&&(t.markerSelection=yield t.updateMarkerSelection({nodeData:a,markerSelection:r}))})()}markerFactory(){return new(ju())}getGroupZIndexSubOrder(e,t=0){const i=super.getGroupZIndexSubOrder(e,t);if("paths"===e){const[n]=i,r=this.opts.pathsZIndexSubOrderOffset[t]??0;i[0]=tp(n)?()=>Number(n())+r:Number(n)+r}return i}updateNodes(e,t,i){var n=this;return(0,J.A)(function*(){const{highlightSelection:r,highlightLabelSelection:s,opts:{hasMarkers:o,hasHighlightedLabels:a}}=n,l=!n.ctx.animationManager.isSkipped(),c=n.visible&&null!=n._contextNodeData&&i;n.rootGroup.visible=l||c,n.contentGroup.visible=l||c,n.highlightGroup.visible=(l||c)&&t;const d=n.getOpacity();o?(yield n.updateMarkerNodes({markerSelection:r,isHighlight:!0}),n.animationState.transition("highlightMarkers",r)):(yield n.updateDatumNodes({datumSelection:r,isHighlight:!0}),n.animationState.transition("highlight",r)),a&&(yield n.updateLabelNodes({labelSelection:s}));const{dataNodeGroup:u,markerGroup:h,datumSelection:g,labelSelection:m,markerSelection:y,paths:_,labelGroup:x}=n,{itemId:D}=n.contextNodeData??{};u.opacity=d,u.visible=l||c,x.visible=c,o&&(h.opacity=d,h.zIndex=u.zIndex>=4?u.zIndex:u.zIndex+1,h.visible=c),x&&(x.opacity=d),yield n.updatePathNodes({seriesHighlighted:t,itemId:D,paths:_,opacity:d,visible:c,animationEnabled:l}),u.visible&&(yield n.updateDatumNodes({datumSelection:g,highlightedItems:e,isHighlight:!1}),yield n.updateLabelNodes({labelSelection:m}),o&&(yield n.updateMarkerNodes({markerSelection:y,isHighlight:!1})))})()}getHighlightLabelData(e,t){const i=e.filter(n=>n.datum===t.datum&&n.itemId===t.itemId);return 0===i.length?void 0:i}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){var t=this;return(0,J.A)(function*(){const{highlightSelection:i,highlightLabelSelection:n,_contextNodeData:r}=t;if(!r)return;const s=t.ctx.highlightManager?.getActiveHighlight(),o=e&&s?.datum?s:void 0;let a,l;if(null!=o){const c=t.isLabelEnabled(),{labelData:d,nodeData:u}=r;l=t.getHighlightData(u,o),a=c?t.getHighlightLabelData(d,o):void 0}return t.highlightSelection=yield t.updateHighlightSelectionItem({items:l,highlightSelection:i}),t.highlightLabelSelection=yield t.updateHighlightSelectionLabel({items:a,highlightLabelSelection:n}),l})()}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)!0!==e.datum.missing&&(yield e)}getQuadTree(){if(void 0===this.quadtree){const{width:e,height:t}=this.ctx.scene.canvas,i=new It(0,0,e,t);this.quadtree=new class{constructor(e,t,i){this.root=new Kze(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){this.root.addElem({hitTester:e,value:t,distanceSquared:(n,r)=>e.distanceSquared(n,r)})}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}}(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){const t=super.pickNodeExactShape(e);if(t)return t;const{x:i,y:n}=e,{opts:{hasMarkers:r}}=this;let s;const{dataNodeGroup:o,markerGroup:a}=this;if(s=o.pickNode(i,n),!s&&r&&(s=a?.pickNode(i,n)),s&&!0!==s.datum.missing)return{datum:s.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:c}=l.pickNodeExact(e)??{};if(null!=c&&!0!==c?.missing)return{datum:c,distance:0}}}pickNodeClosestDatum(e){const{x:t,y:i}=e,{axes:n,_contextNodeData:r}=this;if(!r)return;const s=n.x,o=n.y,a_x=t,a_y=i;let c,l=1/0;for(const d of r.nodeData){const{point:{x:u=NaN,y:h=NaN}={}}=d;if(isNaN(u)||isNaN(h)||!s?.inRange(u)||!o?.inRange(h))continue;const m=Math.max((a_x-u)**2+(a_y-h)**2,0);m<l&&(l=m,c=d)}for(const d of this.moduleMap.modules()){const u=d.pickNodeNearest(e);if(void 0!==u&&u.distanceSquared<l){l=u.distanceSquared,c=u.datum;break}}return c?{datum:c,distance:Math.max(Math.sqrt(l)-(c.point?.size??0),0)}:void 0}pickNodeMainAxisFirst(e,t){const{x:i,y:n}=e,{axes:r,_contextNodeData:s}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!s)return;const a=r.x,l=r.y,c=[a,l].filter(v1.is).map(m=>m.direction);if(t&&0===c.length)return;const[d="x"]=c,u=[i,n];"x"!==d&&u.reverse();const h=[1/0,1/0];let g;for(const m of s.nodeData){const{x:y=NaN,y:_=NaN}=m.point??m.midPoint??{};if(isNaN(y)||isNaN(_)||!0===m.missing)continue;const x=[a?.inRange(y),l?.inRange(_)];if("x"!==d&&x.reverse(),!x[0]||!o&&!x[1])continue;const D=[y,_];"x"!==d&&D.reverse();let M=!0;for(let k=0;k<D.length;k++){const V=Math.abs(D[k]-u[k]);if(V>h[k]){M=!1;break}V<h[k]&&(h[k]=V,h.fill(1/0,k+1,h.length))}M&&(g=m)}if(g){let m=Math.max(h[0]**2+h[1]**2-(g.point?.size??0),0);for(const y of this.moduleMap.modules()){const _=y.pickNodeMainAxisFirst(e);if(void 0!==_&&_.distanceSquared<m){g=_.datum,m=_.distanceSquared;break}}return{datum:g,distance:Math.sqrt(m)}}}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:r}=e;(r.id===this.id||null!=t&&t===e.legendItemName)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:r}=e,{legendItemName:s}=this.properties;this.toggleSeriesItem(i,!!(n.id===this.id||null!=s&&s===e.legendItemName||t&&1===r))}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){const{dirtyNodeData:i,sizeCache:n,minRect:r,minVisibleRect:s}=this.minRectsCache,o=JSON.stringify({width:e,height:t});if(o===n&&!i&&r&&s)return{minRect:r,minVisibleRect:s};const l=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:o,minRect:l?.minRect,minVisibleRect:l?.minVisibleRect},l}computeMinRects(e,t){const i=this._contextNodeData;if(!i?.nodeData.length)return;const{nodeData:n}=i,r=Array(n.length),s=Array(n.length);for(const[D,{midPoint:M}]of n.entries())r[D]=M?.x??0,s[D]=M?.y??0;r.sort((D,M)=>D-M),s.sort((D,M)=>D-M);let o,a,l,c,d=0,u=0;for(let D=1;D<n.length;D++)r[D]>=0&&(o??(o=D)),r[D]>e&&(a??(a=D)),s[D]>=0&&(l??(l=D)),s[D]>t&&(c??(c=D)),d=Math.max(d,r[D]-r[D-1]),u=Math.max(u,s[D]-s[D-1]);a??(a=n.length),c??(c=n.length);const h=null!=o&&null!=a?r.slice(o,a):[],g=null!=l&&null!=c?s.slice(l,c):[];let m=0,y=0;for(let D=1;D<Math.max(h.length,g.length);D++){const M=h[D],k=h[D-1],V=g[D],H=g[D-1];null!=M&&null!=k&&(m=Math.max(m,M-k)),null!=V&&null!=H&&(y=Math.max(y,V-H))}return{minRect:new It(0,0,d,u),minVisibleRect:new It(0,0,m,y)}}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,r=i??[];return t?this.updateMarkerSelection({nodeData:r,markerSelection:n}):this.updateDatumSelection({nodeData:r,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return(0,J.A)(function*(){return e.datumSelection})()}updateDatumNodes(e){return(0,J.A)(function*(){})()}updateMarkerSelection(e){return(0,J.A)(function*(){return e.markerSelection})()}updateMarkerNodes(e){return(0,J.A)(function*(){})()}updatePaths(e){return(0,J.A)(function*(){e.paths.forEach(t=>t.visible=!1)})()}updatePathNodes(e){return(0,J.A)(function*(){const{paths:t,opacity:i,visible:n}=e;for(const r of t)r.opacity=i,r.visible=n})()}resetPathAnimation(e){const{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach(i=>{Xs([i],t)})}resetDatumAnimation(e){const{datum:t}=this.opts?.animationResetFns??{};t&&Xs([e.datumSelection],t)}resetLabelAnimation(e){const{label:t}=this.opts?.animationResetFns??{};t&&Xs([e.labelSelection],t)}resetMarkerAnimation(e){const{marker:t}=this.opts?.animationResetFns??{};t&&this.opts.hasMarkers&&Xs([e.markerSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),!1===e.contextData?.animationValid&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const{datum:t}=this.opts?.animationResetFns??{};t&&Xs([e],t)}animateReadyHighlightMarkers(e){const{marker:t}=this.opts?.animationResetFns??{};t&&Xs([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){const e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}calculateScaling(){const e={};for(const t of Object.values(_V)){const i=this.axes[t];if(i)if(i.scale instanceof wV){const{range:n,domain:r}=i.scale;e[t]={type:"log",convert:s=>i.scale.convert(s),domain:[r[0],r[1]],range:[n[0],n[1]]}}else if(i.scale instanceof Fn){const{range:n}=i.scale,r=i.scale.getDomain();e[t]={type:"continuous",domain:[r[0],r[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;e[t]={type:"category",domain:n,range:n.map(r=>i.scale.convert(r))}}}return e}},e8e=["top","right","bottom","left"],TB=class extends jg{constructor(e,t){super(e,t),this.paired=!0,this.firstSeriesTranslation=!0,this.lastUpdateClipRect=void 0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,t){super.onAxisChange(e,t),this.ctx?.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}setRootClipRects(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this;t.setClipRect(e),n.setClipRect(e),i.setClipRect(e)}performLayout(e){const{firstSeriesTranslation:t,seriesRoot:i,annotationRoot:n,highlightRoot:r}=this,{seriesRect:s,visibility:o,clipSeries:a}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=o.series,this.seriesRect=s,this.animationRect=e.layoutBox;const{x:l,y:c}=s;if(t){for(const g of[i,n,r])g.translationX=Math.floor(l),g.translationY=Math.floor(c);this.firstSeriesTranslation=!1}else{const{translationX:g,translationY:m}=i;Pu(this.id,"seriesRect",this.ctx.animationManager,[i,r,n],{translationX:g,translationY:m},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const d=s.clone().grow(this.seriesArea.padding),u=this.seriesArea.clip||a?d:void 0,{lastUpdateClipRect:h}=this;this.lastUpdateClipRect=u,this.ctx.animationManager.isActive()&&null!=h?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:h,to:d,onUpdate:g=>this.setRootClipRects(g),onComplete:()=>this.setRootClipRects(u)}):this.setRootClipRects(u),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(g=>g.getLayoutState()),series:{rect:s,paddedRect:d,visible:o.series,shouldFlipXY:this.shouldFlipXY()},clipSeries:a})}updateAxes(e){const t=this.axes.flatMap(y=>y.crossLines??[]).map(y=>y.id);let n,r,s;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===t.length&&this._lastCrossLineIds.every((y,_)=>t[_]===y)?(n=new Map(this._lastAxisAreaWidths.entries()),r=this._lastClipSeries,s={...this._lastVisibility}):(n=new Map,r=!1,s={crossLines:!0,series:!0},this._lastCrossLineIds=t);const o=new Set(this.axes.map(y=>y.position));for(const y of n.keys())o.has(y)||n.delete(y);const a=(y,_,x)=>{if([...y.keys()].some(D=>!n.has(D))||s.crossLines!==x.crossLines||s.series!==x.series||r!==_)return!1;for(const[D,M]of n.entries()){const k=y.get(D);if((null!=M||null!=k)&&M!==k)return!1}return!0},l=y=>{for(const[_,x]of y.entries())x&&Math.abs(x)===1/0?y.set(_,0):y.set(_,null!=x?Math.ceil(x):x);return y};let c=new Map,d={},u=!1,h=this.seriesRect?.clone(),g=0;do{n=new Map(c.entries()),r=u,Object.assign(s,d);const y=this.updateAxesPass(n,e.clone(),h);if(c=l(y.axisAreaWidths),d=y.visibility,u=y.clipSeries,({seriesRect:h}=y),g++>10){Xe.warn("unable to find stable axis layout.");break}}while(!a(c,u,d));return this.axes.forEach(y=>{y.update()}),this.axes.forEach(y=>{if(y.setCrossLinesVisible(s.crossLines),h)switch(y.clipGrid(h.x,h.y,h.width+5,h.height+5),y.position){case"left":case"right":y.clipTickLines(e.x,h.y,e.width+5,h.height+5);break;case"top":case"bottom":y.clipTickLines(h.x,e.y,h.width+5,e.height+5)}}),this._lastAxisAreaWidths=n,this._lastVisibility=s,this._lastClipSeries=r,{seriesRect:h,visibility:s,clipSeries:r}}updateAxesPass(e,t,i){const n=new Map,r=new Map,s={series:!0,crossLines:!0};let o=!1;const a={},l=this.applySeriesPadding(t),c=i?this.buildCrossLinePadding(e):{},d=this.buildAxisBound(l,e,c,s),u=this.buildSeriesRect(d,e);for(const m of this.axes){const{position:y="left"}=m,{clipSeries:_,axisThickness:x}=this.calculateAxisDimensions({axis:m,seriesRect:u,primaryTickCounts:a,clipSeries:o});n.set(m.id,x),r.has(y)||r.set(y,[]),r.get(y)?.push(m),o=o||_}const h=new Map,g=new Map;for(const[m,y]of r.entries())h.set(m,this.calculateAxisArea(y,n,g,"left"===m||"right"===m));for(const[m,y]of r.entries())this.positionAxes({axes:y,position:m,axisWidths:n,axisOffsets:g,axisAreaWidths:h,axisBound:d,seriesRect:u});return{clipSeries:o,seriesRect:u,axisAreaWidths:h,visibility:s}}buildCrossLinePadding(e){const t={};this.axes.forEach(i=>{i.crossLines?.forEach(n=>{n.calculatePadding?.(t)})});for(const[i,n=0]of Object.entries(t))t[i]=Math.max(n-(e.get(i)??0),0);return t}applySeriesPadding(e){const t=e.clone();return e8e.forEach(i=>{const n=this.seriesArea.padding[i],r=this.axes.findLast(s=>s.position===i);r?r.seriesAreaPadding=n:t.shrink(n,i)}),t}buildAxisBound(e,t,i,n){const r=e.clone(),{top:s=0,right:o=0,bottom:a=0,left:l=0}=i,c=l+o,d=s+a,u=(t.get("left")??0)+(t.get("right")??0)+c,h=(t.get("top")??0)+(t.get("bottom")??0)+d;return r.width<=u||r.height<=h?(n.crossLines=!1,n.series=!1,r):(r.x+=l,r.y+=s,r.width-=c,r.height-=d,r)}buildSeriesRect(e,t){const i=e.clone();return i.x+=t.get("left")??0,i.y+=t.get("top")??0,i.width-=(t.get("left")??0)+(t.get("right")??0),i.height-=(t.get("top")??0)+(t.get("bottom")??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(e,t,i,n){const{x:r,y:s,width:o,height:a}=e;return(1===n?Math.min:Math.max)(t,[r,s,r+o,s+a][("x"===i?0:1)+(1===n?0:2)])}calculateAxisDimensions(e){const{axis:t,seriesRect:i,primaryTickCounts:n}=e;let{clipSeries:r}=e;const{position:s="left",direction:o}=t;this.sizeAxis(t,i,s);const a=this.getSyncedDomain(t),l=t.calculateLayout(a,t.nice?n[o]:void 0),c="y"===o;let d;return n[o]??(n[o]=l.primaryTickCount),r||(r=t.dataDomain.clipped||t.visibleRange[0]>0||t.visibleRange[1]<1),d=null!=t.thickness&&t.thickness>0?t.thickness:c?l.bbox.width:l.bbox.height,d=Math.ceil(d),{clipSeries:r,axisThickness:d}}getSyncedDomain(e){const t=this.modulesManager.getModule("sync");if(!t?.enabled)return;const i=t.getSyncedDomain(e);if(i&&e.dataDomain.domain.length){let n;const{domain:r}=e.scale;if(Fn.is(e.scale)){const[s,o]=Vl(i);n=s!==r[0]||o!==r[1]}else n=!Tg(i,r);n&&!this.skipSync&&t.updateSiblings()}return i}sizeAxis(e,t,i){const n=e instanceof v1||e instanceof zg,r="left"===i||"right"===i;let{min:s,max:o}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:a,height:l}=t,d=r?l:a;let u=0,h=d;const{width:g,unit:m,align:y}=e.layoutConstraints;h="px"===m?u+g:h*g/100,"end"===y&&(u=d-(h-u),h=d),n&&r?[s,o]=[1-o,1-s]:r&&([u,h]=[h,u]),e.range=[u,h],e.visibleRange=[s,o],e.gridLength=r?a:l}calculateAxisArea(e,t,i,n){const{width:r,height:s,canvas:o}=this.ctx.scene;let a=n?s%o.pixelRatio:r%o.pixelRatio,l=0;for(const c of e){i.set(c.id,a);const d=t.get(c.id)??0;l=Math.max(l,a+d),c.layoutConstraints.stacked&&(a+=d+15)}return l}positionAxes(e){const{axes:t,axisBound:i,axisWidths:n,axisOffsets:r,axisAreaWidths:s,seriesRect:o,position:a}=e,l=s.get(a)??0;let c="x",d="y",u=1,h=0;("top"===a||"bottom"===a)&&(c="y",d="x",h+=1),h+=i[c],("right"===a||"bottom"===a)&&(u=-1,h+="x"===c?i.width:i.height);for(const g of t){const m=s.get("x"===d?"left":"top")??0;g.translation[d]=i[d]+m;const y=n.get(g.id)??0,_=r.get(g.id)??0;g.translation[c]=this.clampToOutsideSeriesRect(o,h+u*(_+y),c,u),g.gridPadding=l-_-y,g.updatePosition()}}shouldFlipXY(){return this.series.every(e=>e instanceof Wg&&e.shouldFlipXY())}};TB.className="CartesianChart",TB.type="cartesian";var T1=class ihe{constructor(t,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=t}static isInstance(t){return t instanceof ihe||"AgChartInstanceProxy"===t.constructor?.name&&null!=t.chart||null!=t.chart&&this.validateImplementation(t)}static validateImplementation(t){const n=Object.keys(Object.getPrototypeOf(t)??{});return["getOptions","destroy"].every(r=>n.includes(r))}update(t){var i=this;return(0,J.A)(function*(){i.factoryApi.update(t,i),yield i.chart.waitForUpdate()})()}updateDelta(t){var i=this;return(0,J.A)(function*(){i.factoryApi.updateUserDelta(i,t),yield i.chart.waitForUpdate()})()}getOptions(){const t=Eo(this.chart.getOptions());for(const i in t)i.startsWith("_")&&delete t[i];return t}waitForUpdate(){return this.chart.waitForUpdate()}download(t){var i=this;return(0,J.A)(function*(){const n=yield i.prepareResizedChart(i,t);try{n.chart.download(t?.fileName,t?.fileFormat)}finally{n.destroy()}})()}__toSVG(t){var i=this;return(0,J.A)(function*(){const n=yield i.prepareResizedChart(i,{width:600,height:300,...t});try{return n.chart.toSVG()}finally{n.destroy()}})()}getImageDataURL(t){var i=this;return(0,J.A)(function*(){const n=yield i.prepareResizedChart(i,t);try{return n.chart.getCanvasDataURL(t?.fileFormat)}finally{n.destroy()}})()}getState(){const{factoryApi:{caretaker:t},chart:{ctx:{annotationManager:i}}}=this;return t.save(i)}setState(t){var i=this;return(0,J.A)(function*(){const{factoryApi:{caretaker:n},chart:{ctx:{annotationManager:r}}}=i;n.restore(t,r),yield i.chart.waitForUpdate()})()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}prepareResizedChart(t,i={}){var n=this;return(0,J.A)(function*(){const{chart:r}=t,s=i.width??r.width??r.ctx.scene.canvas.width,o=i.height??r.height??r.ctx.scene.canvas.height,a=t.getState(),l=Gg.hasEnterpriseModules(),c={...r.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:o},d=r.getOptions();l&&(c.animation={enabled:!1},m_(d)&&(c.toolbar={enabled:!1}),n.licenseManager?.isDisplayWatermark()&&(c.foreground={text:n.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const u={...r.chartOptions.specialOverrides},h={...r.chartOptions.optionMetadata};null!=i.width&&null!=i.height&&(u.overrideDevicePixelRatio=1);const g=yield n.factoryApi.create(d,c,u,h);return yield g.setState(a),g.chart.ctx.zoomManager.updateZoom("chartProxy",r.ctx.zoomManager.getZoom()),r.series.forEach((m,y)=>{m.visible||(g.chart.series[y].visible=!1)}),g.chart.update(0,{forceNodeDataRefresh:!0}),yield g.waitForUpdate(),g})()}};T1.chartInstances=new WeakMap,E([Qa({oldValue(e){e.destroyed||(e.publicApi=void 0),T1.chartInstances.delete(e)},newValue(e){e.publicApi=this,T1.chartInstances.set(e,this)}})],T1.prototype,"chart",2);var lne=T1,RB=class extends y1{constructor(e){super(),this.ctx=e,this.localeText=void 0}};E([ba(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),L(Tee,{optional:!0})],RB.prototype,"localeText",2),E([ba(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),L(Hl,{optional:!0})],RB.prototype,"getLocaleText",2);var t8e={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new RB(e)},pd=class extends Fn{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(e){return e}ticks(){const e=this.tickCount??Fn.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();const[t,i]=this.getDomain();if(this.interval){const n=Math.abs(this.interval);if(!c1((i-t)/n,this.getPixelRange()))return uR(t,i,n)}return dR(t,i,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){return this.interval??n_(e,t,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const e=this.tickCount;if(e<1)return void(this.niceDomain=[...this.domain]);let[t,i]=this.domain;if(1===e)[t,i]=function b6e(e,t){const i=Math.abs(t-e),n=10**Math.floor(Math.log10(i));let r=1/0,s=[e,t];for(const o of $ee){const a=o*n,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,d=1-i/Math.abs(c-l);r>d&&(r=d,s=[l,c])}return s}(t,i);else{const n=t>i?Math.ceil:Math.floor,r=i<t?Math.floor:Math.ceil,s=4;for(let o=0;o<s;o++){const a=t,l=i,c=this.getTickStep(t,i),[d,u]=this.domain;if(c>=1)t=n(d/c)*c,i=r(u/c)*c;else{const h=1/c;t=n(d*h)/h,i=r(u*h)/h}if(t===a&&i===l)break}}this.niceDomain=[t,i]}tickFormat({ticks:e,specifier:t}){return Zee(e??this.ticks(),t)}};var $g=class extends Bg{constructor(e,t=new pd){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:r}=XT(e,t,i);return{domain:n,clipped:r}}updateSecondaryAxisTicks(e){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const{domain:t,ticks:i}=function i8e(e,t,i){let[n,r]=Vl(e);n=function n8e(e,t,i){const n=Math.abs(t-e)/(i-1),r=Math.floor(Math.log10(n)),s=Math.pow(10,r);return Math.floor(e/s)*s}(Math.floor(n),r,t);const s=function s8e(e,t,i){return function o8e(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}((t-e)/(i-1))}(n,r,t);r=n+(t-1)*s;const a=i?[r,n]:[n,r],l=function r8e(e,t,i){const n=Math.floor(Math.log10(t)),r=t>0&&t<1?Math.abs(n):0,s=Math.pow(10,r),o=[];for(let a=0;a<i;a++)o[a]=Math.round((e+t*a)*s)/s;return o}(n,s,t);return{domain:a,ticks:l}}(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),i}};$g.className="NumberAxis",$g.type="number",E([L(rd(X0,e_("max"))),Vg(NaN)],$g.prototype,"min",2),E([L(rd(X0,t_("min"))),Vg(NaN)],$g.prototype,"max",2);var cne=Kn(e=>bc(e)&&0!==e,"a non-zero number"),wv=class extends $g{constructor(e){super(e,new wV),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:r}=XT(e,t,i),o=n[0]<0&&n[1]>0,a=0===n[0]&&0===n[1];return(n[0]>n[1]||o||a)&&(o?Xe.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&Xe.warn("the data domain has 0 extent, no data is rendered.")),0===n[0]&&(n[0]=1),0===n[1]&&(n[1]=-1),{domain:n,clipped:r}}set base(e){this.scale.base=e}get base(){return this.scale.base}};wv.className="LogAxis",wv.type="log",E([L(rd(X0,cne,e_("max"))),Vg(NaN)],wv.prototype,"min",2),E([L(rd(X0,cne,t_("min"))),Vg(NaN)],wv.prototype,"max",2);var __=class extends Bg{constructor(e){super(e,new xV),this.min=void 0,this.max=void 0}normaliseDataDomain(e){let{min:t,max:i}=this,n=!1;return"number"==typeof t&&(t=new Date(t)),"number"==typeof i&&(i=new Date(i)),e.length>2&&(e=Ou(e)?.map(r=>new Date(r))??[]),t instanceof Date&&(n||(n=t>e[0]),e=[t,e[1]]),i instanceof Date&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}onFormatChange(e,t,i,n){n?super.onFormatChange(e,t,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:i,formatOffset:1}))}};__.className="TimeAxis",__.type="time",E([L(rd(vV,e_("max")),{optional:!0})],__.prototype,"min",2),E([L(rd(vV,t_("min")),{optional:!0})],__.prototype,"max",2);var R1=(e,{x0:t,y0:i,x1:n,y1:r,cx:s,cy:o},a,l)=>{if(l&&e.moveTo(t,i),t!==n||i!==r){const c=Math.atan2(i-o,t-s),d=Math.atan2(r-o,n-s);e.arc(s,o,a,c,d)}else e.lineTo(t,i)},PR=(e,t,i,n,r)=>{let s=!1,o=!1,a=n-Math.sqrt(Math.max(r**2-i**2,0)),l=0,c=0,d=i-Math.sqrt(Math.max(r**2-n**2,0));return a>e?(s=!0,a=e,l=i-Math.sqrt(Math.max(r**2-(n-e)**2))):a<1e-6&&(a=0),d>t?(o=!0,c=n-Math.sqrt(Math.max(r**2-(i-t)**2)),d=t):d<1e-6&&(d=0),{leading0:a,leading1:l,trailing0:c,trailing1:d,leadingClipped:s,trailingClipped:o}},kB=(e,t,i,n,r,s,o)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:d}=s;const u=Math.max(a+d,l+c),h=Math.max(a+l,d+c);if(u<=0&&h<=0)return void(null==o?e.rect(t,i,n,r):e.rect(o.x,o.y,o.width,o.height));if(null==o&&a===l&&a===c&&a===d)return void e.roundRect(t,i,n,r,a);if(n<0&&(t+=n,n=Math.abs(n)),r<0&&(i+=r,r=Math.abs(r)),n<=0||r<=0)return;if(null==o)o=new It(t,i,n,r);else{const F=Math.max(t,o.x),P=Math.min(t+n,o.x+o.width),G=Math.max(i,o.y),Y=Math.min(i+r,o.y+o.height);o=new It(F,G,P-F,Y-G)}const g=Math.max(u/r,h/n,1);g>1&&(a/=g,l/=g,c/=g,d/=g);let D,M,k,V,m=!0,y=!0,_=!0,x=!0;if(m){const F=PR(o.height,o.width,Math.max(t+a-o.x,0),Math.max(i+a-o.y,0),a);F.leadingClipped&&(x=!1),F.trailingClipped&&(y=!1),D={x0:Math.max(o.x+F.leading1,o.x),y0:Math.max(o.y+F.leading0,o.y),x1:Math.max(o.x+F.trailing1,o.x),y1:Math.max(o.y+F.trailing0,o.y),cx:t+a,cy:i+a}}if(y){const F=PR(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(t+n-l),0),l);F.leadingClipped&&(m=!1),F.trailingClipped&&(_=!1),M={x0:Math.min(o.x+o.width-F.leading0,o.x+o.width),y0:Math.max(o.y+F.leading1,o.y),x1:Math.min(o.x+o.width-F.trailing0,o.x+o.width),y1:Math.max(o.y+F.trailing1,o.y),cx:t+n-l,cy:i+l}}if(_){const F=PR(o.height,o.width,Math.max(o.x+o.width-(t+n-c),0),Math.max(o.y+o.height-(i+r-c),0),c);F.leadingClipped&&(y=!1),F.trailingClipped&&(x=!1),k={x0:Math.min(o.x+o.width-F.leading1,o.x+o.width),y0:Math.min(o.y+o.height-F.leading0,o.y+o.height),x1:Math.min(o.x+o.width-F.trailing1,o.x+o.width),y1:Math.min(o.y+o.height-F.trailing0,o.y+o.height),cx:t+n-c,cy:i+r-c}}if(x){const F=PR(o.width,o.height,Math.max(o.y+o.height-(i+r-d),0),Math.max(t+d-o.x,0),d);F.leadingClipped&&(_=!1),F.trailingClipped&&(m=!1),V={x0:Math.max(o.x+F.leading0,o.x),y0:Math.min(o.y+o.height-F.leading1,o.y+o.height),x1:Math.max(o.x+F.trailing0,o.x),y1:Math.min(o.y+o.height-F.trailing1,o.y+o.height),cx:t+d,cy:i+r-d}}let H=!1;m&&null!=D&&(R1(e,D,a,!H),H||(H=!0)),y&&null!=M&&(R1(e,M,l,!H),H||(H=!0)),_&&null!=k&&(R1(e,k,c,!H),H||(H=!0)),x&&null!=V&&(R1(e,V,d,!H),H||(H=!0)),e.closePath()},Xa=class extends Ca{constructor(){super(...arguments),this.borderPath=new C1,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Wd.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Wd.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!(!this.path.isDirty()&&!this.borderPath.isDirty())}updatePath(){const{path:e,borderPath:t,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:r,bottomRightCornerRadius:s,bottomLeftCornerRadius:o}=this;let{x:a,y:l,width:c,height:d,strokeWidth:u,clipBBox:h}=this;const m=1/(this.layerManager?.canvas.pixelRatio??1);let y=1;if(e.clear(!0),t.clear(!0),i&&(c<=m&&(y*=c/m),d<=m&&(y*=d/m),c=this.align(a,c),d=this.align(l,d),a=this.align(a),l=this.align(l),h=null!=h?new It(this.align(h.x),this.align(h.y),this.align(h.x,h.width),this.align(h.y,h.height)):void 0),u)if(c<m){const _=a+m/2;t.moveTo(_,l),t.lineTo(_,l+d),u=m,this.borderClipPath=void 0}else if(d<m){const _=l+m/2;t.moveTo(a,_),t.lineTo(a+c,_),u=m,this.borderClipPath=void 0}else if(u<c&&u<d){const _=u/2;a+=_,l+=_,c-=u,d-=u;const x=h?.clone().shrink(_),D={topLeft:n>0?n-u:0,topRight:r>0?r-u:0,bottomRight:s>0?s-u:0,bottomLeft:o>0?o-u:0};this.borderClipPath=void 0,c>0&&d>0&&(null==x||x?.width>0&&x?.height>0)&&(kB(e,a,l,c,d,D,x),kB(t,a,l,c,d,D,x))}else this.borderClipPath=this.borderClipPath??new C1,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,c,d),t.rect(a,l,c,d);else{const _={topLeft:n,topRight:r,bottomRight:s,bottomLeft:o};this.borderClipPath=void 0,kB(e,a,l,c,d,_,h)}if([n,r,s,o].every(_=>0===_)){const _=this.getBBox();this.hittester=_.containsPoint.bind(_),this.distanceSquared=(x,D)=>this.getBBox().distanceSquared(x,D)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=u,this.lastUpdatePathStrokeWidth=u,this.microPixelEffectOpacity=y}computeBBox(){const{x:e,y:t,width:i,height:n,clipBBox:r}=this;return r?.clone()??new It(e,t,i,n)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:n}=this;e.globalAlpha*=n*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:n}=e,{strokeOpacity:r,lineDash:s,lineDashOffset:o,lineCap:a,lineJoin:l,borderPath:c,borderClipPath:d,opacity:u,microPixelEffectOpacity:h}=this;d&&e.clip(d.getPath2D()),e.strokeStyle=t,e.globalAlpha*=u*r*h,e.lineWidth=i,s&&e.setLineDash(s),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),l&&(e.lineJoin=l),e.stroke(c.getPath2D()),e.globalAlpha=n}}};Xa.className="Rect",E([mi()],Xa.prototype,"x",2),E([mi()],Xa.prototype,"y",2),E([mi()],Xa.prototype,"width",2),E([mi()],Xa.prototype,"height",2),E([mi()],Xa.prototype,"topLeftCornerRadius",2),E([mi()],Xa.prototype,"topRightCornerRadius",2),E([mi()],Xa.prototype,"bottomRightCornerRadius",2),E([mi()],Xa.prototype,"bottomLeftCornerRadius",2),E([mi()],Xa.prototype,"clipBBox",2),E([mi()],Xa.prototype,"crisp",2);var C_=class extends y1{constructor(e){super(),this.ctx=e,this.rectNode=new Xa,this.textNode=new ho,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new Ti({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};E([L(Jt),Io("node","visible")],C_.prototype,"visible",2),E([L(On,{optional:!0}),Io("rectNode","fill")],C_.prototype,"fill",2),E([L(Tt,{optional:!0})],C_.prototype,"image",2),E([L(et,{optional:!0}),Io("textNode")],C_.prototype,"text",2);var une={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new C_(e)};function a8e({orientation:e,bboxes:t,maxHeight:i,maxWidth:n,itemPaddingY:r=0,itemPaddingX:s=0,forceResult:o=!1}){const a="horizontal"===e,l={max:a?n:i,fn:a?h=>h.width:h=>h.height,padding:a?s:r},c={max:a?i:n,fn:a?h=>h.height:h=>h.width,padding:a?r:s};let d=0;const u=[];for(;d<t.length;){const g=l8e(t.slice(d),d,l,c,o);if(!g)return;d+=g.processedBBoxCount,u.push(g.pageIndices)}return function d8e(e,t,i,n,r){let s=0,o=0;return{pages:e.map(l=>{"horizontal"===t&&(l=function u8e(e){const t=[];for(const i of e[0])t.push([]);return e.forEach((i,n)=>{i.forEach((r,s)=>{t[s][n]=r})}),t}(l));let c=0;const d=l.map(g=>{const m=g.map(x=>(c=Math.max(x,c),i[x]));let y=0,_=0;return m.forEach(x=>{y+=x.height+n,_=Math.max(_,x.width+r)}),{indices:g,bboxes:m,columnHeight:Math.ceil(y),columnWidth:Math.ceil(_)}});let u=0,h=0;return d.forEach(g=>{u+=g.columnWidth,h=Math.max(h,g.columnHeight)}),s=Math.max(u,s),o=Math.max(h,o),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:u,pageHeight:h}}),maxPageWidth:s,maxPageHeight:o}}(u,e,t,r,s)}function l8e(e,t,i,n,r){let o=function h8e(e,t){const i=e.length;let n=0;for(let r=0;r<i;r++)if(n+=t.fn(e[r])+t.padding,n>t.max)return i/r<2?Math.ceil(i/2):r;return i}(e,i);if(o<1){if(!r)return;o=1}let a=o;for(;a>=1;){const l=c8e(e,t,a,i,n,r);if(null==l&&a<=1)return;if(null!=l){if("number"!=typeof l)return{processedBBoxCount:l.length*l[0].length,pageIndices:l};if(l<=1)return;a=l<a&&l>1?l:a,a--}else a--}}function c8e(e,t,i,n,r,s){const o=[];let a=0,l=0,c=[];const d=[];for(let u=0;u<e.length;u++){const h=(u+i)%i;0===h&&(a+=l,l=0,c.length>0&&o.push(c),c=[]);const g=n.fn(e[u])+n.padding;if(d[h]=Math.max(d[h]??0,g),l=Math.max(l,r.fn(e[u])+r.padding),a+l>r.max&&(!s||o.length>0)){c=[];break}if(d.reduce((x,D)=>x+D,0)>n.max&&!s)return d.length<i?d.length:void 0;c.push(u+t)}return c.length>0&&o.push(c),o.length>0?o:void 0}var xv=class extends Ag{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(e,t,i,n){this.sourceImage=e,this.width=e.width/t,this.height=e.height/t,this.x=i/t,this.y=n/t,this.markDirty(3)}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&n.nodesSkipped++);const r=this.sourceImage;r&&(t.globalAlpha=this.opacity,t.drawImage(r,0,0,r.width,r.height,this.x,this.y,this.width,this.height),super.render(e))}};E([Ct({redraw:3})],xv.prototype,"x",2),E([Ct({redraw:3})],xv.prototype,"y",2),E([Ct({redraw:3})],xv.prototype,"width",2),E([Ct({redraw:3})],xv.prototype,"height",2),E([Ct({redraw:3})],xv.prototype,"opacity",2);var Yg=class extends(Lg(Ti)){constructor(){super({name:"markerLabelGroup"}),this.label=new ho,this.symbolsGroup=new Ti({name:"legend-markerLabel-symbols"}),this.bitmap=new xv,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:e,label:t,lines:i}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.updateSymbols(e,i),this.append([this.symbolsGroup,t])}destroy(){super.destroy(),this.destroyProxyButton()}destroyProxyButton(){this.proxyButton?.button.remove(),this.proxyButton?.listitem.remove(),this.proxyButton=void 0}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(e,t){Tg(this._markers,e)&&Tg(this._lines,t)||(this.bitmapDirty=!0,this._markers=e,this._lines=t,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...t,...e]))}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e,this.bitmap.opacity=e,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(e){const{lines:t,markers:i}=this;[t,i].forEach(n=>n.forEach(r=>r.visible=!e)),this.bitmap.visible=e}update(e,{spriteAAPadding:t,spritePixelRatio:i},n){const{markers:r,lines:s}=this;let o=0,a=0,l=0;for(let x=0;x<Math.max(r.length,s.length);x++){const{length:D,spacing:M,isCustomMarker:k}=n[x]??0,V=r[x],H=s[x],F=V?.size??0;let P=1/0,G=1/0,Y=1/0,q=1/0,ee=1/0;if(V){const K=V.constructor.center,gt=(F+V.strokeWidth)/2;k?(V.x=0,V.y=0,V.translationX=(K.x-.5)*F+D/2+l,V.translationY=(K.y-.5)*F,q=V.translationY-gt,ee=V.translationX-gt):(V.x=(K.x-.5)*F+D/2+l,V.y=(K.y-.5)*F,q=V.y-gt,ee=V.x-gt)}H&&(H.x1=l,H.x2=l+D,H.y1=0,H.y2=0,H.markDirty(3),P=-H.strokeWidth/2,G=H.x1,Y=H.x2),l+=M+Math.max(D,F),o=Math.min(o,G,Y,ee),a=Math.min(a,P,q)}const c=n.at(-1),d=this.lines.at(-1),u=this.markers.at(-1);if(this.label.x=Math.max(d?d.x2:-1/0,(u?.x??0)+(u?.size??0)/2)+(c?.spacing??0),this.bitmapDirty){this.setBitmapVisibility(!1);const x=(t+o)*i,D=(t-a)*i,M=e.renderSprite(this.symbolsGroup,{scale:i,translateX:Math.floor(x),translateY:Math.floor(D)});this.bitmap.updateBitmap(M,i,Math.ceil(-x),Math.ceil(-D)),this.bitmapDirty=!1,this.refreshVisibilities()}if(n.length<2)return;const m=this.symbolsGroup.getBBox(),y=Math.max(u?.size??0,c?.length??0),_=new It(m.x+y/2,m.y,y,m.height);this.symbolsGroup.setClipRect(_)}computeBBox(){const{label:e,lines:t,markers:i}=this;return this.toParent(Ti.computeChildrenBBox(Mg([e],t,i),!1))}};Yg.className="MarkerLabel",E([Io("label")],Yg.prototype,"text",2),E([Io("label")],Yg.prototype,"fontStyle",2),E([Io("label")],Yg.prototype,"fontWeight",2),E([Io("label")],Yg.prototype,"fontSize",2),E([Io("label")],Yg.prototype,"fontFamily",2),E([Io("label","fill")],Yg.prototype,"color",2);var w_=class extends Fi{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};E([L(On)],w_.prototype,"color",2),E([L(Pg,{optional:!0})],w_.prototype,"fontStyle",2),E([L(Fg,{optional:!0})],w_.prototype,"fontWeight",2),E([L(st)],w_.prototype,"fontSize",2),E([L(et)],w_.prototype,"fontFamily",2);var pp=class extends Fi{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};E([L(st)],pp.prototype,"size",2),E([L(On,{optional:!0})],pp.prototype,"fill",2),E([L(hn,{optional:!0})],pp.prototype,"fillOpacity",2),E([L(On,{optional:!0})],pp.prototype,"stroke",2),E([L(st)],pp.prototype,"strokeWidth",2),E([L(hn)],pp.prototype,"strokeOpacity",2);var FR=class extends Fi{constructor(e){super(),this.parent=e,this.shape=b_,this.size=15,this.padding=8}};E([Qa({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],FR.prototype,"shape",2),E([L(st)],FR.prototype,"size",2),E([L(st)],FR.prototype,"padding",2);var Sv=class extends Fi{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=nd(this),this.marker=new FR(this),this.activeStyle=new pp,this.inactiveStyle=new pp,this.highlightStyle=new pp,this.label=new w_,this.group=new rp({name:"pagination"}),this.labelNode=new ho,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new b_,this._previousButton=new b_,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(e=>e())}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){"horizontal"===(this._orientation=e,e)?(this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2):(this.previousButton.rotation=0,this.nextButton.rotation=Math.PI)}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+2*(this.marker.size/2+this.marker.padding)}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:n,fontStyle:r,fontWeight:s,fontSize:o,fontFamily:a}}=this;i.text=`${e+1} / ${t}`,i.fill=n,i.fontStyle=r,i.fontWeight=s,i.fontSize=o,i.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:r,inactiveStyle:s,highlightStyle:o,highlightActive:a}=this,l=(c,d)=>d?s:c===a?o:r;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",n))}updateMarker(e,t){const{size:i}=this.marker;e.size=i,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=0===t,r=0===e;this.nextButtonDisabled=e===t-1||i,this.previousButtonDisabled=r||i}setPage(e){e=Si(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),"next"!==t||this.nextButtonDisabled?"previous"===t&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged()):(this.incrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=dv(ju(this.marker.shape||b_));this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){return{prev:ws.toCanvas(this.previousButton),next:ws.toCanvas(this.nextButton)}}};Sv.className="Pagination",E([L(Tt)],Sv.prototype,"marker",2),E([L(Tt)],Sv.prototype,"activeStyle",2),E([L(Tt)],Sv.prototype,"inactiveStyle",2),E([L(Tt)],Sv.prototype,"highlightStyle",2),E([L(Tt)],Sv.prototype,"label",2);var Kg=class extends Fi{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};E([L(st,{optional:!0})],Kg.prototype,"maxLength",2),E([L(On)],Kg.prototype,"color",2),E([L(Pg,{optional:!0})],Kg.prototype,"fontStyle",2),E([L(Fg,{optional:!0})],Kg.prototype,"fontWeight",2),E([L(st)],Kg.prototype,"fontSize",2),E([L(et)],Kg.prototype,"fontFamily",2),E([L(Hl,{optional:!0})],Kg.prototype,"formatter",2);var x_=class extends Fi{constructor(){super(...arguments),this.size=15,this.padding=8}};E([ba(e=>e.parent?.onMarkerShapeChange())],x_.prototype,"shape",2),E([L(st)],x_.prototype,"size",2),E([L(st)],x_.prototype,"padding",2),E([L(st,{optional:!0})],x_.prototype,"strokeWidth",2),E([L(Jt)],x_.prototype,"enabled",2);var PB=class extends Fi{};E([L(st,{optional:!0})],PB.prototype,"strokeWidth",2),E([L(st,{optional:!0})],PB.prototype,"length",2);var qg=class extends Fi{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new x_,this.label=new Kg,this.line=new PB}};E([L(st,{optional:!0})],qg.prototype,"maxWidth",2),E([L(st)],qg.prototype,"paddingX",2),E([L(st)],qg.prototype,"paddingY",2),E([L(Jt)],qg.prototype,"showSeriesStroke",2),E([L(Tt)],qg.prototype,"marker",2),E([L(Tt)],qg.prototype,"label",2),E([L(Tt)],qg.prototype,"line",2);var FB=class extends Fi{};E([L(Hl,{optional:!0})],FB.prototype,"legendItemClick",2),E([L(Hl,{optional:!0})],FB.prototype,"legendItemDoubleClick",2);var k1="legend-visibility",OB="legend-other-series",hne=class{constructor(e,t,i,n,r){this.type=e,this.enabled=t,this.itemId=i,this.seriesId=n,this.event=r,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}},Kl=class extends Fi{constructor(e){super(),this.ctx=e,this.id=nd(this),this.group=new l_({name:"legend",zIndex:15}),this.itemSelection=$r.select(this.group,Yg),this.spriteRenderer=void 0,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this._symbolsDirty=!0,this.toggleSeries=!0,this.item=new qg,this.listeners=new FB,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.proxyLegendDirty=!0,this.proxyLegendToolbarDestroyFns=new Zte,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Sv(t=>e.updateService.update(t),t=>this.updatePageNumber(t)),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:k1,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),e.contextMenuRegistry.registerDefaultAction({id:OB,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)})),this.destroyFns.push(e.layoutManager.registerElement(1,t=>this.positionLegend(t)),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"list",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendItemDescription=$n("p"),this.proxyLegendItemDescription.style.display="none",this.proxyLegendItemDescription.id=`${this.id}-ariaDescription`,this.proxyLegendItemDescription.textContent=this.getItemAriaDescription(),this.proxyLegendToolbar.append(this.proxyLegendItemDescription)}set data(e){this.onDataUpdate(this._data,e),this._data=e,this._symbolsDirty=!0,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.pagination.destroy(),this.itemSelection.clear(),this.proxyLegendToolbarDestroyFns.destroy()}initLegendItemToolbar(){if(!this.proxyLegendDirty)return;this.itemSelection.each((t,i,n)=>{t.destroyProxyButton(),t.proxyButton??(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"listswitch",id:`ag-charts-legend-item-${n}`,textContent:this.getItemAriaText(n),ariaChecked:!!t.datum.enabled,ariaDescribedBy:this.proxyLegendItemDescription.id,parent:this.proxyLegendToolbar,onclick:r=>this.onClick(r,t.datum,t.proxyButton.button),ondblclick:r=>this.onDoubleClick(r,t.datum),onmouseenter:r=>this.onHover(r,t),onmouseleave:()=>this.onLeave(),oncontextmenu:r=>this.onContextClick(r,t),onblur:()=>this.onLeave(),onfocus:r=>this.onHover(r,t)}))});const e=this.itemSelection.nodes().map(t=>t.proxyButton?.button).filter(Z0);this.proxyLegendToolbarDestroyFns.setFns([..._1({orientation:"horizontal",buttons:e}),..._1({orientation:"vertical",buttons:e})]),this.proxyLegendToolbar.ariaHidden=(0===e.length).toString(),this.proxyLegendDirty=!1}onDataUpdate(e,t){this.proxyLegendDirty=e.length!==t.length||e.some((i,n,r)=>{const[s,o]=[t[n],e[n]];return s.id!==o.id})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;return i?t.call(i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:n,label:r,maxWidth:s,label:{maxLength:o=1/0,fontStyle:a,fontWeight:l,fontSize:c,fontFamily:d}}=this.item,u=[...this.data];this.reverseOrder&&u.reverse(),this.itemSelection.update(u),this.initLegendItemToolbar();const h=[],g=ls.toFontString(r),y=s??.8*e,_=this.calculateSpriteDimensions();if(this.spriteRenderer??(this.spriteRenderer=new gie),this.spriteRenderer.resize(_),this.itemSelection.each((G,Y)=>{G.fontStyle=a,G.fontWeight=l,G.fontSize=c,G.fontFamily=d;const q=this.updateMarkerLabel(this.spriteRenderer,G,Y,_),ee=Y.itemId??Y.id,gt=(this.getItemLabel(Y)??"<unknown>").replace(/\r?\n/g," ");G.text=this.truncate(gt,o,y,q,g,ee),h.push(G.getBBox())}),this._symbolsDirty=!1,e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const x=this.size,D=this.oldSize;x[0]=e,x[1]=t,(x[0]!==D[0]||x[1]!==D[1])&&(D[0]=x[0],D[1]=x[1]);const{pages:M,maxPageHeight:k,maxPageWidth:V}=this.updatePagination(h,e,t),H=this.pages;this.pages=M,this.maxPageSize=[V-i,k-n];const F=this.pagination.currentPage;return this.pages.length<1||!this.pages[F]?(this.visible=!1,{oldPages:H}):(this.visible=!0,this.updatePositions(F),this.update(),{oldPages:H})}isCustomMarker(e,t){return e&&void 0!==t&&"string"!=typeof t}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item,n=!!i.enabled||!t||(e.marker.enabled??!0);return{markerEnabled:n,lineEnabled:!(!e.line||!t),isCustomMarker:this.isCustomMarker(n,e.marker.shape)}}calcSymbolsLengths(e){const{marker:t,line:i}=this.item,{markerEnabled:n,lineEnabled:r}=this.calcSymbolsEnabled(e),{strokeWidth:s}=this.getMarkerStyles(e),{strokeWidth:o}=r?this.getLineStyles(e):{strokeWidth:0};let a;const{shape:l}=e.marker;if(this.isCustomMarker(n,l)){const u=new l;u.updatePath();const h=u.getBBox();a=Math.max(h.width,h.height)}return{markerLength:n?t.size:0,markerStrokeWidth:s,lineLength:r?i.length??25:0,lineStrokeWidth:o,customMarkerSize:a}}calculateSpriteDimensions(){let e=0,t=0,i=0,n=0;return this.itemSelection.each((s,o)=>{o.symbols.forEach(a=>{const{markerLength:l,markerStrokeWidth:c,lineLength:d,lineStrokeWidth:u,customMarkerSize:h=-1/0}=this.calcSymbolsLengths(a),g=l+c;n=Math.max(n,d,h,l),t=Math.max(t,d,h,g),i=Math.max(i,u,g),e=Math.max(e,c+.5)})}),t+=2*e,i+=2*e,{spritePixelRatio:Do().devicePixelRatio,spriteAAPadding:e,spriteWidth:t,spriteHeight:i,markerWidth:n}}updateMarkerLabel(e,t,i,n){const{marker:r,paddingX:s}=this.item,{markerWidth:o}=n,a=[];let l=s;if(this._symbolsDirty){const c=[],d=[];i.symbols.forEach(u=>{const{shape:h=u.marker.shape}=r,g=ju(h);d.push(new Ul({zIndex:0})),c.push(new g({zIndex:1}))}),t.updateSymbols(c,d)}return i.symbols.forEach((c,d)=>{const u=c.marker.padding??r.padding,{markerEnabled:h,lineEnabled:g,isCustomMarker:m}=this.calcSymbolsEnabled(c);t.markers[d].size=h||!g?r.size:0,a.push({length:o,spacing:u,isCustomMarker:m}),(h||g)&&(l+=u+o);const y=t.markers[d],_=t.lines[d];if(y){const{strokeWidth:x,fill:D,stroke:M,fillOpacity:k,strokeOpacity:V}=this.getMarkerStyles(c);y.fill=D,y.stroke=M,y.strokeWidth=x,y.fillOpacity=k,y.strokeOpacity=V}if(_){const x=this.getLineStyles(c);_.stroke=x.stroke,_.strokeOpacity=x.strokeOpacity,_.strokeWidth=x.strokeWidth,_.lineDash=x.lineDash}}),t.update(e,n,a),l}truncate(e,t,i,n,r,s){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const a=sp.getMeasurer({font:r}),l=VV.truncateLine(e,a,i-n,o);return l.endsWith(ls.EllipsisChar)?this.truncatedItems.add(s):this.truncatedItems.delete(s),l}updatePagination(e,t,i){const n=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:s,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,i),d=s.findIndex(M=>M.endIndex>=r);this.pagination.currentPage=Si(0,d,s.length-1);const{paddingX:u,paddingY:h}=this.item,y=o-h;let _=0,x=-l.y-this.item.marker.size/2;c?x+=y+8:(_+=a-u-l.x+8,x+=(y-l.height)/2),this.pagination.translationX=_,this.pagination.translationY=x,this.pagination.update(),this.pagination.updateMarkers();let D=0;return this.itemSelection.each((M,k,V)=>{V>(s[D]?.endIndex??1/0)&&D++,M.pageIndex=D}),{maxPageHeight:o,maxPageWidth:a,pages:s}}updateItemProxyButtons(){const e=this.toggleSeries?"pointer":void 0,t=Math.max(...this.itemSelection.nodes().map(i=>i.getBBox().height));this.itemSelection.each(i=>{if(i.proxyButton){const{listitem:n,button:r}=i.proxyButton,s=i.pageIndex===this.pagination.currentPage;let o=ws.toCanvas(i);o.height!==t&&(o={x:o.x,y:o.y-(t-o.height)/2,height:t,width:o.width}),Ng(r,"pointer-events",s?"auto":"none"),Ng(r,"cursor",e),Eg(n,o)}})}updatePaginationProxyButtons(e){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const i=this.pages.length>1;(e?.length??this.pages.length)>1!==i&&(i?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,onclick:s=>this.pagination.onClick(s,"previous"),onmouseenter:()=>this.pagination.onMouseHover("previous"),onmouseleave:()=>this.pagination.onMouseHover(void 0)}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,onclick:s=>this.pagination.onClick(s,"next"),onmouseenter:()=>this.pagination.onMouseHover("next"),onmouseleave:()=>this.pagination.onMouseHover(void 0)})),this.proxyLegendPagination.ariaHidden="false"):(this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0],this.proxyLegendPagination.ariaHidden="true"));const{prev:n,next:r}=this.pagination.computeCSSBounds();Eg(this.proxyPrevButton,n),Eg(this.proxyNextButton,r),Ng(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Ng(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous"))}calculatePagination(e,t,i){const{paddingX:n,paddingY:r}=this.item,s=this.getOrientation(),o=["left","right"].includes(this.position);let a=this.pagination.getBBox(),l=new It(0,0,0,0),c=[],d=0,u=0,h=0;const m=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{if(h++>10){Xe.warn("unable to find stable legend layout.");break}a=l;const x=a8e({orientation:s,bboxes:e,maxHeight:i-(o?a.height:0),maxWidth:t-(o?0:a.width),itemPaddingY:r,itemPaddingX:n,forceResult:m});c=x?.pages??[],d=x?.maxPageWidth??0,u=x?.maxPageHeight??0;const D=c.length;if(this.pagination.visible=D>1,this.pagination.totalPages=D,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while((y=l).width!==a.width||y.height!==a.height);var y;return{maxPageWidth:d,maxPageHeight:u,pages:c,paginationBBox:l,paginationVertical:o}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:i,pages:n}=this;if(n.length<1||!n[e])return;const{columns:r,startIndex:s,endIndex:o}=n[e];let a=0,l=0;const c=r.length,d=r[0].indices.length,u="horizontal"===this.getOrientation(),h=r[0].bboxes[0].height+t,g=[];i.each((m,y,_)=>{if(_<s||_>o)return void(m.visible=!1);const x=_-s;let D,M;u?(D=x%c,M=Math.floor(x/c)):(D=Math.floor(x/d),M=x%d),m.visible=!0;const k=r[D];k&&(l=Math.floor(h*M),a=Math.floor(g[M]??0),g[M]=(g[M]??0)+k.columnWidth,m.translationX=a,m.translationY=l)}),this.updateItemProxyButtons()}updatePageNumber(e){const{pages:t}=this,{startIndex:i,endIndex:n}=t[e];this.paginationTrackingIndex=0===i?0:e===t.length-1?n:Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),Ng(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Ng(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous")),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,i)=>{t.setEnabled(i.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(k1),t.hideAction(OB)):(t.showAction(k1),t.showAction(OB))}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:n,lineDash:r}=e.line??{},s=Math.min(2,n??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??s,lineDash:r}}getMarkerStyles(e){const{fill:t,stroke:i,strokeOpacity:n=1,fillOpacity:r=1,strokeWidth:s}=e.marker,o=Math.min(2,s??1);return{fill:t,stroke:i,strokeOpacity:n,fillOpacity:r,strokeWidth:this.item.marker.strokeWidth??o}}computePagedBBox(){const e=Ti.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[t,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){const{datum:t,proxyButton:i}=this.itemSelection.select(n=>n.datum?.itemId===e.itemId)[0]??{};if(void 0===t||void 0===i)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${i} }`);return{datum:t,proxyButton:i}}contextToggleVisibility(e){const{datum:t,proxyButton:i}=this.findNode(e);this.doClick(e.event,t,i.button)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){const i=t.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(k1):this.ctx.contextMenuRegistry.enableAction(k1);const{button:n,offsetX:r,offsetY:s}=e,{x:o,y:a}=ws.toCanvasPoint(t,r,s);this.ctx.contextMenuRegistry.dispatchContext("legend",{type:"contextmenu",sourceEvent:e,button:n,offsetX:o,offsetY:a,deltaX:0,deltaY:0,pageX:NaN,pageY:NaN,preventDefault:()=>e.preventDefault(),pointerHistory:[]},{legendItem:i})}onClick(e,t,i){this.doClick(e,t,i)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,i){const{listeners:{legendItemClick:n},ctx:{chartService:r,highlightManager:s},preventHidingAll:o,toggleSeries:a}=this;if(!t)return!1;const{id:l,itemId:c,enabled:d}=t,u=r.series.find(m=>m.id===l);if(!u)return!1;let h=d;const g=new hne("click",h,c,u.id,e);return n?.(g),g.defaultPrevented||(a&&(h=!d,o&&!h&&this.getVisibleItemCount()<2&&(h=!0),i.ariaChecked=h.toString(),this.ctx.chartEventManager.legendItemClick(u,c,h,t.legendItemName)),h?s.updateHighlight(this.id,{series:u,itemId:c,datum:void 0}):s.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:r}=this;if("integrated"===n.mode||!t)return!1;const{id:s,itemId:o,seriesId:a}=t,l=n.series.find(d=>d.id===s);if(!l)return!1;const c=new hne("dblclick",!0,o,l.id,e);if(i?.(c),c.defaultPrevented)return!0;if(r){const d=n.series.flatMap(g=>g.getLegendData("category")),u=d.filter(g=>g.enabled).length,h=d.find(g=>g.itemId===o&&g.seriesId===a);this.ctx.chartEventManager.legendItemDoubleClick(l,o,h?.enabled??!1,u,h?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let i;if(e instanceof FocusEvent){const{x:s,y:o}=ws.toCanvas(t).computeCenter();i={type:"keyboard",offsetX:s,offsetY:o}}else{e.preventDefault();const{x:s,y:o}=ws.toCanvasPoint(t,e.offsetX,e.offsetY);i={type:"hover",offsetX:s,offsetY:o}}const{offsetX:n,offsetY:r}=i;return{offsetX:n,offsetY:r,lastPointerEvent:i,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const i=t.datum,n=i?this.ctx.chartService.series.find(r=>r.id===i?.id):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const r=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,r,o_({content:this.getItemLabel(i)}))}else this.ctx.tooltipManager.removeTooltip(this.id);i?.enabled&&n?this.updateHighlight({series:n,itemId:i?.itemId,datum:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){const t=this.ctx.interactionManager.getState();32===t?this.ctx.highlightManager.updateHighlight(this.id,e):2===t&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.itemSelection.each(({proxyButton:e},t,i)=>{null!=e?.button&&(e.button.textContent=this.getItemAriaText(i))}),this.proxyLegendItemDescription.textContent=this.getItemAriaDescription()}getItemAriaText(e){const t=this.data[e],i=t&&this.getItemLabel(t),n=this.ctx.localeManager;return e>=0&&i?n.t("ariaLabelLegendItem",{label:i,index:e+1,count:this.data.length}):n.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(){return this.ctx.localeManager.t("ariaDescriptionLegendItem")}positionLegend(e){if(Ng(this.proxyLegendToolbar,"display",this.visible&&this.enabled?void 0:"none"),!this.enabled||!this.data.length)return;const{layoutBox:t}=e,{x:i,y:n,width:r,height:s}=t,[o,a]=this.calculateLegendDimensions(t),{oldPages:l}=this.calcLayout(o,a),c=this.computePagedBBox(),d=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return s-c.height;default:return r-c.width}};if(this.visible){const u=this.spacing;let h,g;switch(this.position){case"top":case"bottom":h=(r-c.width)/2,g=d(),t.shrink(c.height+u,this.position);break;default:h=d(),g=(s-c.height)/2,t.shrink(c.width+u,this.position)}this.group.translationX=Math.floor(i+h-c.x),this.group.translationY=Math.floor(n+g-c.y),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}this.updateItemProxyButtons(),this.updatePaginationProxyButtons(l)}calculateLegendDimensions(e){const{width:t,height:i}=e,n=t/i;let a,l;switch(this.position){case"top":case"bottom":{const c=n<1?Math.min(.5,1/n*.2):.2;a=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*c);break}default:{const c=n>1?Math.min(.5,.25*n):.25;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*c),l=this.maxHeight?Math.min(this.maxHeight,i):i}}return[a,l]}};Kl.className="Legend",E([L(Jt)],Kl.prototype,"toggleSeries",2),E([L(Tt)],Kl.prototype,"pagination",2),E([L(Tt)],Kl.prototype,"item",2),E([L(Tt)],Kl.prototype,"listeners",2),E([ba(e=>e.updateGroupVisibility()),L(Jt)],Kl.prototype,"enabled",2),E([ba(e=>e.proxyLegendDirty=!0),L(yV)],Kl.prototype,"position",2),E([L(st,{optional:!0})],Kl.prototype,"maxWidth",2),E([L(st,{optional:!0})],Kl.prototype,"maxHeight",2),E([L(Jt,{optional:!0})],Kl.prototype,"reverseOrder",2),E([L(Yn(["horizontal","vertical"],"an orientation"),{optional:!0})],Kl.prototype,"orientation",2),E([L(Jt,{optional:!0})],Kl.prototype,"preventHidingAll",2),E([L(st)],Kl.prototype,"spacing",2);var p8e={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new Kl(e),packageType:"community"},Zg=class extends Ca{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(e,t){this.dirtyPath=!0,(this.centerX!==e||this.centerY!==t)&&(this.centerX=e,this.centerY=t,this.markDirty(3))}static align(e,t,i,n,r,s,o,a){const l=e.strokeWidth/2,c=e.align(i+r*o)+l,d=c+e.align(i+r*o,r*(a-o))-2*l,u=e.align(n+s/2)+l;e.setCenter(c,u),t.setCenter(d,u)}computeBBox(){const{centerX:e,centerY:t,width:i,height:n}=this;return new It(e-i/2,t-n/2,i,n)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}updatePath(){const{centerX:e,centerY:t,path:i,strokeWidth:n,gripLineGap:r,gripLineLength:s}=this,o=this.layerManager?.canvas?.pixelRatio??1;i.clear();const a=Math.floor(this.width/2*o)/o,l=Math.floor(this.height/2*o)/o;i.moveTo(e-a,t-l),i.lineTo(e+a,t-l),i.lineTo(e+a,t+l),i.lineTo(e-a,t+l),i.closePath();const c=Math.floor((r+n)/2*o)/o,d=Math.floor(s/2*o)/o;i.moveTo(e-c,t-d),i.lineTo(e-c,t+d),i.moveTo(e+c,t-d),i.lineTo(e+c,t+d)}};Zg.className="RangeHandle",E([L(st),Ct({redraw:3,type:"path"})],Zg.prototype,"width",2),E([L(st),Ct({redraw:3,type:"path"})],Zg.prototype,"height",2),E([L(st),Ct({redraw:3,type:"path"})],Zg.prototype,"gripLineGap",2),E([L(st),Ct({redraw:3,type:"path"})],Zg.prototype,"gripLineLength",2);var pne=class extends Ca{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,i,n){(e!==this.x||t!==this.y||i!==this.width||this.height!==n)&&(this.x=e,this.y=t,this.width=i,this.height=n,this.dirtyPath=!0,this.markDirty(3))}update(e,t){e=isNaN(e)?this.min:e,t=isNaN(t)?this.max:t,(e!==this.min||t!==this.max)&&(this.min=e,this.max=t,this.dirtyPath=!0,this.markDirty(3))}computeBBox(){const{x:e,y:t,width:i,height:n}=this;return new It(e,t,i,n)}computeVisibleRangeBBox(){const{x:e,y:t,width:i,height:n,min:r,max:s}=this,o=e+i*r;return new It(o,t,e+i*s-o,n)}updatePath(){const{path:e,x:t,y:i,width:n,height:r,min:s,max:o,strokeWidth:a}=this,l=a/2;e.clear();const c=this.align(t)+l,d=this.align(i)+l,u=c+this.align(t,n)-2*l,h=d+this.align(i,r)-2*l;e.moveTo(c,d),e.lineTo(u,d),e.lineTo(u,h),e.lineTo(c,h),e.closePath();const g=this.align(t+n*s)+l,m=g+this.align(t+n*s,n*(o-s))-2*l;e.moveTo(g,d),e.lineTo(g,h),e.lineTo(m,h),e.lineTo(m,d),e.closePath()}};pne.className="RangeMask";var g8e=class extends zu{constructor(e){super({name:"rangeSelectorGroup",zIndex:16}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new rp({name:"navigator-background",zIndex:1})),this.append(e)}layout(e,t,i,n,r,s){this.x=e,this.y=t,this.width=i,this.height=n,this.lOffset=r,this.rOffset=s,this.background.translationX=e,this.background.translationY=t,this.markDirty(3)}updateBackground(e,t){null!=e&&this.background.removeChild(e),null!=t&&this.background.appendChild(t),this.markDirty(3)}computeBBox(){const{x:e,y:t,width:i,height:n,lOffset:r,rOffset:s}=this;return new It(e-r,t,i+(r+s),n)}},Qg=class extends y1{constructor(e){super(),this.ctx=e,this.miniChart=void 0,this.enabled=!1,this.mask=new pne,this.minHandle=new Zg,this.maxHandle=new Zg,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(n,r)=>({x:n,y:r})},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new g8e([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const t=e.regionManager.addRegion("navigator",this.rangeSelector);this.destroyFns.push(e.scene.attachNode(this.rangeSelector),t.addListener("hover",n=>this.onHover(n),50),t.addListener("drag-start",n=>this.onDragStart(n),50),t.addListener("drag",n=>this.onDrag(n),50),t.addListener("drag-end",n=>this.onDragEnd(n),50),t.addListener("leave",n=>this.onLeave(n),50),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),this.ctx.layoutManager.registerElement(3,n=>this.onLayoutStart(n)),this.ctx.layoutManager.addListener("layout:complete",n=>this.onLayoutComplete(n)),e.zoomManager.addListener("zoom-change",n=>this.onZoomChange(n))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:n=>this.onMinSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:n=>this.onPanSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:n=>this.onMaxSliderChange(n)})],this.proxyNavigatorElements.forEach(n=>Wl(n,"data-preventdefault",!1)),this.setSliderRatio(this.proxyNavigatorElements[0],this._min),this.setSliderRatio(this.proxyNavigatorElements[2],this._max),this.setPanSliderValue(this._min,this._max),XV({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push(()=>{this.proxyNavigatorElements.forEach(n=>n.remove()),this.proxyNavigatorToolbar.remove()})}updateBackground(e,t){this.rangeSelector?.updateBackground(e,t)}updateGroupVisibility(){const{enabled:e}=this;null==this.rangeSelector||e===this.rangeSelector.visible||(this.rangeSelector.visible=e,this.proxyNavigatorToolbar.ariaHidden=(!e).toString(),e?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(e){if(this.enabled){const{layoutBox:t}=e;t.shrink(this.height+this.spacing,"bottom"),this.y=t.y+t.height+this.spacing}else this.y=0}onLayoutComplete(e){const{x:t,width:i}=e.series.rect;if(this.enabled){const{y:n,height:r}=this;this.layoutNodes(t,n,i,r),Eg(this.proxyNavigatorToolbar,{x:t,y:n,width:i,height:r}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=t,this.width=i}onHover(e){this.enabled&&this.updateCursor(e)}updateCursor(e){if(!this.enabled)return;const{mask:t,minHandle:i,maxHandle:n}=this,{regionOffsetX:r,regionOffsetY:s}=e;i.containsPoint(r,s)||n.containsPoint(r,s)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):t.computeVisibleRangeBBox().containsPoint(r,s)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(e){if(!this.enabled)return;this.updateCursor(e);const{mask:t,minHandle:i,maxHandle:n,x:r,width:s,_min:o}=this,{regionOffsetX:a,regionOffsetY:l}=e;i.zIndex<n.zIndex?n.containsPoint(a,l)?this.dragging="max":i.containsPoint(a,l)&&(this.dragging="min"):i.containsPoint(a,l)?this.dragging="min":n.containsPoint(a,l)&&(this.dragging="max"),null==this.dragging&&t.computeVisibleRangeBBox().containsPoint(a,l)&&(this.dragging="pan",this.panStart=(a-r)/s-o),null!=this.dragging&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(e){if(!this.enabled||null==this.dragging)return;const{dragging:t,minRange:i,panStart:n,x:r,width:s}=this;let{_min:o,_max:a}=this;const{regionOffsetX:l}=e,c=(l-r)/s;if("min"===t)o=Si(0,c,a-i);else if("max"===t)a=Si(o+i,c,1);else if("pan"===t&&null!=n){const d=a-o;o=Si(0,c-n,1-d),a=o+d}this._min=o,this._max=a,this.updateZoom()}onDragEnd(e){this.dragging=void 0,this.updateCursor(e)}onLeave(e){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(e){const{x:t}=e;t&&(this._min=t.min,this._max=t.max,this.updateNodes(t.min,t.max),this.setPanSliderValue(t.min,t.max),this.setSliderRatio(this.proxyNavigatorElements[0],t.min),this.setSliderRatio(this.proxyNavigatorElements[2],t.max))}onPanSliderChange(e){const t=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=Si(0,t,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(e){this._min=this.setSliderRatioClamped(this.proxyNavigatorElements[0],0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(e){this._max=this.setSliderRatioClamped(this.proxyNavigatorElements[2],this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(e,t){this.proxyNavigatorElements[1].value=`${Math.round(100*e)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:e,max:t})}setSliderRatioClamped(e,t,i){const n=this.getSliderRatio(e),r=Si(t,n,i);return r!==n&&this.setSliderRatio(e,r),r}setSliderRatio(e,t){const i=Math.round(100*t);e.value=`${i}`,e.ariaValueText=tV(i)}getSliderRatio(e){return parseFloat(e.value)/100}layoutNodes(e,t,i,n){const{rangeSelector:r,mask:s,minHandle:o,maxHandle:a,_min:l,_max:c}=this;r.layout(e,t,i,n,o.width/2,a.width/2),s.layout(e,t,i,n),Zg.align(o,a,e,t,i,n,l,c),l+(c-l)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3),[o,this.maskVisibleRange,a].forEach((d,u)=>{const h=d.getBBox();Eg(this.proxyNavigatorElements[u],{x:h.x-e,y:h.y-t,height:h.height,width:h.width})})}updateNodes(e,t){this.mask.update(e,t)}updateZoom(){if(!this.enabled)return;const{_min:e,_max:t}=this;return null!=e&&null!=t?this.ctx.zoomManager.updateZoom("navigator",{x:{min:e,max:t}},!1,n=>{null==this.min&&null==this.max||Xe.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${n}] has modified the initial zoom state.`)}):void 0}};E([L(Tt,{optional:!0})],Qg.prototype,"miniChart",2),E([L(Jt),ba(e=>e.updateGroupVisibility())],Qg.prototype,"enabled",2),E([L(st)],Qg.prototype,"height",2),E([L(st)],Qg.prototype,"spacing",2),E([Qa({newValue(e){this._min=e,this.updateZoom()}}),L(rd(hn,e_("max")),{optional:!0})],Qg.prototype,"min",2),E([Qa({newValue(e){this._max=e,this.updateZoom()}}),L(rd(hn,t_("min")),{optional:!0})],Qg.prototype,"max",2);var gne={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new Qg(e),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function S_({takeColors:e}){const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}function OR(e){return{marker:S_(e)}}var fne=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(fne||{}),mne=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(mne||{}),vne=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(vne||{}),yne=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(yne||{}),bne=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(bne||{}),_ne=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(_ne||{}),P1=Symbol("is-dark-theme"),Cne=Symbol("is-community"),LB=Symbol("is-enterprise"),Ts=Symbol("default-font"),To=Symbol("default-label-colour"),wne=Symbol("default-inverted-label-colour"),Dv=Symbol("default-inside-series-label-colour"),Mv=Symbol("default-muted-label-colour"),D_=Symbol("default-axis-grid-colour"),LR=Symbol("default-axis-line-colour"),F1=Symbol("default-cross-lines-colour"),NR=Symbol("default-background-colour"),Ev=Symbol("default-shadow-colour"),f8e=Symbol("default-colours"),Xg=Symbol("default-padding"),Iv=Symbol("default-caption-layout-style"),Av=Symbol("default-caption-alignment"),NB=Symbol("palette-up-stroke"),VB=Symbol("palette-down-stroke"),BB=Symbol("palette-up-fill"),zB=Symbol("palette-down-fill"),O1=Symbol("palette-neutral-stroke"),GB=Symbol("palette-neutral-fill"),xne=Symbol("palette-alt-up-stroke"),Sne=Symbol("palette-alt-down-stroke"),Dne=Symbol("palette-alt-up-fill"),Mne=Symbol("palette-alt-down-fill"),Ene=Symbol("palette-gray-fill"),HB=Symbol("palette-gray-stroke"),jB=Symbol("default-polar-series-stroke"),xc=Symbol("default-diverging-series-colour-range"),Kd=Symbol("default-gauge-series-colour-range"),gp=Symbol("default-funnel-series-colour-range"),UB=Symbol("default-hierarchy-fills"),WB=Symbol("default-hierarchy-strokes"),Sc=Symbol("default-annotation-stroke"),$B=Symbol("default-text-annotation-color"),Dc=Symbol("default-annotation-background-fill"),YB=Symbol("default-annotation-handle-fill"),KB=Symbol("default-annotation-statistics-fill"),qB=Symbol("default-annotation-statistics-stroke"),ZB=Symbol("default-annotation-statistics-color"),QB=Symbol("default-annotation-statistics-divider-stroke"),Ine=Symbol("default-annotation-statistics-fill"),Ane=Symbol("default-annotation-statistics-stroke"),XB=Symbol("default-textbox-fill"),JB=Symbol("default-textbox-stroke"),e6=Symbol("default-textbox-color"),L1=Symbol("default-toolbar-position"),fp=Symbol("default-gridline-enabled");function t6(e,t,i,n,r){const{addPhaseFn:s,updatePhaseFn:o,removePhaseFn:a}=r,l=(c,d,u)=>{i.animate({id:`${e}_${t}_${d.id}_${c}`,groupId:e,from:0,to:1,ease:n1,collapsable:!1,onUpdate(h,g){g&&"removed"!==c||(d.path.clear(!0),u(h,d),d.checkPathDirty())},onStop(){"added"===c&&(d.path.clear(!0),u(1,d),d.checkPathDirty())},phase:Za[c]})};for(const c of n)i.isSkipped()||(l("removed",c,a),l("updated",c,o)),l("added",c,s)}function VR(e){return"number"==typeof e?e.toFixed(2):String(e??"")}var BR=null;function Kr(e){if(null!=e)return""===e?"":(BR??(BR=$n("div")),BR.textContent=String(e),BR.innerHTML)}var N1=new WeakMap;function zR(e,t){const i=JSON.stringify(e,null,0);return N1.has(t)||N1.set(t,new Map),N1.get(t)?.has(i)||N1.get(t)?.set(i,t(e)),N1.get(t)?.get(i)}function GR(e,t=[0,0]){for(const i of e)"number"==typeof i&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function m8e(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>GR(n)}}function Tne(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>GR(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=i?.[0]??0,n[1]+=i?.[1]??0,n)}}function Rne(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>g_.extendDomain(n)}}function i6(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=t?.[0]??0,i[1]+=t?.[1]??0,i)}}function kne(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:n=>GR(n),groupAggregateFunction:(n,r=[0,0,-1])=>(r[0]+=n?.[0]??0,r[1]+=n?.[1]??0,r[2]++,r),finalFunction:(n=[0,0,0])=>{const r=n[0]+n[1];return r>=0?[0,r/n[2]]:[r/n[2],0]}}}function n6(e,t,i){const n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(r,s=[])=>{const o=s[1]-s[0];return t.aggregateFunction(r).map(a=>a/o)}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function Pne(e){return()=>{let t=0;return i=>nn(i)?(t+=e?Math.max(0,i):i,t):i}}function Fne(){return()=>{let e=0;return t=>{if(!nn(t))return t;const i=e;return e+=t,i}}}function One(e){return null!=e&&fR(e)}function v8e(e){return null!=e}function Lne(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return One;default:return v8e}}function Nne(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function qd(e,t,i={}){return{property:e,type:"key",valueType:Nne(t),validation:Lne(t),...i}}function Vi(e,t,i={}){return{property:e,type:"value",valueType:Nne(t),validation:Lne(t),...i}}function r6(e,t={}){const{min:i=-1/0,max:n=1/0,...r}=t;return{type:"value",property:e,valueType:"range",validation:One,processor:()=>s=>nn(s)?Si(i,s,n):s,...r}}function V1(e,t,i={}){const{onlyPositive:n,...r}=i;return{...Vi(e,t,r),processor:Pne(n)}}function y8e(e,t,i={}){return{...Vi(e,t,i),processor:Fne()}}function Jg(e,t,i="current",n,r){return[Vi(e,r,n),Hne(n.groupId,t,i,n.separateNegative),...null!=n.rangeId?[Rne(n.rangeId,n.groupId)]:[]]}function Vne(e,t,i){return[Vi(e,t,i),jne(i.groupId)]}var Bne={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{const n=i.keys[0],r=Math.abs(n-e);return e=n,!isNaN(r)&&r>0&&r<t?r:t}}},zne={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{const n=i.keys[0],r=Math.abs(n-e);return e=n,!isNaN(r)&&r>0&&r>t?r:t}}},Gne={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e?.slice().sort((t,i)=>{for(let n=0;n<t.length;n++){const r=t[n]-i[n];if(0!==r)return r}return 0})};function b8e({normaliseTo:e,mode:t}){const i=(n,r)=>{const s=n*e/r;return s>=0?Math.min(e,s):Math.max(-e,s)};return()=>()=>(n,r)=>{const s=[0,0];for(const a of r){const l=n[a],c="number"==typeof l?l:Math.max(...l),d=c<0?0:1;"sum"===t?s[d]+=c:s[d]=0===d?Math.min(s[d],c):Math.max(s[d],c)}const o=Math.max(Math.abs(s[0]),s[1]);for(const a of r){const l=n[a];n[a]="number"==typeof l?i(l,o):l.map(c=>i(c,o))}}}function HR(e,t,i="sum"){return{type:"group-value-processor",matchGroupIds:e,adjust:zR({normaliseTo:t,mode:i},b8e)}}function _8e({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:n}){const r=e[1]-e[0],s=(o,a,l)=>{const c=e[0]+(o-a)/l*r;return 0===l?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(o,a)=>{let[l,c]=o.domain.values[a];null!=i&&(l=i),null!=n&&(c=n);const d=c-l;o.domain.values[a]=[e[0],e[1]];for(const u of o.data){let h=u.values;"ungrouped"===o.type&&(h=[h]);for(const g of h)g[a]=s(g[a],l,d)}}}function Tv(e,t,i,n,r){return{type:"property-value-processor",property:e,adjust:zR({normaliseTo:t,rangeMin:n,rangeMax:r,zeroDomain:i},_8e)}}function M_(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:n}=t.defs,{input:r,data:s}=t;let o=!0,a=!0;const l=[];for(let d=0;d<n.length;d++)e?.includes(n[d].id)&&l.push([d,n[d]]);const c=(d,u,h)=>{if("category"===u.valueType)return void(o&&(o=t.domain[h][d].length===r.count));let g=s[0]?.[h][d];for(let m=1;(o||a)&&m<s.length;m++){const y=s[m][h][d];a&&(a=g<=y),o&&(o=g!==y),g=y}};for(let d=0;(o||a)&&d<i.length;d++)c(d,i[d],"keys");for(let d=0;(o||a)&&d<l.length;d++){const[u,h]=l[d];c(u,h,"values")}return{uniqueKeys:o,orderedKeys:a}}}}function C8e({mode:e,separateNegative:t}){return()=>()=>(i,n)=>{const r=[0,0];for(const s of n){const o=i[s],a=qS(o)&&t?0:1;nn(o)&&("normal"===e&&(r[a]+=o),i[s]=r[a],"trailing"===e&&(r[a]+=o))}}}function w8e({mode:e,sum:t}){return()=>{const i=[];let n=!0;return()=>(r,s)=>{let o=0;for(const a of s){const l=r[a],c=n&&"current"===t?0:i[a];i[a]=l;const d="current"===t?l:c;nn(l)&&nn(c)?("normal"===e&&(o+=d),r[a]=o,"trailing"===e&&(o+=d)):r[a]=o}n=!1}}}function Hne(e,t,i,n=!1){let r;return r=t.startsWith("window")?zR({mode:t.endsWith("-trailing")?"trailing":"normal",sum:i},w8e):zR({mode:t,separateNegative:n},C8e),{type:"group-value-processor",matchGroupIds:[e],adjust:r}}function x8e(){return()=>(e,t)=>{const i=new Float64Array(32);let n=0;for(const r of t){const s=e[r];i[n]=Number.isFinite(s)?s:NaN,n+=1,e[r]=i.subarray(0,n)}}}function jne(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:x8e}}function E_(e,t=!0){return{type:"processor",property:"diff",calculate:i=>{const n=new Map,r=new Map,s=new Map,o=new Map,a=Math.max(e.data.length,i.data.length);for(let c=0;c<a;c++){const d=e.data[c],u=i.data[c],h=d?mp(d.keys):"",g=u?mp(u.keys):"";u&&d&&h===g?Tg(d.values,u.values)||s.set(g,u):(o.has(g)?((t||!Tg(o.get(g).values,u.values))&&(s.set(g,u),n.set(g,u)),o.delete(g)):u&&r.set(g,u),r.has(h)?((t||!Tg(r.get(h).values,d.values))&&(s.set(h,d),n.set(h,d)),r.delete(h)):d&&(s.delete(h),o.set(h,d)))}return{changed:r.size>0||s.size>0||o.size>0,added:r,updated:s,removed:o,moved:n}}}}function mp(e,...t){let i;return i=as(e)?e.map(r=>gv(r)).join("___"):gv(e),("string"==typeof i||"number"==typeof i||"boolean"==typeof i||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}function gn({id:e},t,i,...n){Pu(e,t,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function ef({id:e},t,i,...n){Pu(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function vp(e){return{opacity:1}}var s6=class extends Fi{constructor(){super(...arguments),this._dirty=3}markDirty(e=1){this._dirty<e&&(this._dirty=e)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},Zd=class extends s6{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};E([L(Jt),Ct({redraw:3})],Zd.prototype,"enabled",2),E([L(On),Ct({redraw:3})],Zd.prototype,"color",2),E([L(ar),Ct({redraw:3})],Zd.prototype,"xOffset",2),E([L(ar),Ct({redraw:3})],Zd.prototype,"yOffset",2),E([L(st),Ct({redraw:3})],Zd.prototype,"blur",2);var Une=Kn(e=>one(e)||"function"==typeof e&&Object.create(e.prototype)instanceof Yl,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),ql=class extends s6{constructor(){super(...arguments),this.enabled=!0,this.shape=Ug,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:n,stroke:r,strokeWidth:s,strokeOpacity:o}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:r,strokeWidth:s,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};E([L(Jt),Ct({redraw:3})],ql.prototype,"enabled",2),E([L(Une),Ct({redraw:3})],ql.prototype,"shape",2),E([L(st),Ct({redraw:3})],ql.prototype,"size",2),E([L(On,{optional:!0}),Ct({redraw:3})],ql.prototype,"fill",2),E([L(hn),Ct({redraw:3})],ql.prototype,"fillOpacity",2),E([L(On,{optional:!0}),Ct({redraw:3})],ql.prototype,"stroke",2),E([L(st),Ct({redraw:3})],ql.prototype,"strokeWidth",2),E([L(hn),Ct({redraw:3})],ql.prototype,"strokeOpacity",2),E([L(Hl,{optional:!0}),Ct({redraw:3})],ql.prototype,"itemStyler",2);var Wne=class extends Fi{constructor(){super(...arguments),this.enabled=!1}};E([L(Jt)],Wne.prototype,"enabled",2);var Ja=class extends Fi{constructor(){super(...arguments),this.enabled=!0,this.interaction=new Wne,this.position=new a_,this.range=void 0}toTooltipHtml(e,t){return this.renderer?o_(this.renderer(t),e):o_(e)}};E([L(Jt)],Ja.prototype,"enabled",2),E([L(Jt,{optional:!0})],Ja.prototype,"showArrow",2),E([L(Hl,{optional:!0})],Ja.prototype,"renderer",2),E([L(Tt)],Ja.prototype,"interaction",2),E([L(Tt)],Ja.prototype,"position",2),E([L(lR,{optional:!0})],Ja.prototype,"range",2);var $ne=Yn(["linear","smooth","step"],"a line style"),Yne=Yn(["start","middle","end"]),I_=class extends Fi{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};E([L($ne)],I_.prototype,"type",2),E([L(hn)],I_.prototype,"tension",2),E([L(Yne)],I_.prototype,"position",2);var Js=class extends hp{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new I_,this.shadow=new Zd,this.marker=new ql,this.label=new po,this.tooltip=new Ja,this.connectMissingData=!1}};function tf(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function B1(e,t,i){const[n,r]=tf(e),s=r.x!==n.x?(i.x-t.x)/(r.x-n.x):0,o=r.y!==n.y?(i.y-t.y)/(r.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*s,cp1y:i.y-(e.cp2y-n.y)*o,cp2x:i.x-(e.cp1x-n.x)*s,cp2y:i.y-(e.cp1y-n.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*s}}}function Kne(e,t,i){const{moveTo:n}=e,[r,s]=function S8e(e){const t=tf(e);return t[0].x>t[1].x&&t.reverse(),t}(e),{x:o,y:a}=r,{x:l,y:c}=s;if(i<o)return B1(e,r,r);if(t>l)return B1(e,s,s);switch(e.type){case"linear":{const d=a===c?void 0:(c-a)/(l-o);return{type:"linear",moveTo:n,x0:t,y0:null==d?a:d*(t-o)+a,x1:i,y1:null==d?a:d*(i-o)+a}}case"step":if(i<=e.stepX){const d=e.y0;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:d,stepX:i}}if(t>=e.stepX){const d=e.y1;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:d,stepX:t}}{const{y0:d,y1:u,stepX:h}=e;return{type:"step",moveTo:n,x0:t,y0:d,x1:i,y1:u,stepX:h}}case"cubic":{const d=CR(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[u,h]=wR(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,d);const g=CR(h[0].x,h[1].x,h[2].x,h[3].x,i);return[h,u]=wR(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,g),{type:"cubic",moveTo:n,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}E([L(et)],Js.prototype,"xKey",2),E([L(et,{optional:!0})],Js.prototype,"xName",2),E([L(et)],Js.prototype,"yKey",2),E([L(et,{optional:!0})],Js.prototype,"yName",2),E([L(et,{optional:!0})],Js.prototype,"yFilterKey",2),E([L(st,{optional:!0})],Js.prototype,"normalizedTo",2),E([L(On)],Js.prototype,"fill",2),E([L(hn)],Js.prototype,"fillOpacity",2),E([L(On)],Js.prototype,"stroke",2),E([L(st)],Js.prototype,"strokeWidth",2),E([L(hn)],Js.prototype,"strokeOpacity",2),E([L(np)],Js.prototype,"lineDash",2),E([L(st)],Js.prototype,"lineDashOffset",2),E([L(Tt)],Js.prototype,"interpolation",2),E([L(Tt)],Js.prototype,"shadow",2),E([L(Tt)],Js.prototype,"marker",2),E([L(Tt)],Js.prototype,"label",2),E([L(Tt)],Js.prototype,"tooltip",2),E([L(Jt)],Js.prototype,"connectMissingData",2);var M8e={start:0,middle:.5,end:1};function eo(e,t,i){return(t-e)*i+e}function qne(e,t){return"linear"===e.type?function A8e(e,t){const{x0:i,y0:n,x1:r,y1:s}=e,a=(s-n)/(r-i)*(t-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:r,rightCp2y:s}}(e,t):"cubic"===e.type?function T8e(e,t){const{cp0x:i,cp0y:n,cp1x:r,cp1y:s,cp2x:o,cp2y:a,cp3x:l,cp3y:c}=e,d=CR(i,r,o,l,t),[u,h]=wR(i,n,r,s,o,a,l,c,d),g=u[3].y;return{leftCp1x:u[1].x,leftCp1y:u[1].y,leftCp2x:u[2].x,leftCp2y:u[2].y,stepX:t,stepY0:g,stepY1:g,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}(e,t):function R8e(e){const{x0:t,y0:i,x1:n,y1:r,stepX:s}=e;return{leftCp1x:(t+s)/2,leftCp1y:i,leftCp2x:(t+s)/2,leftCp2y:i,stepX:s,stepY0:i,stepY1:r,rightCp1x:(s+n)/2,rightCp1y:r,rightCp2x:(s+n)/2,rightCp2y:r}}(e)}function Zne(e,t,i,n,r,s,o){switch(t){case 1:o?e.moveTo(r,s):e.moveTo(i,n);break;case 2:o?e.lineTo(r,s):e.lineTo(i,n)}}function Qne(e,t,i,n,r,s){s?e.lineTo(t,i):e.lineTo(n,r)}function Xne(e,t,i,n,r,s,o,a,l,c){c?e.cubicCurveTo(s,o,n,r,t,i):e.cubicCurveTo(n,r,s,o,a,l)}function Jne(e,t,i,n,r,s,o){o?(e.lineTo(s,r),e.lineTo(s,i),e.lineTo(t,i)):(e.lineTo(s,i),e.lineTo(s,r),e.lineTo(n,r))}function o6(e,t,i,n){const[r,s]=tf(t);switch(Zne(e,i,r.x,r.y,s.x,s.y,n),t.type){case"linear":Qne(e,t.x0,t.y0,t.x1,t.y1,n);break;case"cubic":Xne(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,n);break;case"step":Jne(e,t.x0,t.y0,t.x1,t.y1,t.stepX,n)}}function a6(e,t,i,n,r,s){const[o,a]=tf(t),[l,c]=tf(i),d=eo(o.x,l.x,n),u=eo(o.y,l.y,n),h=eo(a.x,c.x,n),g=eo(a.y,c.y,n);if(Zne(e,r,d,u,h,g,s),"cubic"===t.type&&"cubic"===i.type)Xne(e,d,u,eo(t.cp1x,i.cp1x,n),eo(t.cp1y,i.cp1y,n),eo(t.cp2x,i.cp2x,n),eo(t.cp2y,i.cp2y,n),h,g,s);else if("step"===t.type&&"step"===i.type)Jne(e,d,u,h,g,eo(t.stepX,i.stepX,n),s);else if("linear"===t.type&&"linear"===i.type)Qne(e,d,u,h,g,s);else{let m;m="step"===t.type?t.stepX:"step"===i.type?i.stepX:(d+h)/2;const y=qne(t,m),_=qne(i,m),x=eo(y.leftCp1x,_.leftCp1x,n),D=eo(y.leftCp1y,_.leftCp1y,n),M=eo(y.leftCp2x,_.leftCp2x,n),k=eo(y.leftCp2y,_.leftCp2y,n),V=eo(y.stepX,_.stepX,n),H=eo(y.stepY0,_.stepY0,n),F=eo(y.stepY1,_.stepY1,n),P=eo(y.rightCp1x,_.rightCp1x,n),G=eo(y.rightCp1y,_.rightCp1y,n),Y=eo(y.rightCp2x,_.rightCp2x,n),q=eo(y.rightCp2y,_.rightCp2y,n);s?(e.cubicCurveTo(Y,q,P,G,V,F),e.lineTo(V,H),e.cubicCurveTo(M,k,x,D,d,u)):(e.cubicCurveTo(x,D,M,k,V,H),e.lineTo(V,F),e.cubicCurveTo(P,G,Y,q,h,g))}}function z1({id:e},t,i,...n){Pu(e,"markers",t,n,{opacity:0},{opacity:1},{phase:i?Za[i]:"trailing"}),n.forEach(s=>s.cleanup())}function l6({id:e},t,...i){Pu(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function c6({id:e,nodeDataDependencies:t},i,...n){const r=t.seriesRectWidth;_s(e,"markers",i,n,{fromFn:(a,l)=>{let d=Si(0,wee((l.midPoint?.x??r)/r),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:.2,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function G1(e){return{opacity:1,scalingX:1,scalingY:1}}function H1(e,t){return{translationX:t.point?.x??NaN,translationY:t.point?.y??NaN}}function ere(e,t){const i=(o,a)=>{const l=e[a][o];return Array.isArray(l)?l[0]:l},n=o=>{const{xValue:a}=o;return e.moved[a]?{point:i(a,"moved"),status:"updated"}:e.removed[a]?{point:i(a,"removed"),status:"removed"}:e.added[a]?{point:i(a,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(o,a)=>{const{status:l,point:c}=n(a);if("unknown"===l)return{opacity:0};const d={translationX:c?.from?.x??o.translationX,translationY:c?.from?.y??o.translationY,opacity:o.opacity,phase:Za[l]};return"added"===t?{...d,opacity:0,translationX:c?.to?.x,translationY:c?.to?.y,phase:Za.added}:("added"===l&&(d.opacity=0),d)},toFn:(o,a)=>{const{status:l,point:c}=n(a);if("unknown"===l)return{opacity:0};const d={translationX:a.point.x,translationY:a.point.y,opacity:1,phase:Za[l]};return"removed"===l||"removed"===t?{...d,translationX:c?.to?.x,translationY:c?.to?.y,opacity:0,phase:Za.removed}:d}}}function j1(e,{datumIndex:t}){const i=e.getNodeData();if(void 0===i)return;const n=i[t],{point:r}=n;if(null==n||null==r)return;const s=r.focusSize??e.getFormattedMarkerStyle(n).size,o=s/2;return ws.toCanvas(e.contentGroup,new It(n.point.x-o,n.point.y-o,s,s))}var UR=.05;function d6(e){return e.reduce(({min:t,max:i},n)=>((null==t||t.point.x>n.point.x)&&(t=n),(null==i||i.point.x<n.point.x)&&(i=n),{min:t,max:i}),{})}function tre(e,t,i){return{x:i,y:(t.y-e.y)/(t.x-e.x)*(i-e.x)+e.y}}function ire(e,t,i,n){let r=-1,s=0;const o=[];for(;s<e.length;)e[s].change!==t?e[s].change!==i?(o.length>0&&(n(o,r,s),o.length=0),r=s,s++):s++:(o.push(e[s]),s++);o.length>0&&n(o,r,s)}function u6(e,t){ire(e,"out","in",(i,n,r)=>{i.forEach(-1===n&&e[r]?s=>s.to=e[r].from:r===e.length&&e[n]?s=>s.to=e[n].from:"intersect"===t&&e[n]?.from&&e[r]?.from?s=>s.to=tre(e[n].from,e[r].from,s.from.x):s=>s.to=s.from)}),ire(e,"in","out",(i,n,r)=>{i.forEach(-1===n&&e[r]?s=>s.from=e[r].to:r===e.length&&e[n]?s=>s.from=e[n].to:"intersect"===t&&e[n]?.to&&e[r]?.to?s=>s.from=tre(e[n].to,e[r].to,s.to.x):s=>s.from=s.to)})}function nre(e,t,i){const n=isNaN(e.x)?t.x:e.x,r=isNaN(e.y)?t.y:e.y,s=t.x-e.x,o=t.y-e.y;return{x:n+(isNaN(s)?0:s*i),y:r+(isNaN(o)?0:o*i)}}var O8e={start:0,middle:.5,end:1};function h6(e,t,i,n=!1){const{path:r}=t;"smooth"===i?.type?function P8e(e,t,i,n){const r=Array.isArray(t)?t:Array.from(t);if(0===r.length||(n?e.lineTo(r[0].x,r[0].y):e.moveTo(r[0].x,r[0].y),r.length<=1))return;const s=r.map((o,a)=>{const l=0===a?o:r[a-1],c=a===r.length-1?o:r[a+1],d=0===a||a===r.length-1;if(Math.sign(l.y-o.y)===Math.sign(c.y-o.y))return 0;if(!d){const u=Math.abs(l.y-c.y),h=Math.abs(o.y-l.y)/u,g=Math.abs(o.y-c.y)/u;if(h<=UR||1-h<=UR||g<=UR||1-g<=UR)return 0}return(c.y-l.y)/(c.x-l.x)});0===s[1]&&(s[0]*=2),0===s[s.length-2]&&(s[s.length-1]*=2);for(let o=1;o<r.length;o+=1){const a=r[o-1],l=s[o-1],c=r[o],d=s[o],u=c.x-a.x,h=c.y-a.y;let g=u*i/3,m=u*l*i/3,y=u*i/3,_=u*d*i/3;0===d&&Math.abs(m)>Math.abs(h)&&(g*=Math.abs(h/m),m=Math.sign(m)*Math.abs(h)),0===l&&Math.abs(_)>Math.abs(h)&&(y*=Math.abs(h/_),_=Math.sign(_)*Math.abs(h)),e.cubicCurveTo(a.x+g,a.y+m,c.x-y,c.y-_,c.x,c.y)}}(r,e,i.tension??1,n):"step"===i?.type?function F8e(e,t,i,n){let r;for(const s of t){if(null!=r){const a=(s.x-r.x)*(r.x<s.x?i:1-i)+r.x;e.lineTo(a,r?.y??s.y),e.lineTo(a,s.y),e.lineTo(s.x,s.y)}else n?e.lineTo(s.x,s.y):e.moveTo(s.x,s.y);r=s}}(r,e,O8e[i.position??"end"],n):function k8e(e,t,i){let n=i;for(const{x:r,y:s}of t)n?e.lineTo(r,s):(e.moveTo(r,s),n=!0)}(r,e,n)}function rre(e,t){let i,n;const r=[],s=()=>{null!=n&&(r.push(n),n=void 0)};for(const o of e){const{from:a,to:l}=o,c=t[o.change];if(null==c||null==a||null==l)continue;const d=nre(a,l,c);if(!1===o.moveTo)n??(n=[]),n.push(d);else if(!0!==o.moveTo&&i){if(i){const u="in"===o.moveTo?c:1-c,{x:h,y:g}=nre(i,d,u);n??(n=[]),n.push({x:h,y:g}),s(),n=[d]}}else s(),n=[d];i=d}return s(),r}function sre(e,t,i,n){rre(e,t).forEach(r=>{h6(r,i,n)})}function p6({id:e,visible:t,nodeDataDependencies:i},n,...r){const{seriesRectWidth:s,seriesRectHeight:o}=i;Pu(e,"path_properties",n,r,{clipX:0},{clipX:s},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function WR({id:e},t,i,n="add",...r){Pu(e,t,i,r,{opacity:0},{opacity:1},{phase:n})}function L8e({id:e},t,i,...n){Pu(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function g6(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function $R({nodeDataDependencies:e},t){const i=n=>isFinite(n)?n:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}function ore(e){return"continuous"===e.type||"log"===e.type}function are(e){return"category"===e.type}function lre(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every((i,n)=>i===t.domain[n])&&e.range.every((i,n)=>i===t.range[n])}function cre(e,t){return void 0===e||void 0===t?void 0!==e||void 0!==t:ore(e)&&ore(t)?e.type===t.type&&lre(e,t):!(!are(e)||!are(t))&&lre(e,t)}function YR(e){return!(null==e||!e.range.every(t=>Number.isFinite(t)))&&e.domain.every("category"===e.type?t=>null!=t:t=>Number.isFinite(t)||t instanceof Date)}function*dre(e){let t=-1,i=0;for(const{point:n}of e){if(n.moveTo){const r=t>=0?{start:t,end:i}:void 0;t=i,i=t,void 0!==r&&(yield r)}i+=1}-1!==t&&(yield{start:t,end:i})}function*ure(e,{start:t,end:i}){for(let n=t;n<i;n+=1)yield e[n].point}function*N8e(e,{start:t,end:i}){for(let n=i-1;n>=t;n-=1)yield e[n].point}function Xo(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),"continuous"===t.type&&"number"==typeof e)return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if("log"===t.type&&"number"==typeof e)return t.convert(e);const i=t.domain.findIndex(r=>r===e);if(i>=0)return t.range[i];const n=t.domain.findIndex(r=>function V8e(e,t){return null!=e&&null!=t&&"object"==typeof e&&"object"==typeof t&&("id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString())}(e,r));return n>=0?t.range[n]:NaN}function z8e(e,t){const i=Number(e),n=Number(t);return isNaN(i)||isNaN(n)?e===t:Math.abs(n-i)<.25}function hre(e=!1,t=!1){return e===t?!!e:e?"in":"out"}function pre(e,t,i={}){const{backfillSplitMode:n="intersect"}=i,r=[],s={added:{},moved:{},removed:{}},o=(g,m,y,_="move")=>{g&&(isNaN(g.point.x)||isNaN(g.point.y))&&(g=m);const x={from:g?.point,to:m?.point,moveTo:hre(g?.point.moveTo,m?.point.moveTo),change:_};"move"===_?(s.moved[y]=x,u++,h++):"in"===_?(s.added[y]=x,h++):"out"===_&&(s.removed[y]=x,u++),r.push(x)},{min:a,max:l}=d6(t.nodeData),{min:c,max:d}=d6(e.nodeData);let u=0,h=0;for(;u<t.nodeData.length||h<e.nodeData.length;){const g=t.nodeData[u],m=e.nodeData[h],y=g?Xo(g.xValue??NaN,e.scales.x):void 0,_=m?Xo(m.xValue??NaN,t.scales.x):void 0,x=void 0;if(null!=y&&z8e(y,m?.point.x))o(g,m,m.xValue,"move");else if(null!=y&&y<(c?.point.x??-1/0))o(g,x,g.xValue,"out");else if(null!=y&&y>(d?.point.x??1/0))o(g,x,g.xValue,"out");else if(null!=_&&_<(a?.point.x??-1/0))o(x,m,m.xValue,"in");else if(null!=_&&_>(l?.point.x??1/0))o(x,m,m.xValue,"in");else if(null!=y&&y<m?.point.x)o(g,x,g.xValue,"out");else if(null!=_&&_<g?.point.x)o(x,m,m.xValue,"in");else if(g)o(g,x,g.xValue,"out");else{if(!m)throw new Error("Unable to process points");o(x,m,m.xValue,"in")}}return u6(r,n),{result:r,resultMap:s}}function gre(e,t,i,n={}){const{backfillSplitMode:r="intersect",multiDatum:s=!1}=n,o=[],a={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let d,u;const h=(x,D)=>{var M;const k=c[D.change];s?((M=l[k])[x]??(M[x]=[]),l[k][x].push(D)):a[k][x]=D,d=D,u=gv(x)};let g=0,m=0,y=!1;for(;g<t.nodeData.length||m<e.nodeData.length;){const x=t.nodeData[g],D=e.nodeData[m],M=gv(x?.xValue),k=gv(D?.xValue);let V;if(M===k)V={change:"move",moveTo:hre(x.point.moveTo??!1,D.point.moveTo),from:x.point,to:D.point},h(x?.xValue,V),g++,m++;else if(i?.removed.has(String(M)))V={change:"out",moveTo:x.point.moveTo??!1,from:x.point},h(x?.xValue,V),g++;else if(i?.added.has(String(k)))V={change:"in",moveTo:D.point.moveTo??!1,to:D.point},h(D?.xValue,V),m++;else if(s&&d&&u===M)V={...d},h(x?.xValue,V),g++;else{if(!s||!d||u!==k){y=!0;break}V={...d},h(D?.xValue,V),m++}o.push(V)}let _=-1/0;return y||(y=o.some(x=>{const{change:D,to:{x:M=-1/0}={}}=x;if("out"===D)return;const k=M<_;return _=M,k})),y?{result:void 0,resultMap:void 0}:(u6(o,r),{result:o,resultMap:s?l:a})}function fre(e,t,i){let n="updated";const r=s=>s.visible;if(!r(t)&&r(e))n="added";else if(r(t)&&!r(e))n="removed";else for(let s=0;s<i.length&&"move"===i[s].change&&i[s].from?.x===i[s].to?.x&&i[s].from?.y===i[s].to?.y;s++)if(s===i.length-1)return"no-op";return n}function KR(e,t){const i="none"===t?"updated":e,n={fromFn:r=>{let s;return s="removed"===e?{finish:{visible:!1}}:"added"===e?{start:{visible:!0}}:{},{phase:Za[i],...s}},toFn:r=>({phase:Za[i]})};return"fade"===t?{fromFn:r=>({opacity:"added"===e?0:r.opacity,...n.fromFn(r)}),toFn:r=>({opacity:"removed"===e?0:1,...n.toFn(r)})}:n}function mre(e,t,i,n,r,s){const o=fre(e,t,i);return{status:o,path:{addPhaseFn:(u,h)=>{s(i,{move:1,in:u},h,r)},updatePhaseFn:(u,h)=>{s(i,{move:u},h,r)},removePhaseFn:(u,h)=>{s(i,{move:0,out:u},h,r)}},pathProperties:KR(o,n)}}function vre(e,t,i,n){const r="category"===e.scales.x?.type;if(r!==("category"===t.scales.x?.type)||!YR(e.scales.x)||!YR(t.scales.x))return;const{result:o,resultMap:a}=r?gre(e,t,i):pre(e,t);let l="updated";if(t.visible&&!e.visible?l="removed":!t.visible&&e.visible&&(l="added"),void 0===o||void 0===a)return;const c=(i?.changed??!0)||function B8e(e,t){return!cre(e.scales.x,t.scales.x)||!cre(e.scales.y,t.scales.y)}(e,t)||"updated"!==l;return{...mre(e,t,o,"fade",n,sre),marker:ere(a,l),hasMotion:c}}function gd(e){return gv(e).valueOf()}function yre({data:e},t){return e.map((i,n)=>({xValue0Index:t.indexOf(gd(i.xValue0)),xValue1Index:t.indexOf(gd(i.xValue1)),datumIndex:n}))}function bre(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;const n=tf(e),r=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),s=n[0].x+(t-i.xValue0Index)*r;return Kne(e,s,s+r)}function f6(e,t){const[i,n]=tf(e),r=Xo(0,t.scales.y);return B1(e,{x:i.x,y:r},{x:n.x,y:r})}function _re(e,t,i,n,r){let s,o;if(n.xValue0Index>=r.xValue1Index){const d=i.findLast(h=>h.xValue1Index<=r.xValue1Index)?.datumIndex,u=null!=d?t.data[d]:void 0;s=u?.xValue1,o=u?.yValue1}else if(n.xValue0Index<=r.xValue0Index){const d=i.find(h=>h.xValue0Index>=r.xValue0Index)?.datumIndex,u=null!=d?t.data[d]:void 0;s=u?.xValue0,o=u?.yValue0}if(null==s||null==o)return f6(e,t);const c={x:Xo(s,t.scales.x),y:Xo(o,t.scales.y)};return B1(e,c,c)}function qR(e,t){const i=gd(e.xValue0),n=gd(e.xValue1);return t?.find(r=>gd(r.xValue0)===i&&gd(r.xValue1)===n)?.span}function Cre(e,t,i,n,r,s){const o=e.data[i.datumIndex],a=o.span,l=qR(o,n);if(null!=l)s.removed.push({from:l,to:l}),s.moved.push({from:l,to:a}),s.added.push({from:a,to:a});else{const c=_re(a,e,t,i,r);s.added.push({from:c,to:a})}}function wre(e,t,i,n,r,s){const o=e.data[i.datumIndex],a=o.span,l=qR(o,n);if(null!=l)s.removed.push({from:a,to:a}),s.moved.push({from:a,to:l}),s.added.push({from:l,to:l});else{const c=_re(a,e,t,i,r);s.removed.push({from:a,to:c})}}function xre(e,t,i,n,r){const s=t[r.xValue0Index],o=i.data.find(_=>gd(_.xValue0)===s),a=t[r.xValue1Index],l=i.data.find(_=>gd(_.xValue1)===a);if(null==o||null==l)return;const[{x:c},{x:d}]=tf(e),u=Xo(o.xValue0,i.scales.x),h=Xo(o.yValue0,i.scales.y),g=Xo(l.xValue1,i.scales.x),m=Xo(l.yValue1,i.scales.y);let y=n.data[r.datumIndex].span;return y=B1(y,{x:u,y:h},{x:g,y:m}),y=Kne(y,c,d),y}function j8e(e,t,i,n,r,s,o,a){const l=n+1,c=s.find(D=>D.xValue0Index<=n&&D.xValue1Index>=l),d=r.find(D=>D.xValue0Index<=n&&D.xValue1Index>=l),u=t.zeroData,h=e.zeroData;if(null==c&&null!=d)return void Cre(e,r,d,u,o,a);if(null!=c&&null==d)return void wre(t,s,c,h,o,a);if(null==c||null==d)return;let g;g=c.xValue0Index===d.xValue0Index&&c.xValue1Index===d.xValue1Index?0:c.xValue0Index<=d.xValue0Index&&c.xValue1Index>=d.xValue1Index?-1:c.xValue0Index>=d.xValue0Index&&c.xValue1Index<=d.xValue1Index?1:0;const y=bre(t.data[c.datumIndex].span,n,c),x=bre(e.data[d.datumIndex].span,n,d);if(1===g){const D=xre(y,i,t,e,d);null!=D?(a.removed.push({from:y,to:D}),a.moved.push({from:D,to:x}),a.added.push({from:x,to:x})):wre(t,s,c,h,o,a)}else if(-1===g){const D=xre(x,i,e,t,c);null!=D?(a.removed.push({from:y,to:y}),a.moved.push({from:y,to:D}),a.added.push({from:D,to:x})):Cre(e,r,d,u,o,a)}else a.removed.push({from:y,to:y}),a.moved.push({from:y,to:x}),a.added.push({from:x,to:x})}function m6(e,t){const i={removed:[],moved:[],added:[]},n=function H8e(e,t){const i=new Set;for(const{xValue0:c,xValue1:d}of e.data){const u=gd(c),h=gd(d);i.add(u).add(h)}const n=Array.from(i).sort((c,d)=>Xo(c,e.scales.x)-Xo(d,e.scales.x)),r=[];for(const{xValue0:c,xValue1:d}of t.data){const u=gd(c),h=gd(d);i.has(u)||(i.add(u),r.push(u)),i.has(h)||(i.add(h),r.push(h))}r.sort((c,d)=>Xo(c,t.scales.x)-Xo(d,t.scales.x));const s=n;let o=0;for(const c of r){e:for(let d=s.length;d>o;d-=1)if(Xo(c,t.scales.x)>Xo(s[d],t.scales.x)){o=d+1;break e}s.splice(o,0,c),o+=1}if(function G8e(e,t){let i=-1/0;for(const n of e){const r=Xo(n,t.scales.x);if(Number.isFinite(r)){if(r<i)return!1;i=r}}return!0}(s,t))return{axisValues:s,oldDataAxisIndices:yre(t,s),newDataAxisIndices:yre(e,s)}}(e,t);return null==n?function W8e(e,t,i){for(const n of t.data){const r=n.span,s=qR(n,t.zeroData)??f6(r,t);i.removed.push({from:r,to:s})}for(const n of e.data){const r=n.span,s=qR(n,e.zeroData)??f6(r,e);i.added.push({from:s,to:r})}}(e,t,i):function U8e(e,t,i,n){const{axisValues:r,oldDataAxisIndices:s,newDataAxisIndices:o}=e,a={xValue0Index:Math.max(s.at(0)?.xValue0Index??-1/0,o.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(s.at(-1)?.xValue1Index??1/0,o.at(-1)?.xValue1Index??1/0)};for(let l=0;l<r.length-1;l+=1)j8e(t,i,r,l,o,s,a,n)}(n,e,t,i),i}function v6(e,t,i,n){for(let r=0;r<i.length;r+=1){const s=i[r],o=n[r];a6(t.path,s.from,s.to,e,1,!1),a6(t.path,o.from,o.to,e,2,!0),t.path.closePath()}}function y6(e,t,i){for(const n of i)a6(t.path,n.from,n.to,e,1,!1)}function Sre(e,t){if("category"===e.scales.x?.type!=("category"===t.scales.x?.type)||!YR(e.scales.x)||!YR(t.scales.x))return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const s=m6({scales:e.scales,data:e.fillData.spans,visible:e.visible},{scales:t.scales,data:t.fillData.spans,visible:t.visible}),o=m6({scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible},{scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible}),a=m6({scales:e.scales,data:e.strokeData.spans,visible:e.visible,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,visible:t.visible,zeroData:t.fillData.phantomSpans}),l="none",c=function $8e(e,t,i,n){return{status:e,path:{addPhaseFn:(l,c)=>v6(l,c,t.added,i.added),updatePhaseFn:(l,c)=>v6(l,c,t.moved,i.moved),removePhaseFn:(l,c)=>v6(l,c,t.removed,i.removed)},pathProperties:KR(e,n)}}(r,s,o,l),d=function Y8e(e,t,i){return{status:e,path:{addPhaseFn:(a,l)=>y6(a,l,t.added),updatePhaseFn:(a,l)=>y6(a,l,t.moved),removePhaseFn:(a,l)=>y6(a,l,t.removed)},pathProperties:KR(e,i)}}(r,a,l);return{status:r,fill:c,stroke:d}}var b6=class extends Wg{constructor(e){super({moduleCtx:e,directionKeys:_v,directionNames:Cv,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:g6({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:vp,marker:(t,i)=>({opacity:1,scalingX:1,scalingY:1,...H1(0,i)})}}),this.properties=new Js}processData(e){var t=this;return(0,J.A)(function*(){if(null==t.data||!t.properties.isValid())return;const{data:i,visible:n,seriesGrouping:{groupIndex:r=t.id,stackCount:s=1}={}}=t,{xKey:o,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:d}=t.properties,u=!t.ctx.animationManager.isSkipped(),h=t.axes.x?.scale,g=t.axes.y?.scale,{xScaleType:m,yScaleType:y}=t.getScaleInformation({xScale:h,yScale:g}),_={value:`area-stack-${r}-yValue`,values:`area-stack-${r}-yValues`,stack:`area-stack-${r}-yValue-stack`,marker:`area-stack-${r}-yValues-marker`},x=[];Z0(d)&&x.push(HR(Object.values(_),d,"range")),u&&x.push(M_());const D={invalidValue:null};c&&s>1&&(D.invalidValue=0),n||(D.forceValue=0),yield t.requestDataModel(e,i,{props:[qd(o,m,{id:"xValue"}),Vi(a,y,{id:"yValueRaw",...D}),...null!=l?[Vi(l,y,{id:"yFilterRaw"})]:[],...Vne(a,y,{id:"yValueStack",...D,groupId:_.stack}),Vi(a,y,{id:"yValue",...D,groupId:_.value}),...Jg(a,"window","current",{id:"yValueEnd",...D,groupId:_.values},y),...Jg(a,"normal","current",{id:"yValueCumulative",...D,groupId:_.marker},y),...x],groupByKeys:!0,groupByData:!1}),t.animationState.transition("updateData")})()}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i||0===t.data.length)return[];const r=n.y,s=i.resolveProcessedDataDefById(this,"xValue"),o=i.getDomain(this,"xValue","key",t),a=i.getDomain(this,"yValueEnd","value",t);return"x"===e?"key"===s?.def.type&&"category"===s.def.valueType?o:$l(Ou(o)):$l(r instanceof wv||r instanceof __?a:[a[0]>0?0:a[0],a[1]<0?0:a[1]])}createNodeData(){var e=this;return(0,J.A)(function*(){const{axes:t,data:i,processedData:{data:n}={},dataModel:r}=e,s=t.x,o=t.y;if(!(s&&o&&i&&r&&e.properties.isValid()))return;const{yKey:a,xKey:l,yFilterKey:c,marker:d,label:u,fill:h,stroke:g,connectMissingData:m}=e.properties,{scale:y}=s,{scale:_}=o,{isContinuousY:x}=e.getScaleInformation({xScale:y,yScale:_}),D=(y.bandwidth??0)/2,M=r.resolveProcessedDataDefsByIds(e,["yValueEnd","yValueRaw","yValueCumulative"]),k=null!=c?r.resolveProcessedDataIndexById(e,"yFilterRaw"):void 0,V=r.resolveProcessedDataIndexById(e,"yValueStack"),F=a,P=[],G=[],{visibleSameStackCount:Y}=e.ctx.seriesStateManager.getVisiblePeerGroupIndex(e);let q=-1,ee=!1;n?.forEach(Ne=>{const{keys:qe,keys:[Je],datum:mt,values:$t}=Ne;$t.forEach((Di,an)=>{q++;const Fr=mt[an],Or=r.resolveProcessedDataDefsValues(M,{keys:qe,values:Di}),{yValueRaw:Xr,yValueCumulative:no,yValueEnd:ro}=Or,Cn=Number.isFinite(Xr),Jr=((Ne,qe,Je)=>{let mt;return(Z0(e.properties.normalizedTo)?x&&fR(Je):!isNaN(Je))&&(mt=qe),{x:y.convert(Ne)+D,y:_.convert(mt),size:d.size}})(Je,+no,Xr),Ps=null!=k?Di[k]===Xr:void 0;if(!1===Ps&&(ee=!0),Cn&&d&&G.push({index:q,series:e,itemId:F,datum:Fr,midPoint:{x:Jr.x,y:Jr.y},cumulativeValue:ro,yValue:Xr,xValue:Je,yKey:a,xKey:l,point:Jr,fill:d.fill??h,stroke:d.stroke??g,strokeWidth:d.strokeWidth??e.getStrokeWidth(e.properties.strokeWidth),selected:Ps}),Cn&&u){const nh=e.getLabelText(u,{value:Xr,datum:Fr,xKey:l,yKey:a,xName:e.properties.xName,yName:e.properties.yName},VR);P.push({index:q,series:e,itemId:a,datum:Fr,x:Jr.x,y:Jr.y,labelText:nh})}})});const{interpolation:K}=e.properties,gt=Ne=>{let qe;const Je=Ne.map(mt=>mt.point);switch(K.type){case"linear":qe=function D8e(e){const t=[];let i=0,n=NaN,r=NaN;for(const{x:s,y:o}of e)i>0&&t.push({type:"linear",moveTo:1===i,x0:n,y0:r,x1:s,y1:o}),i+=1,n=s,r=o;return t}(Je);break;case"smooth":qe=function I8e(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const n=i.map((s,o)=>{const a=0===o?s:i[o-1],l=o===i.length-1?s:i[o+1],c=0===o||o===i.length-1;if(Math.sign(a.y-s.y)===Math.sign(l.y-s.y))return 0;if(!c){const d=Math.abs(a.y-l.y),u=Math.abs(s.y-a.y)/d,h=Math.abs(s.y-l.y)/d;if(u<=.05||1-u<=.05||h<=.05||1-h<=.05)return 0}return(l.y-a.y)/(l.x-a.x)});0===n[1]&&(n[0]*=2),0===n[n.length-2]&&(n[n.length-1]*=2);const r=[];for(let s=1;s<i.length;s+=1){const o=i[s-1],a=n[s-1],l=i[s],c=n[s],d=l.x-o.x,u=l.y-o.y;let h=d*t/3,g=d*a*t/3,m=d*t/3,y=d*c*t/3;0===c&&Math.abs(g)>Math.abs(u)&&(h*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),0===a&&Math.abs(y)>Math.abs(u)&&(m*=Math.abs(u/y),y=Math.sign(y)*Math.abs(u)),r.push({type:"cubic",moveTo:1===s,cp0x:o.x,cp0y:o.y,cp1x:o.x+h,cp1y:o.y+g,cp2x:l.x-m,cp2y:l.y-y,cp3x:l.x,cp3y:l.y})}return r}(Je,K.tension);break;case"step":qe=function E8e(e,t){const i=[];let n=0,r=NaN,s=NaN;const o="number"==typeof t?t:M8e[t];for(const{x:a,y:l}of e)n>0&&i.push({type:"step",moveTo:1===n,x0:r,y0:s,x1:a,y1:l,stepX:r+(a-r)*o}),n+=1,r=a,s=l;return i}(Je,K.position)}return qe.map((mt,$t)=>({span:mt,xValue0:Ne[$t].xDatum,yValue0:Ne[$t].yDatum,xValue1:Ne[$t+1].xDatum,yValue1:Ne[$t+1].yDatum}))},Fe=n?.flatMap(Ne=>{const{keys:[qe],values:Je}=Ne;return Je.map(mt=>({xDatum:qe,values:mt}))}),$e=(Ne,qe)=>({point:{x:y.convert(Ne)+D,y:_.convert(qe)},xDatum:Ne,yDatum:qe}),Ke=Ne=>{const qe=[];if(null==Fe)return[];for(let Je=0;Je<Fe.length;Je+=1){const{xDatum:mt,values:$t}=Fe[Je],Di=$t[V],Fr=Number.isFinite(Di[Ne]);if(m&&!Fr)continue;const Or=Fe[Je-1]?.values[V],Xr=Fe[Je+1]?.values[V];let no=0,ro=0;for(let Jr=0;Jr<=Ne;Jr+=1){const Ps=Di[Jr];Number.isFinite(Ps)&&((null==Or||Number.isFinite(Or[Jr]))&&(no+=Ps),(null==Xr||Number.isFinite(Xr[Jr]))&&(ro+=Ps))}const Cn=qe[qe.length-1];if(m||no===ro&&Fr){const Jr=Math.max(no,ro),Ps=$e(mt,Jr);Array.isArray(Cn)?Cn.push(Ps):null!=Cn?(Cn.skip+=1,qe.push([Ps])):qe.push([Ps])}else if(!Fr&&Array.isArray(Cn)&&1===Cn.length)qe[qe.length-1]={skip:1};else{const Jr=$e(mt,no),Ps=$e(mt,ro);Array.isArray(Cn)?Cn.push(Jr):null!=Cn&&(Cn.skip+=1),qe.push(Fr?[Ps]:{skip:0})}}return(Ne=>Ne.flatMap(qe=>Array.isArray(qe)?gt(qe):new Array(qe.skip).fill(null)))(qe)},dt=e.seriesGrouping?.stackIndex??0,Ot=()=>{if(null==Fe)return[];const Ne=Fe.map(({xDatum:qe,values:Je})=>{if(!m||Number.isFinite(Je[V][dt]))return $e(qe,0)}).filter(qe=>null!=qe);return gt(Ne)},qt=Ke(dt),Vt=qt.map(()=>null);for(let Ne=dt-1;Ne>=-1;Ne-=1){let qe;for(let Je=0;Je<Vt.length;Je+=1)null==Vt[Je]&&(qe??(qe=-1!==Ne?Ke(Ne):Ot()),Vt[Je]=qe[Je])}const Ut=qt.map((Ne,qe)=>Ne??Vt[qe]),Kt=qt.filter(Ne=>null!=Ne);return{itemId:F,fillData:{itemId:F,spans:Ut,phantomSpans:Vt},strokeData:{itemId:F,spans:Kt},labelData:P,nodeData:G,scales:e.calculateScaling(),visible:e.visible,stackVisible:Y>0,crossFiltering:ee}})()}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(ju(e))}updatePathNodes(e){var t=this;return(0,J.A)(function*(){const{opacity:i,visible:n,animationEnabled:r}=e,[s,o]=e.paths,a=!0===t.contextNodeData?.crossFiltering,l=t.getStrokeWidth(t.properties.strokeWidth);o.setProperties({fill:void 0,lineJoin:o.lineCap="round",pointerEvents:1,stroke:t.properties.stroke,strokeWidth:l,strokeOpacity:t.properties.strokeOpacity*(a?.25:1),lineDash:t.properties.lineDash,lineDashOffset:t.properties.lineDashOffset,opacity:i,visible:n||r}),s.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:t.properties.fill,fillOpacity:t.properties.fillOpacity*(a?.125:1),fillShadow:t.properties.shadow,opacity:i,visible:n||r}),$R(t,o),$R(t,s)})()}updatePaths(e){var t=this;return(0,J.A)(function*(){t.updateAreaPaths(e.paths,e.contextData)})()}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.checkPathDirty()}updateFillPath(e,t){const{spans:i,phantomSpans:n}=t.fillData,[r]=e,{path:s}=r;s.clear(!0);for(let o=0;o<i.length;o+=1){const{span:a}=i[o],l=n[o].span;o6(s,a,1,!1),o6(s,l,2,!0),s.closePath()}r.checkPathDirty()}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,n]=e,{path:r}=n;r.clear(!0);for(const{span:s}of i)o6(r,s,1,!1);n.checkPathDirty()}updateMarkerSelection(e){var t=this;return(0,J.A)(function*(){const{nodeData:i,markerSelection:n}=e,r=t.properties.marker.enabled||!0===t.contextNodeData?.crossFiltering;return t.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(r?i:[])})()}updateMarkerNodes(e){var t=this;return(0,J.A)(function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:r,yKey:s,marker:o,fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:u,highlightStyle:h}=t.properties,g=$i(n&&h.item,o.getStyle(),{fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:u});i.each((m,y)=>{t.updateMarkerStyle(m,o,{datum:y,highlighted:n,xKey:r,yKey:s},g,{selected:y.selected})}),n||t.properties.marker.markClean()})()}updateLabelSelection(e){return(0,J.A)(function*(){const{labelData:t,labelSelection:i}=e;return i.update(t)})()}updateLabelNodes(e){var t=this;return(0,J.A)(function*(){const{labelSelection:i}=e,{enabled:n,fontStyle:r,fontWeight:s,fontSize:o,fontFamily:a,color:l}=t.properties.label;i.each((c,d)=>{const{x:u,y:h,labelText:g}=d;g&&n&&t.visible?(c.fontStyle=r,c.fontWeight=s,c.fontSize=o,c.fontFamily=a,c.textAlign="center",c.textBaseline="bottom",c.text=g,c.x=u,c.y=h-10,c.fill=l,c.visible=!0):c.visible=!1})})()}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{xKey:r,xName:s,yName:o,tooltip:a,marker:l}=this.properties,{yKey:c,xValue:d,yValue:u,datum:h,itemId:g}=e,m=i.x,y=i.y;if(!this.properties.isValid()||!(m&&y&&nn(u))||!n)return op;const _=m.formatDatum(d),x=y.formatDatum(u),D=Kr(o),M=Kr(_+": "+x),k=$i({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:V}=this.getMarkerStyle(l,{datum:e,xKey:r,yKey:c,highlighted:!1},k);return a.toTooltipHtml({title:D,content:M,backgroundColor:V},{datum:h,itemId:g,xKey:r,xName:s,yKey:c,yName:o,color:V,title:D,seriesId:t})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||"category"!==e)return[];const{yKey:t,yName:i,fill:n,stroke:r,fillOpacity:s,strokeOpacity:o,strokeWidth:a,lineDash:l,marker:c,visible:d,legendItemName:u}=this.properties,h=!c.enabled||void 0===c.fill;return[{legendType:e,id:this.id,itemId:t,seriesId:this.id,enabled:d,label:{text:u??i??t},symbols:[{marker:{shape:c.shape,fill:h?n:c.fill,fillOpacity:h?s:c.fillOpacity,stroke:c.stroke??r,strokeOpacity:c.strokeOpacity??o,strokeWidth:c.strokeWidth??0,enabled:c.enabled||a<=0},line:{stroke:r,strokeOpacity:o,strokeWidth:a,lineDash:l}}],legendItemName:u}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:r}=e,{animationManager:s}=this.ctx;this.updateAreaPaths(r,n),p6(this,s,...r),Xs([t],H1),c6(this,s,t),gn(this,"labels",s,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,contextData:r,paths:s,previousContextData:o}=e,[a,l]=s;if(null==a&&null==l)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(s,r)},d=()=>{t.skipCurrentBatch(),c()};if(null==r||null==o)return c(),z1(this,t,"added",i),WR(this,"fill_path_properties",t,"add",a),WR(this,"stroke_path_properties",t,"add",l),void gn(this,"labels",t,n);if(r.crossFiltering!==o.crossFiltering)return void d();const u=Sre(r,o);void 0!==u?"no-op"!==u.status&&(z1(this,t,void 0,i),_s(this.id,"fill_path_properties",t,[a],u.fill.pathProperties),t6(this.id,"fill_path_update",t,[a],u.fill.path),_s(this.id,"stroke_path_properties",t,[l],u.stroke.pathProperties),t6(this.id,"stroke_path_update",t,[l],u.stroke.path),gn(this,"labels",t,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(s,r)})):d()}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ti}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return j1(this,e)}};b6.className="AreaSeries",b6.type="area";var Z8e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new b6(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Ev,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Ts,color:To}}},paletteFactory:e=>{const{marker:t}=OR(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function Dre(e,t){return i=>t(i)?[{...e[0],position:e[1].position},{...e[1],position:e[0].position}]:e}function _6(e,t){for(const i of t){const n=i.datum;void 0===n?Xe.error("undefined datum"):e.addValue(i,n)}}function C6(e,t){const{x:i,y:n}=t,{nearest:r,distanceSquared:s}=e.getQuadTree().find(i,n);if(void 0!==r)return{datum:r.value,distance:Math.sqrt(s)}}var w6=class extends hp{constructor(){super(...arguments),this.direction="vertical"}};E([L(Lee)],w6.prototype,"direction",2);var Mre=class extends Wg{constructor(){super(...arguments),this.groupScale=new Rg,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const i="boolean"==typeof t?1:.5,n=nn(this.smallestDataInterval)?this.smallestDataInterval*i:0,r=Ou(e)??[NaN,NaN];return"boolean"==typeof t?r[t?0:1]-=(t?1:-1)*n:(r[0]-=n,r[1]+=n),$l(r)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return Fn.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}updateGroupScale(e){const t=[],{groupScale:i}=this,n=this.getBandwidth(e),{index:r,visibleGroupCount:s}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<s;a++)t.push(String(a));return i.domain=t,i.range=[0,n??0],e instanceof v1?i.paddingInner=e.groupPaddingInner:i.padding=e instanceof zg?.1:0,i.round=0!==i.padding,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:r}}resolveKeyDirection(e){return"x"===this.getBarDirection()?"x"===e?"y":"x":e}initQuadTree(e){_6(e,this.datumNodesIter())}pickNodeClosestDatum(e){return C6(this,e)}},x6=class extends po{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};E([L(Yn(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"outside",deprecatedTo:"outside-end"}],"a placement"))],x6.prototype,"placement",2),E([L(ar)],x6.prototype,"padding",2);var Rs=class extends w6{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Zd,this.label=new x6,this.tooltip=new Ja,this.sparklineMode=!1}};function Ere(e,t){e.crisp=t.crisp??!0,e.fill=t.fill,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.fillOpacity=t.fillOpacity,e.strokeOpacity=t.strokeOpacity,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.fillShadow=t.fillShadow,e.topLeftCornerRadius=!1!==t.topLeftCornerRadius?t.cornerRadius??0:0,e.topRightCornerRadius=!1!==t.topRightCornerRadius?t.cornerRadius??0:0,e.bottomRightCornerRadius=!1!==t.bottomRightCornerRadius?t.cornerRadius??0:0,e.bottomLeftCornerRadius=!1!==t.bottomLeftCornerRadius?t.cornerRadius??0:0,e.visible=t.visible??!0}function Ire({datum:e,isHighlighted:t,style:i,highlightStyle:n,itemStyler:r,seriesId:s,ctx:{callbackCache:o},...a}){const{fill:l,fillOpacity:c,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:g,lineDashOffset:m,cornerRadius:y=0}=$i(t&&n,i);let _;return r&&(_=o.call(r,{datum:e.datum,xKey:e.xKey,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:g,lineDashOffset:m,cornerRadius:y,highlighted:t,seriesId:s,...a})),{fill:_?.fill??l,fillOpacity:_?.fillOpacity??c,stroke:_?.stroke??d,strokeWidth:_?.strokeWidth??u,strokeOpacity:_?.strokeOpacity??h,lineDash:_?.lineDash??g,lineDashOffset:_?.lineDashOffset??m,cornerRadius:_?.cornerRadius??y,topLeftCornerRadius:i.topLeftCornerRadius,topRightCornerRadius:i.topRightCornerRadius,bottomRightCornerRadius:i.bottomRightCornerRadius,bottomLeftCornerRadius:i.bottomLeftCornerRadius,fillShadow:i.fillShadow}}function Are(e,t,i,n){if(null!=t){const[r,s]=t;if(0!==r||1!==s)return!1}if(Fn.is(e)){const r=e.calcBandwidth(n)-e.calcBandwidth(i);if(r>0&&r<1)return!1}return!0}E([L(et)],Rs.prototype,"xKey",2),E([L(et,{optional:!0})],Rs.prototype,"xName",2),E([L(et)],Rs.prototype,"yKey",2),E([L(et,{optional:!0})],Rs.prototype,"yName",2),E([L(et,{optional:!0})],Rs.prototype,"yFilterKey",2),E([L(et,{optional:!0})],Rs.prototype,"stackGroup",2),E([L(ar,{optional:!0})],Rs.prototype,"normalizedTo",2),E([L(On)],Rs.prototype,"fill",2),E([L(hn)],Rs.prototype,"fillOpacity",2),E([L(On)],Rs.prototype,"stroke",2),E([L(st)],Rs.prototype,"strokeWidth",2),E([L(hn)],Rs.prototype,"strokeOpacity",2),E([L(np)],Rs.prototype,"lineDash",2),E([L(st)],Rs.prototype,"lineDashOffset",2),E([L(st)],Rs.prototype,"cornerRadius",2),E([L(Jt,{optional:!0})],Rs.prototype,"crisp",2),E([L(Hl,{optional:!0})],Rs.prototype,"itemStyler",2),E([L(Tt,{optional:!0})],Rs.prototype,"shadow",2),E([L(Tt)],Rs.prototype,"label",2),E([L(Tt)],Rs.prototype,"tooltip",2),E([L(Jt)],Rs.prototype,"sparklineMode",2);var S6=e=>qS(e.yValue??0);function U1(e,t,i){const{startingX:n,startingY:r}=function X8e(e,t){const i=t[e?"y":"x"];let n=1/0,r=0;return i?(e?r=i.scale.convert(Fn.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(Fn.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:r}):{startingX:n,startingY:r}}(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:n,c=e?r:o.y,d=e?o.width:0,u=e?0:o.height;const{opacity:h}=o;let g;return a&&(isNaN(l)||isNaN(c))&&(({x:l,y:c}=a),d=e?a.width:0,u=e?0:a.height,e&&!S6(a)?c+=a.height:!e&&S6(a)&&(l+=a.width)),g=null==o.clipBBox?void 0:S6(o)?e?new It(l,c-u,d,u):new It(l-d,c,d,u):new It(l,c,d,u),{x:l,y:c,width:d,height:u,clipBBox:g,opacity:h}},mode:i}}function Q8e(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity}),mode:t}}function W1(e){const t=r=>null==r||isNaN(r.x)||isNaN(r.y);return{toFn:(r,s,o)=>{let a;return a="removed"===o&&null==r.datum&&"fade"===e.mode?{...$1(0,s),opacity:0}:"removed"===o||t(s)?e.calculate(s,r.previousDatum):{x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity},a},fromFn:(r,s,o)=>{let a;"updated"===o&&t(s)?o="removed":"updated"===o&&t(r.previousDatum)&&(o="added"),a="added"===o&&null==r.previousDatum&&"fade"===e.mode?{...$1(0,s),opacity:0}:"unknown"===o||"added"===o?e.calculate(s,r.previousDatum):{x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity};const l=Za[o];return{...a,phase:l}}}}function $1(e,{x:t,y:i,width:n,height:r,clipBBox:s,opacity:o}){return{x:t,y:i,width:n,height:r,clipBBox:s,opacity:o}}function D6(e,t,i){if(void 0===e)return;const{x:n,y:r,width:s,height:o}=e;return ws.toCanvas(t,new It(n,r,s,o)).clip(i)}function Tre(e,t,i){if(t.enabled&&i){const{x:n,y:r,text:s,textAlign:o,textBaseline:a}=i,{color:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h}=t;e.setProperties({visible:!0,x:n,y:r,text:s,fill:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h,textAlign:o,textBaseline:a})}else e.visible=!1}var J8e={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function Rre({isUpward:e,isVertical:t,placement:i,padding:n=0,rect:r}){let s=r.x+r.width/2,o=r.y+r.height/2,a="center",l="middle";if("inside-center"!==i){const c=(e?1:-1)*(t?-1:1),{direction:d,textAlignment:u}=J8e[i],h=.5*(d+1);t?(o=(e?r.y+r.height:r.y)+r.height*c*h+n*u*c,l=u===c?"top":"bottom"):(s=(e?r.x:r.x+r.width)+r.width*c*h+n*u*c,a=u===c?"left":"right")}return{x:s,y:o,textAlign:a,textBaseline:l}}var eGe={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",outside:"outside-end"},M6=class extends Mre{constructor(e){super({moduleCtx:e,directionKeys:_v,directionNames:Cv,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:$1,label:vp}}),this.properties=new Rs}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return null!=this.properties.yFilterKey&&(null==this.seriesGrouping||0===this.seriesGrouping.stackIndex)}processData(e){var t=this;return(0,J.A)(function*(){if(!t.properties.isValid()||!t.data)return;const{seriesGrouping:{groupIndex:i=t.id}={},data:n=[]}=t,{xKey:r,yKey:s,yFilterKey:o,normalizedTo:a}=t.properties,l=!t.ctx.animationManager.isSkipped(),c=t.getCategoryAxis()?.scale,d=t.getValueAxis()?.scale,{isContinuousX:u,xScaleType:h,yScaleType:g}=t.getScaleInformation({xScale:c,yScale:d}),m=`bar-stack-${i}-yValues`,y=`${m}-trailing`,_=[];nn(a)&&_.push(HR([m,y],Math.abs(a),"range")),l&&t.processedData&&_.push(E_(t.processedData)),l&&_.push(M_());const x=t.visible?{}:{forceValue:0},{processedData:D}=yield t.requestDataModel(e,n,{props:[qd(r,h,{id:"xValue"}),Vi(s,g,{id:"yValue-raw",invalidValue:null,...x}),...t.crossFilteringEnabled()?[Vi(o,g,{id:"yFilterValue",invalidValue:null,...x})]:[],...Jg(s,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:m,separateNegative:!0,...x},g),...Jg(s,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:y,separateNegative:!0,...x},g),...u?[Bne,zne]:[],..._],groupByKeys:!0,groupByData:!1});t.smallestDataInterval=D.reduced?.smallestKeyInterval,t.largestDataInterval=D.reduced?.largestKeyInterval,t.animationState.transition("updateData")})()}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!i||!t?.data.length)return[];const n=i.resolveProcessedDataDefById(this,"xValue"),r=i.getDomain(this,"xValue","key",t);let s=i.getDomain(this,"yValue-end","value",t);const o=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;return null!=o&&(s=[Math.min(s[0],o[0]),Math.max(s[1],o[1])]),e===this.getCategoryDirection()?"key"===n?.def.type&&"category"===n.def.valueType?r:this.padBandExtent(r):this.getValueAxis()instanceof wv?$l(s):$l([Math.min(0,s[0]),Math.max(0,s[1])])}createNodeData(){var e=this;return(0,J.A)(function*(){const{dataModel:t}=e,i=e.getCategoryAxis(),n=e.getValueAxis();if(!(t&&i&&n&&e.properties.isValid()))return;const r=i.scale,s=n.scale,{xKey:o,yKey:a,xName:l,yName:c,fill:d,stroke:u,strokeWidth:h,cornerRadius:g,legendItemName:m,label:y}=e.properties,_=n.isReversed(),{barWidth:x,groupIndex:D}=e.updateGroupScale(i),M=Fn.is(r)?-.5*x:0,k=t.resolveProcessedDataIndexById(e,"xValue"),V=t.resolveProcessedDataIndexById(e,"yValue-raw"),H=e.crossFilteringEnabled()?t.resolveProcessedDataIndexById(e,"yFilterValue"):void 0,F=t.resolveProcessedDataIndexById(e,"yValue-start"),P=t.resolveProcessedDataIndexById(e,"yValue-end"),G=t.resolveProcessedDataIndexById(e,"yValue-range"),Y=!e.ctx.animationManager.isSkipped(),q=({datum:$e,valueIndex:Ke,xValue:dt,yValue:Ot,cumulativeValue:qt,phantom:Vt,currY:Ut,prevY:Kt,isPositive:_n,yRange:Ne,labelText:qe,crossScale:Je=1})=>{const mt=r.convert(dt),$t=_n!==_,Di=mt+ee.convert(String(D))+M,an=s.convert(Ut),Fr=s.convert(Kt),Or="x"===e.getBarDirection(),Xr=s.convert(Ne),no=s.convert(0),ro=.5*x*(1-Je),Cn={x:Or?Math.min(an,Fr):Di+ro,y:Or?Di+ro:Math.min(an,Fr),width:Or?Math.abs(Fr-an):x*Je,height:Or?x*Je:Math.abs(Fr-an)},Jr=new It(Cn.x,Cn.y,Cn.width,Cn.height),Ps={x:Or?Math.min(no,Xr):Di+ro,y:Or?Di+ro:Math.min(no,Xr),width:Or?Math.abs(no-Xr):x*Je,height:Or?x*Je:Math.abs(no-Xr)},nh=e.shouldFlipXY()?Cn.height:Cn.width;return{series:e,itemId:Vt?mp(a,Vt):a,datum:$e,valueIndex:Ke,cumulativeValue:qt,phantom:Vt,xValue:dt,yValue:Ot,yKey:a,xKey:o,capDefaults:{lengthRatioMultiplier:nh,lengthMax:nh},x:Ps.x,y:Ps.y,width:Ps.width,height:Ps.height,midPoint:{x:Cn.x+Cn.width/2,y:Cn.y+Cn.height/2},fill:d,stroke:u,opacity:1,strokeWidth:h,cornerRadius:g,topLeftCornerRadius:Or!==$t,topRightCornerRadius:$t,bottomRightCornerRadius:Or===$t,bottomLeftCornerRadius:!$t,clipBBox:Jr,label:null!=qe?{text:qe,...Rre({isUpward:$t,isVertical:!Or,placement:eGe[y.placement],padding:y.padding,rect:Cn})}:void 0,missing:null==Ot,focusable:!Vt}},{groupScale:ee,processedData:K}=e,gt=[],jt=[],Fe=[];return K?.data.forEach(({keys:$e,datum:Ke,values:dt,aggValues:Ot})=>{dt.forEach((qt,Vt)=>{const Ut=$e[k],Kt=qt[V],_n=Number(qt[F]),Ne=null!=H?Number(qt[H]):void 0,qe=Number(qt[P]),Je=Kt>=0&&!Object.is(Kt,-0),mt=Ot?.[G][Je?1:0]??0;if(!Number.isFinite(qe)||null!=Ne&&!Number.isFinite(Ne))return;const $t=null!=Kt?e.getLabelText(e.properties.label,{datum:Ke[Vt],value:Ne??Kt,xKey:o,yKey:a,xName:l,yName:c,legendItemName:m},VR):void 0,Di=null!=Ne&&Ne>Kt,an=q({datum:Ke[Vt],valueIndex:Vt,xValue:Ut,yValue:Ne??Kt,cumulativeValue:Ne??qe,phantom:!1,currY:null!=Ne?_n+Ne:qe,prevY:_n,isPositive:Je,yRange:Math.max(_n+(Ne??-1/0),mt),labelText:$t,crossScale:Di?.6:void 0});if(jt.push(an),Fe.push(an),null!=Ne){const Fr=q({datum:Ke[Vt],valueIndex:Vt,xValue:Ut,yValue:Ne,cumulativeValue:Ne,phantom:!0,currY:qe,prevY:_n,isPositive:Je,yRange:mt,labelText:void 0,crossScale:void 0});gt.push(Fr)}})}),{itemId:a,nodeData:gt.length>0?[...gt,...jt]:jt,labelData:Fe,scales:e.calculateScaling(),visible:e.visible||Y}})()}nodeFactory(){return new Xa}getHighlightData(e,t){const i=e.find(n=>n.datum===t.datum&&!n.phantom);return null!=i?[i]:void 0}updateDatumSelection(e){return(0,J.A)(function*(){return e.datumSelection.update(e.nodeData,void 0,t=>mp(t.xValue,t.valueIndex,t.phantom))})()}updateDatumNodes(e){var t=this;return(0,J.A)(function*(){if(!t.properties.isValid())return;const{yKey:i,stackGroup:n,fill:r,fillOpacity:s,stroke:o,strokeWidth:a,strokeOpacity:l,lineDash:c,lineDashOffset:d,itemStyler:u,shadow:h,highlightStyle:{item:g}}=t.properties,m=t.axes.x,y=t.properties.crisp??Are(m?.scale,m?.visibleRange,t.smallestDataInterval,t.largestDataInterval),_="x"===t.getCategoryDirection(),x={fill:r,stroke:o,lineDash:c,lineDashOffset:d,fillShadow:h,strokeWidth:t.getStrokeWidth(a),fillOpacity:0,strokeOpacity:0},D={datum:void 0,ctx:t.ctx,seriesId:t.id,isHighlighted:e.isHighlight,highlightStyle:g,yKey:i,style:x,itemStyler:u,stackGroup:n};e.datumSelection.each((M,k)=>{x.fillOpacity=s*(k.phantom?.2:1),x.strokeOpacity=l*(k.phantom?.2:1),x.cornerRadius=k.cornerRadius,x.topLeftCornerRadius=k.topLeftCornerRadius,x.topRightCornerRadius=k.topRightCornerRadius,x.bottomRightCornerRadius=k.bottomRightCornerRadius,x.bottomLeftCornerRadius=k.bottomLeftCornerRadius;const V=_?(k.clipBBox?.width??k.width)>0:(k.clipBBox?.height??k.height)>0;D.datum=k;const H=Ire(D);H.crisp=y,H.visible=V,Ere(M,H)})})()}updateLabelSelection(e){var t=this;return(0,J.A)(function*(){const i=t.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(i,n=>{n.pointerEvents=1})})()}updateLabelNodes(e){var t=this;return(0,J.A)(function*(){e.labelSelection.each((i,n)=>{Tre(i,t.properties.label,n.label)})})()}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n}}=this,r=this.getCategoryAxis(),s=this.getValueAxis();if(!(i&&this.properties.isValid()&&r&&s))return op;const{xKey:o,yKey:a,xName:l,yName:c,fill:d,stroke:u,strokeWidth:h,tooltip:g,itemStyler:m,stackGroup:y,legendItemName:_}=this.properties,{xValue:x,yValue:D,datum:M,itemId:k}=e,V=r.formatDatum(x),H=s.formatDatum(D),F=Kr(c),P=Kr(V+": "+H);let G;m&&(G=n.call(m,{seriesId:t,datum:M,xKey:o,yKey:a,stackGroup:y,fill:d,stroke:u,strokeWidth:this.getStrokeWidth(h),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));const Y=G?.fill??d;return g.toTooltipHtml({title:F,content:P,backgroundColor:Y},{seriesId:t,itemId:k,datum:M,xKey:o,yKey:a,xName:l,yName:c,stackGroup:y,title:F,color:Y,legendItemName:_,...this.getModuleTooltipParams()})}getLegendData(e){const{showInLegend:t}=this.properties;if("category"!==e||!this.data?.length||!this.properties.isValid()||!t)return[];const{yKey:i,yName:n,fill:r,stroke:s,strokeWidth:o,fillOpacity:a,strokeOpacity:l,legendItemName:c,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:d,label:{text:c??n??i},symbols:[{marker:{fill:r,fillOpacity:a,stroke:s,strokeWidth:o,strokeOpacity:l}}],legendItemName:c}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:i}){const n=W1(U1(this.isVertical(),this.axes,"normal"));_s(this.id,"nodes",this.ctx.animationManager,[e],n),gn(this,"labels",this.ctx.animationManager,t),gn(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i,annotationSelections:n,previousContextData:r}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const s=this.processedData?.reduced?.diff,o=null==r?"fade":"normal",a=W1(U1(this.isVertical(),this.axes,o));_s(this.id,"nodes",this.ctx.animationManager,[t],a,(c,d)=>mp(d.xValue,d.valueIndex,d.phantom),s),(s?.changed??1)&&(gn(this,"labels",this.ctx.animationManager,i),gn(this,"annotations",this.ctx.animationManager,...n))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){const i=this.contextNodeData?.nodeData[e].clipBBox;return D6(i,this.contentGroup,t)}};M6.className="BarSeries",M6.type="bar";var tGe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new M6(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:Dre([{type:"number",position:"left"},{type:"category",position:"bottom"}],e=>"horizontal"===e?.direction),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:Ts,color:Dv,placement:"inside-center"},shadow:{enabled:!1,color:Ev,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:S_},E6=class extends ql{constructor(){super(...arguments),this.maxSize=30}};E([L(st),Ct({redraw:3})],E6.prototype,"maxSize",2),E([L(oR,{optional:!0}),Ct({redraw:3})],E6.prototype,"domain",2);var kre=class extends po{constructor(){super(...arguments),this.placement="top"}};E([L(bV)],kre.prototype,"placement",2);var ir=class extends hp{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new kre,this.tooltip=new Ja,this.marker=new E6}};E([L(et)],ir.prototype,"xKey",2),E([L(et)],ir.prototype,"yKey",2),E([L(et)],ir.prototype,"sizeKey",2),E([L(et,{optional:!0})],ir.prototype,"labelKey",2),E([L(et,{optional:!0})],ir.prototype,"colorKey",2),E([L(et,{optional:!0})],ir.prototype,"xFilterKey",2),E([L(et,{optional:!0})],ir.prototype,"yFilterKey",2),E([L(et,{optional:!0})],ir.prototype,"sizeFilterKey",2),E([L(et,{optional:!0})],ir.prototype,"xName",2),E([L(et,{optional:!0})],ir.prototype,"yName",2),E([L(et,{optional:!0})],ir.prototype,"sizeName",2),E([L(et,{optional:!0})],ir.prototype,"labelName",2),E([L(et,{optional:!0})],ir.prototype,"colorName",2),E([L(oR,{optional:!0})],ir.prototype,"colorDomain",2),E([L(sd)],ir.prototype,"colorRange",2),E([L(et,{optional:!0})],ir.prototype,"title",2),E([As("marker.shape")],ir.prototype,"shape",2),E([As("marker.size")],ir.prototype,"size",2),E([As("marker.maxSize")],ir.prototype,"maxSize",2),E([As("marker.domain",{optional:!0})],ir.prototype,"domain",2),E([As("marker.fill",{optional:!0})],ir.prototype,"fill",2),E([As("marker.fillOpacity")],ir.prototype,"fillOpacity",2),E([As("marker.stroke",{optional:!0})],ir.prototype,"stroke",2),E([As("marker.strokeWidth")],ir.prototype,"strokeWidth",2),E([As("marker.strokeOpacity")],ir.prototype,"strokeOpacity",2),E([As("marker.itemStyler",{optional:!0})],ir.prototype,"itemStyler",2),E([L(Tt)],ir.prototype,"label",2),E([L(Tt)],ir.prototype,"tooltip",2);var iGe=class extends AB{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},I6=class extends Wg{constructor(e){super({moduleCtx:e,directionKeys:_v,directionNames:Cv,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:vp,marker:G1}}),this.NodeEvent=iGe,this.properties=new ir,this.sizeScale=new pd,this.colorScale=new uv}get pickModeAxis(){return"main-category"}processData(e){var t=this;return(0,J.A)(function*(){if(!t.properties.isValid()||null==t.data||!t.visible)return;const i=t.axes.x?.scale,n=t.axes.y?.scale,{xScaleType:r,yScaleType:s}=t.getScaleInformation({xScale:i,yScale:n}),o=t.colorScale.type,a=t.sizeScale.type,{xKey:l,yKey:c,sizeKey:d,xFilterKey:u,yFilterKey:h,sizeFilterKey:g,labelKey:m,colorDomain:y,colorRange:_,colorKey:x,marker:D}=t.properties,{dataModel:M,processedData:k}=yield t.requestDataModel(e,t.data,{props:[Vi(l,r,{id:"xValue"}),Vi(c,s,{id:"yValue"}),...null!=u?[Vi(u,r,{id:"xFilterValue"})]:[],...null!=h?[Vi(h,s,{id:"yFilterValue"})]:[],...null!=g?[Vi(g,a,{id:"sizeFilterValue"})]:[],Vi(d,a,{id:"sizeValue"}),...x?[Vi(x,o,{id:"colorValue"})]:[],...m?[Vi(m,"band",{id:"labelValue"})]:[]]}),V=M.resolveProcessedDataIndexById(t,"sizeValue");if(t.sizeScale.domain=D.domain?D.domain:k.domain.values[V]??[],x){const F=M.resolveProcessedDataIndexById(t,"colorValue");t.colorScale.domain=y??k.domain.values[F]??[],t.colorScale.range=_,t.colorScale.update()}t.animationState.transition("updateData")})()}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",r=t.resolveProcessedDataDefById(this,n),s=t.getDomain(this,n,"value",i);return"value"===r?.def.type&&"category"===r?.def.valueType?s:$l(Ou(s))}createNodeData(){var e=this;return(0,J.A)(function*(){const{axes:t,dataModel:i,processedData:n,colorScale:r,sizeScale:s}=e,{xKey:o,yKey:a,sizeKey:l,xFilterKey:c,yFilterKey:d,sizeFilterKey:u,labelKey:h,xName:g,yName:m,sizeName:y,labelName:_,label:x,colorKey:D,marker:M,visible:k}=e.properties,V=ju(M.shape),{placement:H}=x,F=t.x,P=t.y;if(!(i&&n&&k&&F&&P))return;const G=i.resolveProcessedDataIndexById(e,"xValue"),Y=i.resolveProcessedDataIndexById(e,"yValue"),q=null!=l?i.resolveProcessedDataIndexById(e,"sizeValue"):void 0,ee=null!=D?i.resolveProcessedDataIndexById(e,"colorValue"):-1,K=null!=h?i.resolveProcessedDataIndexById(e,"labelValue"):-1,gt=null!=c?i.resolveProcessedDataIndexById(e,"xFilterValue"):void 0,jt=null!=d?i.resolveProcessedDataIndexById(e,"yFilterValue"):void 0,Fe=null!=u?i.resolveProcessedDataIndexById(e,"sizeFilterValue"):void 0,$e=F.scale,Ke=P.scale,dt=($e.bandwidth??0)/2,Ot=(Ke.bandwidth??0)/2,qt=[];s.range=[M.size,M.maxSize];const Vt=x.getFont(),Ut=sp.getMeasurer({font:Vt});for(const{values:Kt,datum:_n}of n.data??[]){const Ne=Kt[G],qe=Kt[Y],Je=null!=q?Kt[q]:void 0,mt=$e.convert(Ne)+dt,$t=Ke.convert(qe)+Ot;let Di;null!=gt&&null!=jt&&(Di=Kt[gt]===Ne&&Kt[jt]===qe,null!=Fe&&Di&&(Di=Kt[Fe]===Je));const an=e.getLabelText(x,{value:h?Kt[K]:qe,datum:_n,xKey:o,yKey:a,sizeKey:l,labelKey:h,xName:g,yName:m,sizeName:y,labelName:_}),Fr=Ut.measureText(String(an)),Or=Je?s.convert(Je):M.size,Xr=D?r.convert(Kt[ee]):void 0;qt.push({series:e,itemId:a,yKey:a,xKey:o,datum:_n,xValue:Ne,yValue:qe,sizeValue:Je,point:{x:mt,y:$t,size:Or},midPoint:{x:mt,y:$t},fill:Xr,label:{text:an,...Fr},marker:V,placement:H,selected:Di})}return{itemId:a,nodeData:qt,labelData:qt,scales:e.calculateScaling(),visible:e.visible}})()}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:e}=this.properties.marker;return new(ju(e))}updateMarkerSelection(e){var t=this;return(0,J.A)(function*(){const{nodeData:i,markerSelection:n}=e;return t.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t.properties.marker.enabled?i:[],void 0,s=>mp([s.xValue,s.yValue,s.label.text]))})()}updateMarkerNodes(e){var t=this;return(0,J.A)(function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:r,yKey:s,sizeKey:o,labelKey:a,marker:l}=t.properties,{size:c,shape:d,fill:u,fillOpacity:h,stroke:g,strokeWidth:m,strokeOpacity:y}=$i(n&&t.properties.highlightStyle.item,l.getStyle()),_={size:c,shape:d,fill:u,fillOpacity:h,stroke:g,strokeWidth:m,strokeOpacity:y};t.sizeScale.range=[l.size,l.maxSize],i.each((x,D)=>{t.updateMarkerStyle(x,l,{datum:D,highlighted:n,xKey:r,yKey:s,sizeKey:o,labelKey:a},_,{selected:D.selected})}),n||t.properties.marker.markClean()})()}updateLabelSelection(e){var t=this;return(0,J.A)(function*(){const i=t.properties.label.enabled?t.chart?.placeLabels().get(t)??[]:[];return e.labelSelection.update(i.map(n=>({...n.datum,point:{x:n.x,y:n.y,size:n.datum.point.size}})))})()}updateLabelNodes(e){var t=this;return(0,J.A)(function*(){const{label:i}=t.properties;e.labelSelection.each((n,r)=>{n.text=r.label.text,n.fill=i.color,n.x=r.point?.x??0,n.y=r.point?.y??0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})})()}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return op;const{xKey:n,yKey:r,sizeKey:s,labelKey:o,xName:a,yName:l,sizeName:c,labelName:d,marker:u,tooltip:h}=this.properties,g=this.properties.title??l,m=$i({fill:e.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:y="gray"}=this.getMarkerStyle(u,{datum:e,highlighted:!1,xKey:n,yKey:r,sizeKey:s,labelKey:o},m),{datum:_,xValue:x,yValue:D,sizeValue:M,label:{text:k},itemId:V}=e,H=Kr(t.formatDatum(x)),F=Kr(i.formatDatum(D));let P=`<b>${Kr(a??n)}</b>: ${H}<br><b>${Kr(l??r)}</b>: ${F}`;return s&&(P+=`<br><b>${Kr(c??s)}</b>: ${Kr(String(M))}`),o&&(P=`<b>${Kr(d??o)}</b>: ${Kr(k)}<br>`+P),h.toTooltipHtml({title:g,content:P,backgroundColor:y},{datum:_,itemId:V,xKey:n,xName:a,yKey:r,yName:l,sizeKey:s,sizeName:c,labelKey:o,labelName:d,title:g,color:y,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];const{yKey:e,yName:t,title:i,marker:n,visible:r}=this.properties,{shape:s,fill:o,stroke:a,fillOpacity:l,strokeOpacity:c,strokeWidth:d}=n;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:r,label:{text:i??t??e},symbols:[{marker:{shape:s,fill:o??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:d??0}}]}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){l6(this,this.ctx.animationManager,e),gn(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ti}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:n,labelKey:r}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,sizeKey:n,labelKey:r,highlighted:!1})}computeFocusBounds(e){return j1(this,e)}};I6.className="BubbleSeries",I6.type="bubble";var nGe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new I6(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Ts,color:To}}},paletteFactory:S_},to=class extends hp{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Zd,this.label=new po,this.tooltip=new Ja}};E([L(et)],to.prototype,"xKey",2),E([L(et,{optional:!0})],to.prototype,"yKey",2),E([L(et,{optional:!0})],to.prototype,"xName",2),E([L(et,{optional:!0})],to.prototype,"yName",2),E([L(On,{optional:!0})],to.prototype,"fill",2),E([L(hn)],to.prototype,"fillOpacity",2),E([L(On,{optional:!0})],to.prototype,"stroke",2),E([L(st)],to.prototype,"strokeWidth",2),E([L(hn)],to.prototype,"strokeOpacity",2),E([L(np)],to.prototype,"lineDash",2),E([L(st)],to.prototype,"lineDashOffset",2),E([L(st)],to.prototype,"cornerRadius",2),E([L(Jt)],to.prototype,"areaPlot",2),E([L(J0,{optional:!0})],to.prototype,"bins",2),E([L(Yn(["count","sum","mean"],"a histogram aggregation"))],to.prototype,"aggregation",2),E([L(st,{optional:!0})],to.prototype,"binCount",2),E([L(Tt)],to.prototype,"shadow",2),E([L(Tt)],to.prototype,"label",2),E([L(Tt)],to.prototype,"tooltip",2);var A6=class extends Wg{constructor(e){super({moduleCtx:e,directionKeys:_v,directionNames:Cv,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:$1,label:vp}}),this.properties=new to,this.calculatedBins=[]}deriveBins(e){const t=dR(e[0],e[1],10),i=n_(e[0],e[1],10),[n]=t;return[[n-i,n],...t.map(s=>[s,s+i])]}calculateNiceBins(e,t){const i=Math.floor(e[0]),n=e[1],r=t||1,{start:s,binSize:o}=this.calculateNiceStart(i,n,r);return this.getBins(s,n,o,r)}getBins(e,t,i,n){const r=[],s=this.calculatePrecision(i);for(let o=0;o<n;o++){const a=Math.round((e+o*i)*s)/s;let l=Math.round((e+(o+1)*i)*s)/s;o===n-1&&(l=Math.max(l,t)),r[o]=[a,l]}return r}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const n=Math.abs(t-e)/i,r=Math.floor(Math.log10(n)),s=Math.pow(10,r);return{start:Math.floor(e/s)*s,binSize:n}}processData(e){var t=this;return(0,J.A)(function*(){t.visible||(t.processedData=void 0,t.animationState.transition("updateData"));const{xKey:i,yKey:n,areaPlot:r,aggregation:s}=t.properties,o=t.axes.x?.scale,a=t.axes.y?.scale,{xScaleType:l,yScaleType:c}=t.getScaleInformation({yScale:a,xScale:o}),d=[qd(i,l),Gne];if(n){let h=i6("groupAgg");"count"===s||("sum"===s?h=Tne("groupAgg"):"mean"===s&&(h=kne("groupAgg"))),r&&(h=n6("groupAgg",h)),d.push(Vi(n,c,{invalidValue:void 0}),h)}else{let h=i6("groupAgg");r&&(h=n6("groupAgg",h)),d.push(h)}!t.ctx.animationManager.isSkipped()&&t.processedData&&d.push(E_(t.processedData,!1)),yield t.requestDataModel(e,t.data,{props:d,groupByFn:h=>{const g=$l(h.domain.keys[0]);if(0===g.length)return h.domain.groups=[],()=>[];const m=bc(t.properties.binCount)?t.calculateNiceBins(g,t.properties.binCount):t.properties.bins??t.deriveBins(g),y=m.length;return t.calculatedBins=[...m],_=>{const x=_.keys[0];for(let D=0;D<y;D++){const M=m[D];if(x>=M[0]&&x<M[1]||D===y-1&&x<=M[1])return M}return[]}}}),t.animationState.transition("updateData")})()}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",t),r=this.calculatedBins?.[0][0],s=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return $l("x"===e?[r,s]:n)}createNodeData(){var e=this;return(0,J.A)(function*(){const{id:t,axes:i,processedData:n,ctx:{callbackCache:r}}=e,s=i.x,o=i.y;if(!s||!o)return;const{scale:a}=s,{scale:l}=o,{xKey:c,yKey:d,xName:u,yName:h,fill:g,stroke:m,strokeWidth:y,cornerRadius:_}=e.properties,x=e.properties.label.formatter??(k=>String(k.value)),D=[],M={itemId:e.properties.yKey??e.id,nodeData:D,labelData:D,scales:e.calculateScaling(),animationValid:!0,visible:e.visible};return!e.visible||!n||"grouped"!==n.type||(n.data.forEach(k=>{const{aggValues:[[V,H]]=[[0,0]],datum:F,datum:{length:P},keys:G,keys:[Y,q]}=k,ee=a.convert(Y),K=a.convert(q),gt=V+H,jt=l.convert(0),Fe=l.convert(gt),$e=Math.abs(K-ee),Ke=Math.abs(Fe-jt),dt=Math.min(ee,K),Ot=Math.min(jt,Fe);let qt;0!==gt&&(qt={x:dt+$e/2,y:Ot+Ke/2,text:r.call(x,{value:gt,datum:F,seriesId:t,xKey:c,yKey:d,xName:u,yName:h})??String(gt)});const Vt={x:dt+$e/2,y:Ot+Ke/2},Ut=o.isReversed();D.push({series:e,datum:F,aggregatedValue:gt,frequency:P,domain:G,yKey:d,xKey:c,x:dt,y:Ot,xValue:ee,yValue:Fe,width:$e,height:Ke,midPoint:Vt,fill:g,stroke:m,cornerRadius:_,topLeftCornerRadius:!Ut,topRightCornerRadius:!Ut,bottomRightCornerRadius:Ut,bottomLeftCornerRadius:Ut,opacity:1,strokeWidth:y,label:qt})}),D.sort((k,V)=>k.x-V.x)),M})()}nodeFactory(){return new Xa}updateDatumSelection(e){return(0,J.A)(function*(){const{nodeData:t,datumSelection:i}=e;return i.update(t,n=>{n.crisp=!0},n=>n.domain.join("_"))})()}updateDatumNodes(e){var t=this;return(0,J.A)(function*(){const{isHighlight:i}=e,{fillOpacity:n,strokeOpacity:r,lineDash:s,lineDashOffset:o,shadow:a,highlightStyle:{item:{fill:l,fillOpacity:c=n,stroke:d,strokeWidth:u}}}=t.properties;e.datumSelection.each((h,g,m)=>{const{cornerRadius:y,topLeftCornerRadius:_,topRightCornerRadius:x,bottomRightCornerRadius:D,bottomLeftCornerRadius:M}=g,k=i&&void 0!==u?u:g.strokeWidth,V=i?c:n;h.fill=(i?l:void 0)??g.fill,h.stroke=(i?d:void 0)??g.stroke,h.fillOpacity=V,h.strokeOpacity=r,h.strokeWidth=k,h.lineDash=s,h.lineDashOffset=o,h.topLeftCornerRadius=_?y:0,h.topRightCornerRadius=x?y:0,h.bottomRightCornerRadius=D?y:0,h.bottomLeftCornerRadius=M?y:0,h.fillShadow=a,h.zIndex=i?v_.highlightedZIndex:m,h.visible=g.height>0})})()}updateLabelSelection(e){return(0,J.A)(function*(){const{labelData:t,labelSelection:i}=e;return i.update(t,n=>{n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})})()}updateLabelNodes(e){var t=this;return(0,J.A)(function*(){const{fontStyle:i,fontWeight:n,fontFamily:r,fontSize:s,color:o}=t.properties.label,a=t.isLabelEnabled();e.labelSelection.each((l,c)=>{a&&c?.label?(l.text=c.label.text,l.x=c.label.x,l.y=c.label.y,l.fontStyle=i,l.fontWeight=n,l.fontFamily=r,l.fontSize=s,l.fill=o,l.visible=!0):l.visible=!1})})()}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t&&_6(e,t.children())}pickNodeClosestDatum(e){return C6(this,e)}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return op;const{xKey:n,yKey:r,xName:s,yName:o,fill:a,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:d,frequency:u,domain:[h,g],itemId:m}=e,y=`${Kr(s??n)}: ${t.formatDatum(h)} - ${t.formatDatum(g)}`;let _=r?`<b>${Kr(o??r)} (${l})</b>: ${i.formatDatum(d)}<br>`:"";return _+=`<b>Frequency</b>: ${u}`,c.toTooltipHtml({title:y,backgroundColor:a,content:_},{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:m,xKey:n,xName:s,yKey:r,yName:o,color:a,title:y,seriesId:this.id})}getLegendData(e){if(!this.data?.length||"category"!==e)return[];const{xKey:t,yName:i,fill:n,fillOpacity:r,stroke:s,strokeWidth:o,strokeOpacity:a,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t??"Frequency"},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:a,strokeWidth:o}}]}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=W1(U1(!0,this.axes,"normal"));_s(this.id,"datums",this.ctx.animationManager,[e],i),gn(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){const t=this.processedData?.reduced?.diff,i=W1(U1(!0,this.axes,"normal"));_s(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,(n,r)=>mp(r.domain),t),gn(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){return D6(this.contextNodeData?.nodeData[e],this.contentGroup,t)}};A6.className="HistogramSeries",A6.type="histogram";var rGe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new A6(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:Ts,color:Dv},shadow:{enabled:!1,color:Ev,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}},fo=class extends hp{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new I_,this.marker=new ql,this.label=new po,this.tooltip=new Ja,this.connectMissingData=!1}};E([L(et)],fo.prototype,"xKey",2),E([L(et)],fo.prototype,"yKey",2),E([L(et,{optional:!0})],fo.prototype,"xName",2),E([L(et,{optional:!0})],fo.prototype,"yName",2),E([L(et,{optional:!0})],fo.prototype,"yFilterKey",2),E([L(et,{optional:!0})],fo.prototype,"stackGroup",2),E([L(st,{optional:!0})],fo.prototype,"normalizedTo",2),E([L(et,{optional:!0})],fo.prototype,"title",2),E([L(On)],fo.prototype,"stroke",2),E([L(st)],fo.prototype,"strokeWidth",2),E([L(hn)],fo.prototype,"strokeOpacity",2),E([L(np)],fo.prototype,"lineDash",2),E([L(st)],fo.prototype,"lineDashOffset",2),E([L(Tt)],fo.prototype,"interpolation",2),E([L(Tt)],fo.prototype,"marker",2),E([L(Tt)],fo.prototype,"label",2),E([L(Tt)],fo.prototype,"tooltip",2),E([L(Jt)],fo.prototype,"connectMissingData",2);var T6=class extends Wg{constructor(e){super({moduleCtx:e,directionKeys:_v,directionNames:Cv,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:g6({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:vp,marker:(t,i)=>({opacity:1,scalingX:1,scalingY:1,...H1(0,i)})}}),this.properties=new fo}get pickModeAxis(){return"main-category"}processData(e){var t=this;return(0,J.A)(function*(){if(null==t.data||!t.properties.isValid())return;const{data:i,visible:n,seriesGrouping:{groupIndex:r=t.id,stackCount:s=1}={}}=t,{xKey:o,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:d}=t.properties,u=!t.ctx.animationManager.isSkipped(),h=t.axes.x?.scale,g=t.axes.y?.scale,{isContinuousX:m,xScaleType:y,yScaleType:_}=t.getScaleInformation({xScale:h,yScale:g}),x={invalidValue:null};c&&s>1&&(x.invalidValue=0),n||(x.forceValue=0);const D=[];if(m||D.push(qd(o,y,{id:"xKey"})),D.push(Vi(o,y,{id:"xValue"}),Vi(a,_,{id:"yValueRaw",...x,invalidValue:void 0})),null!=l&&D.push(Vi(l,_,{id:"yFilterRaw"})),s>1){const M=[`line-stack-${r}-yValues`,`line-stack-${r}-yValues-trailing`,`line-stack-${r}-yValues-marker`];D.push(...Jg(a,"window","current",{id:"yValueEnd",...x,groupId:M[0]},_),...Jg(a,"window-trailing","current",{id:"yValueStart",...x,groupId:M[1]},_),...Jg(a,"normal","current",{id:"yValueCumulative",...x,groupId:M[2]},_)),Z0(d)&&D.push(HR([M[0],M[1],M[2]],d,"range"))}u&&(D.push(M_(m?["xValue"]:void 0)),t.processedData&&D.push(E_(t.processedData))),yield t.requestDataModel(e,i,{props:D}),t.animationState.transition("updateData")})()}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!t||!i?.data.length)return[];const n=t.resolveProcessedDataDefById(this,"xValue");if("x"===e){const r=t.getDomain(this,"xValue","value",i);return"value"===n?.def.type&&"category"===n.def.valueType?r:$l(Ou(r))}return $l(t.getDomain(this,(this.seriesGrouping?.stackCount??1)>1?"yValueEnd":"yValueRaw","value",i))}createNodeData(){var e=this;return(0,J.A)(function*(){const{processedData:t,dataModel:i,axes:n}=e,r=n.x,s=n.y;if(!(t&&i&&r&&s))return;const{xKey:o,yKey:a,yFilterKey:l,xName:c,yName:d,marker:u,label:h,connectMissingData:g,legendItemName:m}=e.properties,y=(e.seriesGrouping?.stackCount??1)>1,_=r.scale,x=s.scale,D=(_.bandwidth??0)/2,M=(x.bandwidth??0)/2,k=[],V=u.enabled?u.size:0,H=i.resolveProcessedDataIndexById(e,"xValue"),F=i.resolveProcessedDataIndexById(e,"yValueRaw"),P=null!=l?i.resolveProcessedDataIndexById(e,"yFilterRaw"):void 0,G=y?i.resolveProcessedDataIndexById(e,"yValueCumulative"):F,Y=y?i.resolveProcessedDataIndexById(e,"yValueEnd"):void 0;let q=!0,ee=!1;return t.data?.forEach(({datum:K,values:gt})=>{const jt=gt[H],Fe=gt[F],$e=gt[G],Ke=null!=Y?gt[Y]:void 0;if(null==Fe)return void(q||(q=!g));const dt=_.convert(jt)+D;if(isNaN(dt))return void(q||(q=!g));const Ot=x.convert($e)+M,qt=null!=P?gt[P]===Fe:void 0;!1===qt&&(ee=!0);const Vt=e.getLabelText(h,{value:Fe,datum:K,xKey:o,yKey:a,xName:c,yName:d,legendItemName:m},VR);k.push({series:e,datum:K,yKey:a,xKey:o,point:{x:dt,y:Ot,moveTo:q,size:V},midPoint:{x:dt,y:Ot},cumulativeValue:Ke,yValue:Fe,xValue:jt,capDefaults:{lengthRatioMultiplier:e.properties.marker.getDiameter(),lengthMax:1/0},labelText:Vt,selected:qt}),q=!1}),{itemId:a,nodeData:k,labelData:k,scales:e.calculateScaling(),visible:e.visible,crossFiltering:ee}})()}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(ju(e))}updatePathNodes(e){var t=this;return(0,J.A)(function*(){const{paths:[i],opacity:n,visible:r,animationEnabled:s}=e,o=!0===t.contextNodeData?.crossFiltering;i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:t.properties.stroke,strokeWidth:t.getStrokeWidth(t.properties.strokeWidth),strokeOpacity:t.properties.strokeOpacity*(o?.25:1),lineDash:t.properties.lineDash,lineDashOffset:t.properties.lineDashOffset}),s||(i.visible=r),$R(t,i)})()}updateMarkerSelection(e){var t=this;return(0,J.A)(function*(){let{nodeData:i}=e;const{markerSelection:n}=e;return i=t.properties.marker.enabled||!0===t.contextNodeData?.crossFiltering?i:[],t.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i,void 0,s=>mp(s.xValue))})()}updateMarkerNodes(e){var t=this;return(0,J.A)(function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:r,yKey:s,stroke:o,strokeWidth:a,strokeOpacity:l,marker:c,highlightStyle:d}=t.properties,u=$i(n&&d.item,c.getStyle(),{stroke:o,strokeWidth:a,strokeOpacity:l}),h=t.ctx.animationManager.isSkipped();i.each((g,m)=>{t.updateMarkerStyle(g,c,{datum:m,highlighted:n,xKey:r,yKey:s},u,{applyTranslation:h,selected:m.selected})}),n||c.markClean()})()}updateLabelSelection(e){var t=this;return(0,J.A)(function*(){return e.labelSelection.update(t.isLabelEnabled()?e.labelData:[])})()}updateLabelNodes(e){var t=this;return(0,J.A)(function*(){const{enabled:i,fontStyle:n,fontWeight:r,fontSize:s,fontFamily:o,color:a}=t.properties.label;e.labelSelection.each((l,c)=>{i&&c?.labelText?(l.fontStyle=n,l.fontWeight=r,l.fontSize=s,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=c.labelText,l.x=c.point.x,l.y=c.point.y-10,l.fill=a,l.visible=!0):l.visible=!1})})()}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return op;const{xKey:n,yKey:r,xName:s,yName:o,strokeWidth:a,marker:l,tooltip:c}=this.properties,{datum:d,xValue:u,yValue:h,itemId:g}=e,m=t.formatDatum(u),y=i.formatDatum(h),_=Kr(this.properties.title??o),x=Kr(m+": "+y),D=$i({fill:l.stroke},l.getStyle(),{strokeWidth:a}),{fill:M}=this.getMarkerStyle(l,{datum:e,xKey:n,yKey:r,highlighted:!1},D);return c.toTooltipHtml({title:_,content:x,backgroundColor:M},{datum:d,itemId:g,xKey:n,xName:s,yKey:r,yName:o,title:_,color:M,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||"category"!==e)return[];const{yKey:t,yName:i,stroke:n,strokeOpacity:r,strokeWidth:s,lineDash:o,title:a,marker:l,visible:c,legendItemName:d}=this.properties,u="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:t,legendItemName:d,seriesId:this.id,enabled:c,label:{text:d??a??i??t},symbols:[{marker:{shape:l.shape,fill:l.fill??u,stroke:l.stroke??n??u,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??r??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:n??u,strokeOpacity:r,strokeWidth:s,lineDash:o}}]}]}updatePaths(e){var t=this;return(0,J.A)(function*(){t.updateLinePaths(e.paths,e.contextData)})()}updateLinePaths(e,t){const{interpolation:i}=this.properties,{nodeData:n}=t,[r]=e;r.path.clear(!0);for(const s of dre(n))h6(ure(n,s),r,i);r.checkPathDirty()}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n,contextData:r,paths:s}=e,{animationManager:o}=this.ctx;this.updateLinePaths(s,r),p6(this,o,...s),Xs([t],H1),c6(this,o,t),gn(this,"labels",o,i),gn(this,"annotations",o,...n)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:r,contextData:s,paths:o,previousContextData:a}=e,[l]=o;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,s)},d=()=>{t.skipCurrentBatch(),c()};if(null==s||null==a)return c(),z1(this,t,"added",i),WR(this,"path_properties",t,"add",l),gn(this,"labels",t,n),void gn(this,"annotations",t,...r);if(s.crossFiltering!==a.crossFiltering)return void d();let u;try{u=vre(s,a,this.processedData?.reduced?.diff,this.properties.interpolation)}catch{u=void 0}void 0!==u?"no-op"!==u.status&&(z1(this,t,void 0,i),_s(this.id,"path_properties",t,[l],u.pathProperties),"added"===u.status?this.updateLinePaths(o,s):"removed"===u.status?this.updateLinePaths(o,a):t6(this.id,"path_update",t,[l],u.path),u.hasMotion&&(gn(this,"labels",t,n),gn(this,"annotations",t,...r))):d()}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Ti}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return j1(this,e)}};T6.className="LineSeries",T6.type="line";var oGe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new T6(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Ts,color:To},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{const{marker:t}=OR(e);return{stroke:t.fill,marker:t}}},Fre=class extends po{constructor(){super(...arguments),this.placement="top"}};E([L(bV)],Fre.prototype,"placement",2);var cs=class extends hp{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new Fre,this.tooltip=new Ja,this.marker=new ql}};E([L(et)],cs.prototype,"xKey",2),E([L(et)],cs.prototype,"yKey",2),E([L(et,{optional:!0})],cs.prototype,"labelKey",2),E([L(et,{optional:!0})],cs.prototype,"colorKey",2),E([L(et,{optional:!0})],cs.prototype,"xFilterKey",2),E([L(et,{optional:!0})],cs.prototype,"yFilterKey",2),E([L(et,{optional:!0})],cs.prototype,"xName",2),E([L(et,{optional:!0})],cs.prototype,"yName",2),E([L(et,{optional:!0})],cs.prototype,"labelName",2),E([L(et,{optional:!0})],cs.prototype,"colorName",2),E([L(oR,{optional:!0})],cs.prototype,"colorDomain",2),E([L(sd)],cs.prototype,"colorRange",2),E([L(et,{optional:!0})],cs.prototype,"title",2),E([As("marker.shape")],cs.prototype,"shape",2),E([As("marker.size")],cs.prototype,"size",2),E([As("marker.fill")],cs.prototype,"fill",2),E([As("marker.fillOpacity")],cs.prototype,"fillOpacity",2),E([As("marker.stroke")],cs.prototype,"stroke",2),E([As("marker.strokeWidth")],cs.prototype,"strokeWidth",2),E([As("marker.strokeOpacity")],cs.prototype,"strokeOpacity",2),E([As("marker.itemStyler",{optional:!0})],cs.prototype,"itemStyler",2),E([L(Tt)],cs.prototype,"label",2),E([L(Tt)],cs.prototype,"tooltip",2);var R6=class extends Wg{constructor(e){super({moduleCtx:e,directionKeys:_v,directionNames:Cv,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:G1,label:vp}}),this.properties=new cs,this.colorScale=new uv}get pickModeAxis(){return"main-category"}processData(e){var t=this;return(0,J.A)(function*(){if(!t.properties.isValid()||null==t.data||!t.visible)return;const i=t.axes.x?.scale,n=t.axes.y?.scale,{xScaleType:r,yScaleType:s}=t.getScaleInformation({xScale:i,yScale:n}),o=t.colorScale.type,{xKey:a,yKey:l,xFilterKey:c,yFilterKey:d,labelKey:u,colorKey:h,colorDomain:g,colorRange:m}=t.properties,{dataModel:y,processedData:_}=yield t.requestDataModel(e,t.data,{props:[Vi(a,r,{id:"xValue"}),Vi(l,s,{id:"yValue"}),...null!=c?[Vi(c,r,{id:"xFilterValue"})]:[],...null!=d?[Vi(d,s,{id:"yFilterValue"})]:[],...h?[Vi(h,o,{id:"colorValue"})]:[],...u?[Vi(u,"band",{id:"labelValue"})]:[]]});if(h){const x=y.resolveProcessedDataIndexById(t,"colorValue");t.colorScale.domain=g??_.domain.values[x]??[],t.colorScale.range=m,t.colorScale.update()}t.animationState.transition("updateData")})()}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",r=t.resolveProcessedDataDefById(this,n),s=t.getDomain(this,n,"value",i);return"value"===r?.def.type&&"category"===r?.def.valueType?s:$l(Ou(s))}createNodeData(){var e=this;return(0,J.A)(function*(){const{axes:t,dataModel:i,processedData:n,colorScale:r}=e,{xKey:s,yKey:o,xFilterKey:a,yFilterKey:l,labelKey:c,colorKey:d,xName:u,yName:h,labelName:g,marker:m,label:y,visible:_}=e.properties,{placement:x}=y,D=ju(m.shape),M=t.x,k=t.y;if(!(i&&n&&_&&M&&k))return;const V=i.resolveProcessedDataIndexById(e,"xValue"),H=i.resolveProcessedDataIndexById(e,"yValue"),F=null!=d?i.resolveProcessedDataIndexById(e,"colorValue"):-1,P=null!=c?i.resolveProcessedDataIndexById(e,"labelValue"):-1,G=null!=a?i.resolveProcessedDataIndexById(e,"xFilterValue"):void 0,Y=null!=l?i.resolveProcessedDataIndexById(e,"yFilterValue"):void 0,q=M.scale,ee=k.scale,K=(q.bandwidth??0)/2,gt=(ee.bandwidth??0)/2,jt=[],Fe=y.getFont(),$e=sp.getMeasurer({font:Fe});for(const{values:Ke,datum:dt}of n.data??[]){const Ot=Ke[V],qt=Ke[H],Vt=q.convert(Ot)+K,Ut=ee.convert(qt)+gt,Kt=null!=G&&null!=Y?Ke[G]===Ot&&Ke[Y]===qt:void 0,_n=e.getLabelText(y,{value:c?Ke[P]:qt,datum:dt,xKey:s,yKey:o,labelKey:c,xName:u,yName:h,labelName:g}),Ne=$e.measureText(_n),qe=d?r.convert(Ke[F]):void 0;jt.push({series:e,itemId:o,yKey:o,xKey:s,datum:dt,xValue:Ot,yValue:qt,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:Vt,y:Ut,size:m.size},midPoint:{x:Vt,y:Ut},fill:qe,label:{text:_n,...Ne},marker:D,placement:x,selected:Kt})}return{itemId:o,nodeData:jt,labelData:jt,scales:e.calculateScaling(),visible:e.visible}})()}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:e}=this.properties.marker;return new(ju(e))}updateMarkerSelection(e){var t=this;return(0,J.A)(function*(){const{nodeData:i,markerSelection:n}=e;return t.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t.properties.marker.enabled?i:[])})()}updateMarkerNodes(e){var t=this;return(0,J.A)(function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:r,yKey:s,labelKey:o,marker:a,highlightStyle:l}=t.properties,c=$i(n&&l.item,a.getStyle());i.each((d,u)=>{t.updateMarkerStyle(d,a,{datum:u,highlighted:n,xKey:r,yKey:s,labelKey:o},c,{selected:u.selected})}),n||a.markClean()})()}updateLabelSelection(e){var t=this;return(0,J.A)(function*(){const i=t.isLabelEnabled()?t.chart?.placeLabels().get(t)??[]:[];return e.labelSelection.update(i.map(({datum:n,x:r,y:s})=>({...n,point:{x:r,y:s,size:n.point.size},placement:"top"})),n=>{n.pointerEvents=1})})()}updateLabelNodes(e){var t=this;return(0,J.A)(function*(){const{label:i}=t.properties;e.labelSelection.each((n,r)=>{n.text=r.label.text,n.fill=i.color,n.x=r.point?.x??0,n.y=r.point?.y??0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})})()}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return op;const{xKey:n,yKey:r,labelKey:s,xName:o,yName:a,labelName:l,title:c=a,marker:d,tooltip:u}=this.properties,{datum:h,xValue:g,yValue:m,label:y,itemId:_}=e,x=$i({fill:e.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:D="gray"}=this.getMarkerStyle(d,{datum:e,highlighted:!1,xKey:n,yKey:r,labelKey:s},x),M=Kr(t.formatDatum(g)),k=Kr(i.formatDatum(m));let V=`<b>${Kr(o??n)}</b>: ${M}<br><b>${Kr(a??r)}</b>: ${k}`;return s&&(V=`<b>${Kr(l??s)}</b>: ${Kr(y.text)}<br>`+V),u.toTooltipHtml({title:c,content:V,backgroundColor:D},{datum:h,itemId:_,xKey:n,xName:o,yKey:r,yName:a,labelKey:s,labelName:l,title:c,color:D,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){const{yKey:t,yName:i,title:n,marker:r,visible:s}=this.properties,{fill:o,stroke:a,fillOpacity:l,strokeOpacity:c,strokeWidth:d}=r;return this.data?.length&&this.properties.isValid()&&"category"===e?[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:s,label:{text:n??i??t},symbols:[{marker:{shape:r.shape,fill:r.fill??o??"rgba(0, 0, 0, 0)",stroke:r.stroke??a??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:d??0}}]}]:[]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n}=e;l6(this,this.ctx.animationManager,t),gn(this,"labels",this.ctx.animationManager,i),gn(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ti}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(e){return j1(this,e)}};R6.className="ScatterSeries",R6.type="scatter";var aGe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new R6(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Ts,color:To},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:S_},Ore=class JG{constructor(t,i,n,r){this.startAngle=t,this.endAngle=i,this.innerRadius=n,this.outerRadius=r}clone(){const{startAngle:t,endAngle:i,innerRadius:n,outerRadius:r}=this;return new JG(t,i,n,r)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[BT](t,i){return new JG(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function k6({startAngle:e,endAngle:t,innerRadius:i,outerRadius:n}){let r=1/0,s=1/0,o=-1/0,a=-1/0;const l=(c,d)=>{r=Math.min(c,r),s=Math.min(d,s),o=Math.max(c,o),a=Math.max(d,a)};return l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),cd(0,e,t)&&l(n,0),cd(.5*Math.PI,e,t)&&l(0,n),cd(Math.PI,e,t)&&l(-n,0),cd(1.5*Math.PI,e,t)&&l(0,-n),new It(r,s,o-r,a-s)}function ZR(e,t,i){const n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:r,outerRadius:s}=i;if(i.startAngle===i.endAngle||n<Math.min(r,s)||n>Math.max(r,s))return!1;const o=u1(i.startAngle),a=u1(i.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function Lre(e,t){const{startAngle:i,endAngle:n,innerRadius:r,outerRadius:s}=t,o={x:s*Math.cos(i),y:s*Math.sin(i)},a={x:s*Math.cos(n),y:s*Math.sin(n)},l=0===r?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)},c=0===r?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)};return u_(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||u_(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||cie(0,0,s,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function Nre(e,t){const r={x:e.x,y:e.y+e.height},s={x:e.x+e.width,y:e.y+e.height};return Lre({start:{x:e.x,y:e.y},end:{x:e.x+e.width,y:e.y}},t)||Lre({start:r,end:s},t)}function Vre(e,t,i,n){if(0===i&&0===n)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let s=0,o=1;for(let a=0;a<8;a+=1){const l=(s+o)/2;Math.asin(Math.abs(l*i)/(e+l*i))+Math.asin(Math.abs(l*n)/(e+l*n))-t<0?s=l:o=l}return s}var lGe=1e-6;function nf(e,t){return h1(e,t)<lGe?t:qn(e-t)+t}function QR(e,t,i=0){const r=Math.abs(t-e)>=2*Math.PI?2*Math.PI:qn(t-e);return{startAngle:e=nf(e,i),endAngle:t=e+r}}function XR(e,t,i,n,r,s){const o=Math.sin(s),a=Math.cos(s),l=e**2+t**2-i**2;let c=NaN,d=NaN,u=NaN,h=NaN;if(a>.5){const M=o/a,k=1+M**2,V=-2*(e+t*M),H=V**2-4*k*l;if(H<0)return;const F=(-V+Math.sqrt(H))/(2*k),P=(-V-Math.sqrt(H))/(2*k);c=F,d=F*M,u=P,h=P*M}else{const M=a/o,k=1+M**2,V=-2*(t+e*M),H=V**2-4*k*l;if(H<0)return;const F=(-V+Math.sqrt(H))/(2*k),P=(-V-Math.sqrt(H))/(2*k);c=F*M,d=F,u=P*M,h=P}const _=u*a+h*o,x=c*a+d*o>0?nf(Math.atan2(d-t,c-e),n):NaN,D=_>0?nf(Math.atan2(h-t,u-e),n):NaN;return x>=n&&x<=r?x:D>=n&&D<=r?D:void 0}function JR(e,t,i,n,r,s){const o=Math.hypot(e,t),l=o-(o**2-i**2+s**2)/(2*o),c=Math.atan2(t,e),d=Math.acos(-l/i),u=nf(c+d,n),h=nf(c-d,n);return u>=n&&u<=r?u:h>=n&&h<=r?h:void 0}var P6=class{constructor(e,t,i,n,r){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){null==e||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){null==e||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Jo=class extends Ca{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return k6(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:i}=this;return t=t>0?t+e:0,i=Math.max(i-e,0),{innerRadius:t,outerRadius:i}}normalizedClipSector(){const{clipSector:e}=this;if(null==e)return;const{startAngle:t,endAngle:i}=QR(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:r}=this.normalizedRadii(),s=QR(e.startAngle,e.endAngle,t);return new Ore(Math.max(t,s.startAngle),Math.min(i,s.endAngle),Math.max(n,e.innerRadius),Math.min(r,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,n,r,s,o,a){if(e<=0)return;const{startAngle:l,endAngle:c}=QR(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:u}=this.normalizedRadii(),h=this.normalizedClipSector();if(a&&d<=0)return;const g=this.getAngleOffset(a?d+e:u-e),m=o?l+g+t:c-g-t,y=a?d+e:u-e,_=y*Math.cos(m),x=y*Math.sin(m);if(null!=h&&(!o&&!(m>=l-1e-6&&m<=h.endAngle-1e-6)||o&&!(m>=h.startAngle+1e-6&&m<=c-1e-6)||a&&y<h.innerRadius-1e-6||!a&&y>h.outerRadius+1e-6))return;const D=new P6(_,x,e,i,n);if(null!=h){let F,P;if(a?(D.clipStart(XR(_,x,e,i,n,h.endAngle)),D.clipEnd(XR(_,x,e,i,n,h.startAngle))):(D.clipStart(XR(_,x,e,i,n,h.startAngle)),D.clipEnd(XR(_,x,e,i,n,h.endAngle))),o?(F=JR(_,x,e,i,n,h.innerRadius),P=JR(_,x,e,i,n,h.outerRadius)):(F=JR(_,x,e,i,n,h.outerRadius),P=JR(_,x,e,i,n,h.innerRadius)),D.clipStart(F),D.clipEnd(P),null!=F){const{x:G,y:Y}=D.pointAt(F),q=nf(Math.atan2(Y,G),l);o?s?.clipStart(q):r.clipEnd(q)}if(null!=P){const{x:G,y:Y}=D.pointAt(P),q=nf(Math.atan2(Y,G),l);o?r.clipStart(q):s?.clipEnd(q)}}if(null!=h){const{x:F,y:P}=D.pointAt((D.a0+D.a1)/2);if(!ZR(F,P,h))return}const{x:M,y:k}=D.pointAt(o===a?D.a0:D.a1),V=nf(Math.atan2(k,M),l),H=a?s:r;return o?H?.clipStart(V):H?.clipEnd(V),D}updatePath(){const{path:t,centerX:i,centerY:n,concentricEdgeInset:r,radialEdgeInset:s}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:d,endAngle:u}=QR(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:g}=this.normalizedRadii(),m=this.normalizedClipSector(),y=u-d,_=y>=2*Math.PI-1e-6;if(t.clear(),0===h&&0===g||h>g)return;if((m?.startAngle??d)===(m?.endAngle??u))return;if(_&&null==this.clipSector&&0===o&&0===a&&0===l&&0===c)return t.moveTo(i+g*Math.cos(d),n+g*Math.sin(d)),t.arc(i,n,g,d,u),h>r&&(t.moveTo(i+h*Math.cos(u),n+h*Math.sin(u)),t.arc(i,n,h,u,d,!0)),void t.closePath();if(null==this.clipSector&&Math.abs(h-g)<1e-6)return t.arc(i,n,g,d,u,!1),t.arc(i,n,g,u,d,!0),void t.closePath();const x=this.getAngleOffset(h),D=this.getAngleOffset(g);if(y<2*D)return;const k=(m?.innerRadius??h)>r,V=h<r||y<2*x,H=g-h,F=Math.max(o,l,a,c),P=F>0?Math.min(H/F,1):1;o*=P,a*=P,l*=P,c*=P;const G=Vre(g,y-2*D,-o,-a);if(o*=G,a*=G,!V&&k){const Je=Vre(h,y-2*x,l,c);l*=Je,c*=Je}else l=0,c=0;const Y=Math.max(o+l,a+c),q=Y>0?Math.min(H/Y,1):1;o*=q,a*=q,l*=q,c*=q;let ee=0,K=0;const gt=o/(g-o),jt=a/(g-a);if(gt>=0&&gt<.999999)ee=Math.asin(gt);else{ee=y/2;const Je=g/(1/Math.sin(ee)+1);o=Math.min(Je,o)}if(jt>=0&&jt<.999999)K=Math.asin(jt);else{K=y/2;const Je=g/(1/Math.sin(K)+1);a=Math.min(Je,a)}const Fe=Math.asin(l/(h+l)),$e=Math.asin(c/(h+c)),Ke=m?.outerRadius??g,dt=this.getAngleOffset(Ke),Ot=new P6(0,0,Ke,d+dt,u-dt),qt=m?.innerRadius??h,Vt=this.getAngleOffset(qt),Ut=k?new P6(0,0,qt,d+Vt,u-Vt):void 0;null!=m&&(Ot.clipStart(m.startAngle),Ot.clipEnd(m.endAngle),Ut?.clipStart(m.startAngle),Ut?.clipEnd(m.endAngle));const Kt=this.arc(o,ee,d-.5*Math.PI,d+ee,Ot,Ut,!0,!1),_n=this.arc(a,K,u-K,u+.5*Math.PI,Ot,Ut,!1,!1),Ne=this.arc(c,$e,u+.5*Math.PI,u+Math.PI-$e,Ot,Ut,!1,!0),qe=this.arc(l,Fe,d+Math.PI+Fe,d+1.5*Math.PI,Ot,Ut,!0,!0);if(V){const Je=y<.5*Math.PI?s*(1+Math.cos(y))/Math.sin(y):NaN;let mt;mt=Je>0&&Je<g?Math.max(Math.hypot(s,Je),h):s,mt=Math.max(mt,h);const $t=d+.5*y;t.moveTo(i+mt*Math.cos($t),n+mt*Math.sin($t))}else if(!0!==qe?.isValid()&&!0!==Ut?.isValid()){const Je=d+y/2,mt=h*Math.cos(Je),$t=h*Math.sin(Je);t.moveTo(i+mt,n+$t)}if(!0===Kt?.isValid()){const{cx:Je,cy:mt,r:$t,a0:Di,a1:an}=Kt;t.arc(i+Je,n+mt,$t,Di,an)}if(Ot.isValid()){const{r:Je,a0:mt,a1:$t}=Ot;t.arc(i,n,Je,mt,$t)}if(!0===_n?.isValid()){const{cx:Je,cy:mt,r:$t,a0:Di,a1:an}=_n;t.arc(i+Je,n+mt,$t,Di,an)}if(!V){if(!0===Ne?.isValid()){const{cx:Je,cy:mt,r:$t,a0:Di,a1:an}=Ne;t.arc(i+Je,n+mt,$t,Di,an)}if(!0===Ut?.isValid()){const{r:Je,a0:mt,a1:$t}=Ut;t.arc(i,n,Je,$t,mt,!0)}if(!0===qe?.isValid()){const{cx:Je,cy:mt,r:$t,a0:Di,a1:an}=qe;t.arc(i+Je,n+mt,$t,Di,an)}}t.closePath()}isPointInPath(e,t){const{startAngle:i,endAngle:n,innerRadius:r,outerRadius:s}=this.clipSector??this;return ZR(e-this.centerX,t-this.centerY,{startAngle:i,endAngle:n,innerRadius:Math.min(r,s),outerRadius:Math.max(r,s)})}};Jo.className="Sector",E([mi()],Jo.prototype,"centerX",2),E([mi()],Jo.prototype,"centerY",2),E([mi()],Jo.prototype,"innerRadius",2),E([mi()],Jo.prototype,"outerRadius",2),E([mi()],Jo.prototype,"startAngle",2),E([mi()],Jo.prototype,"endAngle",2),E([mi()],Jo.prototype,"clipSector",2),E([mi()],Jo.prototype,"concentricEdgeInset",2),E([mi()],Jo.prototype,"radialEdgeInset",2),E([mi()],Jo.prototype,"startOuterCornerRadius",2),E([mi()],Jo.prototype,"endOuterCornerRadius",2),E([mi()],Jo.prototype,"startInnerCornerRadius",2),E([mi()],Jo.prototype,"endInnerCornerRadius",2);var mo={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Uu={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},Bre=class extends yr{constructor(){super(...arguments),this.showInLegend=!1}};E([L(Jt)],Bre.prototype,"showInLegend",2);var F6=class extends po{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};E([L(et)],F6.prototype,"text",2),E([L(ar)],F6.prototype,"spacing",2);var O6=class extends Fi{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};E([L(On)],O6.prototype,"fill",2),E([L(hn)],O6.prototype,"fillOpacity",2);var A_=class extends po{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};E([L(st)],A_.prototype,"offset",2),E([L(kg)],A_.prototype,"minAngle",2),E([L(st)],A_.prototype,"minSpacing",2),E([L(st)],A_.prototype,"maxCollisionOffset",2),E([L(Jt)],A_.prototype,"avoidCollisions",2);var L6=class extends po{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};E([L(ar)],L6.prototype,"positionOffset",2),E([L(hn)],L6.prototype,"positionRatio",2);var ek=class extends Fi{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};E([L(sd,{optional:!0})],ek.prototype,"colors",2),E([L(st)],ek.prototype,"length",2),E([L(st)],ek.prototype,"strokeWidth",2);var rn=class extends wc{constructor(){super(...arguments),this.fills=Object.values(mo),this.strokes=Object.values(Uu),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new nR(F6),this.title=new Bre,this.innerCircle=new O6,this.shadow=new Zd,this.calloutLabel=new A_,this.sectorLabel=new L6,this.calloutLine=new ek,this.tooltip=new Ja}isValid(){const e=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(Xe.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};function Rv(e,t,i,n){const r=[i.convert(0),i.convert(1)],s=[n.convert(0),n.convert(1)],o=Math.PI/-2+ya(t),a=e?"initial":"update";return{nodes:{toFn:(m,y,_,{prevLive:x})=>{let{startAngle:D,endAngle:M,innerRadius:k,outerRadius:V}=y;const{stroke:H,fill:F}=y.sectorFormat;if("removed"===_&&x?(D=x.datum?.endAngle,M=x.datum?.endAngle):"removed"===_&&!x&&(D=o,M=o),"removed"===_){const P=(({radius:m})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*m}))(y);k=P.innerRadius,V=P.outerRadius}return{startAngle:D,endAngle:M,outerRadius:V,innerRadius:k,stroke:H,fill:F}},fromFn:(m,y,_,{prevFromProps:x})=>{let{startAngle:D,endAngle:M,innerRadius:k,outerRadius:V}=m,{fill:H,stroke:F}=y.sectorFormat;if("unknown"===_||"added"===_&&!x?(D=o,M=o,k=y.innerRadius,V=y.outerRadius):"added"===_&&x&&(D=x.endAngle??o,M=x.endAngle??o,k=x.innerRadius??y.innerRadius,V=x.outerRadius??y.outerRadius),"added"===_&&!e){const P=(({radius:m})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*m}))(y);k=P.innerRadius,V=P.outerRadius}return"updated"===_&&(H=m.fill??H,F=m.stroke??F),{startAngle:D,endAngle:M,innerRadius:k,outerRadius:V,fill:H,stroke:F,phase:a}}},innerCircle:{fromFn:(m,y)=>({size:m.previousDatum?.radius??m.size??0,phase:a}),toFn:(m,y)=>({size:y.radius??0})}}}function N6(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function V6(e,t){const i=t.y-e.centerY,n=t.x-e.centerX,r=Math.atan2(i,n),s=e.getItemNodes();for(const o of s)if(!0!==o.datum.missing&&cd(r,o.startAngle,o.endAngle)){const a=Math.sqrt(n*n+i*i);let l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}E([L(et)],rn.prototype,"angleKey",2),E([L(et,{optional:!0})],rn.prototype,"angleName",2),E([L(et,{optional:!0})],rn.prototype,"angleFilterKey",2),E([L(et,{optional:!0})],rn.prototype,"radiusKey",2),E([L(et,{optional:!0})],rn.prototype,"radiusName",2),E([L(st,{optional:!0})],rn.prototype,"radiusMin",2),E([L(st,{optional:!0})],rn.prototype,"radiusMax",2),E([L(et,{optional:!0})],rn.prototype,"calloutLabelKey",2),E([L(et,{optional:!0})],rn.prototype,"calloutLabelName",2),E([L(et,{optional:!0})],rn.prototype,"sectorLabelKey",2),E([L(et,{optional:!0})],rn.prototype,"sectorLabelName",2),E([L(et,{optional:!0})],rn.prototype,"legendItemKey",2),E([L(sd)],rn.prototype,"fills",2),E([L(sd)],rn.prototype,"strokes",2),E([L(hn)],rn.prototype,"fillOpacity",2),E([L(hn)],rn.prototype,"strokeOpacity",2),E([L(np)],rn.prototype,"lineDash",2),E([L(st)],rn.prototype,"lineDashOffset",2),E([L(st)],rn.prototype,"cornerRadius",2),E([L(Hl,{optional:!0})],rn.prototype,"itemStyler",2),E([L(kg)],rn.prototype,"rotation",2),E([L(ar)],rn.prototype,"outerRadiusOffset",2),E([L(hn)],rn.prototype,"outerRadiusRatio",2),E([L(ar,{optional:!0})],rn.prototype,"innerRadiusOffset",2),E([L(hn,{optional:!0})],rn.prototype,"innerRadiusRatio",2),E([L(st)],rn.prototype,"strokeWidth",2),E([L(ar)],rn.prototype,"sectorSpacing",2),E([L(Fee)],rn.prototype,"innerLabels",2),E([L(Tt)],rn.prototype,"title",2),E([L(Tt)],rn.prototype,"innerCircle",2),E([L(Tt)],rn.prototype,"shadow",2),E([L(Tt)],rn.prototype,"calloutLabel",2),E([L(Tt)],rn.prototype,"sectorLabel",2),E([L(Tt)],rn.prototype,"calloutLine",2),E([L(Tt)],rn.prototype,"tooltip",2);var tk=class extends EB{constructor({useLabelLayer:e=!1,pickModes:t=[1,0],canHaveAxes:i=!1,animationResetFns:n,...r}){super({...r,useLabelLayer:e,pickModes:t,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i}),this.itemGroup=this.contentGroup.appendChild(new Ti),this.nodeData=[],this.itemSelection=$r.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=$r.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=$r.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=$r.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=n,this.animationState=new f1("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}labelFactory(){const e=new ho;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Xs([this.itemSelection,this.highlightSelection],e),t&&Xs([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&Xs([this.highlightSelection],t),i&&Xs([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(void 0!==t)return this.itemSelection.select(i=>i instanceof Ca&&i.datum===t)[0]}},cGe=class extends E1{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},B6=class extends tk{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:N6,label:vp}}),this.properties=new rn,this.phantomNodeData=void 0,this.previousRadiusScale=new pd,this.radiusScale=new pd,this.phantomGroup=this.contentGroup.appendChild(new Ti),this.phantomSelection=$r.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Ti({name:"pieCalloutLabels"})),this.calloutLabelSelection=new $r(this.calloutLabelGroup,Ti),this.backgroundGroup=this.rootGroup.appendChild(new l_({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ti({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ug),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Ug),this.innerLabelsGroup=this.contentGroup.appendChild(new Ti({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ti({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=$r.select(this.innerLabelsGroup,ho),this.innerCircleSelection=$r.select(this.innerCircleGroup,Ug),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=cGe,this.angleScale=new pd,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){return new Jo}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}processData(e){var t=this;return(0,J.A)(function*(){if(null==t.data||!t.properties.isValid())return;let{data:i}=t;const{visible:n,seriesItemEnabled:r}=t,{angleKey:s,angleFilterKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d}=t.properties,u=!t.ctx.animationManager.isSkipped(),h=[],g=[];d?h.push(qd(d,"band",{id:"legendItemKey"})):l?h.push(qd(l,"band",{id:"calloutLabelKey"})):c&&h.push(qd(c,"band",{id:"sectorLabelKey"}));const m=t.radiusScale.type,y=t.radiusScale.type;a&&g.push(r6(a,{id:"radiusValue",min:t.properties.radiusMin??0,max:t.properties.radiusMax}),Vi(a,m,{id:"radiusRaw"}),Tv("radiusValue",[0,1],1,t.properties.radiusMin??0,t.properties.radiusMax)),l&&g.push(Vi(l,"band",{id:"calloutLabelValue"})),c&&g.push(Vi(c,"band",{id:"sectorLabelValue"})),d&&g.push(Vi(d,"band",{id:"legendItemValue"})),o&&g.push(V1(o,y,{id:"angleFilterValue",onlyPositive:!0}),Vi(o,y,{id:"angleFilterRaw"}),Tv("angleFilterValue",[0,1],0,0)),u&&t.processedData&&h.length>0&&g.push(E_(t.processedData)),g.push(M_()),i=i.map((_,x)=>n&&r[x]?_:{..._,[s]:0}),yield t.requestDataModel(e,i,{props:[...h,V1(s,y,{id:"angleValue",onlyPositive:!0}),Vi(s,y,{id:"angleRaw"}),Tv("angleValue",[0,1],0,0),...g]});for(const _ of t.processedData?.defs?.values??[]){const{id:x,missing:D,property:M}=_,k=dB(t,D);"angleRaw"!==x&&k>0&&Xe.warnOnce(`no value was found for the key '${String(M)}' on ${k} data element${k>1?"s":""}`)}t.animationState.transition("updateData")})()}maybeRefreshNodeData(){var e=this;return(0,J.A)(function*(){if(!e.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:i}=(yield e.createNodeData())??{};e.nodeData=t,e.phantomNodeData=i,e.nodeDataRefresh=!1})()}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:e.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}createNodeData(){var e=this;return(0,J.A)(function*(){const{id:t,processedData:i,dataModel:n,angleScale:r}=e,{rotation:s,innerRadiusRatio:o}=e.properties;if(!e.properties.isValid())return e.zerosumOuterRing.visible=!0,e.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!i||!n||"ungrouped"!==i.type)return;const{angleIdx:a,angleRawIdx:l,angleFilterIdx:c,angleFilterRawIdx:d,radiusIdx:u,radiusRawIdx:h,calloutLabelIdx:g,sectorLabelIdx:m,legendItemIdx:y}=e.getProcessedDataIndexes(n),_=null!=d&&i.data.some(({values:V})=>V[d]>V[l]);let x=0,D=0;const M=[],k=null!=d?[]:void 0;return i.data.forEach((V,H)=>{const{datum:F,values:P}=V,G=_?P[c]:P[a],Y=null==d||_?1:Math.sqrt(P[d]/P[l]),q=r.convert(x)+ya(s);x=G,D+=G;const ee=r.convert(x)+ya(s),K=Math.abs(ee-q),gt=q+K/2,jt=P[l],$e=(null!=u?P[u]??1:1)*Y,Ke=null!=h?P[h]:void 0,dt=null!=y?P[y]:void 0,Ot=e.getLabels(F,gt,K,!0,null!=g?P[g]:void 0,null!=m?P[m]:void 0,dt),qt=e.getSectorFormat(F,H,!1),Vt={itemId:H,series:e,datum:F,index:H,angleValue:jt,midAngle:gt,midCos:Math.cos(gt),midSin:Math.sin(gt),startAngle:q,endAngle:ee,radius:$e,innerRadius:Math.max(e.radiusScale.convert(0),0),outerRadius:Math.max(e.radiusScale.convert($e),0),sectorFormat:qt,radiusValue:Ke,legendItemValue:dt,enabled:e.seriesItemEnabled[H],focusable:!0,...Ot};M.push(Vt),k?.push({...Vt,radius:1,innerRadius:Math.max(e.radiusScale.convert(0),0),outerRadius:Math.max(e.radiusScale.convert(1),0),focusable:!1})}),e.zerosumOuterRing.visible=0===D,e.zerosumInnerRing.visible=0===D&&null!=o&&1!==o&&o>0,{itemId:t,nodeData:M,labelData:M,phantomNodeData:k}})()}getLabels(e,t,i,n,r,s,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},g={};return d&&i>ya(a.minAngle)&&(g.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...h,value:r}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(g.sectorLabel={text:this.getLabelText(l,{...h,value:s})}),null!=c&&null!=o&&(g.legendItem={key:c,text:o}),g}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=u1(e),n=-.75*Math.PI;return t[WT(Math.floor((i-n)/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:r,radiusKey:s,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[t%d.length],{fill:g,fillOpacity:m,stroke:y,strokeWidth:_,strokeOpacity:x,lineDash:D,lineDashOffset:M,cornerRadius:k}=$i(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let V;return u&&(V=n.call(u,{datum:e,angleKey:r,radiusKey:s,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l,fill:g,fillOpacity:m,stroke:y,strokeWidth:_,strokeOpacity:x,lineDash:D,lineDashOffset:M,cornerRadius:k,highlighted:i,seriesId:this.id})),{fill:V?.fill??g,fillOpacity:V?.fillOpacity??m,stroke:V?.stroke??y,strokeWidth:V?.strokeWidth??_,strokeOpacity:V?.strokeOpacity??x,lineDash:V?.lineDash??D,lineDashOffset:V?.lineDashOffset??M,cornerRadius:V?.cornerRadius??k}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,n=e*t+i;return n===e||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=n=>({...n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-(2+(this.properties.title?.spacing??0))-Math.max(0,-e)}update({seriesRect:e}){var t=this;return(0,J.A)(function*(){const{title:i}=t.properties,n={seriesRectWidth:e?.width,seriesRectHeight:e?.height},r=null!=dd(t.nodeDataDependencies,n);if(r&&(t._nodeDataDependencies=n),yield t.maybeRefreshNodeData(),t.updateTitleNodes(),t.updateRadiusScale(r),t.contentGroup.translationX=t.centerX,t.contentGroup.translationY=t.centerY,t.highlightGroup.translationX=t.centerX,t.highlightGroup.translationY=t.centerY,t.backgroundGroup.translationX=t.centerX,t.backgroundGroup.translationY=t.centerY,t.labelGroup&&(t.labelGroup.translationX=t.centerX,t.labelGroup.translationY=t.centerY),i){const s=t.getTitleTranslationY();i.node.y=isFinite(s)?s:0;const o=i.node.getBBox();i.node.visible=i.enabled&&isFinite(s)&&!t.bboxIntersectsSurroundingSeries(o)}for(const s of[t.zerosumInnerRing,t.zerosumOuterRing])s.fillOpacity=0,s.stroke=t.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;t.updateNodeMidPoint(),yield t.updateSelections(),yield t.updateNodes(e)})()}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=t=>{const i=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,i),y:t.midSin*Math.max(0,i)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}updateSelections(){var e=this;return(0,J.A)(function*(){yield e.updateGroupSelection(),e.updateInnerCircleSelection()})()}updateGroupSelection(){var e=this;return(0,J.A)(function*(){const{itemSelection:t,highlightSelection:i,phantomSelection:n,highlightLabelSelection:r,calloutLabelSelection:s,labelSelection:o,innerLabelsSelection:a}=e,l=e.nodeData.map(d=>({...d,sectorFormat:{...d.sectorFormat}})),c=(d,u)=>{d.update(u,void 0,h=>e.getDatumId(h)),e.ctx.animationManager.isSkipped()&&d.cleanup()};c(t,e.nodeData),c(i,l),c(n,e.phantomNodeData??[]),s.update(e.calloutNodeData,d=>{const u=new Ul;u.tag=0,u.pointerEvents=1,d.appendChild(u);const h=new ho;h.tag=1,h.pointerEvents=1,d.appendChild(h)}),o.update(e.nodeData),r.update(l),a.update(e.properties.innerLabels,d=>{d.pointerEvents=1})})()}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const r=Math.min(i,this.getOuterRadius());t=Math.ceil(2*r+1)}this.innerCircleSelection.update(e?[{radius:t}]:[])}updateNodes(e){var t=this;return(0,J.A)(function*(){const i=t.ctx.highlightManager.getActiveHighlight(),n=t.visible&&t.seriesItemEnabled.includes(!0);t.rootGroup.visible=n,t.backgroundGroup.visible=n,t.contentGroup.visible=n,t.highlightGroup.visible=n&&i?.series===t,t.highlightLabel.visible=n&&i?.series===t,t.labelGroup.visible=n,t.contentGroup.opacity=t.getOpacity(),t.innerCircleSelection.each((o,{radius:a})=>{o.setProperties({fill:t.properties.innerCircle?.fill,opacity:t.properties.innerCircle?.fillOpacity,size:a})});const r=t.ctx.animationManager.isSkipped(),s=(o,a,l,c)=>{const d=t.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=d.fill,a.sectorFormat.stroke=d.stroke,r&&(o.startAngle=a.startAngle,o.endAngle=a.endAngle,o.innerRadius=a.innerRadius,o.outerRadius=a.outerRadius),(c||r)&&(o.fill=d.fill,o.stroke=d.stroke),o.strokeWidth=d.strokeWidth,o.fillOpacity=d.fillOpacity,o.strokeOpacity=d.strokeOpacity,o.lineDash=d.lineDash,o.lineDashOffset=d.lineDashOffset,o.cornerRadius=d.cornerRadius,o.fillShadow=t.properties.shadow;const u=Math.max((t.properties.sectorSpacing+(null!=d.stroke?d.strokeWidth:0))/2,0);o.inset=u,o.lineJoin=t.properties.sectorSpacing>=0||u>0?"miter":"round"};t.itemSelection.each((o,a,l)=>s(o,a,0,!1)),t.highlightSelection.each((o,a,l)=>{s(o,a,0,!0),o.visible=a.itemId===i?.itemId}),t.phantomSelection.each((o,a,l)=>s(o,a,0,!1)),t.updateCalloutLineNodes(),t.updateCalloutLabelNodes(e),t.updateSectorLabelNodes(),t.updateInnerLabelNodes(),t.updateZerosumRings(),t.animationState.transition("update")})()}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((s,o)=>{const a=s.datum,{calloutLabel:l,outerRadius:c}=a;if(l?.text&&!l.hidden&&0!==c){s.visible=!0,s.strokeWidth=i,s.stroke=n[o%n.length],s.fill=void 0;const d=a.midCos*c,u=a.midSin*c;let h=a.midCos*(c+t),g=a.midSin*(c+t);if((l.collisionTextAlign??0!==l.collisionOffsetY)&&null!=l.box){const y=l.box;let _=h,x=g;h<y.x?_=y.x:h>y.x+y.width&&(_=y.x+y.width),g<y.y?x=y.y:g>y.y+y.height&&(x=y.y+y.height);const D=_-h,M=x-g,k=Math.sqrt(Math.pow(D,2)+Math.pow(M,2)),V=k-r;V>0&&(h+=D*V/k,g+=M*V/k)}s.x1=d,s.y1=u,s.x2=h,s.y2=g}else s.visible=!1})}getLabelOverflow(e,t,i){const n=i.x-this.centerX,r=i.x+i.width-this.centerX;let l=1;t.x+1<n?l=(t.x+t.width-n)/t.width:t.x+t.width-1>r&&(l=(r-t.x)/t.width);const c=t.y+1<i.y-this.centerY||t.y+t.height-1>i.y+i.height-this.centerY;return{textLength:1===l?e.length:Math.floor(e.length*l)-1,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(null==t)return!1;const n=t**2;return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}].some(r=>r.x**2+r.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:r}=t,s=e.convert(0),a=this.calloutNodeData,l=a.filter(x=>!(x=>!x.calloutLabel||0===x.outerRadius)(x));if(l.forEach(x=>{const D=x.calloutLabel;null!=D&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(x=>x.midCos<0).sort((x,D)=>x.midSin-D.midSin),d=l.filter(x=>x.midCos>=0).sort((x,D)=>x.midSin-D.midSin),u=l.filter(x=>x.midSin<0&&"center"===x.calloutLabel?.textAlign).sort((x,D)=>x.midCos-D.midCos),h=l.filter(x=>x.midSin>=0&&"center"===x.calloutLabel?.textAlign).sort((x,D)=>x.midCos-D.midCos),g=x=>{const D=x.calloutLabel;if(null==D)return It.zero.clone();const M=x.outerRadius+i.length+n;return ho.computeBBox(D.text,x.midCos*M,x.midSin*M+D.collisionOffsetY,{font:this.properties.calloutLabel,textAlign:D.collisionTextAlign??D.textAlign,textBaseline:D.textBaseline})},m=(x,D,M)=>{const k=g(x).grow(r/2),V=g(D).grow(r/2);k.x<V.x+V.width&&k.x+k.width>V.x&&("to-top"===M?k.y<V.y+V.height:k.y+k.height>V.y)&&(D.calloutLabel.collisionOffsetY="to-top"===M?k.y-V.y-V.height:k.y+k.height-V.y)},y=x=>{const D=x.slice().sort((k,V)=>Math.abs(k.midSin)-Math.abs(V.midSin))[0],M=x.indexOf(D);for(let k=M-1;k>=0;k--)m(x[k+1],x[k],"to-top");for(let k=M+1;k<x.length;k++)m(x[k-1],x[k],"to-bottom")},_=x=>{const D=l.some(P=>0!==P.calloutLabel.collisionOffsetY),M=x.map(P=>g(P)),k=M.map(P=>P.clone().grow(r/2));let V=!1;for(let P=0;P<k.length&&!V;P++){const G=k[P];for(let Y=P+1;Y<x.length;Y++)if(G.collidesBBox(k[Y])){V=!0;break}}const H=a.map(P=>{const{startAngle:G,endAngle:Y,outerRadius:q}=P;return{startAngle:G,endAngle:Y,innerRadius:s,outerRadius:q}}),F=M.some(P=>H.some(G=>Nre(P,G)));!V&&!D&&!F||x.filter(P=>"center"===P.calloutLabel.textAlign).forEach(P=>{P.calloutLabel.collisionTextAlign=P.midCos<0?"right":P.midCos>0?"left":"center"})};y(c),y(d),_(u),_(h)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,r=n.length,{offset:s,color:o}=i,a=new ho;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,d=c.calloutLabel,u=t.convert(c.radius),h=Math.max(0,u);if(!d?.text||0===h||d.hidden)return void(l.visible=!1);const g=h+r+s,m=c.midCos*g,y=c.midSin*g+d.collisionOffsetY,_={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=m,a.y=y,a.setFont(this.properties.calloutLabel),a.setAlign(_);const x=a.getBBox();let D=d.text,M=!0;if(i.avoidCollisions){const{textLength:k,hasVerticalOverflow:V}=this.getLabelOverflow(d.text,x,e);D=d.text.length===k?d.text:`${d.text.substring(0,k)}\u2026`,M=!V}l.text=D,l.x=m,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(_),l.fill=o,l.visible=M})}computeLabelsBBox(e,t){var i=this;return(0,J.A)(function*(){const{calloutLabel:n,calloutLine:r}=i.properties,s=r.length,{offset:o,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;yield i.maybeRefreshNodeData(),i.updateRadiusScale(!1),i.computeCalloutLabelCollisionOffsets();const c=[],d=new ho;let u;const{title:h}=i.properties;if(h?.text&&h.enabled){const g=i.getTitleTranslationY();isFinite(g)&&(d.text=h.text,d.x=0,d.y=g,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(),c.push(u))}return i.calloutNodeData.forEach(g=>{const m=g.calloutLabel;if(!m||0===g.outerRadius)return null;const y=g.outerRadius+s+o,_=g.midCos*y,x=g.midSin*y+m.collisionOffsetY;d.text=m.text,d.x=_,d.y=x,d.setFont(i.properties.calloutLabel),d.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline});const D=d.getBBox();if(m.box=D,Math.abs(m.collisionOffsetY)>a)m.hidden=!0;else{if(u){const M=t.y-i.centerY,k=new It(u.x-l,M,u.width+2*l,u.y+u.height+l-M);if(D.collidesBBox(k))return void(m.hidden=!0)}if(e.hideWhenNecessary){const{textLength:M,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:V}=i.getLabelOverflow(m.text,D,t);if(k||m.text.length>2&&M<2||V)return void(m.hidden=!0)}m.hidden=!1,c.push(D)}}),0===c.length?null:It.merge(c)})()}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:r,fontFamily:s,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,c=(d,u)=>{const{sectorLabel:h,outerRadius:g}=u;let m=!1;if(h&&0!==g){const y=t*(1-a)+g*a+o;d.fill=l,d.fontStyle=n,d.fontWeight=r,d.fontSize=i,d.fontFamily=s,d.text=h.text,d.x=u.midCos*y,d.y=u.midSin*y,d.textAlign="center",d.textBaseline="middle";const _=d.getBBox(),x=[[_.x,_.y],[_.x+_.width,_.y],[_.x+_.width,_.y+_.height],[_.x,_.y+_.height]],{startAngle:D,endAngle:M}=u,k={startAngle:D,endAngle:M,innerRadius:t,outerRadius:g};x.every(([V,H])=>ZR(V,H,k))&&(m=!0)}d.visible=m};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((d,u)=>{const{fontStyle:h,fontWeight:g,fontSize:m,fontFamily:y,color:_}=u;d.fontStyle=h,d.fontWeight=g,d.fontSize=m,d.fontFamily=y,d.text=u.text,d.x=0,d.y=0,d.fill=_,d.textAlign="center",d.textBaseline="alphabetic",e.push(d.getBBox()),t.push(u.spacing)});const i=d=>0===d?0:t[d],n=d=>d===t.length-1?0:t[d],r=e.reduce((d,u,h)=>d+u.height+i(h)+n(h),0),s=Math.max(...e.map(d=>d.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(s/2,2)+Math.pow(r/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let d=0,u=-r/2;d<e.length;d++){const g=e[d].height+u+i(d);c.push(g),u=g+n(d)}this.innerLabelsSelection.each((d,u,h)=>{d.y=c[h],d.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:r}=this.properties,{sectorLabel:s,calloutLabel:o,legendItem:a}=e;return r&&void 0!==a?a.text:i&&i!==t&&void 0!==o?.text?o.text:n&&n!==t&&void 0!==s?.text?s.text:void 0}pickNodeClosestDatum(e){return V6(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return op;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:r}=e,s=Kr(this.properties.title?.text),o=nn(i)?UT(i):String(i),a=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??a,content:s&&a?`${a}: ${o}`:o,backgroundColor:n},{datum:t,itemId:r,title:s,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){const{visible:t,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||!this.properties.isValid()||"category"!==e)return[];const{angleKey:r,calloutLabelKey:s,sectorLabelKey:o,legendItemKey:a}=this.properties;if(!(a||s&&s!==r||o&&o!==r))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,h=[];for(let g=0;g<i.data.length;g++){const{datum:m,values:y}=i.data[g],_=[];u&&_.push(u);const x=this.getLabels(m,2*Math.PI,2*Math.PI,!1,null!=l?y[l]:void 0,null!=c?y[c]:void 0,null!=d?y[d]:void 0);if(a&&void 0!==x.legendItem?_.push(x.legendItem.text):s&&s!==r&&void 0!==x.calloutLabel?.text?_.push(x.calloutLabel?.text):o&&o!==r&&void 0!==x.sectorLabel?.text&&_.push(x.sectorLabel?.text),0===_.length)continue;const D=this.getSectorFormat(m,g,!1);h.push({legendType:"category",id:this.id,itemId:g,seriesId:this.id,enabled:t&&this.legendItemEnabled[g],label:{text:_.join(" - ")},symbols:[{marker:{fill:D.fill,stroke:D.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=a?m[a]:void 0})}return h}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:r}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=r&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:n},r)=>{n[i]===e&&this.toggleSeriesItem(r,t)})}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Rv(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);_s(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,r)=>this.getDatumId(r)),_s(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),gn(this,"callout",t,this.calloutLabelSelection),gn(this,"sector",t,this.labelSelection),gn(this,"highlight",t,this.highlightLabelSelection),gn(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:r,previousRadiusScale:s}=this,{animationManager:o}=this.ctx,a=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id),(0!==(a?.moved.size??0)||!((n?.defs.keys.length??0)>0)||!(n?.reduced?.animationValidation?.uniqueKeys??1))&&this.ctx.animationManager.skipCurrentBatch();const u=Rv(!1,this.properties.rotation,r,s);_s(this.id,"nodes",o,[e,t,i],u.nodes,(h,g)=>this.getDatumId(g),a),_s(this.id,"innerCircle",o,[this.innerCircleSelection],u.innerCircle),gn(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),gn(this,"sector",this.ctx.animationManager,this.labelSelection),gn(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),gn(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:r}=this,{animationManager:s}=this.ctx,o=Rv(!1,this.properties.rotation,n,r);_s(this.id,"nodes",s,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l)),_s(this.id,"innerCircle",s,[this.innerCircleSelection],o.innerCircle),ef(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ef(this,"sector",this.ctx.animationManager,this.labelSelection),ef(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),ef(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(n)return e[n];if(t)return e[t];if(i)return e[i]}}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t,legendItemEnabled:i}=this;this.seriesItemEnabled=e?.map((n,r)=>t[r]??!0)??[],this.legendItemEnabled=e?.map((n,r)=>i[r]??!0)??[]}};B6.className="DonutSeries",B6.type="donut";var uGe={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Ts,color:Mv,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Ts,color:To,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Ts,color:Dv,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ev,xOffset:3,yOffset:3,blur:5}}},zre=({takeColors:e,colorsCount:t})=>{const{fills:i,strokes:n}=e(t);return{fills:i,strokes:n,calloutLine:{colors:n}}},hGe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new B6(e),tooltipDefaults:{range:"exact"},themeTemplate:{series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Ts,color:Mv,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Ts,color:To,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Ts,color:Dv,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ev,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:Ts,color:To,spacing:2}}},paletteFactory:zre},Gre=class extends yr{constructor(){super(...arguments),this.showInLegend=!1}};E([L(Jt)],Gre.prototype,"showInLegend",2);var T_=class extends po{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};E([L(st)],T_.prototype,"offset",2),E([L(kg)],T_.prototype,"minAngle",2),E([L(st)],T_.prototype,"minSpacing",2),E([L(st)],T_.prototype,"maxCollisionOffset",2),E([L(Jt)],T_.prototype,"avoidCollisions",2);var z6=class extends po{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};E([L(ar)],z6.prototype,"positionOffset",2),E([L(hn)],z6.prototype,"positionRatio",2);var ik=class extends Fi{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};E([L(sd,{optional:!0})],ik.prototype,"colors",2),E([L(st)],ik.prototype,"length",2),E([L(st)],ik.prototype,"strokeWidth",2);var bn=class extends wc{constructor(){super(...arguments),this.fills=Object.values(mo),this.strokes=Object.values(Uu),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new Gre,this.shadow=new Zd,this.calloutLabel=new T_,this.sectorLabel=new z6,this.calloutLine=new ik,this.tooltip=new Ja}};E([L(et)],bn.prototype,"angleKey",2),E([L(et,{optional:!0})],bn.prototype,"angleName",2),E([L(et,{optional:!0})],bn.prototype,"angleFilterKey",2),E([L(et,{optional:!0})],bn.prototype,"radiusKey",2),E([L(et,{optional:!0})],bn.prototype,"radiusName",2),E([L(st,{optional:!0})],bn.prototype,"radiusMin",2),E([L(st,{optional:!0})],bn.prototype,"radiusMax",2),E([L(et,{optional:!0})],bn.prototype,"calloutLabelKey",2),E([L(et,{optional:!0})],bn.prototype,"calloutLabelName",2),E([L(et,{optional:!0})],bn.prototype,"sectorLabelKey",2),E([L(et,{optional:!0})],bn.prototype,"sectorLabelName",2),E([L(et,{optional:!0})],bn.prototype,"legendItemKey",2),E([L(sd)],bn.prototype,"fills",2),E([L(sd)],bn.prototype,"strokes",2),E([L(hn)],bn.prototype,"fillOpacity",2),E([L(hn)],bn.prototype,"strokeOpacity",2),E([L(np)],bn.prototype,"lineDash",2),E([L(st)],bn.prototype,"lineDashOffset",2),E([L(st)],bn.prototype,"cornerRadius",2),E([L(Hl,{optional:!0})],bn.prototype,"itemStyler",2),E([L(kg)],bn.prototype,"rotation",2),E([L(ar)],bn.prototype,"outerRadiusOffset",2),E([L(hn)],bn.prototype,"outerRadiusRatio",2),E([L(st)],bn.prototype,"strokeWidth",2),E([L(ar)],bn.prototype,"sectorSpacing",2),E([L(Tt)],bn.prototype,"title",2),E([L(Tt)],bn.prototype,"shadow",2),E([L(Tt)],bn.prototype,"calloutLabel",2),E([L(Tt)],bn.prototype,"sectorLabel",2),E([L(Tt)],bn.prototype,"calloutLine",2),E([L(Tt)],bn.prototype,"tooltip",2);var pGe=class extends E1{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},G6=class extends tk{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:N6,label:vp}}),this.properties=new bn,this.phantomNodeData=void 0,this.previousRadiusScale=new pd,this.radiusScale=new pd,this.phantomGroup=this.contentGroup.appendChild(new Ti),this.phantomSelection=$r.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Ti({name:"pieCalloutLabels"})),this.calloutLabelSelection=new $r(this.calloutLabelGroup,Ti),this.backgroundGroup=this.rootGroup.appendChild(new l_({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ti({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ug),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=pGe,this.angleScale=new pd,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){const e=new Jo;return e.miterLimit=1e9,e}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}processData(e){var t=this;return(0,J.A)(function*(){if(null==t.data||!t.properties.isValid())return;let{data:i}=t;const{visible:n,seriesItemEnabled:r}=t,{angleKey:s,angleFilterKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d}=t.properties,u=!t.ctx.animationManager.isSkipped(),h=[],g=[];d?h.push(qd(d,"band",{id:"legendItemKey"})):l?h.push(qd(l,"band",{id:"calloutLabelKey"})):c&&h.push(qd(c,"band",{id:"sectorLabelKey"}));const m=t.radiusScale.type,y=t.radiusScale.type;a&&g.push(r6(a,{id:"radiusValue",min:t.properties.radiusMin??0,max:t.properties.radiusMax}),Vi(a,m,{id:"radiusRaw"}),Tv("radiusValue",[0,1],1,t.properties.radiusMin??0,t.properties.radiusMax)),l&&g.push(Vi(l,"band",{id:"calloutLabelValue"})),c&&g.push(Vi(c,"band",{id:"sectorLabelValue"})),d&&g.push(Vi(d,"band",{id:"legendItemValue"})),o&&g.push(V1(o,y,{id:"angleFilterValue",onlyPositive:!0}),Vi(o,y,{id:"angleFilterRaw"}),Tv("angleFilterValue",[0,1],0,0)),u&&t.processedData?.reduced?.animationValidation?.uniqueKeys&&h.length>0&&g.push(E_(t.processedData)),g.push(M_()),i=i.map((_,x)=>n&&r[x]?_:{..._,[s]:0}),yield t.requestDataModel(e,i,{props:[...h,V1(s,y,{id:"angleValue",onlyPositive:!0}),Vi(s,y,{id:"angleRaw"}),Tv("angleValue",[0,1],0,0),...g]});for(const _ of t.processedData?.defs?.values??[]){const{id:x,missing:D,property:M}=_,k=dB(t,D);"angleRaw"!==x&&k>0&&Xe.warnOnce(`no value was found for the key '${String(M)}' on ${k} data element${k>1?"s":""}`)}t.animationState.transition("updateData")})()}maybeRefreshNodeData(){var e=this;return(0,J.A)(function*(){if(!e.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:i}=(yield e.createNodeData())??{};e.nodeData=t,e.phantomNodeData=i,e.nodeDataRefresh=!1})()}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:e.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}createNodeData(){var e=this;return(0,J.A)(function*(){const{id:t,processedData:i,dataModel:n,angleScale:r}=e,{rotation:s}=e.properties;if(!i||!n||"ungrouped"!==i.type)return;const{angleIdx:o,angleRawIdx:a,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:d,radiusRawIdx:u,calloutLabelIdx:h,sectorLabelIdx:g,legendItemIdx:m}=e.getProcessedDataIndexes(n),y=null!=c&&i.data.some(({values:k})=>k[c]>k[a]);let _=0,x=0;const D=[],M=null!=c?[]:void 0;return i.data.forEach((k,V)=>{const{datum:H,values:F}=k,P=y?F[l]:F[o],G=null==c||y?1:Math.sqrt(F[c]/F[a]),Y=r.convert(_)+ya(s);_=P,x+=P;const q=r.convert(_)+ya(s),ee=Math.abs(q-Y),K=Y+ee/2,gt=F[a],Fe=(null!=d?F[d]??1:1)*G,$e=null!=u?F[u]:void 0,Ke=null!=m?F[m]:void 0,dt=e.getLabels(H,K,ee,!0,null!=h?F[h]:void 0,null!=g?F[g]:void 0,Ke),Ot=e.getSectorFormat(H,V,!1),qt={itemId:V,series:e,datum:H,index:V,angleValue:gt,midAngle:K,midCos:Math.cos(K),midSin:Math.sin(K),startAngle:Y,endAngle:q,radius:Fe,innerRadius:Math.max(e.radiusScale.convert(0),0),outerRadius:Math.max(e.radiusScale.convert(Fe),0),sectorFormat:Ot,radiusValue:$e,legendItemValue:Ke,enabled:e.seriesItemEnabled[V],...dt};D.push(qt),M?.push({...qt,radius:1,innerRadius:Math.max(e.radiusScale.convert(0),0),outerRadius:Math.max(e.radiusScale.convert(1),0)})}),e.zerosumOuterRing.visible=0===x,{itemId:t,nodeData:D,labelData:D,phantomNodeData:M}})()}getLabels(e,t,i,n,r,s,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},g={};return d&&i>ya(a.minAngle)&&(g.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...h,value:r}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(g.sectorLabel={text:this.getLabelText(l,{...h,value:s})}),null!=c&&null!=o&&(g.legendItem={key:c,text:o}),g}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=u1(e),n=-.75*Math.PI;return t[WT(Math.floor((i-n)/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:r,radiusKey:s,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[t%d.length],{fill:g,fillOpacity:m,stroke:y,strokeWidth:_,strokeOpacity:x,lineDash:D,lineDashOffset:M,cornerRadius:k}=$i(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let V;return u&&(V=n.call(u,{datum:e,angleKey:r,radiusKey:s,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l,fill:g,strokeOpacity:x,stroke:y,strokeWidth:_,fillOpacity:m,lineDash:D,lineDashOffset:M,cornerRadius:k,highlighted:i,seriesId:this.id})),{fill:V?.fill??g,fillOpacity:V?.fillOpacity??m,stroke:V?.stroke??y,strokeWidth:V?.strokeWidth??_,strokeOpacity:V?.strokeOpacity??x,lineDash:V?.lineDash??D,lineDashOffset:V?.lineDashOffset??M,cornerRadius:V?.cornerRadius??k}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=n=>({...n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-(2+(this.properties.title?.spacing??0))-Math.max(0,-e)}update({seriesRect:e}){var t=this;return(0,J.A)(function*(){const{title:i}=t.properties,n={seriesRectWidth:e?.width,seriesRectHeight:e?.height},r=null!=dd(t.nodeDataDependencies,n);if(r&&(t._nodeDataDependencies=n),yield t.maybeRefreshNodeData(),t.updateTitleNodes(),t.updateRadiusScale(r),t.contentGroup.translationX=t.centerX,t.contentGroup.translationY=t.centerY,t.highlightGroup.translationX=t.centerX,t.highlightGroup.translationY=t.centerY,t.backgroundGroup.translationX=t.centerX,t.backgroundGroup.translationY=t.centerY,t.labelGroup&&(t.labelGroup.translationX=t.centerX,t.labelGroup.translationY=t.centerY),i){const s=t.getTitleTranslationY();i.node.y=isFinite(s)?s:0;const o=i.node.getBBox();i.node.visible=i.enabled&&isFinite(s)&&!t.bboxIntersectsSurroundingSeries(o)}t.zerosumOuterRing.fillOpacity=0,t.zerosumOuterRing.stroke=t.properties.calloutLabel.color,t.zerosumOuterRing.strokeWidth=1,t.zerosumOuterRing.strokeOpacity=1,t.updateNodeMidPoint(),yield t.updateSelections(),yield t.updateNodes(e)})()}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=t=>{const i=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,i),y:t.midSin*Math.max(0,i)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}updateSelections(){var e=this;return(0,J.A)(function*(){yield e.updateGroupSelection()})()}updateGroupSelection(){var e=this;return(0,J.A)(function*(){const{itemSelection:t,highlightSelection:i,phantomSelection:n,highlightLabelSelection:r,calloutLabelSelection:s,labelSelection:o}=e,a=e.nodeData.map(c=>({...c,sectorFormat:{...c.sectorFormat}})),l=(c,d)=>{c.update(d,void 0,u=>e.getDatumId(u)),e.ctx.animationManager.isSkipped()&&c.cleanup()};l(t,e.nodeData),l(i,a),l(n,e.phantomNodeData??[]),s.update(e.calloutNodeData,c=>{const d=new Ul;d.tag=0,d.pointerEvents=1,c.appendChild(d);const u=new ho;u.tag=1,u.pointerEvents=1,c.appendChild(u)}),o.update(e.nodeData),r.update(a)})()}updateNodes(e){var t=this;return(0,J.A)(function*(){const i=t.ctx.highlightManager.getActiveHighlight(),n=t.visible&&t.seriesItemEnabled.includes(!0);t.rootGroup.visible=n,t.backgroundGroup.visible=n,t.contentGroup.visible=n,t.highlightGroup.visible=n&&i?.series===t,t.highlightLabel.visible=n&&i?.series===t,t.labelGroup&&(t.labelGroup.visible=n),t.contentGroup.opacity=t.getOpacity();const r=t.ctx.animationManager.isSkipped(),s=(o,a,l,c)=>{const d=t.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=d.fill,a.sectorFormat.stroke=d.stroke,r&&(o.startAngle=a.startAngle,o.endAngle=a.endAngle,o.innerRadius=a.innerRadius,o.outerRadius=a.outerRadius),(c||r)&&(o.fill=d.fill,o.stroke=d.stroke),o.strokeWidth=d.strokeWidth,o.fillOpacity=d.fillOpacity,o.strokeOpacity=d.strokeOpacity,o.lineDash=d.lineDash,o.lineDashOffset=d.lineDashOffset,o.cornerRadius=d.cornerRadius,o.fillShadow=t.properties.shadow;const u=Math.max((t.properties.sectorSpacing+(null!=d.stroke?d.strokeWidth:0))/2,0);o.inset=u,o.lineJoin=t.properties.sectorSpacing>=0||u>0?"miter":"round"};t.itemSelection.each((o,a,l)=>s(o,a,0,!1)),t.highlightSelection.each((o,a,l)=>{s(o,a,0,!0),o.visible=a.itemId===i?.itemId}),t.phantomSelection.each((o,a,l)=>s(o,a,0,!1)),t.updateCalloutLineNodes(),t.updateCalloutLabelNodes(e),t.updateSectorLabelNodes(),t.updateZerosumRings(),t.animationState.transition("update")})()}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((s,o)=>{const a=s.datum,{calloutLabel:l,outerRadius:c}=a;if(l?.text&&!l.hidden&&0!==c){s.visible=!0,s.strokeWidth=i,s.stroke=n[o%n.length],s.fill=void 0;const d=a.midCos*c,u=a.midSin*c;let h=a.midCos*(c+t),g=a.midSin*(c+t);if((l.collisionTextAlign??0!==l.collisionOffsetY)&&null!=l.box){const y=l.box;let _=h,x=g;h<y.x?_=y.x:h>y.x+y.width&&(_=y.x+y.width),g<y.y?x=y.y:g>y.y+y.height&&(x=y.y+y.height);const D=_-h,M=x-g,k=Math.sqrt(Math.pow(D,2)+Math.pow(M,2)),V=k-r;V>0&&(h+=D*V/k,g+=M*V/k)}s.x1=d,s.y1=u,s.x2=h,s.y2=g}else s.visible=!1})}getLabelOverflow(e,t,i){const n=i.x-this.centerX,r=i.x+i.width-this.centerX;let l=1;t.x+1<n?l=(t.x+t.width-n)/t.width:t.x+t.width-1>r&&(l=(r-t.x)/t.width);const c=t.y+1<i.y-this.centerY||t.y+t.height-1>i.y+i.height-this.centerY;return{textLength:1===l?e.length:Math.floor(e.length*l)-1,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(null==t)return!1;const n=t**2;return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}].some(r=>r.x**2+r.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:r}=t,s=e.convert(0),a=this.calloutNodeData,l=a.filter(x=>!(x=>!x.calloutLabel||0===x.outerRadius)(x));if(l.forEach(x=>{const D=x.calloutLabel;null!=D&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(x=>x.midCos<0).sort((x,D)=>x.midSin-D.midSin),d=l.filter(x=>x.midCos>=0).sort((x,D)=>x.midSin-D.midSin),u=l.filter(x=>x.midSin<0&&"center"===x.calloutLabel?.textAlign).sort((x,D)=>x.midCos-D.midCos),h=l.filter(x=>x.midSin>=0&&"center"===x.calloutLabel?.textAlign).sort((x,D)=>x.midCos-D.midCos),g=x=>{const D=x.calloutLabel;if(null==D)return It.zero.clone();const M=x.outerRadius+i.length+n;return ho.computeBBox(D.text,x.midCos*M,x.midSin*M+D.collisionOffsetY,{font:this.properties.calloutLabel,textAlign:D.collisionTextAlign??D.textAlign,textBaseline:D.textBaseline})},m=(x,D,M)=>{const k=g(x).grow(r/2),V=g(D).grow(r/2);k.x<V.x+V.width&&k.x+k.width>V.x&&("to-top"===M?k.y<V.y+V.height:k.y+k.height>V.y)&&(D.calloutLabel.collisionOffsetY="to-top"===M?k.y-V.y-V.height:k.y+k.height-V.y)},y=x=>{const D=x.slice().sort((k,V)=>Math.abs(k.midSin)-Math.abs(V.midSin))[0],M=x.indexOf(D);for(let k=M-1;k>=0;k--)m(x[k+1],x[k],"to-top");for(let k=M+1;k<x.length;k++)m(x[k-1],x[k],"to-bottom")},_=x=>{const D=l.some(P=>0!==P.calloutLabel.collisionOffsetY),M=x.map(P=>g(P)),k=M.map(P=>P.clone().grow(r/2));let V=!1;for(let P=0;P<k.length&&!V;P++){const G=k[P];for(let Y=P+1;Y<x.length;Y++)if(G.collidesBBox(k[Y])){V=!0;break}}const H=a.map(P=>{const{startAngle:G,endAngle:Y,outerRadius:q}=P;return{startAngle:G,endAngle:Y,innerRadius:s,outerRadius:q}}),F=M.some(P=>H.some(G=>Nre(P,G)));!V&&!D&&!F||x.filter(P=>"center"===P.calloutLabel.textAlign).forEach(P=>{P.calloutLabel.collisionTextAlign=P.midCos<0?"right":P.midCos>0?"left":"center"})};y(c),y(d),_(u),_(h)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,r=n.length,{offset:s,color:o}=i,a=new ho;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,d=c.calloutLabel,u=t.convert(c.radius),h=Math.max(0,u);if(!d?.text||0===h||d.hidden)return void(l.visible=!1);const g=h+r+s,m=c.midCos*g,y=c.midSin*g+d.collisionOffsetY,_={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=m,a.y=y,a.setFont(this.properties.calloutLabel),a.setAlign(_);const x=a.getBBox();let D=d.text,M=!0;if(i.avoidCollisions){const{textLength:k,hasVerticalOverflow:V}=this.getLabelOverflow(d.text,x,e);D=d.text.length===k?d.text:`${d.text.substring(0,k)}\u2026`,M=!V}l.text=D,l.x=m,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(_),l.fill=o,l.visible=M})}computeLabelsBBox(e,t){var i=this;return(0,J.A)(function*(){const{calloutLabel:n,calloutLine:r}=i.properties,s=r.length,{offset:o,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;yield i.maybeRefreshNodeData(),i.updateRadiusScale(!1),i.computeCalloutLabelCollisionOffsets();const c=[],d=new ho;let u;const{title:h}=i.properties;if(h?.text&&h.enabled){const g=i.getTitleTranslationY();isFinite(g)&&(d.text=h.text,d.x=0,d.y=g,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(),c.push(u))}return i.calloutNodeData.forEach(g=>{const m=g.calloutLabel;if(!m||0===g.outerRadius)return null;const y=g.outerRadius+s+o,_=g.midCos*y,x=g.midSin*y+m.collisionOffsetY;d.text=m.text,d.x=_,d.y=x,d.setFont(i.properties.calloutLabel),d.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline});const D=d.getBBox();if(m.box=D,Math.abs(m.collisionOffsetY)>a)m.hidden=!0;else{if(u){const M=t.y-i.centerY,k=new It(u.x-l,M,u.width+2*l,u.y+u.height+l-M);if(D.collidesBBox(k))return void(m.hidden=!0)}if(e.hideWhenNecessary){const{textLength:M,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:V}=i.getLabelOverflow(m.text,D,t);if(k||m.text.length>2&&M<2||V)return void(m.hidden=!0)}m.hidden=!1,c.push(D)}}),0===c.length?null:It.merge(c)})()}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:r,fontFamily:s,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,c=t>0,d=1===this.seriesItemEnabled.filter(Boolean).length,u=(h,g)=>{const{sectorLabel:m,outerRadius:y,startAngle:_,endAngle:x}=g;let D=!1;if(m&&0!==y){const M=t*(1-a)+y*a+o;h.fill=l,h.fontStyle=n,h.fontWeight=r,h.fontSize=i,h.fontFamily=s,h.text=m.text,!c&&d?(h.x=0,h.y=0):(h.x=g.midCos*M,h.y=g.midSin*M),h.textAlign="center",h.textBaseline="middle";const V=h.getBBox(),F={startAngle:_,endAngle:x,innerRadius:t,outerRadius:y};[[V.x,V.y],[V.x+V.width,V.y],[V.x+V.width,V.y+V.height],[V.x,V.y+V.height]].every(([P,G])=>ZR(P,G,F))&&(D=!0)}h.visible=D};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:r}=this.properties,{sectorLabel:s,calloutLabel:o,legendItem:a}=e;return r&&void 0!==a?a.text:i&&i!==t&&void 0!==o?.text?o.text:n&&n!==t&&void 0!==s?.text?s.text:void 0}pickNodeClosestDatum(e){return V6(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return op;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:r}=e,s=Kr(this.properties.title?.text),o=nn(i)?UT(i):String(i),a=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??a,content:s&&a?`${a}: ${o}`:o,backgroundColor:n},{datum:t,itemId:r,title:s,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){const{visible:t,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||"category"!==e)return[];const{angleKey:r,calloutLabelKey:s,sectorLabelKey:o,legendItemKey:a}=this.properties;if(!(a||s&&s!==r||o&&o!==r))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,h=[];for(let g=0;g<i.data.length;g++){const{datum:m,values:y}=i.data[g],_=[];u&&_.push(u);const x=this.getLabels(m,2*Math.PI,2*Math.PI,!1,null!=l?y[l]:void 0,null!=c?y[c]:void 0,null!=d?y[d]:void 0);if(a&&void 0!==x.legendItem?_.push(x.legendItem.text):s&&s!==r&&void 0!==x.calloutLabel?.text?_.push(x.calloutLabel?.text):o&&o!==r&&void 0!==x.sectorLabel?.text&&_.push(x.sectorLabel?.text),0===_.length)continue;const D=this.getSectorFormat(m,g,!1);h.push({legendType:"category",id:this.id,itemId:g,seriesId:this.id,enabled:t&&this.legendItemEnabled[g],label:{text:_.join(" - ")},symbols:[{marker:{fill:D.fill,stroke:D.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=a?m[a]:void 0})}return h}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:r}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=r&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:n},r)=>{n[i]===e&&this.toggleSeriesItem(r,t)})}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Rv(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);_s(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,r)=>this.getDatumId(r)),gn(this,"callout",t,this.calloutLabelSelection),gn(this,"sector",t,this.labelSelection),gn(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:r,previousRadiusScale:s}=this,{animationManager:o}=this.ctx,a=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id),(0!==(a?.moved.size??0)||!((n?.defs.keys.length??0)>0)||!(n?.reduced?.animationValidation?.uniqueKeys??1))&&this.ctx.animationManager.skipCurrentBatch();const u=Rv(!1,this.properties.rotation,r,s);_s(this.id,"nodes",o,[e,t,i],u.nodes,(h,g)=>this.getDatumId(g),a),gn(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),gn(this,"sector",this.ctx.animationManager,this.labelSelection),gn(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:r}=this,{animationManager:s}=this.ctx,o=Rv(!1,this.properties.rotation,n,r);_s(this.id,"nodes",s,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l)),ef(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ef(this,"sector",this.ctx.animationManager,this.labelSelection),ef(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(n)return e[n];if(t)return e[t];if(i)return e[i]}}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t,legendItemEnabled:i}=this;this.seriesItemEnabled=e?.map((n,r)=>t[r]??!0)??[],this.legendItemEnabled=e?.map((n,r)=>i[r]??!0)??[]}};G6.className="PieSeries",G6.type="pie";var gGe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new G6(e),tooltipDefaults:{range:"exact"},themeTemplate:uGe,paletteFactory:zre},R_={add:function fGe(e,t){return"number"==typeof t?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}},angle:function CGe(e,t={x:0,y:0}){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)},apply:function TGe(e,t){return e.x=t.x,e.y=t.y,e},equal:function IGe(e,t){return e.x===t.x&&e.y===t.y},distance:function yGe(e,t){const i=H6(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)},distanceSquared:function bGe(e,t){const i=H6(e,t);return i.x*i.x+i.y*i.y},from:function AGe(e,t){if("number"==typeof e)return{x:e,y:t};if("regionOffsetX"in e)return{x:e.regionOffsetX,y:e.regionOffsetY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${e}] [${t}]`)},gradient:function xGe(e,t,i){return(null==i?t.y-e.y:i-t.y-(i-e.y))/(t.x-e.x)},intercept:function SGe(e,t,i){return(null==i?e.y:i-e.y)-t*e.x},intersectAtX:function MGe(e,t,i=0,n){const r=e===1/0?1/0:e*i+t;return{x:i,y:null==n?r:n-r}},intersectAtY:function DGe(e,t,i=0,n){return{x:e===1/0?1/0:(i-t)/e,y:null==n?i:n-i}},length:j6,lengthSquared:function vGe(e){return e.x*e.x+e.y*e.y},multiply:function mGe(e,t){return"number"==typeof t?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}},normalized:function _Ge(e){const t=j6(e);return{x:e.x/t,y:e.y/t}},origin:function U6(){return{x:0,y:0}},required:function RGe(e){return{x:e?.x??0,y:e?.y??0}},rotate:function wGe(e,t,i={x:0,y:0}){const n=j6(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}},round:function EGe(e){return{x:Math.round(e.x),y:Math.round(e.y)}},sub:H6};function H6(e,t){return"number"==typeof t?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function j6(e){return Math.sqrt(e.x*e.x+e.y*e.y)}var Qd=class extends Fi{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){const e=[...this.buttons??[]];return this.draggable&&e.unshift({icon:"drag-handle",tooltip:"toolbarAnnotationsDragHandle",value:"drag",id:"drag"}),e?.map(t=>{const n=this.buttonOverrides.get(t.id??t.value);return null!=n?{...t,...n}:t})??[]}buttonsChanged(e){this.onButtonsChange(this.buttonConfigurations(),e)}overrideButtonConfiguration(e,t){let i=this.buttonOverrides.get(e);null==i&&(i=Object.create(null),this.buttonOverrides.set(e,i));for(const n in t){const r=t[n];null==r?delete i[n]:i[n]=r}this.buttonsChanged(!0)}};E([ba(e=>{e.onChange(e.enabled)}),L(Jt)],Qd.prototype,"enabled",2),E([ba(e=>{e.onChange(e.enabled)}),L(Yn([...aB]),{optional:!0})],Qd.prototype,"align",2),E([ba(e=>{e.onChange(e.enabled)}),L(Yn(vv),{optional:!0})],Qd.prototype,"position",2),E([L(Jt)],Qd.prototype,"draggable",2),E([ba(e=>{e.onChange(e.enabled)}),L(Yn(["small","normal"]),{optional:!0})],Qd.prototype,"size",2),E([ba(e=>{for(const t of e.buttons??[])null!=t.icon&&OVe.includes(t.icon)&&Xe.warnOnce(`Icon '${t.icon}' is deprecated, use another icon instead.`),"toolbarAnnotationsColor"===t.ariaLabel&&Xe.warnOnce(`Aria label '${t.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);e.buttonsChanged(!1)}),L(J0,{optional:!0})],Qd.prototype,"buttons",2);var Hre="ag-charts-toolbar",lr={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{first:"ag-charts-toolbar__button--first",last:"ag-charts-toolbar__button--last",active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible",strokeWidthVisible:"ag-charts-toolbar__button--stroke-width-visible",withTransition:"ag-charts-toolbar__button--with-transition",dragHandle:"ag-charts-toolbar__button--drag-handle",dragging:"ag-charts-toolbar__button--dragging"}},jre=class extends y1{constructor(e){super(),this.ctx=e,this.enabled=!0,this.seriesType=new Qd(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new Qd(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new Qd(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new Qd(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new Qd(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.dragState={client:{x:0,y:0},position:{x:0,y:0},detached:!1},this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,left:new Set,right:new Set,bottom:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},left:{},right:{},bottom:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[],resetListeners:()=>{}},{groups:["annotationOptions"],destroyFns:[],resetListeners:()=>{}},{groups:["ranges"],destroyFns:[],resetListeners:()=>{}},{groups:["zoom"],destroyFns:[],resetListeners:()=>{}}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(const n of vv)this.elements[n]=e.domManager.addChild("canvas-overlay",`toolbar-${n}`),this.elements[n].role="presentation",this.renderToolbar(n);this.toggleVisibilities();const i=e.regionManager.getRegion("series");this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),63),e.interactionManager.addListener("leave",this.onLeave.bind(this),63),i.addListener("drag-start",this.toggleNoPointerEvents.bind(this,!0),40),i.addListener("drag-end",this.toggleNoPointerEvents.bind(this,!1),63),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("group-updated",this.onGroupUpdated.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutManager.registerElement(2,this.onLayoutStart.bind(this)),e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.updateService.addListener("pre-dom-update",this.onPreDomUpdate.bind(this)),e.updateService.addListener("update-complete",this.onUpdateComplete.bind(this)),e.localeManager.addListener("locale-changed",()=>{this.hasNewLocale=!0}),()=>this.destroyElements())}destroyElements(){this.ctx.domManager.removeStyles(Hre);for(const e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${e}`)}onHover(e){const{enabled:t,elements:i,floatingDetectionRange:n,ctx:{scene:r}}=this,{offsetY:s,sourceEvent:{target:o}}=e,{FloatingBottom:a,FloatingTop:l}=p_;if(!t)return;const c=i[a],d=i[l],m=s>0&&s<d.offsetTop+d.offsetHeight+n||o===d;this.translateFloatingElements(a,s>c.offsetTop-n&&s<r.canvas.element.offsetHeight||o===c),this.translateFloatingElements(l,m)}onLeave(e){const{enabled:t,ctx:{scene:i}}=this,{relatedElement:n,targetElement:r}=e,{FloatingBottom:s,FloatingTop:o}=p_;!t||r!==i.canvas.element||ER.some(l=>this.groupButtons[l].some(c=>c===n))||(this.translateFloatingElements(s,!1),this.translateFloatingElements(o,!1))}toggleNoPointerEvents(e){this.groupButtons.annotationOptions.forEach(i=>i.classList.toggle("ag-charts-toolbar__no-pointer-events",e))}onGroupChanged(e){null==this[e]||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t,i){if(this.enabled&&!this.groupProxied.has(e)){if(i)for(const n of this[e].buttonConfigurations())this.refreshButtonContent(e,n);else this.createGroupButtons(e,t);this.toggleVisibilities()}}onLayoutComplete(e){for(const t of vv)this.elements[t].classList.remove(lr.preventFlash);this.enabled&&this.refreshInnerLayout(e.series.rect)}toggleButtonsTransition(e){const t=lr.button.withTransition;for(const i of Object.values(this.groupButtons).flat())e&&!i.classList.contains(t)&&i.getBoundingClientRect(),i.classList.toggle(t,e)}onPreDomUpdate(){this.toggleButtonsTransition(!1)}onUpdateComplete(){this.toggleButtonsTransition(!0)}onButtonUpdated(e){const{type:t,group:i,id:n,...r}=e;this[i].overrideButtonConfiguration(n,r)}setButtonActive(e,t){e.classList.toggle(lr.button.active,t)}setButtonChecked(e,t){"switch"===e.role&&(e.ariaChecked=t.toString())}setButtonGroupFirstLast(e){const t=Array.from(e.childNodes??[]),i=(s,o,a)=>{const l=!o.classList.contains(lr.button.hiddenToggled);return o.classList.toggle(a,l&&s),!l&&s};let n=!0;t.forEach(s=>n=i(n,s,lr.button.first));let r=!0;t.toReversed().forEach(s=>r=i(r,s,lr.button.last))}onButtonToggled(e){const{group:t,id:i,active:n,enabled:r,visible:s,checked:o}=e;if(0===this.groupButtons[t].length)return void this.pendingButtonToggledEvents.push(e);const a=this.groupButtons[t].find(l=>l.dataset.toolbarId===`${i}`);null!=a&&(a.ariaDisabled=`${!r}`,a.classList.toggle(lr.button.hiddenToggled,!s),this.setButtonActive(a,n),this.setButtonChecked(a,o),this.setButtonGroupFirstLast(a.parentNode))}onGroupToggled(e){const{caller:t,group:i,active:n,visible:r}=e;this.toggleGroup(t,i,n,r),this.toggleVisibilities()}onGroupUpdated(e){const{group:t}=e;for(const i of this.ariaToolbars)if(i.groups.includes(t))return void i.resetListeners()}onFloatingAnchorChanged(e){const{elements:t,positions:i,horizontalSpacing:n,verticalSpacing:r}=this,{group:s,anchor:o}=e,a=t.floating;if(this.dragState.detached||a.classList.contains(lr.hidden)||(this.dragState.detached=!1,!i.floating.has(s)))return;const l=o.position??"above",{offsetWidth:c,offsetHeight:d}=a;let u=o.y-d-r,h=o.x-c/2;"below"===l?u=o.y+r:"right"===l?(u=o.y-d/2,h=o.x+n):"above-left"===l&&(h=o.x);const g=new It(h,u,c,d);this.positionGroup(a,s,g)}positionGroup(e,t,i){const{ctx:{domManager:n}}=this,r=n.getBoundingClientRect();i.x=Si(0,i.x,r.width-i.width),i.y=Si(0,i.y,r.height-i.height);const s=`${Math.floor(i.x)}px`,o=`${Math.floor(i.y)}px`;(e.style.getPropertyValue("left")!==s||e.style.getPropertyValue("top")!==o)&&(e.style.setProperty("left",s),e.style.setProperty("top",o),this.onGroupMoved(t,i))}onGroupMoved(e,t){const{groupButtons:i,ctx:{toolbarManager:n}}=this;for(const r of i[e]){if(r.classList.contains(lr.button.hiddenToggled))continue;const s=r.offsetParent;n.buttonMoved(e,r.dataset.toolbarId,new It(r.offsetLeft+(s?.offsetLeft??0),r.offsetTop+(s?.offsetTop??0),r.offsetWidth,r.offsetHeight),t)}}buttonRect(e,t=this.ctx.domManager.getBoundingClientRect()){const i=e.getBoundingClientRect();return new It(i.left-t.left,i.top-t.top,i.width,i.height)}onProxyGroupOptions(e){if(!this.enabled)return;const{caller:t,group:i,options:n}=e;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(t,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(e,t,i){t??(t=this[e].enabled),i??(i=this[e].position);for(const n of vv)t&&i===n?this.positions[n].add(e):this.positions[n].delete(e)}createGroupButtons(e,t=[]){for(const u of this.groupButtons[e])u.remove();if(this.groupButtons[e]=[],0===t.length)return;const{align:i,position:n}=this[e],r=this.positionAlignments[n][i];if(!r)return;const s=u=>{const h=Array.from(r.children),g="data-group",m="data-section";let y=h.find(_=>_.getAttribute(g)===e&&_.getAttribute(m)===(u??""));if(!y){y=$n("div"),y.role="presentation",y.setAttribute(g,e),y.setAttribute(m,u??"");const _=lB[e],x=h.find(D=>{const M=D.getAttribute(g);return lB[M]>_});null!=x?r.insertBefore(y,x):r.appendChild(y),this.destroyFns.push(()=>y.remove())}return y.classList.add("ag-charts-toolbar__section",lr[this[e].size]),y};let c,d,o=t.at(0)?.section,a=s(o);for(const u of t){o!==u.section&&(this.setButtonGroupFirstLast(a),a=s(u.section)),o=u.section;const h=this.createButtonElement(e,u);a.appendChild(h),this.groupButtons[e].push(h)}this.setButtonGroupFirstLast(a),cB(n)&&(c=()=>this.translateFloatingElements(n,!0),d=()=>this.translateFloatingElements(n,!1)),this.createAriaToolbar(e,r,c,d,()=>{this.ctx.toolbarManager.cancel(e)})}createAriaToolbar(e,t,i,n,r){const s=this.computeAriaOrientation(this[e].position),o=this.getAriaToolbar(e);o.resetListeners=()=>{const a=o.groups.map(l=>this.groupButtons[l]).flat().filter(l=>!l.classList.contains(lr.button.hiddenToggled)&&!l.classList.contains(lr.button.dragHandle));o.destroyFns.forEach(l=>l()),o.destroyFns=XV({orientation:s,toolbar:t,buttons:a,onEscape:r,onFocus:i,onBlur:n})},o.resetListeners(),this.updateToolbarAriaLabel(e,t)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,i,n){if(!0===n?this.groupCallers[t].add(e):!1===n&&this.groupCallers[t].delete(e),null!=i)for(const r of this.groupButtons[t])this.setButtonActive(r,i)}processPendingEvents(){const e=(this.pendingButtonToggledEvents??[]).slice();for(const t of e)this.onButtonToggled(t);this.pendingButtonToggledEvents=[]}onLayoutStart(e){this.enabled&&(this.refreshOuterLayout(e.layoutBox),this.refreshLocale())}refreshOuterLayout(e){const{elements:t,horizontalSpacing:i,verticalSpacing:n}=this;t.top.classList.contains(lr.hidden)||e.shrink(t.top.offsetHeight+n,"top"),t.right.classList.contains(lr.hidden)||e.shrink(t.right.offsetWidth+i,"right"),t.bottom.classList.contains(lr.hidden)||(e.shrink(t.bottom.offsetHeight+n,"bottom"),t.bottom.style.top=`${e.y+e.height+n}px`),t.left.classList.contains(lr.hidden)||e.shrink(t.left.offsetWidth+i,"left")}refreshLocale(){const{hasNewLocale:e}=this;if(e){for(const t of ER){const i=this[t].buttonConfigurations();for(const n of i)this.refreshButtonContent(t,n);this.updateToolbarAriaLabel(t)}this.hasNewLocale=!1}}refreshInnerLayout(e){const{elements:t,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:r}=p_;t.top.style.top=e.y-t.top.offsetHeight-i+"px",t.top.style.left=`${e.x}px`,t.top.style.width=`${e.width}px`,t.bottom.style.left=`${e.x}px`,t.bottom.style.width=`${e.width}px`,t.right.style.top=`${e.y}px`,t.right.style.right="0px",t.right.style.height=`${e.height}px`,t.left.style.top=`${e.y}px`,t.left.style.left="0px",t.left.style.height=`${e.height}px`,t[r].style.top=`${e.y}px`,t[n].style.top=e.y+e.height-t[n].offsetHeight+"px"}refreshButtonContent(e,t){const i=this.buttonId(t),n=this.groupProxied.get(e)?.buttons?.find(s=>this.buttonId(s)===i)??t,r=this.groupButtons[e].find(s=>s.getAttribute("data-toolbar-id")===i);null!=r&&this.updateButton(r,n)}toggleVisibilities(){if(null==this.elements)return;const e=i=>this[i].enabled&&this.groupCallers[i].size>0,t=i=>n=>{const r=this.buttonId(n);return null==r||r===i.dataset.toolbarId};for(const i of vv){const n=this.enabled&&Array.from(this.positions[i].values()).some(e);"floating"===i&&!n&&(this.dragState.detached=!1),this.elements[i].classList.toggle(lr.hidden,!n)}for(const i of ER){if(null==this[i])continue;const n=e(i);for(const r of this.groupButtons[i]){const s=n&&this[i].buttonConfigurations().some(t(r));r.classList.toggle(lr.button.hiddenValue,!s)}}}translateFloatingElements(e,t){const{elements:i,verticalSpacing:n,positionAlignments:r}=this,s=i[e],o=Object.values(r[e]);s.classList.toggle(lr.floatingHidden,!t);const a="floating-bottom"===e?1:-1;for(const l of o)l.style.transform=t&&""!==l.style.transform?"translateY(0)":`translateY(${(s.offsetHeight+n)*a}px)`}renderToolbar(e="top"){const t=this.elements[e];t.classList.add(Hre,lr[e],lr.preventFlash),cB(e)&&t.classList.add(lr.floatingHidden);for(const i of aB){const n=$n("div");n.role="presentation",n.classList.add("ag-charts-toolbar__align",lr.align[i]),t.appendChild(n),this.positionAlignments[e][i]=n}}createButtonElement(e,t){const i=$n("button");return i.classList.add("ag-charts-toolbar__button"),i.dataset.toolbarGroup=e,Wl(i,"tabindex",-1),t.haspopup&&pv(i,{"aria-haspopup":!0,"aria-expanded":!1}),i.dataset.toolbarId=this.buttonId(t),i.addEventListener("click",JV(i,n=>this.onButtonPress(n,i,e,t.id,t.value))),"drag"===t.value&&(i.addEventListener("mousedown",JV(i,n=>this.onDragStart(n,i,e))),i.classList.add(lr.button.dragHandle)),"switch"===t.role&&pv(i,{role:t.role,"aria-checked":!1}),this.updateButton(i,t),this.destroyFns.push(()=>i.remove()),i}getAriaToolbar(e){for(const t of this.ariaToolbars)if(t.groups.includes(e))return t;throw new Error(`AG Charts - cannot find aria-toolbar of '${e}'`)}updateToolbarAriaLabel(e,t){if(!t){const{align:n,position:r}=this[e];if(!(t=this.positionAlignments[r][n]))return}t.ariaLabel=this.ctx.localeManager.t({seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"}[e])}expandButtonConfig(e,t){return"switch"!==t.role||"true"!==e.ariaChecked||void 0===t.checkedOverrides?t:{icon:t.checkedOverrides.icon??t.icon,label:t.checkedOverrides.label??t.label,ariaLabel:t.checkedOverrides.ariaLabel??t.ariaLabel,tooltip:t.checkedOverrides.tooltip??t.tooltip}}updateButton(e,t){const{domManager:i,localeManager:n}=this.ctx,{icon:r,label:s,ariaLabel:o,tooltip:a}=this.expandButtonConfig(e,t);a&&(e.title=n.t(a));let l="";if(null!=r&&(l=`<span class="${i.getIconClassNames(r)} ag-charts-toolbar__icon"></span>`),null!=s){l=`${l}<span class="ag-charts-toolbar__label">${n.t(s)}</span>`}e.innerHTML=l,e.classList.toggle(lr.button.fillVisible,null!=t.fill),e.style.setProperty("--fill",t.fill??null);const c=null!=t.strokeWidth;e.classList.toggle(lr.button.strokeWidthVisible,c),e.style.setProperty("--strokeWidth",c?`${t.strokeWidth}px`:null),Wl(e,"aria-label",o?this.ctx.localeManager.t(o):void 0)}onButtonPress(e,t,i,n,r){this.ctx.toolbarManager.pressButton(i,this.buttonId({id:n,value:r}),r,this.buttonRect(t),e)}onDragStart(e,t,i){const n=this.elements.floating;e.preventDefault(),e.stopPropagation(),this.dragState={client:R_.from(e.clientX,e.clientY),position:R_.from(Number(n.style.getPropertyValue("left").replace("px","")),Number(n.style.getPropertyValue("top").replace("px",""))),detached:!0},t.classList.toggle(lr.button.dragging,!0);const r=a=>this.onDrag(a,i),o=Do();o.addEventListener("mousemove",r),o.addEventListener("mouseup",()=>{t.classList.toggle(lr.button.dragging,!1),o.removeEventListener("mousemove",r)},{once:!0}),this.ctx.toolbarManager.groupMoved(i)}onDrag(e,t){const{elements:i,dragState:n}=this,r=i.floating,{offsetWidth:s,offsetHeight:o}=r,a=R_.sub(R_.from(e.clientX,e.clientY),n.client),l=R_.add(n.position,a),c=new It(l.x,l.y,s,o);this.positionGroup(r,t,c)}buttonId(e){const{id:t,value:i,label:n}=e;return t??(null!=i&&"object"!=typeof i?String(i):n??"")}};E([ba(e=>{e.processPendingEvents(),e.toggleVisibilities()}),L(Jt)],jre.prototype,"enabled",2);var W6=2592e6,VGe={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new jre(e),themeTemplate:{toolbar:{enabled:!0,seriesType:{enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type",haspopup:!0}]},annotations:{enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations",haspopup:!0},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations",haspopup:!0},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu",section:"shape-annotations",haspopup:!0},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu",section:"measure-annotations",haspopup:!0},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},annotationOptions:{enabled:!0,position:"floating",align:"start",draggable:!0,buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color",haspopup:!0},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color",haspopup:!0},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color",haspopup:!0},{tooltip:"toolbarAnnotationsTextSize",value:"text-size",haspopup:!0},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width",haspopup:!0},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type",haspopup:!0},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings",haspopup:!0},{role:"switch",icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},ranges:{enabled:!1,position:L1,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:W6},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*W6},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*W6},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date(`${new Date(t).getFullYear()}-01-01`).getTime(),t],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:31536e6},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t],id:"all"}]},zoom:{enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]}}}};var $6=class extends jg{getChartType(){return"flow-proportion"}updateData(){var e=()=>super.updateData,t=this;return(0,J.A)(function*(){yield e().call(t);const{nodes:i}=t.getOptions();t.series.forEach(n=>{(function zGe(e){return"sankey"===e.type||"chord"===e.type})(n)&&n.setChartNodes(i)})})()}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:r}=e,s=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r,t.visible=this.series.some(o=>o.visible);for(const o of[t,i,n])o.translationX=Math.floor(r.x),o.translationY=Math.floor(r.y),o.setClipRect(s.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:s,paddedRect:r}})}};$6.className="FlowProportionChart",$6.type="flow-proportion";var kv=class extends YV{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};E([L(Yn(["polygon","circle"],"a polar axis shape"))],kv.prototype,"shape",2),E([L(hn)],kv.prototype,"innerRadiusRatio",2);var Y6=class extends jg{getChartType(){return"gauge"}updateRadialGauge(e,t){const i=this.axes.find(G=>"x"===G.direction);if(!(i instanceof kv))return;i.computeRange();const n=e.x,r=n+e.width,s=e.y,o=s+e.height,[a,l]=i.range,d=ste(l-a)>Math.PI,u=d||cd(1.5*Math.PI,a,l),h=d||cd(0*Math.PI,a,l),g=d||cd(.5*Math.PI,a,l),m=d||cd(1*Math.PI,a,l);let y,_;y=m&&!h?"right":!m&&h?"left":"center",_=u&&!g?"bottom":!u&&g?"top":"middle";const x=k6({startAngle:a,endAngle:l,innerRadius:0,outerRadius:.5}),D=2*-(x.x+x.width/2),M=2*-(x.y+x.height/2),{minimumRadius:k=0,maximumRadius:V}=t,H=Math.max(.5*Math.min(e.width/x.width,e.height/x.height),0);let F=Math.min(V??1/0,Math.max(H,k??0));for(let G=0;G<8;G+=1){const Y=F<=k||7===G,q=e.x+e.width/2+D*F,ee=e.y+e.height/2+M*F;i.translation.x=q,i.translation.y=ee,i.gridLength=F,i.calculateLayout();const K=i.computeLabelsBBox({hideWhenNecessary:Y},e);if(Y)break;let gt=0;if(null!=K){const jt=K.x+q,$e=K.y+ee;gt=Math.max(s-$e,n-jt,$e+K.height-o,jt+K.width-r,0)}if(!(gt>0))break;F=Math.max(F-gt,k)}i.translation.x=e.x+e.width/2+D*F,i.translation.y=e.y+e.height/2+M*F,t.centerX=e.width/2+D*F,t.centerY=e.height/2+M*F,t.radius=F,t.textAlign=y,t.verticalAlign=_,(0===F||F>H)&&Xe.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(e,t){const i=this.axes.find(_=>"x"===_.direction),n=this.axes.find(_=>"y"===_.direction);if(!(i instanceof Bg&&n instanceof Bg))return e;const{horizontal:r,thickness:s}=t;let o=0,a=0;const l=new pd;l.domain=[0,100],l.range=r?i.range:n.range;const c=l.ticks();r?o=t.computeInset("x",c):a=t.computeInset("y",c);const d=e.width-Math.abs(o),u=e.height-Math.abs(a),h=Math.max(r?d:s,0),g=Math.max(r?s:u,0),m=e.x+(d-h)/2+Math.max(o,0),y=e.y+(u-g)/2-Math.min(a,0);i.range=[0,h],i.gridLength=h,i.calculateLayout(),i.translation.x=m,i.translation.y=y+("bottom"===i.position?s:0),n.range=[0,g],n.gridLength=g,n.calculateLayout(),n.translation.x=m+("right"===n.position?s:0),n.translation.y=y,t.originX=m-e.x,t.originY=y-e.y,(0===h||0===g)&&Xe.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n,series:r,seriesArea:s}=this,{layoutBox:o}=e,a=o.clone();o.shrink(s.padding.toJson());const l=this.series[0];!function GGe(e){return"radial-gauge"===e.type}(l)?function HGe(e){return"linear-gauge"===e.type}(l)&&this.updateLinearGauge(o,l):this.updateRadialGauge(o,l),this.axes.forEach(c=>c.update()),this.seriesRect=a.clone().translate(a.x-o.x,a.y-o.y),this.animationRect=o,t.visible=r.some(c=>c.visible);for(const c of[t,i,n])c.translationX=Math.floor(o.x),c.translationY=Math.floor(o.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:a,paddedRect:o}})}getAriaLabel(){const e=[],t=this.getCaptionText();0!==t.length&&e.push(t);for(const n of this.series)e.push(n.getCaptionText());const i=e.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};Y6.className="GaugeChart",Y6.type="gauge";var K6=class extends jg{constructor(e,t){super(e,t)}getChartType(){return"hierarchy"}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:r}=e,s=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r;for(const o of[t,i,n])o.translationX=Math.floor(r.x),o.translationY=Math.floor(r.y);t.visible=this.series[0].visible,t.setClipRect(r.clone()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:s,paddedRect:r}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};K6.className="HierarchyChart",K6.type="hierarchy";var q6=class extends jg{constructor(e,t){super(e,t),this.padding=new Hg(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}performLayout(e){var t=this;return(0,J.A)(function*(){const{layoutBox:i}=e,n=i.clone();i.shrink(t.seriesArea.padding.toJson()),t.seriesRect=i,t.animationRect=i,yield t.computeCircle(i),t.axes.forEach(r=>r.update()),t.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:n,paddedRect:i}})})()}updateAxes(e,t,i){const n=this.axes.find(a=>"x"===a.direction),r=this.axes.find(a=>"y"===a.direction);if(!(n instanceof kv&&r instanceof kv))return;const s=n.scale,o=r.innerRadiusRatio;n.innerRadiusRatio=o,n.computeRange(),n.gridLength=i,r.gridAngles=s.ticks?.().map(a=>s.convert(a)),r.gridRange=n.range,r.range=[i,i*o],[n,r].forEach(a=>{a.translation.x=e,a.translation.y=t,a.calculateLayout()})}computeCircle(e){var t=this;return(0,J.A)(function*(){const i=t.series.filter(jGe),n=t.axes.filter(UGe),r=(d,u,h)=>{t.updateAxes(d,u,h),i.forEach(m=>{m.centerX=d,m.centerY=u,m.radius=h});const g=i.filter(m=>"donut"===m.type||"pie"===m.type);if(g.length>1){const m=g.map(y=>{const _=y.getInnerRadius();return{series:y,innerRadius:_}}).sort((y,_)=>y.innerRadius-_.innerRadius);m.at(-1).series.surroundingRadius=void 0;for(let y=0;y<m.length-1;y++)m[y].series.surroundingRadius=m[y+1].innerRadius}},s=e.x+e.width/2,o=e.y+e.height/2,a=Math.max(0,Math.min(e.width,e.height)/2);let l=a;r(s,o,l);const c=function(){var d=(0,J.A)(function*({hideWhenNecessary:u=!1}={}){const h=[];for(const y of Mg(n,i)){const _=yield y.computeLabelsBBox({hideWhenNecessary:u},e);_&&h.push(_)}if(0===h.length)return void r(s,o,a);const g=It.merge(h),m=t.refineCircle(g,l,e);r(m.centerX,m.centerY,m.radius),l=m.radius});return function(){return d.apply(this,arguments)}}();yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0});for(const d of Mg(n,i))yield d.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:l,centerX:s,centerY:o}})()}refineCircle(e,t,i){const s=-t,o=t,a=t;let l=Math.max(0,-t-e.x),c=Math.max(0,s-e.y),d=Math.max(0,e.x+e.width-o),u=Math.max(0,e.y+e.height-a);l=d=Math.max(l,d),c=u=Math.max(c,u);let m=Math.min(i.width-l-d,i.height-c-u)/2;const x=Math.min(.5*i.width/2,.5*i.height/2);if(m<x){m=x;const k=l+d;if(2*m+(c+u)>i.height){const H=i.height-2*m;2*Math.min(c,u)>H?(c=H/2,u=H/2):c>u?c=H-u:u=H-c}if(2*m+k>i.width){const H=i.width-2*m;2*Math.min(l,d)>H?(l=H/2,d=H/2):l>d?l=H-d:d=H-l}}return{centerX:i.x+(i.width-(l+2*m+d))/2+l+m,centerY:i.y+(i.height-(c+2*m+u))/2+c+m,radius:m}}};function jGe(e){return e instanceof tk}function UGe(e){return e instanceof kv}q6.className="PolarChart",q6.type="polar";var Z6=class extends jg{constructor(e,t){super(e,t)}getChartType(){return"standalone"}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:r}=e,s=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r;for(const o of[t,i,n])o.translationX=Math.floor(r.x),o.translationY=Math.floor(r.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:s,paddedRect:r}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};Z6.className="StandaloneChart",Z6.type="standalone";var nk=Math.PI/180,Q6=e=>e*nk,X6=e=>-Math.log(Math.tan(.25*Math.PI+e*nk*.5)),J6=e=>e/nk,e5=e=>(Math.atan(Math.exp(-e))-.25*Math.PI)/(.5*nk),t5=class eH{constructor(t,i){this.domain=t,this.range=i,this.type="mercator",this.bounds=eH.bounds(t)}static bounds(t){const[[i,n],[r,s]]=t,o=Q6(i),a=X6(n),l=Q6(r),c=X6(s);return new It(Math.min(o,l),Math.min(a,c),Math.abs(l-o),Math.abs(c-a))}static fixedScale(){return new eH([[J6(0),e5(0)],[J6(1),e5(1)]],[[0,0],[1,1]])}convert([t,i]){const[[n,r],[s,o]]=this.range,a=(s-n)/this.bounds.width,l=(o-r)/this.bounds.height;return[(Q6(t)-this.bounds.x)*a+n,(X6(i)-this.bounds.y)*l+r]}invert([t,i]){const[[n,r],[s,o]]=this.range,l=(o-r)/this.bounds.height;return[J6((t-n)/((s-n)/this.bounds.width)+this.bounds.x),e5((i-r)/l+this.bounds.y)]}};function $re(e){return"map-shape"===e.type||"map-line"===e.type||"map-marker"===e.type||"map-shape-background"===e.type||"map-line-background"===e.type}var n5=class extends jg{constructor(e,t){super(e,t),this.xAxis=new $g(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new $g(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}updateData(){var e=()=>super.updateData,t=this;return(0,J.A)(function*(){yield e().call(t);const{topology:i}=t.getOptions();t.series.forEach(n=>{$re(n)&&n.setChartTopology(i)})})()}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:r}=e,s=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r;const o=this.series.filter($re),a=o.reduce((d,u)=>{if(!u.visible)return d;const h=u.topologyBounds;return null==h?d:null==d?h:(d.merge(h),d)},void 0);let l;if(null!=a){const{lon0:d,lat0:u,lon1:h,lat1:g}=a,m=[[d,u],[h,g]],y=t5.bounds(m),{width:_,height:x}=r,D=Math.min(_/y.width,x/y.height),M=y.width*D,k=y.height*D,V=(_-M)/2,H=(x-k)/2,F=V,P=H,G=V+M,Y=H+k,q=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),ee=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),K=(G-F)/(q.max-q.min),gt=F-K*q.min,jt=(Y-P)/(1-ee.min-(1-ee.max)),Fe=P-jt*(1-ee.max);l=new t5(m,[[gt,Fe],[gt+K,Fe+jt]])}o.forEach(d=>{d.scale=l});const c=this.series.some(d=>d.visible);t.visible=c;for(const d of[t,i,n])d.translationX=Math.floor(r.x),d.translationY=Math.floor(r.y),d.setClipRect(r.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:c,rect:s,paddedRect:r}})}};n5.className="TopologyChart",n5.type="topology";var Pv=Symbol("IGNORED_PROP");function rf(e,t){const i={};for(const n in t){const r=t[n];r!==Pv&&Object.hasOwn(e,n)&&(i[n]=r)}return i}function Yre(e,t){if(null==t)return e;const{targets:i,...n}=t;return null!=(e=$i(e,n)).targets&&null!=i&&(e.targets=qT(e.targets,i)),e}function vo(e,t){if(qa(e))return t(e)}var ZGe=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],rk="range-area";function Kre(e,t){return{fill:vo(t,r=>r.overrides?.[e]?.series?.fill),stroke:vo(t,r=>r.overrides?.[e]?.series?.stroke)}}var qre={line:{enabled:!1},title:{enabled:!1},label:{enabled:!1},crosshair:{enabled:!1,strokeOpacity:.25,lineDash:[0],label:{enabled:!1}}},r5={...qre,nice:!1},sk={bottom:{crosshair:{enabled:LB}}},Zre={category:sk,number:sk,log:sk,time:sk},Qre={position:{type:"sparkline"}},eHe={overrides:{common:{animation:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...r5,interval:{values:[0]}},log:{...r5},time:{...r5},category:{...qre,gridLine:{enabled:!1}}}},bar:{series:{sparklineMode:!0},tooltip:{range:"nearest"}},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},axes:Zre,series:{strokeWidth:1,marker:{enabled:!1,size:3},tooltip:Qre}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},axes:Zre,series:{strokeWidth:1,fillOpacity:.4,tooltip:Qre}}}};function Xre(e,t){return"string"==typeof e?{...t,baseTheme:e}:null!=e?{...e,baseTheme:Xre(e.baseTheme,t)}:t}var iHe={"price-volume":function QGe(e,t,i){const{xKey:n,dateKey:r=n??"date",highKey:s="high",openKey:o="open",lowKey:a="low",closeKey:l="close",volumeKey:c="volume",chartType:d="candlestick",navigator:u=!1,volume:h=!0,rangeToolbar:g,rangeButtons:m=g??!0,statusBar:y=!0,annotations:_,toolbar:x=_??!0,zoom:D=!0,theme:M,data:k,...V}=e;null!=n&&Xe.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),null!=g&&Xe.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),null!=_&&Xe.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");const H=function JGe(e,t,i,n,r,s,o){t===rk&&(Xe.warnOnce(`type '${t}' is deprecated, use 'hlc' chart type instead`),t="hlc");const a={xKey:i,openKey:s,closeKey:o,highKey:n,lowKey:r},l={xKey:i,yKey:o},c={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return[{type:"ohlc",focusPriority:0,...c,...a}];case"line":return[{type:"line",focusPriority:0,...c,...l,stroke:vo(e,d=>d.overrides?.line?.series?.stroke)??O1,marker:vo(e,d=>d.overrides?.line?.series?.marker)??{enabled:!1}}];case"step-line":return[{type:"line",focusPriority:0,...c,...l,stroke:vo(e,d=>d.overrides?.line?.series?.stroke)??O1,interpolation:vo(e,d=>d.overrides?.line?.series?.interpolation)??{type:"step"},marker:vo(e,d=>d.overrides?.line?.series?.marker)??{enabled:!1}}];case"hlc":{const d=Kre(rk,e);return[{type:rk,focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:o,fill:d.fill??BB,stroke:d.stroke??NB,fillOpacity:vo(e,u=>u.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:vo(e,u=>u.overrides?.["range-area"]?.series?.strokeWidth)??2},{type:rk,focusPriority:0,...c,xKey:i,yHighKey:o,yLowKey:r,fill:d.fill??zB,stroke:d.stroke??VB,fillOpacity:vo(e,u=>u.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:vo(e,u=>u.overrides?.["range-area"]?.series?.strokeWidth)??2},{type:"line",...c,...l,stroke:vo(e,u=>u.overrides?.line?.series?.stroke)??HB,strokeWidth:vo(e,u=>u.overrides?.line?.series?.strokeWidth)??2,marker:vo(e,u=>u.overrides?.line?.series?.marker)??{enabled:!1}}]}case"high-low":{const d=Kre("range-bar",e);return[{type:"range-bar",focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:r,fill:d.fill??GB,stroke:d.stroke??O1,tooltip:{range:"nearest"}}]}case"candlestick":return[{type:"candlestick",focusPriority:0,...c,...a}];case"hollow-candlestick":{const d=vo(e,u=>u.overrides?.candlestick?.series?.item);return[{type:"candlestick",focusPriority:0,...c,...a,item:{up:{fill:d?.up?.fill??"transparent"}}}]}default:return Xe.warnOnce(`unknown chart type: ${t}; expected one of: ${ZGe.join(", ")}`),[{type:"candlestick",focusPriority:0,...c,...a}]}}(M,d,r,s,a,o,l),F=function XGe(e,t,i,n,r,s){if(!r)return[];const o=vo(e,l=>l.overrides?.bar?.series?.fill),a=o?{fill:o}:{itemStyler({datum:l}){const{up:c,down:d}=t().palette;return{fill:l[i]<l[n]?c?.fill:d?.fill}}};return[{type:"bar",xKey:"date",yKey:s,focusPriority:1,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:vo(e,l=>l.overrides?.bar?.series?.fillOpacity)??.5,...a}]}(M,i,o,l,h,c),G={navigator:{enabled:u,...h?{miniChart:{enabled:u,series:[{type:"line",xKey:r,yKey:c,marker:{enabled:!1}}]}}:null}},Y={annotations:{enabled:x,data:k,xKey:r,volumeKey:h?c:void 0}},q=y?{statusBar:{enabled:!0,data:k,highKey:s,openKey:o,lowKey:a,closeKey:l,volumeKey:h?c:void 0}}:null,ee={zoom:{enabled:D,enableIndependentAxes:!0}},K={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:x},annotationOptions:{enabled:x},annotations:{enabled:x},ranges:{enabled:m}}},gt=h?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:"string"==typeof M?M:"ag-financial",...$i("object"==typeof M?M:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...F,...H],axes:[{type:"number",position:"right",keys:[o,l,s,a],interval:{maxSpacing:vo(M,jt=>jt.overrides?.common?.axes?.number?.interval?.maxSpacing)??45},label:{format:vo(M,jt=>jt.overrides?.common?.axes?.number?.label?.format)??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...gt,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:k,...Y,...G,...q,...ee,...K,...V}},gauge:function qGe(e,t){if(function WGe(e){return"radial-gauge"===e.type}(e))return function YGe(e){const{animation:t,background:i,container:n,contextMenu:r,footnote:s,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:g,title:m,width:y,type:_,cursor:x,nodeClickRange:D,tooltip:M,value:k,scale:V={},startAngle:H,endAngle:F,highlightStyle:P,segmentation:G,bar:Y,needle:q,targets:ee,outerRadius:K,innerRadius:gt,outerRadiusRatio:jt,innerRadiusRatio:Fe,cornerRadius:$e,cornerMode:Ke,label:dt,secondaryLabel:Ot,spacing:qt,...Vt}=e,{fills:Ut,fillMode:Kt,fill:_n,fillOpacity:Ne,stroke:qe,strokeWidth:Je,strokeOpacity:mt,lineDash:$t,lineDashOffset:Di,min:an=0,max:Fr=1,interval:Or={},label:Xr={},...no}=V,ro=rf(e,{animation:t,background:i,container:n,contextMenu:r,footnote:s,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:g,title:m,width:y}),Cn=rf(V,{fills:Ut,fillMode:Kt,fill:_n,fillOpacity:Ne,stroke:qe,strokeWidth:Je,strokeOpacity:mt,lineDash:$t,lineDashOffset:Di});return{...ro,series:[rf(e,{startAngle:Pv,endAngle:Pv,needle:null!=q?{enabled:!0,...q}:Pv,scale:Cn,type:_,cursor:x,nodeClickRange:D,listeners:a,tooltip:M,value:k,highlightStyle:P,segmentation:G,bar:Y,targets:ee,outerRadius:K,innerRadius:gt,outerRadiusRatio:jt,innerRadiusRatio:Fe,cornerRadius:$e,cornerMode:Ke,label:dt,secondaryLabel:Ot,spacing:qt,...Vt})],axes:[{type:"angle-number",min:an,max:Fr,startAngle:H,endAngle:F,interval:Or??{},label:Xr??{}},{type:"radius-number"}]}}(Yre(e,t));if(function $Ge(e){return"linear-gauge"===e.type}(e))return function KGe(e){const{animation:t,background:i,container:n,contextMenu:r,footnote:s,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:g,title:m,width:y,type:_,cursor:x,nodeClickRange:D,tooltip:M,value:k,scale:V={},direction:H="vertical",thickness:F,highlightStyle:P,segmentation:G,bar:Y,targets:q,cornerRadius:ee,cornerMode:K,label:gt,...jt}=e,{fills:Fe,fillMode:$e,fill:Ke,fillOpacity:dt,stroke:Ot,strokeWidth:qt,strokeOpacity:Vt,lineDash:Ut,lineDashOffset:Kt,min:_n=0,max:Ne=1,interval:qe={},label:Je={},...mt}=V,$t=rf(e,{animation:t,background:i,container:n,contextMenu:r,footnote:s,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:g,title:m,width:y}),Di=rf(V,{fills:Fe,fillMode:$e,fill:Ke,fillOpacity:dt,stroke:Ot,strokeWidth:qt,strokeOpacity:Vt,lineDash:Ut,lineDashOffset:Kt}),an=rf(e,{scale:Di,type:_,cursor:x,nodeClickRange:D,listeners:a,tooltip:M,value:k,direction:H,thickness:F,highlightStyle:P,segmentation:G,bar:Y,targets:q,cornerRadius:ee,cornerMode:K,label:gt,...jt}),{placement:Fr,...Or}=Je;let Xr,no;const ro="horizontal"===H;ro?(Xr="before"===Fr?"top":"bottom",no="left"):(Xr="after"===Fr?"right":"left",no="bottom");const Cn={type:"number",position:Xr,min:_n,max:Ne,reverse:!ro,interval:qe,label:Or,nice:!1},Jr={type:"number",position:no,min:0,max:1,label:{enabled:!1}};return{...$t,series:[an],axes:ro?[Cn,Jr]:[Jr,Cn]}}(Yre(e,t));const{animation:i,background:n,container:r,contextMenu:s,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:g,theme:m,title:y,width:_}=e;return rf(e,{animation:i,background:n,container:r,contextMenu:s,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:g,theme:m,title:y,width:_})},sparkline:function tHe(e){const{background:t,container:i,height:n,listeners:r,locale:s,minHeight:o,minWidth:a,padding:l,width:c,theme:d,data:u,xAxis:h,yAxis:g,...m}=e,y=m,_="bar"!==y.type||"horizontal"!==y.direction,x=rf(e,{background:t,container:i,height:n,listeners:r,locale:s,minHeight:o,minWidth:a,padding:l,width:c,data:u,xAxis:Pv,yAxis:Pv,theme:Pv});return x.theme=Xre(d,eHe),x.series=[y],x.axes=_?[{type:"number",...g,position:"left"},{type:"category",...h,position:"bottom"}]:[{type:"category",...h,position:"left"},{type:"number",...g,position:"bottom"}],x}};function Jre(e,t){let i=[];const n=TR(e),r=dp(e),s=r?Yr.get(r):"unknown";for(const{type:o,chartTypes:a,optionsKey:l,optionsInnerKey:c,identifier:d}of f_)if("unknown"===s||a.includes(s))if("root"===o||"legend"===o){const u=e[l];if(null==u)continue;c?u[c]&&(i.push(`${l}.${c}`),delete u[c]):(i.push(l),delete e[l])}else if("axis"===o){if(!("axes"in e)||!e.axes?.some(u=>u.type===d))continue;i.push(`axis[type=${d}]`),e.axes=e.axes.filter(u=>u.type!==d)}else if("axis-option"===o){if(!("axes"in e)||!e.axes?.some(u=>u[l]))continue;i.push(`axis.${l}`),e.axes.forEach(u=>{u[l]&&delete u[l]})}else if("series"===o){if(!e.series?.some(u=>u.type===d))continue;i.push(`series[type=${d}]`),e.series=e.series.filter(u=>u.type!==d)}else if("series-option"===o){if(!e.series?.some(u=>u[l]))continue;i.push(`series.${l}`),e.series.forEach(u=>{u[l]&&delete u[l]})}if(i.length&&!t){n&&(i=["AgCharts.createGauge"]);let o="ag-charts-enterprise",a="https://ag-grid.com/charts/javascript/installation/";"integrated"===e.mode&&(o="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",a="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Xe.warnOnce([`unable to use these enterprise features as '${o}' has not been loaded:`,"",...i,"",`See: ${a}`].join("\n"))}}var ok=Symbol("description"),rHe=Symbol("required");function sHe(e,t,i){const{errors:n}=tse(e,t,i);for(const{message:r}of n)Xe.warn(r);return 0===n.length}function ese(e,t,i){const n=zl(i)?i:i[ok],r=n?`; expecting ${n}`:"";return`${e?`Option \`${e}\``:"Value"} cannot be set to \`${function nHe(e,t=1/0){switch(typeof e){case"undefined":return"undefined";case"number":if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";default:return(e=JSON.stringify(e)).length>t?`${e.slice(0,t)}... (+${e.length-t} characters)`:e}}(t)}\`${r}, ignoring.`}function tse(e,t,i=""){if(!qa(e))return{valid:null,errors:[{path:i,value:e,message:ese(i,e,"an object")}]};const n=new Set(Object.keys(e)),r=[],s={};function o(a){return as(t)?`${i}[${a}]`:i?`${i}.${a}`:a}for(const[a,l]of Object.entries(t)){n.delete(a);const c=e[a];if(l[rHe]||!(typeof c>"u"))if(tp(l))l(c)?s[a]=c:r.push({key:a,path:i,value:c,message:ese(o(a),c,l)});else{const d=tse(c,l,o(a));s[a]=d.valid,r.push(...d.errors)}}for(const a of n)r.push({key:a,path:i,unknown:!0,message:`Unknown option \`${o(a)}\`, ignoring.`});return{valid:s,errors:r}}function Wu(e,t){return Object.assign(i=>e(i),{[ok]:t})}Wu(as,"an array"),Wu(rV,"a boolean"),Wu(tp,"a function"),Wu(nn,"a number");var ise=Wu(qa,"an object"),yp=Wu(zl,"a string"),nse=(e,t=!0)=>Wu(i=>nn(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),rse=(e,t)=>Wu(i=>nn(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`),sse=(nse(0),nse(1),rse(0,1),rse(0,360),(e,t)=>Wu(i=>as(i)&&i.every(e),t??`${e[ok]} array`));function s5(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var ak="white",o5={get cartesian(){return{seriesTypes:Yr.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Yr.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Yr.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Yr.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Yr.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:Yr.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:Yr.gaugeTypes,commonOptions:[]}}},aHe={"radial-gauge":!0,"linear-gauge":!0};function ose(e){return!0===aHe[e]}var lHe=Object.values(o5).reduce((e,{commonOptions:t})=>e.concat(t),[]),fd=class nhe{static getAxisDefaults(t){return $i(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Ts,color:To},label:{fontSize:12,fontFamily:Ts,padding:5,color:To,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:LR},tick:{enabled:!1,width:1,stroke:LR},gridLine:{enabled:!0,style:[{stroke:D_,lineDash:[]}]},crossLines:{enabled:!1,fill:F1,stroke:F1,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Ts,padding:5,color:To}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:NR},padding:{top:Xg,right:Xg,bottom:Xg,left:Xg},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Ts,color:To,wrapping:"hyphenate",layoutStyle:Iv,textAlign:Av},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Ts,color:Mv,wrapping:"hyphenate",layoutStyle:Iv,textAlign:Av},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Ts,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:Iv,textAlign:Av},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:To,fontSize:12,fontFamily:Ts}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:To},inactiveStyle:{fill:Mv},highlightStyle:{fill:To},label:{color:To}}},tooltip:{enabled:!0,darkTheme:P1,delay:0},overlays:{darkTheme:P1},listeners:{}}}constructor(t={}){const{overrides:i,palette:n}=Eo(t),r=this.createChartConfigPerChartType(this.getDefaults()),s={};i&&this.mergeOverrides(r,s,i);const{fills:o,strokes:a,...l}=this.getDefaultColors();this.palette=$i(n,{fills:Object.values(o),strokes:Object.values(a),...l}),this.paletteType=s5(n),this.config=Object.freeze(this.templateTheme(r)),this.presets=s}mergeOverrides(t,i,n){for(const{seriesTypes:r,commonOptions:s}of Object.values(o5)){const o={...n.common};for(const a of lHe)s.includes(a)||delete o[a];if(o)for(const a of r){const l=a;ose(l)||(t[l]=$i(o,t[l]))}}Yr.seriesTypes.forEach(r=>{const s=r,o=n[s];ose(s)?i[s]=o:t[s]=$i(o,t[s])})}createChartConfigPerChartType(t){for(const[i,{seriesTypes:n}]of Object.entries(o5)){const r=hB.get(i);for(const s of n)t[s]||(t[s]=Eo(r))}return t}getDefaults(){const t=(i,n)=>{const r={},s={axes:{},...uB.getThemeTemplates(),...this.getChartDefaults(),...hB.get(i)};for(const o of n){r[o]=$i(Cc.getThemeTemplate(o),r[o]??Eo(s));const{axes:a}=r[o];for(const l of cp.keys())a[l]=$i(a[l],cp.getThemeTemplate(l),nhe.cartesianAxisDefault[l])}return r};return $i(t("cartesian",Yr.cartesianTypes),t("polar",Yr.polarTypes),t("hierarchy",Yr.hierarchyTypes),t("topology",Yr.topologyTypes),t("flow-proportion",Yr.flowProportionTypes),t("standalone",Yr.standaloneTypes),t("gauge",Yr.gaugeTypes))}templateTheme(t){const i=Eo(t),n=this.getTemplateParameters();return Nu(i,r=>{if(as(r))for(let s=0;s<r.length;s++){const o=r[s];n.has(o)&&(r[s]=n.get(o))}else for(const[s,o]of Object.entries(r))n.has(o)&&(r[s]=n.get(o))}),Eo(i)}getDefaultColors(){return{fills:mo,strokes:Uu,up:{fill:mo.GREEN,stroke:Uu.GREEN},down:{fill:mo.RED,stroke:Uu.RED},neutral:{fill:mo.GRAY,stroke:Uu.GRAY},altUp:{fill:mo.BLUE,stroke:Uu.BLUE},altDown:{fill:mo.ORANGE,stroke:Uu.ORANGE},altNeutral:{fill:mo.GRAY,stroke:Uu.GRAY}}}getTemplateParameters(){const{isEnterprise:t}=Vu,i=new Map;i.set(P1,!1),i.set(LB,t),i.set(Cne,!t),i.set(Ts,"Verdana, sans-serif"),i.set(To,"rgb(70, 70, 70)"),i.set(wne,"white"),i.set(Mv,"rgb(140, 140, 140)"),i.set(D_,"rgb(224,234,241)"),i.set(LR,"rgb(195, 195, 195)"),i.set(F1,"rgb(70, 70, 70)"),i.set(Dv,ak),i.set(NR,ak),i.set(Ev,"rgba(0, 0, 0, 0.5)"),i.set(xc,[mo.ORANGE,mo.YELLOW,mo.GREEN]),i.set(Kd,[mo.GREEN,mo.YELLOW,mo.RED]),i.set(gp,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),i.set(Xg,20),i.set(Iv,"block"),i.set(Av,"center"),i.set(UB,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(WB,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(jB,ak),i.set(Sc,mo.BLUE),i.set($B,mo.BLUE),i.set(Dc,mo.BLUE),i.set(YB,ak),i.set(KB,"#fafafa"),i.set(qB,"#dddddd"),i.set(ZB,"#000000"),i.set(QB,"#181d1f"),i.set(Ine,"#e35c5c"),i.set(Ane,"#e35c5c"),i.set(XB,"#fafafa"),i.set(JB,"#dddddd"),i.set(e6,"#000000"),i.set(L1,"top"),i.set(fp,!1);const n=this.getDefaultColors();return i.set(NB,this.palette.up?.stroke??n.up.stroke),i.set(BB,this.palette.up?.fill??n.up.fill),i.set(VB,this.palette.down?.stroke??n.down.stroke),i.set(zB,this.palette.down?.fill??n.down.fill),i.set(O1,this.palette.neutral?.stroke??n.neutral.stroke),i.set(GB,this.palette.neutral?.fill??n.neutral.fill),i.set(xne,this.palette.altUp?.stroke??n.up.stroke),i.set(Dne,this.palette.altUp?.fill??n.up.fill),i.set(Sne,this.palette.altDown?.stroke??n.down.stroke),i.set(Mne,this.palette.altDown?.fill??n.down.fill),i.set(Ene,this.palette.altNeutral?.fill??n.altNeutral.fill),i.set(HB,this.palette.altNeutral?.stroke??n.altNeutral.stroke),i}};fd.cartesianAxisDefault={number:fd.getAxisDefaults({line:{enabled:!1}}),log:fd.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:fd.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:fp},crosshair:{enabled:!1}}),time:fd.getAxisDefaults({gridLine:{enabled:fp}}),"ordinal-time":fd.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:fp}}),"angle-category":fd.getAxisDefaults({gridLine:{enabled:fp}}),"angle-number":fd.getAxisDefaults({gridLine:{enabled:fp}}),"radius-category":fd.getAxisDefaults({line:{enabled:!1}}),"radius-number":fd.getAxisDefaults({line:{enabled:!1}}),"grouped-category":fd.getAxisDefaults({tick:{enabled:!0}})};var bp=fd,lk="#192232",el={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Fv={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},k_=class extends bp{getDefaultColors(){return{fills:el,strokes:Fv,up:{fill:el.GREEN,stroke:Fv.GREEN},down:{fill:el.RED,stroke:Fv.RED},neutral:{fill:el.GRAY,stroke:Fv.GRAY},altUp:{fill:el.BLUE,stroke:Fv.BLUE},altDown:{fill:el.ORANGE,stroke:Fv.ORANGE},altNeutral:{fill:el.GRAY,stroke:Fv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(P1,!0),e.set(jB,lk),e.set(To,"white"),e.set(Mv,"#7D91A0"),e.set(D_,"#545A6E"),e.set(F1,"white"),e.set(xc,[el.ORANGE,el.YELLOW,el.GREEN]),e.set(Kd,[el.GREEN,el.YELLOW,el.RED]),e.set(gp,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),e.set(UB,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(WB,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(NR,lk),e.set(Dv,lk),e.set(Sc,el.BLUE),e.set($B,"white"),e.set(Dc,el.BLUE),e.set(YB,lk),e.set(KB,"#28313e"),e.set(qB,"#4b525d"),e.set(ZB,"#ffffff"),e.set(QB,"#ffffff"),e.set(XB,"#28313e"),e.set(JB,"#4b525d"),e.set(e6,"#ffffff"),e}constructor(e){super(e)}},md={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Ov={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},cHe=class extends k_{getDefaultColors(){return{fills:{...md},strokes:{...Ov},up:{fill:md.GREEN,stroke:Ov.GREEN},down:{fill:md.RED,stroke:Ov.RED},neutral:{fill:md.BLUE,stroke:Ov.BLUE},altUp:{fill:md.GREEN,stroke:Ov.GREEN},altDown:{fill:md.RED,stroke:Ov.RED},altNeutral:{fill:md.GRAY,stroke:Ov.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[md.GREEN,md.BLUE,md.RED]),e.set(Sc,md.BLUE),e.set(Dc,md.BLUE),e.set(D_,"#343A4E"),e.set(Xg,0),e.set(Iv,"overlay"),e.set(Av,"left"),e.set(L1,"bottom"),e.set(fp,!0),e}},vd={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Lv={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},dHe=class extends bp{getDefaultColors(){return{fills:{...vd},strokes:{...Lv},up:{fill:vd.GREEN,stroke:Lv.GREEN},down:{fill:vd.RED,stroke:Lv.RED},neutral:{fill:vd.BLUE,stroke:Lv.BLUE},altUp:{fill:vd.GREEN,stroke:Lv.GREEN},altDown:{fill:vd.RED,stroke:Lv.RED},altNeutral:{fill:vd.GRAY,stroke:Lv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[vd.GREEN,vd.BLUE,vd.RED]),e.set(Sc,vd.BLUE),e.set(Dc,vd.BLUE),e.set(D_,"#F2F3F3"),e.set(Xg,0),e.set(Iv,"overlay"),e.set(Av,"left"),e.set(L1,"bottom"),e.set(fp,!0),e}},tl={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Nv={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},uHe=class extends k_{getDefaultColors(){return{fills:tl,strokes:Nv,up:{fill:tl.GREEN,stroke:Nv.GREEN},down:{fill:tl.RED,stroke:Nv.RED},neutral:{fill:tl.GRAY,stroke:Nv.GRAY},altUp:{fill:tl.BLUE,stroke:Nv.BLUE},altDown:{fill:tl.RED,stroke:Nv.RED},altNeutral:{fill:tl.GRAY,stroke:Nv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[tl.ORANGE,tl.YELLOW,tl.GREEN]),e.set(gp,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),e.set(Kd,[tl.GREEN,tl.YELLOW,tl.RED]),e.set(Sc,tl.BLUE),e.set(Dc,tl.BLUE),e}},il={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Vv={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},hHe=class extends bp{getDefaultColors(){return{fills:il,strokes:Vv,up:{fill:il.GREEN,stroke:Vv.GREEN},down:{fill:il.RED,stroke:Vv.RED},neutral:{fill:il.GRAY,stroke:Vv.GRAY},altUp:{fill:il.BLUE,stroke:Vv.BLUE},altDown:{fill:il.RED,stroke:Vv.RED},altNeutral:{fill:il.GRAY,stroke:Vv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[il.ORANGE,il.YELLOW,il.GREEN]),e.set(gp,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),e.set(Kd,[il.GREEN,il.YELLOW,il.RED]),e.set(Sc,il.BLUE),e.set(Dc,il.BLUE),e}},zs={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Bv={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},pHe=class extends k_{getDefaultColors(){return{fills:zs,strokes:Bv,up:{fill:zs.GREEN,stroke:Bv.GREEN},down:{fill:zs.RED,stroke:Bv.RED},neutral:{fill:zs.GRAY,stroke:Bv.GRAY},altUp:{fill:zs.BLUE,stroke:Bv.BLUE},altDown:{fill:zs.RED,stroke:Bv.RED},altNeutral:{fill:zs.GRAY,stroke:Bv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[zs.BLUE,zs.RED]),e.set(gp,[zs.BLUE,zs.PURPLE,zs.MAGENTA,zs.PINK,zs.RED,zs.ORANGE,zs.YELLOW,zs.GREEN]),e.set(Kd,[zs.BLUE,zs.RED]),e.set(Sc,zs.BLUE),e.set(Dc,zs.BLUE),e}},Gs={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},zv={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},gHe=class extends bp{getDefaultColors(){return{fills:Gs,strokes:zv,up:{fill:Gs.GREEN,stroke:zv.GREEN},down:{fill:Gs.RED,stroke:zv.RED},neutral:{fill:Gs.GRAY,stroke:zv.GRAY},altUp:{fill:Gs.BLUE,stroke:zv.BLUE},altDown:{fill:Gs.RED,stroke:zv.RED},altNeutral:{fill:Gs.GRAY,stroke:zv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[Gs.BLUE,Gs.RED]),e.set(gp,[Gs.BLUE,Gs.PURPLE,Gs.MAGENTA,Gs.PINK,Gs.RED,Gs.ORANGE,Gs.YELLOW,Gs.GREEN]),e.set(Kd,[Gs.BLUE,Gs.RED]),e.set(Sc,Gs.BLUE),e.set(Dc,Gs.BLUE),e}},wa={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},sf={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},fHe=class extends k_{getDefaultColors(){return{fills:{...wa,RED:wa.ORANGE},strokes:{...sf,RED:sf.ORANGE},up:{fill:wa.GREEN,stroke:sf.GREEN},down:{fill:wa.ORANGE,stroke:sf.ORANGE},neutral:{fill:wa.GRAY,stroke:sf.GRAY},altUp:{fill:wa.BLUE,stroke:sf.BLUE},altDown:{fill:wa.ORANGE,stroke:sf.ORANGE},altNeutral:{fill:wa.GRAY,stroke:sf.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[wa.ORANGE,wa.YELLOW,wa.GREEN]),e.set(Kd,[wa.GREEN,wa.YELLOW,wa.ORANGE]),e.set(Sc,wa.BLUE),e.set(Dc,wa.BLUE),e}},nl={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},_p={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},mHe=class extends bp{getDefaultColors(){return{fills:{...nl,RED:nl.ORANGE},strokes:{..._p,RED:_p.ORANGE},up:{fill:nl.GREEN,stroke:_p.GREEN},down:{fill:nl.ORANGE,stroke:_p.ORANGE},neutral:{fill:_p.GRAY,stroke:_p.GRAY},altUp:{fill:nl.BLUE,stroke:_p.BLUE},altDown:{fill:nl.ORANGE,stroke:_p.ORANGE},altNeutral:{fill:nl.GRAY,stroke:_p.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[nl.ORANGE,nl.YELLOW,nl.GREEN]),e.set(Kd,[nl.GREEN,nl.YELLOW,nl.ORANGE]),e.set(Sc,nl.BLUE),e.set(Dc,nl.BLUE),e}},rl={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Gv={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},vHe=class extends k_{getDefaultColors(){return{fills:rl,strokes:Gv,up:{fill:rl.GREEN,stroke:Gv.GREEN},down:{fill:rl.RED,stroke:Gv.RED},neutral:{fill:rl.GRAY,stroke:Gv.GRAY},altUp:{fill:rl.BLUE,stroke:Gv.BLUE},altDown:{fill:rl.ORANGE,stroke:Gv.ORANGE},altNeutral:{fill:rl.GRAY,stroke:Gv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[rl.ORANGE,rl.YELLOW,rl.GREEN]),e.set(gp,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),e.set(Kd,[rl.GREEN,rl.YELLOW,rl.RED]),e.set(Sc,rl.BLUE),e.set(Dc,rl.BLUE),e}},sl={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Hv={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},yHe=class extends bp{getDefaultColors(){return{fills:sl,strokes:Hv,up:{fill:sl.GREEN,stroke:Hv.GREEN},down:{fill:sl.RED,stroke:Hv.RED},neutral:{fill:sl.GRAY,stroke:Hv.GRAY},altUp:{fill:sl.BLUE,stroke:Hv.BLUE},altDown:{fill:sl.ORANGE,stroke:Hv.ORANGE},altNeutral:{fill:sl.GRAY,stroke:Hv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(xc,[sl.ORANGE,sl.YELLOW,sl.GREEN]),e.set(gp,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),e.set(Kd,[sl.GREEN,sl.YELLOW,sl.RED]),e.set(Sc,sl.BLUE),e.set(Dc,sl.BLUE),e}},P_=()=>new bp,ase={"ag-default-dark":()=>new k_,"ag-sheets-dark":()=>new fHe,"ag-polychroma-dark":()=>new pHe,"ag-vivid-dark":()=>new vHe,"ag-material-dark":()=>new uHe,"ag-financial-dark":()=>new cHe,null:P_,undefined:P_,"ag-default":P_,"ag-sheets":()=>new mHe,"ag-polychroma":()=>new gHe,"ag-vivid":()=>new yHe,"ag-material":()=>new hHe,"ag-financial":()=>new dHe};function ck(e){if(e instanceof bp)return e;if(null==e||"string"==typeof e){const t=ase[e];return t?t():(Xe.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),P_())}if(sHe(e,CHe,"theme")){const t=function _He(e){let i,t=e;const n=[];for(;"object"==typeof t;)i??(i=t.palette),t.overrides&&n.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:$i(...n),palette:i}}(e);return new((t.baseTheme?ck(t.baseTheme):P_()).constructor)(t)}return P_()}var CHe={baseTheme:((...e)=>Wu(t=>e.some(i=>i(t)),e.map(t=>t[ok]).filter(Boolean).join(" or ")))(yp,ise),overrides:ise,palette:{fills:sse(yp),strokes:sse(yp),up:{fill:yp,stroke:yp},down:{fill:yp,stroke:yp},neutral:{fill:yp,stroke:yp}}},wHe=new Set(["map-shape-background","map-line-background"]),lse=class{constructor(e,t,i,n){var r;this.debug=vr.create(!0,"opts"),this.optionMetadata=n??{},this.processedOverrides=t??{};const s={shallow:["data"]};this.userOptions=Eo(e,s);let o=Eo(e,s);const{presetType:a}=this.optionMetadata;if(null!=a){const m=iHe[a],y=o,_=o.type,x=null!=_?ck(o.theme).presets[_]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",y),o=m?.(y,x,()=>this.activeTheme)??o}Vu.isEnterprise||Jre(o),this.activeTheme=ck(o.theme),a&&(o=this.activeTheme.templateTheme(o)),this.sanityCheckAndCleanup(o),this.defaultAxes=this.getDefaultAxes(o),this.specialOverrides=this.specialOverridesDefaults({...i});const l=this.optionsType(o),{axes:c={},annotations:{axesButtons:d=null,...u}={},series:h,...g}=this.getSeriesThemeConfig(l);this.processedOptions=Eo($i(t,o,null!=d?{annotations:{axesButtons:d}}:{},g,this.defaultAxes),s),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=u,(m_(this.processedOptions)||function Aze(e){const t=dp(e);return AR(e)&&"pie"!==t&&"donut"!==t}(this.processedOptions))&&null==this.processedOptions.legend?.enabled&&((r=this.processedOptions).legend??(r.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions,o),Vu.isEnterprise||Jre(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(e){return dd(e,this.processedOptions)}getSeriesThemeConfig(e){const t=Eo(this.activeTheme?.config[e]??{});return this.removeLeftoverSymbols(t),t}getDefaultAxes(e){const t=this.optionsType(e),i=e.series?.find(n=>(n.type??"line")===t)??{};return Cc.cloneDefaultAxes(t,i)}optionsType(e){return e.series?.[0]?.type??"line"}sanityCheckAndCleanup(e){this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),e.series?.some(t=>"bullet"===t.type)&&null!=e.sync&&!1!==e.sync.enabled&&(Xe.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map(i=>{const{crossLines:n,...r}=$i(t[i.type]?.[i.position],t[i.type]);i.crossLines&&(i.crossLines=qT(i.crossLines,n));const s=r.gridLine?.style;i.gridLine?.style&&s?.length&&(i.gridLine.style=i.gridLine.style.map((u,h)=>null!=u.stroke||null!=u.lineDash?$i(u,s.at(h%s.length)):u));const{top:o,right:a,bottom:l,left:c,...d}=$i(i,r);return d}))}processSeriesOptions(e){const t=this.getTooltipPositionDefaults(e),i=qa(e.theme)?s5(e.theme?.palette):"inbuilt",n={colourIndex:0,userPalette:i},r=e.series?.map(s=>{s.type??(s.type=this.getDefaultSeriesType(e));const{innerLabels:o,...a}=this.getSeriesThemeConfig(s.type).series??{},l=wHe.has(s.type)?{colourIndex:0,userPalette:i}:n,c=this.getSeriesPalette(s.type,l),d=this.getTooltipRangeDefaults(e,s.type),u=$i(this.getSeriesGroupingOptions(s),s,t,d,a,c,{visible:!0});return u.innerLabels&&(u.innerLabels=qT(u.innerLabels,o)),this.activeTheme.templateTheme(u)});e.series=this.setSeriesGroupingOptions(r??[])}processMiniChartSeriesOptions(e){let t=e.navigator?.miniChart?.series;if(null==t)return;const i={colourIndex:0,userPalette:qa(e.theme)?s5(e.theme.palette):"inbuilt"};t=t.map(n=>{n.type??(n.type="line");const{innerLabels:r,...s}=this.getSeriesThemeConfig(n.type).series??{},o=$i(this.getSeriesGroupingOptions(n),n,s,this.getSeriesPalette(n.type,i));return this.activeTheme.templateTheme(o)}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(t)}getSeriesPalette(e,t){const i=Cc.getPaletteFactory(e),{colourIndex:n,userPalette:r}=t,{fills:s=[],strokes:o=[]}=this.activeTheme.palette;return i?.({userPalette:r,colorsCount:Math.max(s.length,o.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors:a=>(t.colourIndex+=a,{fills:pV(s,a,n),strokes:pV(o,a,n)})})}getSeriesGroupingOptions(e){const t=Cc.isGroupable(e.type),i=Cc.isStackable(e.type),n=Cc.isStackedByDefault(e.type);e.grouped&&!t&&Xe.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!i&&Xe.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:r,stacked:s}=e;return s??(s=(n||null!=e.stackGroup)&&!(t&&r)),r??(r=!0),{stacked:i&&s,grouped:t&&r&&!(i&&s)}}setSeriesGroupingOptions(e){const t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);const i={},n=t.reduce((r,s)=>{var o;return"default"===s.groupType||(r[o=s.seriesType]??(r[o]=0),r[s.seriesType]+="stack"===s.groupType?1:s.series.length),r},{});return t.flatMap(r=>{var s;switch(i[s=r.seriesType]??(i[s]=0),r.groupType){case"stack":{const o=i[r.seriesType]++;return r.series.map((a,l)=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:o,groupCount:n[r.seriesType],stackIndex:l,stackCount:r.series.length}}))}case"group":return r.series.map(o=>Object.assign(o,{seriesGrouping:{groupId:r.groupId,groupIndex:i[r.seriesType]++,groupCount:n[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:s,...o})=>o)}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const t=new Map;return e.reduce((i,n)=>{const r=n.type;if(n.stacked||n.grouped){const s=this.getSeriesGroupId(n);if(!t.has(s)){const a={groupType:n.stacked?"stack":"group",seriesType:r,series:[],groupId:s};t.set(s,a),i.push(a)}t.get(s).series.push(n)}else i.push({groupType:"default",seriesType:r,series:[n],groupId:"__default__"});return i},[])}getDefaultSeriesType(e){if(m_(e))return"line";if(AR(e))return"pie";if(fB(e))return"treemap";if(mB(e))return"map-shape";if(vB(e))return"sankey";if(yB(e))return"pyramid";if(TR(e))return"radial-gauge";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){const t=e.tooltip?.position;if(!Bl(t))return;const{type:i,xOffset:n,yOffset:r}=t,s={};return zl(i)&&vee(GJ,i)&&(s.type=i),nn(n)&&(s.xOffset=n),nn(r)&&(s.yOffset=r),{tooltip:{position:s}}}getTooltipRangeDefaults(e,t){return{tooltip:{range:e.tooltip?.range??Cc.getTooltipDefauls(t)?.range}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([i,n])=>{e.series?.some(r=>null!=r[i])&&Xe.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)})}axesTypeIntegrity(e){if("axes"in e){const t=e.axes??[];for(const{type:i}of t)if(!Rze(i)){delete e.axes;const n=cp.publicKeys().join(", ");Xe.warnOnce(`unknown axis type: ${i}; expected one of: ${n}`)}}}seriesTypeIntegrity(e){e.series=e.series?.filter(({type:t})=>{if(null==t||function Tze(e){return null!=e&&Yr.has(e)}(t)||function dze(e){return f_.some(t=>"series"===t.type&&t.identifier===e)}(t))return!0;Xe.warnOnce(`unknown series type: ${t}; expected one of: ${Qie.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){const t=e.series;if(t&&t.length>1&&t.some(i=>Cc.isSolo(i.type))){const i=this.optionsType(e);if(Cc.isSolo(i))Xe.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{const{solo:n,nonSolo:r}=hV(t,o=>Cc.isSolo(o.type)?"solo":"nonSolo"),s=eR(n.map(o=>o.type)).join(", ");Xe.warn(`Unable to mix these series types with the lead series type: ${s}`),e.series=r}}}enableConfiguredOptions(e,t){Nu(t,(i,n)=>{n&&"enabled"in n&&!n._enabledFromTheme&&null==i.enabled&&(n.enabled=!0)},{skip:["data","theme"]},e),Nu(e,i=>{null!=i._enabledFromTheme&&delete i._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(e){Nu(e,t=>{"enabled"in t&&!1===t.enabled&&Object.keys(t).forEach(i=>{"enabled"!==i&&delete t[i]})},{skip:["data","theme"]})}removeLeftoverSymbols(e){Nu(e,t=>{if(t&&qa(t))for(const[i,n]of Object.entries(t))yee(n)&&delete t[i]},{skip:["data"]})}specialOverridesDefaults(e){if(null!=e.window?cee(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),null!=e.document?lee(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),null==e.window)throw new Error("AG Charts - unable to resolve global window");if(null==e.document)throw new Error("AG Charts - unable to resolve global document");return e}},K1=vr.create(!0,"opts");function cse(e){if(m_(e))return"cartesian";if(AR(e))return"polar";if(fB(e))return"hierarchy";if(mB(e))return"topology";if(vB(e))return"flow-proportion";if(yB(e))return"standalone";if(TR(e))return"gauge";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var F_=class{static licenseCheck(e){this.licenseChecked||(this.licenseManager=Vu.licenseManager?.(e),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){return Vu.licenseManager?.({}).getLicenseDetails(e)}static getInstance(e){return dse.getInstance(e)}static create(e,t){this.licenseCheck(e);const i=dse.createOrUpdate({userOptions:e,licenseManager:this.licenseManager,styles:null!=Vu.styles?[["ag-charts-enterprise",Vu.styles]]:[],optionsMetadata:t});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&Vu.injectWatermark?.(i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),i}static createFinancialChart(e){return this.create(e,{presetType:"price-volume"})}static createGauge(e){return this.create(e,{presetType:"gauge"})}static __createSparkline(e){return this.create(e,{presetType:"sparkline"})}};F_.licenseChecked=!1,F_.gridContext=!1;var af=class Lf{static getInstance(t){const i=jg.getInstance(t);return i?lne.chartInstances.get(i):void 0}static initialiseModules(){Lf.initialised||(function Wre(){Gg.register(une,p8e,t8e,gne,VGe,Z8e,tGe,nGe,oGe,aGe,hGe,gGe,rGe);for(const e of[$g,v1,__,zg,wv])cp.register(e.type,{moduleFactory:t=>new e(t),hidden:e===zg})}(),function BGe(){for(const e of Gg.modules){if("enterprise"===e.packageType&&!bze(e)&&Xe.errorOnce("Unexpected enterprise module registered: "+e.identifier),"root"===e.type&&e.themeTemplate)for(const t of e.chartTypes)hB.set(t,e.themeTemplate);if("series"===e.type){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Cc.register(e.identifier,e)}if("series-option"===e.type&&e.themeTemplate)for(const t of e.seriesTypes)Cc.setThemeTemplate(t,e.themeTemplate);if("axis-option"===e.type&&e.themeTemplate)for(const t of e.axisTypes){const i=cp.getThemeTemplate(t),n=$i(e.themeTemplate,i);cp.setThemeTemplate(t,n)}"axis"===e.type&&cp.register(e.identifier,e),"legend"===e.type&&uB.register(e.identifier,e)}if(Gg.hasEnterpriseModules()){const e=function _ze(){return f_.filter(({useCount:e})=>null==e||0===e)}();e.length>0&&Xe.errorOnce("Enterprise modules expected but not registered: ",e)}}(),Lf.initialised=!0)}static createOrUpdate(t){let{proxy:i}=t;const{userOptions:n,licenseManager:r,styles:s,processedOverrides:o=i?.chart.chartOptions.processedOverrides??{},specialOverrides:a=i?.chart.chartOptions.specialOverrides??{},optionsMetadata:l=i?.chart.chartOptions.optionMetadata??{}}=t,{presetType:c}=l;Lf.initialiseModules(),K1(">>> AgCharts.createOrUpdate() user options",n);let d=n;F_.optionsMutationFn&&(d=F_.optionsMutationFn(d,c),K1(">>> AgCharts.createOrUpdate() MUTATED user options",d));const{overrideDevicePixelRatio:u,document:h,window:g,styleContainer:m,...y}=d,_=new lse(y,o,{...a,document:h,window:g,overrideDevicePixelRatio:u,styleContainer:m},l);let x=i?.chart;return(null==x||cse(_.processedOptions)!==cse(x?.chartOptions.processedOptions))&&(x=Lf.createChartInstance(_,x),s?.forEach(([D,M])=>{x?.ctx.domManager.addStyles(D,M)})),null==i?i=new lne(x,Lf.callbackApi,r):i.chart=x,K1.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[x.id]=x),x.queuedUserOptions.push(n),x.requestFactoryUpdate(D=>{D.applyOptions(_);const M=D.queuedUserOptions.indexOf(n)+1;D.queuedUserOptions.splice(0,M)}),i}static updateUserDelta(t,i){Nu(i=Eo(i,{shallow:["data"]}),o=>{if("object"==typeof o)for(const[a,l]of Object.entries(o))typeof l>"u"&&Object.assign(o,{[a]:Symbol("UNSET")})},{skip:["data"]});const{chart:n}=t,r=n.getOptions(),s=$i(i,r);K1(">>> AgCharts.updateUserDelta() user delta",i),K1("AgCharts.updateUserDelta() - base options",r),Lf.createOrUpdate({userOptions:s,proxy:t})}static createChartInstance(t,i){const n=i?.destroy({keepTransferableResources:!0});return new(Lf.getChartByOptions(t.processedOptions))(t,n)}static getChartByOptions(t){if(m_(t))return TB;if(fB(t))return K6;if(AR(t))return q6;if(mB(t))return n5;if(vB(t))return $6;if(yB(t))return Z6;if(TR(t))return Y6;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};af.caretaker=new Xte(b1),af.initialised=!1,af.callbackApi={caretaker:af.caretaker,create:(e,t,i,n)=>af.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:n}),update:(e,t)=>af.createOrUpdate({userOptions:e,proxy:t}),updateUserDelta:(e,t)=>af.updateUserDelta(e,t)};var dse=af;Xh({},{Arc:()=>$u,ArrowDown:()=>hse,ArrowUp:()=>use,BBox:()=>It,BandScale:()=>Rg,Caption:()=>yr,ChangeDetectableProperties:()=>s6,Circle:()=>Ug,ConicGradient:()=>SHe,ContinuousScale:()=>Fn,Diamond:()=>ine,DropShadow:()=>Zd,ExtendedPath2D:()=>C1,Gradient:()=>hR,Group:()=>Ti,HdpiCanvas:()=>iB,Image:()=>xv,Label:()=>po,Layer:()=>zu,Line:()=>Ul,LinearGradient:()=>TV,LinearScale:()=>pd,Marker:()=>Yl,Node:()=>Ag,OrdinalTimeScale:()=>jd,Path:()=>Ca,PointerEvents:()=>dee,RadialColumnShape:()=>Xd,Rect:()=>Xa,RedrawType:()=>Ig,Rotatable:()=>dv,RotatableGroup:()=>x6e,RotatableText:()=>ute,Scalable:()=>MV,ScalableGroup:()=>w6e,Scene:()=>nB,SceneChangeDetection:()=>Ct,ScenePathChangeDetection:()=>mi,Sector:()=>Jo,SectorBox:()=>Ore,Selection:()=>$r,Shape:()=>Wd,Square:()=>I1,SvgPath:()=>l5,Text:()=>ho,Tooltip:()=>ud,Transformable:()=>ws,TransformableText:()=>hv,Translatable:()=>Lg,TranslatableGroup:()=>rp,TranslatableLayer:()=>l_,Triangle:()=>b_,calculateDerivativeExtrema:()=>eB,calculateDerivativeExtremaXY:()=>die,drawCorner:()=>R1,easing:()=>dV,evaluateBezier:()=>_R,getFont:()=>EHe,getMarker:()=>ju,getRadialColumnWidth:()=>DHe,motion:()=>MHe,sectorBox:()=>k6,solveBezier:()=>CR,splitBezier:()=>wR,toRadians:()=>ya,toTooltipHtml:()=>o_});var $u=class extends Ca{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return av(qn(this.startAngle),qn(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?e.closePath():2===this.type&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new It(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(e,t){const i=this.getBBox();return 0!==this.type&&i.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};$u.className="Arc",$u.defaultStyles={...Wd.defaultStyles,lineWidth:1,fillStyle:null},E([mi()],$u.prototype,"centerX",2),E([mi()],$u.prototype,"centerY",2),E([mi()],$u.prototype,"radius",2),E([mi()],$u.prototype,"startAngle",2),E([mi()],$u.prototype,"endAngle",2),E([mi()],$u.prototype,"counterClockwise",2),E([mi()],$u.prototype,"type",2);var SHe=class extends hR{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}createCanvasGradient(e,t){const{colorSpace:n,stops:r,angle:s}=this,o=qn(ya(s+90));return"createConicGradient"in e?e.createConicGradient(o,t.x+.5*t.width,t.y+.5*t.height):new TV(n,r,s).createCanvasGradient(e,t)}};function a5(e,t,i){const n=Math.sqrt(e**2+t**2),s=Math.atan2(t,e)+i;return{x:Math.cos(s)*n,y:Math.sin(s)*n}}var Xd=class extends Ca{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,n=this.getRotation(),r=-i/2,s=i/2,o=-t,a=-e;let l=1/0,c=1/0,d=-1/0,u=-1/0;for(let h=0;h<4;h+=1){const{x:g,y:m}=a5(h%2==0?r:s,h<2?o:a,n);l=Math.min(g,l),c=Math.min(m,c),d=Math.max(g,d),u=Math.max(m,u)}return new It(l,c,d-l,u-c)}getRotation(){const{startAngle:e,endAngle:t}=this;return qn(e+h1(e,t)/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:n}=this,r=-e/2,s=e/2,o=-i,a=-t,l=this.getRotation(),c=[[r,a],[r,o],[s,o],[s,a]].map(([d,u])=>a5(d,u,l));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:n,axisInnerRadius:r,axisOuterRadius:s,isRadiusAxisReversed:o}=this,a=av(n,r),l=Math.asin(e/2/n),c=this.getRotation(),d=(P,G)=>a5(P,G,c),u=(P,G)=>Math.sqrt(P**2+G**2),h=(P,G)=>G>P?0:Math.sqrt(P**2-G**2),g=(P,G,Y)=>Y?P<G:P>G,m=a&&!isNaN(l)&&l<Math.PI/6;let y=-e/2,_=e/2;const x=-i,D=-n*(m?Math.cos(l):1),M=g(s,u(n,e/2),!o);if(M){const P=h(s,n);y=-P,_=P}t.clear(!0);const k=d(y,D);t.moveTo(k.x,k.y);const V=av(n,i),H=g(s,u(i,e/2),!o);if(V&&m)t.arc(0,0,n,qn(-l-Math.PI/2)+c,qn(l-Math.PI/2)+c,!1);else if(H){const P=-h(s,e/2),G=h(s,i);if(!M){const Y=d(y,P);t.lineTo(Y.x,Y.y)}if(t.arc(0,0,s,Math.atan2(P,y)+c,Math.atan2(x,-G)+c,!1),!av(G,0)){const Y=d(G,x);t.lineTo(Y.x,Y.y)}t.arc(0,0,s,Math.atan2(x,G)+c,Math.atan2(P,_)+c,!1)}else{const P=d(y,x),G=d(_,x);t.lineTo(P.x,P.y),t.lineTo(G.x,G.y)}const F=d(_,D);if(t.lineTo(F.x,F.y),m)t.arc(0,0,n,qn(l-Math.PI/2)+c,qn(-l-Math.PI/2)+c,!0);else{const P=d(y,D);t.lineTo(P.x,P.y)}t.closePath()}};function DHe(e,t,i,n,r){const s=h1(e,t),o=s*(1-n)/2;if(e+=o,t-=o,s<.001)return 2*i*r;if(s>=2*Math.PI){const g=e+s/2;e=g-Math.PI,t=g+Math.PI}const a=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),d=i*Math.sin(t),u=Math.floor(Math.sqrt((a-c)**2+(l-d)**2));return Math.max(1,Math.min(2*i*r,u))}Xd.className="RadialColumnShape",E([mi()],Xd.prototype,"isBeveled",2),E([mi()],Xd.prototype,"columnWidth",2),E([mi()],Xd.prototype,"startAngle",2),E([mi()],Xd.prototype,"endAngle",2),E([mi()],Xd.prototype,"outerRadius",2),E([mi()],Xd.prototype,"innerRadius",2),E([mi()],Xd.prototype,"axisInnerRadius",2),E([mi()],Xd.prototype,"axisOuterRadius",2),E([mi()],Xd.prototype,"isRadiusAxisReversed",2);var l5=class extends Ca{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[t,i,n]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const r=n.split(/\s+/g).map(Number);this.commands.push([i,r])}this.checkPathDirty()}}updatePath(){const{path:e,x:t,y:i}=this;e.clear();let n=t,r=i;for(const[s,o]of this.commands)switch(s){case"M":e.moveTo(t+o[0],i+o[1]),n=t+o[0];break;case"C":e.cubicCurveTo(t+o[0],i+o[1],t+o[2],i+o[3],t+o[4],i+o[5]),n=t+o[4],r=i+o[5];break;case"H":e.lineTo(t+o[0],r),n=i+o[0];break;case"L":e.lineTo(t+o[0],i+o[1]),n=t+o[0],r=i+o[1];break;case"V":e.lineTo(n,i+o[0]),r=i+o[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${s}' with '${o.join(" ")}'`)}e.closePath()}};E([mi()],l5.prototype,"x",2),E([mi()],l5.prototype,"y",2);var c5=class rhe extends Yl{updatePath(){super.applyPath(this.size/2,rhe.moves)}};c5.className="ArrowUp",c5.moves=[{x:0,y:0,t:"move"},{x:1,y:1.2},{x:-.5,y:0},{x:0,y:.8},{x:-1,y:0},{x:0,y:-.8},{x:-.5,y:0}];var use=c5,hse=class extends Yl{updatePath(){super.applyPath(this.size/2,use.moves.map(t=>({x:-1*t.x,y:-1*t.y})))}};hse.className="ArrowDown";var MHe={...ree,...zee},EHe=ls.toFontString;Xh({},{CARTESIAN_AXIS_TYPE:()=>yne,CARTESIAN_POSITION:()=>vne,ChartTheme:()=>bp,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>Dc,DEFAULT_ANNOTATION_COLOR:()=>Sc,DEFAULT_ANNOTATION_HANDLE_FILL:()=>YB,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>ZB,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>QB,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Ine,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Ane,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>KB,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>qB,DEFAULT_AXIS_GRID_COLOUR:()=>D_,DEFAULT_AXIS_LINE_COLOUR:()=>LR,DEFAULT_BACKGROUND_COLOUR:()=>NR,DEFAULT_CAPTION_ALIGNMENT:()=>Av,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Iv,DEFAULT_COLOURS:()=>f8e,DEFAULT_CROSS_LINES_COLOUR:()=>F1,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>xc,DEFAULT_FONT_FAMILY:()=>Ts,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>gp,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Kd,DEFAULT_GRIDLINE_ENABLED:()=>fp,DEFAULT_HIERARCHY_FILLS:()=>UB,DEFAULT_HIERARCHY_STROKES:()=>WB,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Dv,DEFAULT_INVERTED_LABEL_COLOUR:()=>wne,DEFAULT_LABEL_COLOUR:()=>To,DEFAULT_MUTED_LABEL_COLOUR:()=>Mv,DEFAULT_PADDING:()=>Xg,DEFAULT_POLAR_SERIES_STROKE:()=>jB,DEFAULT_SHADOW_COLOUR:()=>Ev,DEFAULT_TEXTBOX_COLOR:()=>e6,DEFAULT_TEXTBOX_FILL:()=>XB,DEFAULT_TEXTBOX_STROKE:()=>JB,DEFAULT_TEXT_ANNOTATION_COLOR:()=>$B,DEFAULT_TOOLBAR_POSITION:()=>L1,FONT_SIZE:()=>fne,FONT_WEIGHT:()=>mne,IS_COMMUNITY:()=>Cne,IS_DARK_THEME:()=>P1,IS_ENTERPRISE:()=>LB,PALETTE_ALT_DOWN_FILL:()=>Mne,PALETTE_ALT_DOWN_STROKE:()=>Sne,PALETTE_ALT_NEUTRAL_FILL:()=>Ene,PALETTE_ALT_NEUTRAL_STROKE:()=>HB,PALETTE_ALT_UP_FILL:()=>Dne,PALETTE_ALT_UP_STROKE:()=>xne,PALETTE_DOWN_FILL:()=>zB,PALETTE_DOWN_STROKE:()=>VB,PALETTE_NEUTRAL_FILL:()=>GB,PALETTE_NEUTRAL_STROKE:()=>O1,PALETTE_UP_FILL:()=>BB,PALETTE_UP_STROKE:()=>NB,POLAR_AXIS_SHAPE:()=>_ne,POLAR_AXIS_TYPE:()=>bne,getChartTheme:()=>ck,markerPaletteFactory:()=>OR,singleSeriesPaletteFactory:()=>S_,swapAxisCondition:()=>Dre,themes:()=>AHe});var AHe=sV(ase,e=>e?.());function d5(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");Xe.warnOnce(i)}}function PHe(e,t){const i=d5(),n=t?.default;return ep((r,s,o)=>(o!==n&&i(s.toString(),e),o))}function FHe(e,t){const i=d5();return ep((n,r,s)=>(s!==n[e]&&(i(r.toString(),`Use [${e}] instead.`),cV(n,e,t?t(s):s)),YT),(n,r)=>(i(r.toString(),`Use [${e}] instead.`),aV(n,e)))}function OHe(e,t,i){if(e>t)return;let n;for(;t>=e;){const r=Math.floor((t+e)/2),s=i(r);null==s?t=r-1:(n=s,e=r+1)}return n}Xh({},{BandScale:()=>Rg,ColorScale:()=>uv,ContinuousScale:()=>Fn,Invalidating:()=>Mo,LinearScale:()=>pd,OrdinalTimeScale:()=>jd,TimeScale:()=>xV}),Xh({},{Color:()=>ku,Debug:()=>vr,Logger:()=>Xe,Padding:()=>Hg,TimeInterval:()=>sv,angleBetween:()=>h1,angleDiff:()=>E6e,arcDistanceSquared:()=>ate,areArrayNumbersEqual:()=>pte,checkDatum:()=>zV,clamp:()=>Si,clampArray:()=>HT,clockwiseAngle:()=>ote,clockwiseAngles:()=>T6e,countFractionDigits:()=>ZS,createId:()=>nd,day:()=>$4,deepClone:()=>Eo,displacePointFromVector:()=>I6e,extent:()=>Ou,findMinMax:()=>Vl,findRangeExtent:()=>Y0,formatNormalizedPercentage:()=>eV,formatPercentage:()=>tV,friday:()=>QJ,generateUUID:()=>vBe,getAttribute:()=>fte,hour:()=>W4,interpolateColor:()=>pee,interpolateNumber:()=>hee,isBetweenAngles:()=>cd,isContinuous:()=>fR,isDate:()=>t1,isDenseInterval:()=>c1,isEqual:()=>av,isNegative:()=>qS,isNumber:()=>nn,isNumberEqual:()=>av,isNumberObject:()=>Cte,isString:()=>zl,isStringObject:()=>_te,jsonApply:()=>s_,jsonDiff:()=>dd,jsonWalk:()=>Nu,lineDistanceSquared:()=>g1,millisecond:()=>H4,minute:()=>U4,mod:()=>WT,monday:()=>YJ,month:()=>q4,normalisedExtentWithMetadata:()=>XT,normalizeAngle180:()=>u1,normalizeAngle360:()=>qn,normalizeAngle360Inclusive:()=>ste,range:()=>uR,resetIds:()=>see,round:()=>jT,sanitizeHtml:()=>Kr,saturday:()=>XJ,second:()=>j4,setAttribute:()=>Wl,setAttributes:()=>pv,setElementStyle:()=>Ng,shallowClone:()=>pR,sunday:()=>K4,thursday:()=>ZJ,tickFormat:()=>Zee,tickStep:()=>n_,ticks:()=>dR,toDegrees:()=>M6e,toFixed:()=>UT,toRadians:()=>ya,transformIntegratedCategoryValue:()=>gv,tuesday:()=>KJ,utcDay:()=>tee,utcHour:()=>eee,utcMinute:()=>JJ,utcMonth:()=>iee,utcYear:()=>nee,wednesday:()=>qJ,year:()=>Z4}),Xh({},{AND:()=>rd,ARRAY:()=>J0,ARRAY_OF:()=>ip,AbstractBarSeries:()=>Mre,AbstractBarSeriesProperties:()=>w6,ActionOnSet:()=>Qa,Animation:()=>See,AnimationManager:()=>Mie,Axis:()=>YV,AxisInterval:()=>fv,AxisLabel:()=>go,AxisTick:()=>c_,AxisTicks:()=>QHe,BOOLEAN:()=>Jt,BOOLEAN_ARRAY:()=>XBe,Background:()=>C_,BackgroundModule:()=>une,BaseModuleInstance:()=>y1,BaseProperties:()=>Fi,COLOR_STRING:()=>On,COLOR_STRING_ARRAY:()=>sd,CachedTextMeasurer:()=>dte,CachedTextMeasurerPool:()=>sp,CartesianAxis:()=>Bg,CartesianSeries:()=>Wg,CartesianSeriesNodeEvent:()=>AB,CartesianSeriesProperties:()=>hp,CategoryAxis:()=>v1,ChartAxisDirection:()=>_V,ChartEventManager:()=>Eie,ChartOptions:()=>lse,ChartUpdateType:()=>S1,ContextMenuRegistry:()=>Iie,Cursor:()=>Aie,CursorManager:()=>Tie,DATE:()=>mV,DATE_ARRAY:()=>JBe,DATE_OR_DATETIME_MS:()=>vV,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>_v,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Cv,DEFAULT_TOOLTIP_CLASS:()=>Bu,DEFAULT_TOOLTIP_DARK_CLASS:()=>vte,DEGREE:()=>kg,DIRECTION:()=>Lee,DOMManager:()=>aie,DRAG_INTERACTION_TYPES:()=>rB,DataController:()=>qie,DataModel:()=>Yie,DataModelSeries:()=>EB,DataService:()=>MR,Default:()=>Vg,Deprecated:()=>PHe,DeprecatedAndRenamedTo:()=>FHe,EMPTY_TOOLTIP_CONTENT:()=>op,FONT_STYLE:()=>Pg,FONT_WEIGHT:()=>Fg,FUNCTION:()=>Hl,GREATER_THAN:()=>t_,GestureDetector:()=>kie,GroupedCategoryAxis:()=>zg,HierarchyNode:()=>q1,HierarchySeries:()=>KHe,HierarchySeriesProperties:()=>lf,HighlightManager:()=>Pie,HighlightProperties:()=>IB,HighlightStyle:()=>A1,INTERACTION_RANGE:()=>lR,INTERPOLATION_STEP_POSITION:()=>Yne,INTERPOLATION_TYPE:()=>$ne,InteractionManager:()=>Sie,InteractionState:()=>bR,InterpolationProperties:()=>I_,KeyNavManager:()=>Fie,LABEL_PLACEMENT:()=>bV,LARGEST_KEY_INTERVAL:()=>zne,LESS_THAN:()=>e_,LINE_CAP:()=>e6e,LINE_DASH:()=>np,LINE_JOIN:()=>t6e,LINE_STYLE:()=>i6e,LayoutElement:()=>ZV,LayoutManager:()=>Kte,LonLatBBox:()=>qHe,MARKER_SHAPE:()=>Une,MATCHING_CROSSLINE_TYPE:()=>GV,MAX_SPACING:()=>Vee,MIN_SPACING:()=>Nee,MercatorScale:()=>t5,ModuleRegistry:()=>Ute,Motion:()=>dV,NAN:()=>rR,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Za,NUMBER:()=>ar,NUMBER_ARRAY:()=>oR,NUMBER_OR_NAN:()=>X0,Navigator:()=>Qg,NavigatorModule:()=>gne,NodeRegionBBoxProvider:()=>x1,OBJECT:()=>Tt,OBJECT_ARRAY:()=>Fee,OR:()=>cv,OVERFLOW_STRATEGY:()=>r6e,ObserveChanges:()=>ba,PHASE_METADATA:()=>r1,PHASE_ORDER:()=>Q0,PLACEMENT:()=>s6e,PLAIN_OBJECT:()=>Tee,POINTER_INTERACTION_TYPES:()=>sB,POSITION:()=>yV,POSITION_TOP_COORDINATES:()=>mR,POSITIVE_NUMBER:()=>st,PolarAxis:()=>kv,PolarSeries:()=>tk,PropertiesArray:()=>nR,ProxyOnWrite:()=>z6e,ProxyProperty:()=>As,ProxyPropertyOnWrite:()=>Io,QUICK_TRANSITION:()=>.2,RATIO:()=>hn,REAL_NUMBER:()=>Ree,REGIONS:()=>Oie,RegionManager:()=>zie,RepeatType:()=>xee,SKIP_JS_BUILTINS:()=>lV,SMALLEST_KEY_INTERVAL:()=>Bne,SORT_DOMAIN_GROUPS:()=>Gne,STRING:()=>et,STRING_ARRAY:()=>Pee,Series:()=>v_,SeriesGroupingChangedEvent:()=>_B,SeriesItemHighlightStyle:()=>up,SeriesMarker:()=>ql,SeriesNodeEvent:()=>E1,SeriesNodePickMode:()=>ene,SeriesProperties:()=>wc,SeriesTooltip:()=>Ja,SimpleRegionBBoxProvider:()=>Lie,SimpleTextMeasurer:()=>kV,StateMachine:()=>f1,TEXT_ALIGN:()=>Oee,TEXT_WRAP:()=>aR,TICK_INTERVAL:()=>kte,TOOLBAR_ALIGNMENTS:()=>aB,TOOLBAR_GROUPS:()=>ER,TOOLBAR_GROUP_ORDERING:()=>lB,TOOLBAR_POSITIONS:()=>vv,TextUtils:()=>ls,TextWrapper:()=>VV,ToolbarManager:()=>Gie,ToolbarPosition:()=>p_,Tooltip:()=>ud,TooltipManager:()=>IR,TooltipPosition:()=>a_,UNION:()=>Yn,UpdateService:()=>jie,VERTICAL_ALIGN:()=>n6e,Validate:()=>L,Vec2:()=>R_,Vec4:()=>LHe,ZIndexMap:()=>bte,ZoomManager:()=>Hie,__FORCE_MODULE_DETECTION:()=>XHe,accumulateGroup:()=>Hne,accumulateStack:()=>jne,accumulatedValue:()=>Pne,accumulativeValueProperty:()=>V1,addHitTestersToQuadtree:()=>_6,adjustLabelPlacement:()=>Rre,animationValidation:()=>M_,area:()=>n6,arraysEqual:()=>Tg,backfillPathPointData:()=>u6,buildFormatter:()=>s1,buildResetPathFn:()=>g6,calculateDefaultTimeTickFormat:()=>Aee,calculateLabelChartPadding:()=>xte,calculateLabelTranslation:()=>HV,calculatePlacement:()=>mte,checkCrisp:()=>Are,circularSliceArray:()=>pV,clamp:()=>Si,clampArray:()=>HT,collapsedStartingBarPosition:()=>U1,computeBarFocusBounds:()=>D6,computeMarkerFocusBounds:()=>j1,convertValuesToScaleByDefs:()=>Bze,countFractionDigits:()=>ZS,createButton:()=>JHe,createCheckbox:()=>e7e,createDatumId:()=>mp,createDeprecationWarning:()=>d5,createElement:()=>$n,createElementId:()=>wBe,createElementNS:()=>J4,createIcon:()=>gse,createSelect:()=>t7e,createTextArea:()=>i7e,dateToNumber:()=>Gl,deconstructSelectionsOrNodes:()=>QT,deepClone:()=>Eo,deepMerge:()=>OBe,defaultTimeTickFormat:()=>fV,determinePathStatus:()=>fre,diff:()=>E_,downloadUrl:()=>aee,enterpriseModule:()=>Vu,excludesType:()=>bee,extent:()=>Ou,extractDecoratedProperties:()=>RBe,findMaxValue:()=>OHe,findMinMax:()=>Vl,findQuadtreeMatch:()=>C6,findRangeExtent:()=>Y0,fixNumericExtent:()=>$l,focusCursorAtEnd:()=>_Be,formatNormalizedPercentage:()=>eV,formatPercentage:()=>tV,formatValue:()=>VR,fromToMotion:()=>_s,getDocument:()=>Hd,getLastFocus:()=>rie,getMissCount:()=>dB,getPath:()=>aV,getPathComponents:()=>$ie,getRectConfig:()=>Ire,getWindow:()=>Do,groupAccumulativeValueProperty:()=>Jg,groupAverage:()=>kne,groupBy:()=>hV,groupCount:()=>i6,groupStackValueProperty:()=>Vne,groupSum:()=>Tne,initMenuKeyNav:()=>b5e,initRovingTabIndex:()=>_1,initToolbarKeyNav:()=>XV,isAnimatingFloatingPosition:()=>cB,isArray:()=>as,isBoolean:()=>rV,isButtonClickEvent:()=>nie,isDate:()=>e1,isDecoratedObject:()=>KT,isDefined:()=>Z0,isEnumKey:()=>FBe,isEnumValue:()=>vee,isEqual:()=>av,isFiniteNumber:()=>nn,isFunction:()=>tp,isHtmlElement:()=>mee,isNegative:()=>qS,isNumber:()=>bc,isObject:()=>qa,isObjectLike:()=>PBe,isPlainObject:()=>Bl,isProperties:()=>Lu,isRegExp:()=>fee,isString:()=>zl,isSymbol:()=>yee,isValidDate:()=>t1,jsonApply:()=>s_,jsonDiff:()=>dd,jsonWalk:()=>Nu,keyProperty:()=>qd,labelDirectionHandling:()=>Rte,listDecoratedProperties:()=>q0,makeAccessibleClickListener:()=>JV,mapValues:()=>sV,markerFadeInAnimation:()=>z1,markerPaletteFactory:()=>OR,markerScaleInAnimation:()=>l6,markerSwipeScaleInAnimation:()=>c6,mergeArrayDefaults:()=>qT,mergeDefaults:()=>$i,midpointStartingBarPosition:()=>Q8e,minMax:()=>d6,mod:()=>WT,moduleRegistry:()=>Gg,nearestSquared:()=>GT,nearestSquaredInContainer:()=>bBe,normaliseGroupTo:()=>HR,normalisePropertyTo:()=>Tv,normalisedExtentWithMetadata:()=>XT,objectEqualWith:()=>_ee,pairCategoryData:()=>gre,pairContinuousData:()=>pre,partialAssign:()=>lv,pathFadeInAnimation:()=>WR,pathFadeOutAnimation:()=>L8e,pathRangePoints:()=>ure,pathRangePointsReverse:()=>N8e,pathRanges:()=>dre,pathSwipeInAnimation:()=>p6,pickByMatchingAngle:()=>V6,pickNode:()=>y_,plotPath:()=>h6,predicateWithMessage:()=>Kn,prepareAreaPathAnimation:()=>Sre,prepareAxisAnimationContext:()=>UV,prepareAxisAnimationFunctions:()=>Pte,prepareBarAnimationFunctions:()=>W1,prepareLinePathAnimation:()=>vre,prepareLinePathAnimationFns:()=>mre,prepareLinePathPropertyAnimation:()=>KR,prepareMarkerAnimation:()=>ere,preparePieSeriesAnimationFunctions:()=>Rv,range:()=>Rne,rangedValueProperty:()=>r6,renderPartialPath:()=>sre,resetAxisGroupFn:()=>Fte,resetAxisLabelSelectionFn:()=>Lte,resetAxisLineSelectionFn:()=>Nte,resetAxisSelectionFn:()=>Ote,resetBarSelectionsFn:()=>$1,resetIds:()=>see,resetLabelFn:()=>vp,resetMarkerFn:()=>G1,resetMarkerPositionFn:()=>H1,resetMotion:()=>Xs,resetPieSelectionsFn:()=>N6,round:()=>jT,scale:()=>Xo,seriesLabelFadeInAnimation:()=>gn,seriesLabelFadeOutAnimation:()=>ef,setDocument:()=>lee,setElementBBox:()=>Eg,setPath:()=>cV,setWindow:()=>cee,shallowClone:()=>pR,singleSeriesPaletteFactory:()=>S_,sortBasedOnArray:()=>jBe,splitPairData:()=>rre,staticFromToMotion:()=>Pu,stopPageScrolling:()=>sie,stringify:()=>a1,sum:()=>m8e,sumValues:()=>GR,toArray:()=>JT,toFixed:()=>UT,toTooltipHtml:()=>o_,trailingAccumulatedValue:()=>Fne,trailingAccumulatedValueProperty:()=>y8e,unique:()=>eR,updateClipPath:()=>$R,updateLabelNode:()=>Tre,updateRect:()=>Ere,validateCrossLineValues:()=>wte,valueProperty:()=>Vi,without:()=>oV});var LHe={bottomCenter:function GHe(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}},center:function zHe(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}},clone:function WHe(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}},end:function VHe(e){return{x:e.x2,y:e.y2}},from:function $He(e,t,i,n){if("number"==typeof e)return{x1:e,y1:t,x2:i,y2:n};if("width"in e)return{x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height};throw new Error(`Values can not be converted into a vector4: [${e}] [${t}] [${i}] [${n}]`)},height:function jHe(e){return Math.abs(e.y2-e.y1)},round:function UHe(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}},start:function NHe(e){return{x:e.x1,y:e.y1}},topCenter:function BHe(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}},origin:function YHe(){return{x1:0,y1:0,x2:0,y2:0}},width:function HHe(e){return Math.abs(e.x2-e.x1)}},pse=class lP{constructor(t,i,n,r,s,o,a,l,c,d,u){this.series=t,this.index=i,this.datum=n,this.size=r,this.colorValue=s,this.fill=o,this.stroke=a,this.sumSize=l,this.depth=c,this.parent=d,this.children=u,this.midPoint={x:0,y:0}}contains(t){let i=t;for(;null!=i&&i.index>=this.index;){if(i===this)return!0;i=i.parent}return!1}walk(t,i=lP.Walk.PreOrder){i===lP.Walk.PreOrder&&t(this),this.children.forEach(n=>{n.walk(t,i)}),i===lP.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};pse.Walk={PreOrder:0,PostOrder:1};var q1=pse,KHe=class extends v_{constructor(e){super({moduleCtx:e,pickModes:[1,0],contentGroupVirtual:!1}),this.rootNode=new q1(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new f1("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}processData(){var e=this;return(0,J.A)(function*(){const{childrenKey:t,sizeKey:i,colorKey:n,fills:r,strokes:s,colorRange:o}=e.properties;let a=0,c=0,d=1/0,u=-1/0;const h=new Array((e.data?.length??0)+1).fill(void 0),m=(D,M)=>(M?.forEach(k=>{const V=((D,M)=>{const k=(a+=1,a),V=null!=M.depth?M.depth+1:0,H=null!=t?D[t]:void 0,F=null==H||0===H.length;let P=null!=i?D[i]:void 0;P=Number.isFinite(P)?Math.max(P,0):F?1:0;const G=P;c=Math.max(c,V);const Y=null!=n?D[n]:void 0;return"number"==typeof Y&&(h[k]=Y,d=Math.min(d,Y),u=Math.max(u,Y)),m(new q1(e,k,D,P,Y,void 0,void 0,G,V,M,[]),H)})(k,D);D.children.push(V),D.sumSize+=V.sumSize}),D),y=m(new q1(e,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),e.data),_=[d,u];let x;null!=o&&Number.isFinite(d)&&Number.isFinite(u)&&(x=new uv,x.domain=_,x.range=o,x.update()),y.children.forEach((D,M)=>{D.walk(k=>{let V;const H=h[k.index];null!=H&&(V=x?.convert(H)),V??(V=r?.[M%r.length]),k.fill=V,k.stroke=null==x?s?.[M%s.length]:"rgba(0, 0, 0, 0.2)"})}),e.rootNode=y,e.maxDepth=c,e.colorDomain=_,e.focusPath=[{nodeDatum:e.rootNode,childIndex:0}]})()}update({seriesRect:e}){var t=this;return(0,J.A)(function*(){yield t.updateSelections(),yield t.updateNodes();const i=t.getAnimationData();t.checkResize(e)&&t.animationState.transition("resize",i),t.animationState.transition("update",i)})()}resetAllAnimation(e){const t=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=t&&Xs(e.datumSelections,t)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const t=this.animationResetFns?.datum;null!=t&&Xs([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:n,visible:r}=this.properties;return"gradient"===e&&null!=t&&null!=n?[{legendType:"gradient",enabled:r,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){if(0===this.rootNode.children.length)return;0===this.focusPath.length&&Xe.error("this.focusPath should not be empty");const{datumIndexDelta:t,otherIndexDelta:i}=e,{focusPath:n}=this,r=n.length-2;if(0!==i||1===n.length){const s=Math.max(0,r+i);if(void 0!==n[s+1])return n.length=s+2,this.computeFocusOutputs(n[s+1]);{let o=n[n.length-1];for(;o.nodeDatum.children.length>0&&(o.nodeDatum.depth??-1)<s;){const a={nodeDatum:o.nodeDatum.children[0],childIndex:0};n.push(a),o=a}return this.computeFocusOutputs(o)}}if(0===t)return this.computeFocusOutputs(n[n.length-1]);{const s=n[r+1].childIndex+t,o=n[r].nodeDatum,a=o?.children?.length;if(void 0!==a){const l=Si(0,s,a-1),c={nodeDatum:o.children[l],childIndex:l};return n[r+1]=c,n.length=r+2,this.computeFocusOutputs(c)}}}getDatumAriaText(e,t){if(e instanceof q1)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t});Xe.error(`datum is not HierarchyNode: ${e}`)}computeFocusOutputs({nodeDatum:e,childIndex:t}){const i=this.computeFocusBounds(e);if(i)return{datum:e,datumIndex:t,otherIndex:e.depth,bounds:i,showFocusBox:!0}}},lf=class extends wc{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(mo),this.strokes=Object.values(Uu)}};E([L(et)],lf.prototype,"childrenKey",2),E([L(et,{optional:!0})],lf.prototype,"sizeKey",2),E([L(et,{optional:!0})],lf.prototype,"colorKey",2),E([L(et,{optional:!0})],lf.prototype,"colorName",2),E([L(sd)],lf.prototype,"fills",2),E([L(sd)],lf.prototype,"strokes",2),E([L(sd,{optional:!0})],lf.prototype,"colorRange",2);var qHe=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},u5=class tH{constructor(){this.id=nd(this),this.axisGroup=new rp({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=$r.select(this.axisGroup,ho),this.interval=new fv,this.label=new go,this.scale=new pd,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;const t=[],i=this.generateTicks(),{translationX:n,translationY:r}=this;return this.labelSelection.update(i.ticks.map(s=>this.createLabelDatum(s)),void 0,s=>s.tickId),this.labelSelection.each((s,o)=>{s.setProperties(o),o.visible&&t.push(s.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:r}),It.merge(t)}getLabelParams(t){const{padding:i}=this,{translate:n}=t;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(t,i=.001){const[n,r]=Vl(this.scale.range);return t>=n-i&&t<=r+i}createLabelDatum(t){const{x:i,y:n,textBaseline:r,textAlign:s}=this.getLabelParams(t);return{visible:!!t.tickLabel,tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:s,textBaseline:r,x:i,y:n}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,n=jT(Y0(this.scale.range),2),{maxTickCount:r,minTickCount:s,tickCount:o}=function _6e(e,t,i,n,r){r=Math.max(r,e/(n+1)),isNaN(t)&&(t=r),isNaN(i)&&(i=e),t>i&&(t===r?t=i:i=t);const s=Si(1,Math.floor(e/t),Math.min(Math.floor(e),100)),o=Math.min(s,Math.ceil(e/i));return{minTickCount:o,maxTickCount:s,tickCount:Si(o,n,s)}}(n,t,i,tH.DefaultTickCount,tH.DefaultMinSpacing);o&&(this.scale.tickCount=o,this.scale.minTickCount=s,this.scale.maxTickCount=r);const a=this.getTicksData();if("bottom"===this.position||"top"===this.position){const l=sp.getMeasurer({font:this.label}),c=this.scale.getDomain(),u=c[0]>c[1]?-1:1;let h=-1/0*u;a.ticks=a.ticks.filter(g=>Math.sign(g.translate-h)===u&&(h=g.translate+l.textWidth(g.tickLabel,!0)*u,!0))}return a}getTicksData(){const t=[],i=this.scale.ticks(),n=i.reduce((o,a)=>Math.max(o,"number"==typeof a?ZS(a):0),0),r=function ZHe(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}${i}`):(e.set(t,1),t)}}(),s=this.label.format?this.scale.tickFormat({ticks:i,specifier:this.label.format}):o=>bc(o)?o.toFixed(n):String(o);for(let o=0;o<i.length;o++){const a=i[o],l=this.scale.convert(a);if(!this.inRange(l))continue;const c=this.label.formatter?.({value:a,index:o,fractionDigits:n})??s(a),d=r(c);t.push({tick:a,tickId:d,tickLabel:c,translate:l})}return{rawTicks:i,fractionDigits:n,ticks:t}}};u5.DefaultTickCount=5,u5.DefaultMinSpacing=50;var QHe=u5,XHe=0;function JHe(e,t){const i=$n("button",dk("ag-charts-input ag-charts-button",t));return void 0!==e.label?i.append(e.label):(i.append(gse(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),pv(i,t),i}function e7e(e,t){const i=$n("input",dk("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",n=>e.onChange(i.checked,n)),i.addEventListener("keydown",n=>{nie(n)&&(n.preventDefault(),i.click())}),pv(i,t),i}function t7e(e,t){const i=$n("select",dk("ag-charts-input ag-charts-select",t));return i.append(...e.options.map(n=>{const r=$n("option");return r.value=n.value,r.textContent=n.label,r})),Wl(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",n=>e.onChange(i.value,n)),pv(i,t),i}function i7e(e,t){const i=$n("textarea",dk("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",n=>e.onChange(i.value,n)),pv(i,t),i}function gse(e){const t=$n("span",`ag-charts-icon ag-charts-icon-${e}`);return Wl(t,"aria-hidden",!0),t}function dk(e,t){return null==t?e:`${e} ${t.class}`}class n7e{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){const t=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(t)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(t){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(t){const i=n=>{const r=n??{};for(const[s,o]of Object.entries(r))"function"==typeof o&&(r[s]=(...a)=>{this.runInsideAngular(()=>o(...a))})};return i(t?.legend?.listeners),i(t?.listeners),t.series?.forEach(n=>{i(n.listeners)}),t.container?t:{...t,container:this._nativeElement}}runOutsideAngular(t){return this.ngZone?this.ngZone.runOutsideAngular(t):t()}runInsideAngular(t){return this.ngZone?this.ngZone.run(t):t()}}let O_=(()=>{class e extends n7e{ngZone;options={};onChartReady=new pe;constructor(i,n){super(),this.ngZone=n,this._nativeElement=i.nativeElement}createChart(i){return F_.create(i)}static \u0275fac=function(n){return new(n||e)(R(ti),R(Mt))};static \u0275cmp=Be({type:e,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},standalone:!0,features:[Ht,gx],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return e})();const r7e=["mat-calendar-body",""];function s7e(e,t){if(1&e&&(w(0,"tr",3)(1,"td",4),O(2),S()()),2&e){const i=ae();T(1),mu("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),gi("colspan",i.numCols),T(1),_t(" ",i.label," ")}}function o7e(e,t){if(1&e&&(w(0,"td",4),O(1),S()),2&e){const i=ae(2);mu("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),gi("colspan",i._firstRowOffset),T(1),_t(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function a7e(e,t){if(1&e){const i=ct();w(0,"td",8)(1,"button",9),Q("click",function(r){const o=Le(i).$implicit;return Ve(ae(2)._cellClicked(o,r))})("focus",function(r){const o=Le(i).$implicit;return Ve(ae(2)._emitActiveDateChange(o,r))}),w(2,"span",10),O(3),S(),Z(4,"span",11),S()()}if(2&e){const i=t.$implicit,n=t.index,r=ae().index,s=ae();mu("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),gi("data-mat-row",r)("data-mat-col",n),T(1),ei("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",s._isActiveCell(r,n))("mat-calendar-body-range-start",s._isRangeStart(i.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",s._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(i.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(i.compareValue,r,n))("mat-calendar-body-comparison-start",s._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",s._isInPreview(i.compareValue)),B("ngClass",i.cssClasses)("tabindex",s._isActiveCell(r,n)?0:-1),gi("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",s._isSelected(i.compareValue))("aria-current",s.todayValue===i.compareValue?"date":null)("aria-describedby",s._getDescribedby(i.compareValue)),T(1),ei("mat-calendar-body-selected",s._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",s.todayValue===i.compareValue),T(1),_t(" ",i.displayValue," ")}}function l7e(e,t){if(1&e&&(w(0,"tr",5),te(1,o7e,2,6,"td",6),te(2,a7e,5,48,"td",7),S()),2&e){const i=t.$implicit,n=t.index,r=ae();T(1),B("ngIf",0===n&&r._firstRowOffset),T(1),B("ngForOf",i)}}function c7e(e,t){if(1&e&&(w(0,"th",5)(1,"span",6),O(2),S(),w(3,"span",7),O(4),S()()),2&e){const i=t.$implicit;T(2),Et(i.long),T(2),Et(i.narrow)}}const d7e=["*"];function u7e(e,t){}function h7e(e,t){if(1&e){const i=ct();w(0,"mat-month-view",5),Q("activeDateChange",function(r){return Le(i),Ve(ae().activeDate=r)})("_userSelection",function(r){return Le(i),Ve(ae()._dateSelected(r))})("dragStarted",function(r){return Le(i),Ve(ae()._dragStarted(r))})("dragEnded",function(r){return Le(i),Ve(ae()._dragEnded(r))}),S()}if(2&e){const i=ae();B("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function p7e(e,t){if(1&e){const i=ct();w(0,"mat-year-view",6),Q("activeDateChange",function(r){return Le(i),Ve(ae().activeDate=r)})("monthSelected",function(r){return Le(i),Ve(ae()._monthSelectedInYearView(r))})("selectedChange",function(r){return Le(i),Ve(ae()._goToDateInView(r,"month"))}),S()}if(2&e){const i=ae();B("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function g7e(e,t){if(1&e){const i=ct();w(0,"mat-multi-year-view",7),Q("activeDateChange",function(r){return Le(i),Ve(ae().activeDate=r)})("yearSelected",function(r){return Le(i),Ve(ae()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return Le(i),Ve(ae()._goToDateInView(r,"year"))}),S()}if(2&e){const i=ae();B("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function f7e(e,t){}const m7e=["button"];function v7e(e,t){1&e&&(ki(),w(0,"svg",3),Z(1,"path",4),S())}const y7e=[[["","matDatepickerToggleIcon",""]]],b7e=["[matDatepickerToggleIcon]"];let Z1=(()=>{class e{constructor(){this.changes=new oe,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(i,n){return`${i} \u2013 ${n}`}formatYearRangeLabel(i,n){return`${i} to ${n}`}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class h5{constructor(t,i,n,r,s={},o=t,a){this.value=t,this.displayValue=i,this.ariaLabel=n,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=a}}let _7e=1,L_=(()=>{class e{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(i,n){this._elementRef=i,this._ngZone=n,this._platform=ze(Ns),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new pe,this.previewChange=new pe,this.activeDateChange=new pe,this.dragStarted=new pe,this.dragEnded=new pe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=fse(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),g5(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=g5(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=fse(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+_7e++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{const r=i.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("touchmove",this._touchmoveHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0),r.addEventListener("mousedown",this._mousedownHandler),r.addEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(i,n){this._didDragSinceMouseDown||i.enabled&&this.selectedValueChange.emit({value:i.value,event:n})}_emitActiveDateChange(i,n){i.enabled&&this.activeDateChange.emit({value:i.value,event:n})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){const n=i.numCols,{rows:r,numCols:s}=this;(i.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(i.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const i=this._elementRef.nativeElement;i.removeEventListener("mouseenter",this._enterHandler,!0),i.removeEventListener("touchmove",this._touchmoveHandler,!0),i.removeEventListener("focus",this._enterHandler,!0),i.removeEventListener("mouseleave",this._leaveHandler,!0),i.removeEventListener("blur",this._leaveHandler,!0),i.removeEventListener("mousedown",this._mousedownHandler),i.removeEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(i,n){let r=i*this.numCols+n;return i&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(i=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gr(1)).subscribe(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(i||(this._skipNextFocus=!0),n.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(i){return f5(i,this.startValue,this.endValue)}_isRangeEnd(i){return m5(i,this.startValue,this.endValue)}_isInRange(i){return v5(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return f5(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,n,r){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let s=this.rows[n][r-1];if(!s){const o=this.rows[n-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(i,n,r){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let s=this.rows[n][r+1];if(!s){const o=this.rows[n+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(i){return m5(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return v5(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return f5(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return m5(i,this.previewStart,this.previewEnd)}_isInPreview(i){return v5(i,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(i){return this.isRange?this.startValue===i&&this.endValue===i?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===i?this._startDateLabelId:this.endValue===i?this._endDateLabelId:null:null}_getCellFromElement(i){const n=g5(i);if(n){const r=n.getAttribute("data-mat-row"),s=n.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Mt))},e.\u0275cmp=Be({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Xn],attrs:r7e,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,n){1&i&&(te(0,s7e,3,6,"tr",0),te(1,l7e,3,2,"tr",1),w(2,"label",2),O(3),S(),w(4,"label",2),O(5),S()),2&i&&(B("ngIf",n._firstRowOffset<n.labelMinRequiredCells),T(1),B("ngForOf",n.rows),T(1),B("id",n._startDateLabelId),T(1),_t(" ",n.startDateAccessibleName,"\n"),T(1),B("id",n._endDateLabelId),T(1),_t(" ",n.endDateAccessibleName,"\n"))},dependencies:[Ph,Dl,ui],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),e})();function p5(e){return"TD"===e?.nodeName}function g5(e){let t;return p5(e)?t=e:p5(e.parentNode)?t=e.parentNode:p5(e.parentNode?.parentNode)&&(t=e.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function f5(e,t,i){return null!==i&&t!==i&&e<i&&e===t}function m5(e,t,i){return null!==t&&t!==i&&e>=t&&e===i}function v5(e,t,i,n){return n&&null!==t&&null!==i&&t!==i&&e>=t&&e<=i}function fse(e){const t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class ol{constructor(t,i){this.start=t,this.end=i}}let cf=(()=>{class e{constructor(i,n){this.selection=i,this._adapter=n,this._selectionChanged=new oe,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,n){const r=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}}return e.\u0275fac=function(i){Rb()},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),C7e=(()=>{class e extends cf{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const i=new e(this._adapter);return i.updateSelection(this.selection,this),i}}return e.\u0275fac=function(i){return new(i||e)(ne($o))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const mse={provide:cf,deps:[[new _l,new hu,cf],$o],useFactory:function x7e(e,t){return e||new C7e(t)}},uk=new Me("MAT_DATE_RANGE_SELECTION_STRATEGY");let vse=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(i){const n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof ol?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,r,s,o){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Rt.EMPTY,this.activeDrag=null,this.selectedChange=new pe,this._userSelection=new pe,this.dragStarted=new pe,this.dragEnded=new pe,this.activeDateChange=new pe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zs(null)).subscribe(()=>this._init())}ngOnChanges(i){const n=i.comparisonStart||i.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),i.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){const n=i.value,r=this._getDateFromDayOfMonth(n);let s,o;this._selected instanceof ol?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==n||o!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:i.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(i){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(i){const n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&i.preventDefault());case 27:return void(null!=this._previewEnd&&!So(i)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:i}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i})),i.preventDefault(),i.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:i,value:n}){if(this._rangeStrategy){const r=n?n.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,i);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,i);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(i){if(this.activeDrag)if(i.value){const n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,i.value,i.event);this.dragEnded.emit({value:n??null,event:i.event})}else this.dragEnded.emit({value:null,event:i.event})}_getDateFromDayOfMonth(i){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i)}_initWeekdays(){const i=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,a)=>({long:o,narrow:n[a]}));this._weekdays=s.slice(i).concat(s.slice(0,i))}_createWeekCells(){const i=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<i;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(o),l=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new h5(r+1,n[r],l,a,c,this._getCellCompareValue(o),o))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,n){return!(!i||!n||this._dateAdapter.getMonth(i)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(i)!=this._dateAdapter.getYear(n))}_getCellCompareValue(i){if(i){const n=this._dateAdapter.getYear(i),r=this._dateAdapter.getMonth(i),s=this._dateAdapter.getDate(i);return new Date(n,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(i){i instanceof ol?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}_clearPreview(){this._previewStart=this._previewEnd=null}}return e.\u0275fac=function(i){return new(i||e)(R(Es),R(Lm,8),R($o,8),R(ga,8),R(uk,8))},e.\u0275cmp=Be({type:e,selectors:[["mat-month-view"]],viewQuery:function(i,n){if(1&i&&Jn(L_,5),2&i){let r;ii(r=ni())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Xn],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,n){1&i&&(w(0,"table",0)(1,"thead",1)(2,"tr"),te(3,c7e,5,2,"th",2),S(),w(4,"tr"),Z(5,"th",3),S()(),w(6,"tbody",4),Q("selectedValueChange",function(s){return n._dateSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("previewChange",function(s){return n._previewChanged(s)})("dragStarted",function(s){return n.dragStarted.emit(s)})("dragEnded",function(s){return n._dragEnded(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),S()()),2&i&&(T(3),B("ngForOf",n._weekdays),T(3),B("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[Dl,L_],encapsulation:2,changeDetection:0}),e})();const Mc=24;let yse=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),bse(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof ol?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,r){this._changeDetectorRef=i,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=Rt.EMPTY,this.selectedChange=new pe,this.yearSelected=new pe,this.activeDateChange=new pe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zs(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-Q1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Mc;r++)s.push(n+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){const n=i.value,r=this._dateAdapter.createDate(n,0,1),s=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(i){const r=this._activeDate;this.activeDate=this._getDateFromYear(i.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){const n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Q1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Mc-Q1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10*-Mc:-Mc);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10*Mc:Mc);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return Q1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(i){const n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,n,1));return this._dateAdapter.createDate(i,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(i){const n=this._dateAdapter.createDate(i,0,1),r=this._dateAdapter.getYearName(n),s=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new h5(i,r,r,this._shouldEnableYear(i),s)}_shouldEnableYear(i){if(null==i||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(i,0,1);this._dateAdapter.getYear(r)==i;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(i){if(this._selectedYear=null,i instanceof ol){const n=i.start||i.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}}return e.\u0275fac=function(i){return new(i||e)(R(Es),R($o,8),R(ga,8))},e.\u0275cmp=Be({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(i,n){if(1&i&&Jn(L_,5),2&i){let r;ii(r=ni())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,n){1&i&&(w(0,"table",0)(1,"thead",1)(2,"tr"),Z(3,"th",2),S()(),w(4,"tbody",3),Q("selectedValueChange",function(s){return n._yearSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),S()()),2&i&&(T(4),B("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[L_],encapsulation:2,changeDetection:0}),e})();function bse(e,t,i,n,r){const s=e.getYear(t),o=e.getYear(i),a=_se(e,n,r);return Math.floor((s-a)/Mc)===Math.floor((o-a)/Mc)}function Q1(e,t,i,n){return function E7e(e,t){return(e%t+t)%t}(e.getYear(t)-_se(e,i,n),Mc)}function _se(e,t,i){let n=0;return i?n=e.getYear(i)-Mc+1:t&&(n=e.getYear(t)),n}let Cse=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof ol?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,r,s){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Rt.EMPTY,this.selectedChange=new pe,this.monthSelected=new pe,this.activeDateChange=new pe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zs(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){const n=i.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(n);this.selectedChange.emit(s)}_updateActiveDate(i){const r=this._activeDate;this.activeDate=this._getDateFromMonth(i.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){const n=this._activeDate,r=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,i[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_getDateFromMonth(i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(i,n){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new h5(i,n.toLocaleUpperCase(),s,this._shouldEnableMonth(i),o)}_shouldEnableMonth(i){const n=this._dateAdapter.getYear(this.activeDate);if(null==i||this._isYearAndMonthAfterMaxDate(n,i)||this._isYearAndMonthBeforeMinDate(n,i))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(n,i,1);this._dateAdapter.getMonth(s)==i;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(i,n){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return i>r||i===r&&n>s}return!1}_isYearAndMonthBeforeMinDate(i,n){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return i<r||i===r&&n<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(i){this._selectedMonth=i instanceof ol?this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._getMonthInCurrentYear(i)}}return e.\u0275fac=function(i){return new(i||e)(R(Es),R(Lm,8),R($o,8),R(ga,8))},e.\u0275cmp=Be({type:e,selectors:[["mat-year-view"]],viewQuery:function(i,n){if(1&i&&Jn(L_,5),2&i){let r;ii(r=ni())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,n){1&i&&(w(0,"table",0)(1,"thead",1)(2,"tr"),Z(3,"th",2),S()(),w(4,"tbody",3),Q("selectedValueChange",function(s){return n._monthSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),S()()),2&i&&(T(4),B("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[L_],encapsulation:2,changeDetection:0}),e})(),I7e=1,A7e=(()=>{class e{constructor(i,n,r,s,o){this._intl=i,this.calendar=n,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+I7e++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Mc)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Mc)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n):bse(this._dateAdapter,i,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const n=this._dateAdapter.getYear(this.calendar.activeDate)-Q1(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+Mc-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return e.\u0275fac=function(i){return new(i||e)(R(Z1),R(he(()=>_5)),R($o,8),R(Lm,8),R(Es))},e.\u0275cmp=Be({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:d7e,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,n){1&i&&(co(),w(0,"div",0)(1,"div",1)(2,"button",2),Q("click",function(){return n.currentPeriodClicked()}),w(3,"span",3),O(4),S(),ki(),w(5,"svg",4),Z(6,"polygon",5),S()(),Ji(),Z(7,"div",6),Zi(8),w(9,"button",7),Q("click",function(){return n.previousClicked()}),S(),w(10,"button",8),Q("click",function(){return n.nextClicked()}),S()()(),w(11,"label",9),O(12),S()),2&i&&(T(2),gi("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),T(2),Et(n.periodButtonText),T(1),ei("mat-calendar-invert","month"!==n.calendar.currentView),T(4),B("disabled",!n.previousEnabled()),gi("aria-label",n.prevButtonLabel),T(1),B("disabled",!n.nextEnabled()),gi("aria-label",n.nextButtonLabel),T(1),B("id",n._periodButtonLabelId),T(1),Et(n.periodButtonDescription))},dependencies:[Yo,Tq],encapsulation:2,changeDetection:0}),e})(),_5=(()=>{class e{get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){this._selected=i instanceof ol?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){const n=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(i,n,r,s){this._dateAdapter=n,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new pe,this.yearSelected=new pe,this.monthSelected=new pe,this.viewChanged=new pe(!0),this._userSelection=new pe,this._userDragDrop=new pe,this._activeDrag=null,this.stateChanges=new oe,this._intlChanges=i.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Vm(this.headerComponent||A7e),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){const n=i.minDate&&!this._dateAdapter.sameDate(i.minDate.previousValue,i.minDate.currentValue)?i.minDate:void 0,r=i.maxDate&&!this._dateAdapter.sameDate(i.maxDate.previousValue,i.maxDate.currentValue)?i.maxDate:void 0,s=n||r||i.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){const n=i.value;(this.selected instanceof ol||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,n){this.activeDate=i,this.currentView=n}_dragStarted(i){this._activeDrag=i}_dragEnded(i){this._activeDrag&&(i.value&&this._userDragDrop.emit(i),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return e.\u0275fac=function(i){return new(i||e)(R(Z1),R($o,8),R(Lm,8),R(Es))},e.\u0275cmp=Be({type:e,selectors:[["mat-calendar"]],viewQuery:function(i,n){if(1&i&&(Jn(vse,5),Jn(Cse,5),Jn(yse,5)),2&i){let r;ii(r=ni())&&(n.monthView=r.first),ii(r=ni())&&(n.yearView=r.first),ii(r=ni())&&(n.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ri([mse]),Xn],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,n){1&i&&(te(0,u7e,0,0,"ng-template",0),w(1,"div",1),te(2,h7e,1,11,"mat-month-view",2),te(3,p7e,1,6,"mat-year-view",3),te(4,g7e,1,6,"mat-multi-year-view",4),S()),2&i&&(B("cdkPortalOutlet",n._calendarHeaderPortal),T(1),B("ngSwitch",n.currentView),T(1),B("ngSwitchCase","month"),T(1),B("ngSwitchCase","year"),T(1),B("ngSwitchCase","multi-year"))},dependencies:[Dm,Sx,_1e,Bm,vse,Cse,yse],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),e})();const wse={transformPanel:gc("transformPanel",[ss("void => enter-dropdown",rs("120ms cubic-bezier(0, 0, 0.2, 1)",Pq([Qi({opacity:0,transform:"scale(1, 0.8)"}),Qi({opacity:1,transform:"scale(1, 1)"})]))),ss("void => enter-dialog",rs("150ms cubic-bezier(0, 0, 0.2, 1)",Pq([Qi({opacity:0,transform:"scale(0.7)"}),Qi({transform:"none",opacity:1})]))),ss("* => void",rs("100ms linear",Qi({opacity:0})))]),fadeInCalendar:gc("fadeInCalendar",[Du("void",Qi({opacity:0})),Du("enter",Qi({opacity:1})),ss("void => *",rs("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let T7e=0;const xse=new Me("mat-datepicker-scroll-strategy"),k7e={provide:xse,deps:[Il],useFactory:function R7e(e){return()=>e.scrollStrategies.reposition()}},P7e=MA(class{constructor(e){this._elementRef=e}});let F7e=(()=>{class e extends P7e{constructor(i,n,r,s,o,a){super(i),this._changeDetectorRef=n,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Rt,this._animationDone=new oe,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){const n=this._model.selection,r=i.value,s=n instanceof ol;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,n,i.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(i){this._model.updateSelection(i.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(i){this._isAnimating="start"===i.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(i,n){this._model=i?this._globalModel.clone():this._globalModel,this._actionsPortal=i,n&&this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Es),R(cf),R($o),R(uk,8),R(Z1))},e.\u0275cmp=Be({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(i,n){if(1&i&&Jn(_5,5),2&i){let r;ii(r=ni())&&(n._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,n){1&i&&nI("@transformPanel.start",function(s){return n._handleAnimationEvent(s)})("@transformPanel.done",function(s){return n._handleAnimationEvent(s)}),2&i&&(aI("@transformPanel",n._animationState),ei("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Ht],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,n){if(1&i&&(w(0,"div",0)(1,"mat-calendar",1),Q("yearSelected",function(s){return n.datepicker._selectYear(s)})("monthSelected",function(s){return n.datepicker._selectMonth(s)})("viewChanged",function(s){return n.datepicker._viewChanged(s)})("_userSelection",function(s){return n._handleUserSelection(s)})("_userDragDrop",function(s){return n._handleUserDragDrop(s)}),S(),te(2,f7e,0,0,"ng-template",2),w(3,"button",3),Q("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),O(4),S()()),2&i){let r;ei("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),gi("aria-modal",!0)("aria-labelledby",null!==(r=n._dialogLabelId)&&void 0!==r?r:void 0),T(1),B("id",n.datepicker.id)("ngClass",n.datepicker.panelClass)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),T(1),B("cdkPortalOutlet",n._actionsPortal),T(1),ei("cdk-visually-hidden",!n._closeButtonFocused),B("color",n.color||"primary"),T(1),Et(n._closeButtonText)}},dependencies:[Ph,Yo,u1e,Bm,_5],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[wse.transformPanel,wse.fadeInCalendar]},changeDetection:0}),e})(),Sse=(()=>{class e{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get touchUi(){return this._touchUi}set touchUi(i){this._touchUi=Ei(i)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){const n=Ei(i);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(i){this._restoreFocus=Ei(i)}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=eq(i)}get opened(){return this._opened}set opened(i){Ei(i)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(i,n,r,s,o,a,l){this._overlay=i,this._ngZone=n,this._viewContainerRef=r,this._dateAdapter=o,this._dir=a,this._model=l,this._inputStateChanges=Rt.EMPTY,this._document=ze(fi),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new pe,this.monthSelected=new pe,this.viewChanged=new pe(!0),this.openedStream=new pe,this.closedStream=new pe,this._opened=!1,this.id="mat-datepicker-"+T7e++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new oe,this._scrollStrategy=s}ngOnChanges(i){const n=i.xPosition||i.yPosition;if(n&&!n.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Wq&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal=i,this._componentRef?.instance._assignActions(i,!0)}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Jx(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const i=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Gr(1)).subscribe(()=>{const o=this._document.activeElement;i&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}i?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._dialogLabelId=this.datepickerInput.getOverlayLabelId(),i._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const i=this.touchUi,n=new Vm(F7e,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new y0({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(i?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),i||this._ngZone.onStable.pipe(Gr(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){const n="end"===this.xPosition?"end":"start",r="start"===n?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return i.withPositions([{originX:n,originY:o,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(i){const n=["ctrlKey","shiftKey","metaKey"];return $(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(Tr(r=>27===r.keyCode&&!So(r)||this.datepickerInput&&So(r,"altKey")&&38===r.keyCode&&n.every(s=>!So(r,s)))))}}return e.\u0275fac=function(i){return new(i||e)(R(Il),R(Mt),R(pa),R(xse),R($o,8),R(ga,8),R(cf))},e.\u0275dir=tt({type:e,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Xn]}),e})(),C5=(()=>{class e extends Sse{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=An(e)))(n||e)}}(),e.\u0275cmp=Be({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ri([mse,{provide:Sse,useExisting:e}]),Ht],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0}),e})();class hk{constructor(t,i){this.target=t,this.targetElement=i,this.value=this.target.value}}let O7e=(()=>{class e{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){const n=Ei(i),r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new hk(this,this._elementRef.nativeElement)),this.dateChange.emit(new hk(this,this._elementRef.nativeElement))}})}constructor(i,n,r){this._elementRef=i,this._dateAdapter=n,this._dateFormats=r,this.dateChange=new pe,this.dateInput=new pe,this.stateChanges=new oe,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Rt.EMPTY,this._localeSubscription=Rt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMinDate();return!a||!o||this._dateAdapter.compareDate(a,o)<=0?null:{matDatepickerMin:{min:a,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMaxDate();return!a||!o||this._dateAdapter.compareDate(a,o)>=0?null:{matDatepickerMax:{max:a,actual:o}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){(function L7e(e,t){const i=Object.keys(e);for(let n of i){const{previousValue:r,currentValue:s}=e[n];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){So(i,"altKey")&&40===i.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!So(i,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){const n=this._lastValueValid;let r=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(i&&!this.value&&this._cvaOnChange(r),n!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new hk(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new hk(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=null!=i?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){const n=this._getDateFilter();return!n||n(i)}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R($o,8),R(Lm,8))},e.\u0275dir=tt({type:e,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Xn]}),e})();const N7e={provide:pc,useExisting:he(()=>X1),multi:!0},V7e={provide:Wo,useExisting:he(()=>X1),multi:!0};let X1=(()=>{class e extends O7e{set matDatepicker(i){i&&(this._datepicker=i,this._closedSubscription=i.closedStream.subscribe(()=>this._onTouched()),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(i){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){const n=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(i,n,r,s){super(i,n,r),this._formField=s,this._closedSubscription=Rt.EMPTY,this._validator=kn.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R($o,8),R(Lm,8),R(j0,8))},e.\u0275dir=tt({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,n){1&i&&Q("input",function(s){return n._onInput(s.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)}),2&i&&(dc("disabled",n.disabled),gi("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(null==n._datepicker?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ri([N7e,V7e,{provide:BJ,useExisting:e}]),Ht]}),e})(),B7e=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["","matDatepickerToggleIcon",""]]}),e})(),w5=(()=>{class e{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=Ei(i)}constructor(i,n,r){this._intl=i,this._changeDetectorRef=n,this._stateChanges=Rt.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){const i=this.datepicker?this.datepicker.stateChanges:ie(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ie(),r=this.datepicker?$(this.datepicker.openedStream,this.datepicker.closedStream):ie();this._stateChanges.unsubscribe(),this._stateChanges=$(this._intl.changes,i,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return e.\u0275fac=function(i){return new(i||e)(R(Z1),R(Es),Ed("tabindex"))},e.\u0275cmp=Be({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,n,r){if(1&i&&zr(r,B7e,5),2&i){let s;ii(s=ni())&&(n._customIcon=s.first)}},viewQuery:function(i,n){if(1&i&&Jn(m7e,5),2&i){let r;ii(r=ni())&&(n._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,n){1&i&&Q("click",function(s){return n._open(s)}),2&i&&(gi("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),ei("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Xn],ngContentSelectors:b7e,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,n){1&i&&(co(y7e),w(0,"button",0,1),te(2,v7e,2,0,"svg",2),Zi(3),S()),2&i&&(B("disabled",n.disabled)("disableRipple",n.disableRipple),gi("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),T(2),B("ngIf",!n._customIcon))},dependencies:[ui,Tq],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),e})(),H7e=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[Z1,k7e],imports:[Fh,zL,b0,yq,v0,ns,uS]}),e})();const j7e=function(){return{resizable:!0,suppressMovable:!0}};function U7e(e,t){if(1&e&&Z(0,"ag-grid-angular",19),2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(4,j7e))}}function W7e(e,t){1&e&&(w(0,"div",20),Z(1,"app-loading"),S())}function $7e(e,t){1&e&&Z(0,"ag-charts",21),2&e&&B("options",ae().options)}function Y7e(e,t){1&e&&(w(0,"div",20),Z(1,"app-loading"),S())}let K7e=(()=>{class e{constructor(i){this.dashboardService=i,this.rowData=[],this.columnDefs=[],this.defaultColDef={flex:1,sortable:!0,filter:!0,resizable:!0},this.loading=!1,this.loadingChart=!1,this.options={},this.selectedFromDate="",this.selectedToDate="",this.volunteer="",this.error=""}ngOnInit(){this.fetchOpportunitiesData(),this.initializeColumnDefs(),this.fetchVolunteerActiveData()}fetchOpportunitiesData(){this.loading=!0,this.dashboardService.getMostActiveVolunteersData().pipe(Rr(i=>(console.error("Error fetching most active volunteers data:",i),this.loading=!1,ie({data:[]})))).subscribe(i=>{this.rowData=i.data,this.loading=!1})}initializeColumnDefs(){this.columnDefs=[{headerName:"Rank",field:"rank",maxWidth:100},{headerName:"Name",field:"name",flex:2,minWidth:300,cellRenderer:this.nameCellRenderer},{headerName:"Total Hours Volunteered ",field:"total_volunteered_hors"},{headerName:"opportunities number ",field:"number_of_opportunities"}]}nameCellRenderer(i){const n=i.data;return`\n      <div style="display: flex; gap:10px; align-items: center;" class="w-full">\n        <img class="rounded-full" src="${n?.image||"default-image-url.jpg"}" alt="${n.name}" style="width: 30px; height: 30px; border-radius: 50%; margin-right: 8px;" />\n        <p>${n.name}</p>\n      </div>\n    `}fetchVolunteerActiveData(){this.loadingChart=!0,""===this.selectedToDate&&""!==this.selectedFromDate||""===this.selectedFromDate&&""!==this.selectedToDate?(this.error="Select the range",this.loadingChart=!1):(this.dashboardService.getVolunteerActive({volunteer:this.volunteer??"",start_date:this.selectedFromDate,end_date:this.selectedToDate}).pipe(Rr(i=>(this.loadingChart=!1,console.error("Error fetching volunteer active data:",i),ie({data:[]})))).subscribe(i=>{this.loadingChart=!1,this.options={data:i.data,series:[{type:"line",xKey:"date",yKey:"active_volunteers",yName:"Active Volunteers",stroke:"#7f77d9"}]}}),this.error="")}formatDate(i){return i.toLocaleDateString("en-CA")}onFromDateChange(i){i.value&&(this.selectedFromDate=this.formatDate(i.value),this.fetchVolunteerActiveData())}onToDateChange(i){i.value&&(this.selectedToDate=this.formatDate(i.value),this.fetchVolunteerActiveData())}resetFilter(){this.selectedToDate="",this.selectedFromDate="",this.error="",this.fetchVolunteerActiveData()}static{this.\u0275fac=function(n){return new(n||e)(R(KA))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-most-active-volunteers"]],decls:31,vars:15,consts:[[1,"flex","gap-4","w-full","justify-between","mt-4","max-2xl:flex-col"],[1,"card-dashboard","flex","flex-col","max-w-[900px]",2,"width","100%","min-height","516px"],["title","Most Active Volunteers",3,"withoutBold"],["style","width: 100%; height: 300px; max-width: 700px; margin-top: 30px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"card-dashboard","flex","flex-col",2,"width","100% !important","min-height","516px"],["title"," volunteer active",3,"withoutBold"],[1,"w-full"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4","items-start","mt-4"],[1,"flex","gap-2","items-center"],["appearance","outline"],["matInput","","name","fromDate","placeholder","YYYY-MM-DD",3,"ngModel","matDatepicker","max","ngModelChange","dateChange"],["matSuffix","",3,"for"],["fromPicker",""],["matInput","","name","toDate","placeholder","YYYY-MM-DD",3,"ngModel","matDatepicker","min","ngModelChange","dateChange"],["toPicker",""],[1,"text-primary-500","mb-6","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[3,"options",4,"ngIf"],[1,"ag-theme-alpine",2,"width","100%","height","300px","max-width","700px","margin-top","30px",3,"rowData","columnDefs","defaultColDef"],[1,"w-full","h-full","flex","justify-center","items-center"],[3,"options"]],template:function(n,r){if(1&n&&(w(0,"div",0)(1,"div",1),Z(2,"app-main-header-dashboard",2),te(3,U7e,1,5,"ag-grid-angular",3),te(4,W7e,2,0,"div",4),S(),w(5,"div",5),Z(6,"app-main-header-dashboard",6),w(7,"div",7)(8,"p",8),O(9),S(),w(10,"form",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),O(14,"From"),S(),w(15,"input",12),Q("ngModelChange",function(o){return r.selectedFromDate=o})("dateChange",function(o){return r.onFromDateChange(o)}),S(),Z(16,"mat-datepicker-toggle",13)(17,"mat-datepicker",null,14),S(),w(19,"mat-form-field",11)(20,"mat-label"),O(21,"To"),S(),w(22,"input",15),Q("ngModelChange",function(o){return r.selectedToDate=o})("dateChange",function(o){return r.onToDateChange(o)}),S(),Z(23,"mat-datepicker-toggle",13)(24,"mat-datepicker",null,16),S(),w(26,"p",17),Q("click",function(){return r.resetFilter()}),O(27," Reset "),S()()()(),w(28,"div"),te(29,$7e,1,1,"ag-charts",18),te(30,Y7e,2,0,"div",4),S()()()),2&n){const s=Wc(18),o=Wc(25);T(2),B("withoutBold",!0),T(1),B("ngIf",!r.loading),T(1),B("ngIf",r.loading),T(2),B("withoutBold",!0),T(3),Et(r.error),T(6),B("ngModel",r.selectedFromDate)("matDatepicker",s)("max",r.selectedToDate?r.selectedToDate:null),T(1),B("for",s),T(6),B("ngModel",r.selectedToDate)("matDatepicker",o)("min",r.selectedFromDate?r.selectedFromDate:null),T(1),B("for",o),T(6),B("ngIf",!r.loadingChart),T(1),B("ngIf",r.loadingChart)}},dependencies:[ui,jn,yn,Gn,Hn,qx,xu,Gd,U0,Sg,B4,NT,O_,C5,X1,w5,Pl,or],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1;width:100%!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-container[_ngcontent-%COMP%]{width:100%!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.icon-header-title, .icon-header-organization[_ngcontent-%COMP%], .icon-header-location[_ngcontent-%COMP%], .icon-header-time[_ngcontent-%COMP%], .icon-header-statu)[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:left center;width:100%!important}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-title[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-title.d7f00219443f3031.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-organization[_ngcontent-%COMP%]{background-image:url(/assets/orte.133a1cf0ba895410.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-location[_ngcontent-%COMP%]{background-image:url(/assets/Location.005cea3faa089e9c.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-time[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20ionic-md-time.72daceaa61d01c3d.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-statu[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-update.ceee7f5fe2e105b8.svg)}"]})}}return e})();class Z7e{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,i,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new oe,i&&i.length&&(t?i.forEach(s=>this._markSelected(s)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...t){this._verifyValueAssignment(t);const i=this.selected,n=new Set(t);t.forEach(s=>this._markSelected(s)),i.filter(s=>!n.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const i=this._hasQueuedChanges();return t&&this._emitChangeEvent(),i}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let i of this._selection)if(this.compareWith(t,i))return i;return t}return t}}const Q7e=["trigger"],X7e=["panel"];function J7e(e,t){if(1&e&&(w(0,"span",10),O(1),S()),2&e){const i=ae();T(1),Et(i.placeholder)}}function eje(e,t){if(1&e&&(w(0,"span",14),O(1),S()),2&e){const i=ae(2);T(1),Et(i.triggerValue)}}function tje(e,t){1&e&&Zi(0,0,["*ngSwitchCase","true"])}function ije(e,t){1&e&&(w(0,"span",11),te(1,eje,2,1,"span",12),te(2,tje,1,0,"ng-content",13),S()),2&e&&(B("ngSwitch",!!ae().customTrigger),T(2),B("ngSwitchCase",!0))}function nje(e,t){if(1&e){const i=ct();ki(),Ji(),w(0,"div",15,16),Q("@transformPanel.done",function(r){return Le(i),Ve(ae()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Le(i),Ve(ae()._handleKeydown(r))}),Zi(2,1),S()}if(2&e){const i=ae();(function FU(e,t,i){Td(Ms,yu,Fb(Ge(),e,t,i),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),B("ngClass",i.panelClass)("@transformPanel","showing"),gi("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}const rje=[[["mat-select-trigger"]],"*"],sje=["mat-select-trigger","*"],oje={transformPanelWrap:gc("transformPanelWrap",[ss("* => void",jL("@transformPanel",[HL()],{optional:!0}))]),transformPanel:gc("transformPanel",[Du("void",Qi({opacity:0,transform:"scale(1, 0.8)"})),ss("void => showing",rs("120ms cubic-bezier(0, 0, 0.2, 1)",Qi({opacity:1,transform:"scale(1, 1)"}))),ss("* => void",rs("100ms linear",Qi({opacity:0})))])};let Mse=0;const Ese=new Me("mat-select-scroll-strategy"),lje=new Me("MAT_SELECT_CONFIG"),cje={provide:Ese,deps:[Il],useFactory:function aje(e){return()=>e.scrollStrategies.reposition()}},dje=new Me("MatSelectTrigger");class uje{constructor(t,i){this.source=t,this.value=i}}const hje=EA(IA(PL(FL(class{constructor(e,t,i,n,r){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=i,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new oe}}))));let pje=(()=>{class e extends hje{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(kn.required)??!1}set required(i){this._required=Ei(i),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._multiple=Ei(i)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(i){this._disableOptionCentering=Ei(i)}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(i){this._typeaheadDebounceInterval=nS(i)}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}constructor(i,n,r,s,o,a,l,c,d,u,h,g,m,y){super(o,s,l,c,u),this._viewportRuler=i,this._changeDetectorRef=n,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=m,this._defaultOptions=y,this._panelOpen=!1,this._compareWith=(_,x)=>_===x,this._uid="mat-select-"+Mse++,this._triggerAriaLabelledBy=null,this._destroy=new oe,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Mse++,this._panelDoneAnimatingStream=new oe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Qb(()=>{const _=this.options;return _?_.changes.pipe(Zs(_),Ze(()=>$(..._.map(x=>x.onSelectionChange)))):this._ngZone.onStable.pipe(Gr(1),Ze(()=>this.optionSelectionChanges))}),this.openedChange=new pe,this._openedStream=this.openedChange.pipe(Tr(_=>_),nt(()=>{})),this._closedStream=this.openedChange.pipe(Tr(_=>!_),nt(()=>{})),this.selectionChange=new pe,this.valueChange=new pe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=y?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=y.typeaheadDebounceInterval),this._scrollStrategyFactory=g,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Z7e(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(cn(),kr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(kr(this._destroy)).subscribe(i=>{i.added.forEach(n=>n.select()),i.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Zs(null),kr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const i=this._getTriggerAriaLabelledby(),n=this.ngControl;if(i!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?r.setAttribute("aria-labelledby",i):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const i=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){const n=i.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!So(i)||(this.multiple||i.altKey)&&r)i.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(i);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(i){const n=this._keyManager,r=i.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&i.altKey)i.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||So(i))if(!o&&this._multiple&&65===r&&i.ctrlKey){i.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=n.activeItemIndex;n.onKeydown(i),this._multiple&&s&&i.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}else i.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Gr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(i);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,i)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(i){return!!(i!==this._value||this._multiple&&Array.isArray(i))&&(this.options&&this._setSelectionByValue(i),this._value=i,!0)}_initKeyManager(){this._keyManager=new lq(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const i=$(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(kr(i)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),$(...this.options.map(n=>n._stateChanges)).pipe(kr(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,n){const r=this._selectionModel.isSelected(i);null!=i.value||this._multiple?(r!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),n&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),n&&this.focus())):(i.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(i.value)),r!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const i=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,i):i.indexOf(n)-i.indexOf(r)),this.stateChanges.next()}}_propagateChanges(i){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:i,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const i=this._parentFormField?.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const i=this._parentFormField?.getLabelId();let n=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return e.\u0275fac=function(i){return new(i||e)(R(dS),R(Es),R(Mt),R(AA),R(ti),R(ga,8),R(xu,8),R(Pn,8),R(j0,8),R(Fd,10),Ed("tabindex"),R(Ese),R(RL),R(lje,8))},e.\u0275dir=tt({type:e,viewQuery:function(i,n){if(1&i&&(Jn(Q7e,5),Jn(X7e,5),Jn(Zq,5)),2&i){let r;ii(r=ni())&&(n.trigger=r.first),ii(r=ni())&&(n.panel=r.first),ii(r=ni())&&(n._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ht,Xn]}),e})(),pk=(()=>{class e extends pje{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(kr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(i){const n=this.options.toArray()[i];if(n){const r=this.panel.nativeElement,s=Eq(i,this.options,this.optionGroups),o=n._getHostElement();r.scrollTop=0===i&&1===s?0:Iq(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new uje(this,i)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof ZL?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=Ei(i),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const i of this.options)i._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=An(e)))(n||e)}}(),e.\u0275cmp=Be({type:e,selectors:[["mat-select"]],contentQueries:function(i,n,r){if(1&i&&(zr(r,dje,5),zr(r,Nm,5),zr(r,BL,5)),2&i){let s;ii(s=ni())&&(n.customTrigger=s.first),ii(s=ni())&&(n.options=s),ii(s=ni())&&(n.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,n){1&i&&Q("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&i&&(gi("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),ei("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Ri([{provide:OT,useExisting:e},{provide:VL,useExisting:e}]),Ht],ngContentSelectors:sje,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,n){if(1&i&&(co(rje),w(0,"div",0,1),Q("click",function(){return n.toggle()}),w(3,"div",2),te(4,J7e,2,1,"span",3),te(5,ije,3,2,"span",4),S(),w(6,"div",5)(7,"div",6),ki(),w(8,"svg",7),Z(9,"path",8),S()()()(),te(10,nje,3,9,"ng-template",9),Q("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&i){const r=Wc(1);gi("aria-owns",n.panelOpen?n.id+"-panel":null),T(3),B("ngSwitch",n.empty),gi("id",n._valueId),T(1),B("ngSwitchCase",!0),T(1),B("ngSwitchCase",!1),T(5),B("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)}},dependencies:[Ph,Dm,Sx,c$,Zq,ZL],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[oje.transformPanel]},changeDetection:0}),e})(),gje=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[cje],imports:[Fh,b0,TA,ns,uS,LT,TA,ns]}),e})();function fje(e,t){if(1&e&&(w(0,"mat-option",22),O(1),S()),2&e){const i=t.$implicit;B("value",i),T(1),_t(" ",i.name," ")}}function mje(e,t){1&e&&Z(0,"ag-charts",23),2&e&&B("options",ae().options)}function vje(e,t){1&e&&(w(0,"div",24),Z(1,"app-loading"),S())}const yje=function(){return{resizable:!0,suppressMovable:!0}};function bje(e,t){if(1&e&&Z(0,"ag-grid-angular",25),2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(4,yje))}}function _je(e,t){1&e&&(w(0,"div",24),Z(1,"app-loading"),S())}let Cje=(()=>{class e{fetchVolunteerActiveData(){this.isLoadingVolunteerActive=!0,""===this.selectedToDate&&""!==this.selectedFromDate||""===this.selectedFromDate&&""!==this.selectedToDate?(this.error="Select the range",this.isLoadingVolunteerActive=!1):(this.dashboardService.getVolunteerHours({npo:this.selectedOrganization?.id,start_date:this.selectedFromDate,end_date:this.selectedToDate}).pipe(Rr(i=>(console.error("Error fetching volunteer active data:",i),this.isLoadingVolunteerActive=!1,this.options={data:[]},ie({data:[]})))).subscribe(i=>{this.isLoadingVolunteerActive=!1,this.options={data:i.data,series:[{type:"area",xKey:"date",yKey:"volunteer_hours",yName:"volunteer hours",stroke:"#7f77d9",fill:"#7f77d9"}]}}),this.error="")}fetchMostActiveNPO(){this.isLoadingMostActiveNPO=!0,this.dashboardService.getMostActiveNPO().pipe(Rr(i=>(console.error("Error fetching volunteer active data:",i),this.isLoadingMostActiveNPO=!1,this.options={data:[]},ie({data:[]})))).subscribe(i=>{this.isLoadingMostActiveNPO=!1,this.rowData=i.data})}constructor(i){this.dashboardService=i,this.options={},this.rowData=[],this.columnDefs=[],this.defaultColDef={flex:1,sortable:!0,filter:!0,resizable:!0},this.isLoadingMostActiveNPO=!1,this.isLoadingVolunteerActive=!1,this.error="",this.selectedFromDate="",this.selectedToDate="",this.organizations=[]}ngOnInit(){this.columnDefs=[{headerName:"Rank",field:"rank",flex:2},{headerName:"Name",field:"name",cellRenderer:i=>`\n            <div style="display: flex; align-items: center;">\n              <img src="${i.data.image}" alt="NPO Image" style="width: 25px; height: 25px; margin-right: 8px; border-radius: 50%;" />\n              <span>${i.value}</span>\n            </div>\n          `},{headerName:"Total Hours",field:"total_hours"},{headerName:"Total Applications",field:"total_application"},{headerName:"Total Opportunity",field:"total_opportunity"},{headerName:"Completed Applications",field:"completed_application"},{headerName:"Canceled Applications",field:"canceled_application"}],this.fetchVolunteerActiveData(),this.fetchMostActiveNPO(),this.fetchOptionsSelect()}formatDate(i){return i.toLocaleDateString("en-CA")}onFromDateChange(i){i.value&&(this.selectedFromDate=this.formatDate(i.value),this.fetchVolunteerActiveData())}onToDateChange(i){i.value&&(this.selectedToDate=this.formatDate(i.value),this.fetchVolunteerActiveData())}fetchOptionsSelect(){this.dashboardService.getNPOsList().subscribe({next:i=>{console.log(i),this.organizations=i.data},error:i=>{console.error("Error fetching organizations",i)}})}onOrganizationSelect(i){this.fetchVolunteerActiveData()}resetFilter(){this.selectedToDate="",this.selectedFromDate="",this.selectedOrganization=void 0,this.error="",this.fetchVolunteerActiveData()}static{this.\u0275fac=function(n){return new(n||e)(R(KA))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-volunteer-management"]],decls:37,vars:17,consts:[[1,"flex","gap-4","w-full","justify-between","mt-4","max-2xl:flex-col"],[1,"card-dashboard","flex","flex-col",2,"width","100% !important"],["title"," monthly volunteer hours by Organizers",3,"withoutBold"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4","items-start","my-4"],[1,"flex","gap-2"],["appearance","outline"],["matInput","","placeholder","YYYY-MM-DD","name","fromDate",3,"matDatepicker","max","ngModel","dateChange","ngModelChange"],["matSuffix","",3,"for"],["fromPicker",""],["matInput","","placeholder","YYYY-MM-DD","name","toDate",3,"matDatepicker","min","ngModel","dateChange","ngModelChange"],["toPicker",""],[1,"flex","items-center"],["appearance","outline",1,"w-full"],["name","organization",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"text-primary-500","mb-6","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[3,"options",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"card-dashboard","flex","flex-col",2,"width","100% !important","min-height","516px"],["title","Most Active Organizations",3,"withoutBold"],["style","width: 100%; height: 300px; margin-top: 30px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],[3,"value"],[3,"options"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"ag-theme-alpine",2,"width","100%","height","300px","margin-top","30px",3,"rowData","columnDefs","defaultColDef"]],template:function(n,r){if(1&n&&(w(0,"div",0)(1,"div",1),Z(2,"app-main-header-dashboard",2),w(3,"p",3),O(4),S(),w(5,"form",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),O(9,"From"),S(),w(10,"input",7),Q("dateChange",function(o){return r.onFromDateChange(o)})("ngModelChange",function(o){return r.selectedFromDate=o}),S(),Z(11,"mat-datepicker-toggle",8)(12,"mat-datepicker",null,9),S(),w(14,"mat-form-field",6)(15,"mat-label"),O(16,"To"),S(),w(17,"input",10),Q("dateChange",function(o){return r.onToDateChange(o)})("ngModelChange",function(o){return r.selectedToDate=o}),S(),Z(18,"mat-datepicker-toggle",8)(19,"mat-datepicker",null,11),S()(),w(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),O(24,"Organization"),S(),w(25,"mat-select",14),Q("ngModelChange",function(o){return r.selectedOrganization=o})("selectionChange",function(o){return r.onOrganizationSelect(o.value)}),te(26,fje,2,2,"mat-option",15),S()(),w(27,"p",16),Q("click",function(){return r.resetFilter()}),O(28," Reset "),S()()(),w(29,"div"),te(30,mje,1,1,"ag-charts",17),te(31,vje,2,0,"div",18),S()(),w(32,"div",19),Z(33,"app-main-header-dashboard",20),w(34,"div"),te(35,bje,1,5,"ag-grid-angular",21),te(36,_je,2,0,"div",18),S()()()),2&n){const s=Wc(13),o=Wc(20);T(2),B("withoutBold",!0),T(2),Et(r.error),T(6),B("matDatepicker",s)("max",r.selectedToDate?r.selectedToDate:null)("ngModel",r.selectedFromDate),T(1),B("for",s),T(6),B("matDatepicker",o)("min",r.selectedFromDate?r.selectedFromDate:null)("ngModel",r.selectedToDate),T(1),B("for",o),T(7),B("ngModel",r.selectedOrganization),T(1),B("ngForOf",r.organizations),T(4),B("ngIf",!r.isLoadingVolunteerActive),T(1),B("ngIf",r.isLoadingVolunteerActive),T(2),B("withoutBold",!0),T(2),B("ngIf",!r.isLoadingMostActiveNPO),T(1),B("ngIf",r.isLoadingMostActiveNPO)}},dependencies:[Dl,ui,jn,yn,Gn,Hn,qx,xu,Gd,U0,Sg,B4,NT,pk,Nm,O_,C5,X1,w5,Pl,or],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin-right:auto;padding:0!important;border-left:none!important;width:auto!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{padding:0!important;width:auto!important;margin-right:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.icon-header-title, .icon-header-organization[_ngcontent-%COMP%], .icon-header-location[_ngcontent-%COMP%], .icon-header-time[_ngcontent-%COMP%], .icon-header-statu)[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:left center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-title[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-title.d7f00219443f3031.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-organization[_ngcontent-%COMP%]{background-image:url(/assets/orte.133a1cf0ba895410.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-location[_ngcontent-%COMP%]{background-image:url(/assets/Location.005cea3faa089e9c.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-time[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20ionic-md-time.72daceaa61d01c3d.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-statu[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-update.ceee7f5fe2e105b8.svg)}"]})}}return e})();function wje(e,t){if(1&e&&(w(0,"mat-option",23),O(1),S()),2&e){const i=t.$implicit;B("value",i),T(1),_t(" ",i.name," ")}}function xje(e,t){1&e&&Z(0,"ag-charts",24),2&e&&B("options",ae().optionsMonthlyBar)}function Sje(e,t){1&e&&(w(0,"div",25),Z(1,"app-loading"),S())}const Dje=function(){return{resizable:!0,suppressMovable:!0}};function Mje(e,t){if(1&e&&Z(0,"ag-grid-angular",26),2&e){const i=ae();B("rowData",i.rowDataTopOpportunities)("columnDefs",i.columnDefsTopOpportunities)("defaultColDef",i.defaultColDefTopOpportunities)("defaultColDef",xl(4,Dje))}}function Eje(e,t){1&e&&(w(0,"div",25),Z(1,"app-loading"),S())}function Ije(e,t){1&e&&Z(0,"ag-charts",24),2&e&&B("options",ae().optionsOpportunitiesStatusDonut)}function Aje(e,t){1&e&&(w(0,"div",25),Z(1,"app-loading"),S())}function Tje(e,t){1&e&&Z(0,"ag-charts",24),2&e&&B("options",ae().optionsOpportunitiesInterestDonut)}function Rje(e,t){1&e&&(w(0,"div",25),Z(1,"app-loading"),S())}let kje=(()=>{class e{fetchOpportunityCreation(){""===this.selectedToDate&&""!==this.selectedFromDate||""===this.selectedFromDate&&""!==this.selectedToDate?(this.error="Select the range",this.isLoadingOpportunityCreation=!1):(this.isLoadingOpportunityCreation=!0,this.dashboardService.getOpportunityCreation({npo:this.selectedOrganization?.id,start_date:this.selectedFromDate,end_date:this.selectedToDate}).pipe(Rr(i=>(this.isLoadingOpportunityCreation=!1,this.error="",ie({data:[]})))).subscribe(i=>{this.error="",this.isLoadingOpportunityCreation=!1,this.optionsMonthlyBar={data:i.data,series:[{type:"bar",xKey:"date",yKey:"opportunity_count",yName:"volunteer hours",fill:"#7f77d9",cornerRadius:5,fillOpacity:.8}]}}))}fetchTopOpportunities(){this.isLoadingTopOpportunities=!0,this.dashboardService.getTopOpportunities().pipe(Rr(i=>(this.isLoadingTopOpportunities=!1,ie({data:[]})))).subscribe(i=>{this.isLoadingTopOpportunities=!1,this.rowDataTopOpportunities=i.data})}fetchTOpportunitiesData(){this.isLoadingTOpportunitiesData=!0,this.dashboardService.getOpportunitiesSuttas().pipe(Rr(i=>(this.isLoadingTOpportunitiesData=!1,this.optionsOpportunitiesStatusDonut={data:[]},ie({data:{opportunities:[]}})))).subscribe(i=>{this.isLoadingTOpportunitiesData=!1,this.optionsOpportunitiesStatusDonut={data:i.data.opportunities,series:[{type:"donut",calloutLabelKey:"status",angleKey:"count",innerRadiusRatio:.6}]}})}fetchTOpportunitiesInterestData(){this.isLoadingOpportunitiesInterestData=!0,this.dashboardService.getOpportunitiesInterest().pipe(Rr(i=>(this.isLoadingOpportunitiesInterestData=!1,this.optionsOpportunitiesInterestDonut={data:[]},ie({data:{opportunities:[]}})))).subscribe(i=>{this.isLoadingOpportunitiesInterestData=!1,this.optionsOpportunitiesInterestDonut={data:i.data.opportunities,series:[{type:"donut",calloutLabelKey:"interest",angleKey:"count",innerRadiusRatio:.6}]}})}constructor(i){this.dashboardService=i,this.optionsMonthlyBar={},this.optionsOpportunitiesStatusDonut={},this.optionsOpportunitiesInterestDonut={},this.rowDataTopOpportunities=[],this.columnDefsTopOpportunities=[{headerName:"Rank",field:"rank",maxWidth:100},{headerName:"Name",field:"name"},{headerName:"NPO Name",field:"npo_name",minWidth:300,cellRenderer:n=>{const r=n.data;return`\n          <div style="display: flex; gap:10px; align-items: center;" class="w-full">\n            <img class="rounded-full" src="${r?.npo_image||"default-image-url.jpg"}" alt="${r.npo_name}" style="width: 30px; height: 30px; border-radius: 50%; margin-right: 8px;" />\n            <p>${r.npo_name}</p>\n          </div>\n        `}},{headerName:"Total Hours",field:"total_hours"},{headerName:"Total Applications",field:"total_application"},{headerName:"Completed Applications",field:"completed_application"},{headerName:"Canceled Applications",field:"canceled_application"}],this.defaultColDefTopOpportunities={flex:1,sortable:!0,filter:!0,resizable:!0},this.error="",this.isLoadingOpportunityCreation=!1,this.isLoadingTopOpportunities=!1,this.isLoadingTOpportunitiesData=!1,this.isLoadingOpportunitiesInterestData=!1,this.selectedFromDate="",this.selectedToDate="",this.organizations=[],this.fetchOpportunityCreation(),this.fetchTopOpportunities(),this.fetchTOpportunitiesData(),this.fetchTOpportunitiesInterestData()}formatDate(i){return i.toLocaleDateString("en-CA")}onFromDateChange(i){i.value&&(this.selectedFromDate=this.formatDate(i.value),this.fetchOpportunityCreation())}onToDateChange(i){i.value&&(this.selectedToDate=this.formatDate(i.value),this.fetchOpportunityCreation())}ngOnInit(){this.fetchOptionsSelect()}fetchOptionsSelect(){this.dashboardService.getNPOsList().subscribe({next:i=>{console.log(i),this.organizations=i.data},error:i=>{console.error("Error fetching organizations",i)}})}onOrganizationSelect(i){this.fetchOpportunityCreation()}resetFilter(){this.selectedToDate="",this.selectedFromDate="",this.selectedOrganization=void 0,this.error="",this.fetchOpportunityCreation()}static{this.\u0275fac=function(n){return new(n||e)(R(KA))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-oppertunites-management"]],decls:47,vars:23,consts:[[1,"grid","2xl:grid-cols-2","grid-cols-1","gap-x-4","gap-y-6","w-full","justify-between","mt-4"],[1,"card-dashboard","flex","flex-col",2,"width","100% !important"],["title","monthly opportunities active ",3,"withoutBold"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4","items-start","my-4"],[1,"flex","gap-2"],["appearance","outline"],["matInput","","placeholder","YYYY-MM-DD","name","fromDate",3,"matDatepicker","max","ngModel","dateChange","ngModelChange"],["matSuffix","",3,"for"],["fromPicker",""],["matInput","","placeholder","YYYY-MM-DD","name","toDate",3,"matDatepicker","min","ngModel","dateChange","ngModelChange"],["toPicker",""],[1,"flex","items-center"],["appearance","outline",1,"w-full"],["name","organization",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"text-primary-500","mb-6","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[3,"options",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],["title","Top 10 Opportunity",3,"withoutBold"],["style","width: 100%; height: 500px; max-width: 700px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],["title","Opportunities Status ",3,"withoutBold"],["title","Opportunities based on interests ",3,"withoutBold"],[3,"value"],[3,"options"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"ag-theme-alpine",2,"width","100%","height","500px","max-width","700px",3,"rowData","columnDefs","defaultColDef"]],template:function(n,r){if(1&n&&(w(0,"div",0)(1,"div",1),Z(2,"app-main-header-dashboard",2),w(3,"p",3),O(4),S(),w(5,"form",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),O(9,"From"),S(),w(10,"input",7),Q("dateChange",function(o){return r.onFromDateChange(o)})("ngModelChange",function(o){return r.selectedFromDate=o}),S(),Z(11,"mat-datepicker-toggle",8)(12,"mat-datepicker",null,9),S(),w(14,"mat-form-field",6)(15,"mat-label"),O(16,"To"),S(),w(17,"input",10),Q("dateChange",function(o){return r.onToDateChange(o)})("ngModelChange",function(o){return r.selectedToDate=o}),S(),Z(18,"mat-datepicker-toggle",8)(19,"mat-datepicker",null,11),S()(),w(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),O(24,"Organization"),S(),w(25,"mat-select",14),Q("ngModelChange",function(o){return r.selectedOrganization=o})("selectionChange",function(o){return r.onOrganizationSelect(o.value)}),te(26,wje,2,2,"mat-option",15),S()(),w(27,"p",16),Q("click",function(){return r.resetFilter()}),O(28," Reset "),S()()(),w(29,"div"),te(30,xje,1,1,"ag-charts",17),te(31,Sje,2,0,"div",18),S()(),w(32,"div",1),Z(33,"app-main-header-dashboard",19),w(34,"div"),te(35,Mje,1,5,"ag-grid-angular",20),te(36,Eje,2,0,"div",18),S()(),w(37,"div",1),Z(38,"app-main-header-dashboard",21),w(39,"div"),te(40,Ije,1,1,"ag-charts",17),te(41,Aje,2,0,"div",18),S()(),w(42,"div",1),Z(43,"app-main-header-dashboard",22),w(44,"div"),te(45,Tje,1,1,"ag-charts",17),te(46,Rje,2,0,"div",18),S()()()),2&n){const s=Wc(13),o=Wc(20);T(2),B("withoutBold",!0),T(2),Et(r.error),T(6),B("matDatepicker",s)("max",r.selectedToDate?r.selectedToDate:null)("ngModel",r.selectedFromDate),T(1),B("for",s),T(6),B("matDatepicker",o)("min",r.selectedFromDate?r.selectedFromDate:null)("ngModel",r.selectedToDate),T(1),B("for",o),T(7),B("ngModel",r.selectedOrganization),T(1),B("ngForOf",r.organizations),T(4),B("ngIf",!r.isLoadingOpportunityCreation),T(1),B("ngIf",r.isLoadingOpportunityCreation),T(2),B("withoutBold",!0),T(2),B("ngIf",!r.isLoadingTOpportunitiesData),T(1),B("ngIf",r.isLoadingTOpportunitiesData),T(2),B("withoutBold",!0),T(2),B("ngIf",!r.isLoadingTOpportunitiesData),T(1),B("ngIf",r.isLoadingTOpportunitiesData),T(2),B("withoutBold",!0),T(2),B("ngIf",!r.isLoadingOpportunitiesInterestData),T(1),B("ngIf",r.isLoadingOpportunitiesInterestData)}},dependencies:[Dl,ui,jn,yn,Gn,Hn,qx,xu,Gd,U0,Sg,B4,NT,pk,Nm,O_,C5,X1,w5,Pl,or],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.icon-header-title, .icon-header-organization[_ngcontent-%COMP%], .icon-header-location[_ngcontent-%COMP%], .icon-header-time[_ngcontent-%COMP%], .icon-header-statu)[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:left center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-title[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-title.d7f00219443f3031.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-organization[_ngcontent-%COMP%]{background-image:url(/assets/orte.133a1cf0ba895410.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-location[_ngcontent-%COMP%]{background-image:url(/assets/Location.005cea3faa089e9c.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-time[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20ionic-md-time.72daceaa61d01c3d.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-statu[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-update.ceee7f5fe2e105b8.svg)}"]})}}return e})(),Pje=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-home"]],decls:15,vars:1,consts:[[1,"flex","flex-col","h-full"],[3,"title"],[1,"px-main","py-[30px]","overflow-auto"],["title","Overall statistics:"],[1,"mt-6","w-full"],["title","Volunteer Management:","subtitle","View more about volunteers"],["title","Organizations management:","subtitle","View more about Organizations"],["title","Opportunities Management:","subtitle","View more about Organizations"]],template:function(n,r){1&n&&(w(0,"div",0),Z(1,"app-navbar",1),w(2,"div",2)(3,"div"),Z(4,"app-main-header-dashboard",3)(5,"app-overall-statistics-section"),S(),w(6,"div",4),Z(7,"app-main-header-dashboard",5)(8,"app-most-active-volunteers"),S(),w(9,"div",4),Z(10,"app-main-header-dashboard",6)(11,"app-volunteer-management"),S(),w(12,"div",4),Z(13,"app-main-header-dashboard",7)(14,"app-oppertunites-management"),S()()()),2&n&&(T(1),B("title","Dashboard"))},dependencies:[jh,Pl,FIe,K7e,Cje,kje]})}}return e})();function Fje(e,t){if(1&e){const i=ct();w(0,"mat-icon",5),Q("click",function(){return Le(i),Ve(ae().params.openCheckDialog())}),S()}}function Oje(e,t){if(1&e){const i=ct();w(0,"mat-icon",6),Q("click",function(){return Le(i),Ve(ae().params.openDeletekDialog())}),S()}}function Lje(e,t){if(1&e){const i=ct();w(0,"mat-icon",7),Q("click",function(){return Le(i),Ve(ae().params.openBlockDialog())}),S()}}function Nje(e,t){if(1&e){const i=ct();w(0,"mat-icon",8),Q("click",function(){return Le(i),Ve(ae().params.openUnBlockDialog())}),S()}}let Ise=(()=>{class e{constructor(i){this.dialog=i}agInit(i){this.params=i,this.status=i.status}refresh(){return!1}static{this.\u0275fac=function(n){return new(n||e)(R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-action-cell"]],decls:5,vars:4,consts:[[1,"flex","h-full","gap-2","ml-4","items-center"],["svgIcon","check","class","cursor-pointer",3,"click",4,"ngIf"],["svgIcon","delete","class","cursor-pointer",3,"click",4,"ngIf"],["svgIcon","block","class","cursor-pointer",3,"click",4,"ngIf"],["svgIcon","unblock","class","cursor-pointer",3,"click",4,"ngIf"],["svgIcon","check",1,"cursor-pointer",3,"click"],["svgIcon","delete",1,"cursor-pointer",3,"click"],["svgIcon","block",1,"cursor-pointer",3,"click"],["svgIcon","unblock",1,"cursor-pointer",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,Fje,1,0,"mat-icon",1),te(2,Oje,1,0,"mat-icon",2),te(3,Lje,1,0,"mat-icon",3),te(4,Nje,1,0,"mat-icon",4),S()),2&n&&(T(1),B("ngIf",0===r.status||2===r.status),T(1),B("ngIf",0===r.status),T(1),B("ngIf",1===r.status),T(1),B("ngIf",3===r.status))},dependencies:[ui,Ci]})}}return e})(),gk=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.volunteerService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.volunteerService.blockVolunteer({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(gg),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-block-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-96","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Blocking user Confirmation "),S(),w(8,"p",7),O(9," Blocking a user will prevent them from interacting on this platform "),S(),w(10,"p",7),O(11," If you're certain that you want to block this user, click 'Block' below "),S()()(),w(12,"div",8)(13,"button",9),Q("click",function(){return r.onBlock()}),O(14," Block "),S(),w(15,"button",10),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{min-height:470px;border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})(),fk=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.volunteerService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.volunteerService.unblockVolunteer({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(gg),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-check-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-[470px]","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog-rectangle-check-icon",1,"rectangle-icon","mb-14"],["svgIcon","check",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-primary-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," unblocking user Confirmation "),S(),w(8,"p",7),O(9," unblocking a user will prevent them from interacting on this platform "),S(),w(10,"p",7),O(11," If you're certain that you want to unblock this user, click 'unblock' below "),S()()(),w(12,"div",8)(13,"button",9),Q("click",function(){return r.onBlock()}),O(14," unblock "),S(),w(15,"button",10),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:100px;height:101px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})(),mk=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.volunteerService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.volunteerService.rejectVolunteer({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(gg),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-delete-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-[470px]","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","delete-dialog",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Deleting user Confirmation "),S(),w(8,"p",7),O(9," Deleting a user will prevent them from interacting on this platform "),S(),w(10,"p",7),O(11," If you're certain that you want to delete this user, click 'Delete' below "),S()()(),w(12,"div",8)(13,"button",9),Q("click",function(){return r.onBlock()}),O(14," Delete "),S(),w(15,"button",10),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})(),vk=(()=>{class e{constructor(i,n,r,s){this.volunteerService=i,this.toastService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.volunteerService.acceptVolunteer({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(gg),R(Hi),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-check-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-[470px]","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog-rectangle-check-icon",1,"rectangle-icon","mb-14"],["svgIcon","check",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-primary-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," checking user Confirmation "),S(),w(8,"p",7),O(9," checking a user will prevent them from interacting on this platform "),S(),w(10,"p",7),O(11," If you're certain that you want to check this user, click 'Check' below "),S()()(),w(12,"div",8)(13,"button",9),Q("click",function(){return r.onBlock()}),O(14," Accept "),S(),w(15,"button",10),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:84px;height:84px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})();function Vje(e,t){if(1&e){const i=ct();w(0,"mat-icon",19),Q("click",function(){return Le(i),Ve(ae(2).openBlockDialog())}),S()}}function Bje(e,t){if(1&e){const i=ct();w(0,"mat-icon",20),Q("click",function(){return Le(i),Ve(ae(2).openDeleteDialog())}),S()}}function zje(e,t){if(1&e){const i=ct();w(0,"mat-icon",21),Q("click",function(){return Le(i),Ve(ae(2).openCheckDialog())}),S()}}function Gje(e,t){if(1&e){const i=ct();w(0,"mat-icon",22),Q("click",function(){return Le(i),Ve(ae(2).openUnblockDialog())}),S()}}function Hje(e,t){if(1&e){const i=ct();w(0,"div",4),Z(1,"img",5),w(2,"div",6)(3,"div",7)(4,"div",8)(5,"p",9),O(6),S(),w(7,"div",8),te(8,Vje,1,0,"mat-icon",10),te(9,Bje,1,0,"mat-icon",11),te(10,zje,1,0,"mat-icon",12),te(11,Gje,1,0,"mat-icon",13),S()(),w(12,"button",14),Q("click",function(){return Le(i),Ve(ae().onClose())}),w(13,"mat-icon"),O(14,"close"),S()()(),w(15,"div",15)(16,"div",16)(17,"mat-icon",17),O(18,"email"),S(),w(19,"span"),O(20),S()(),w(21,"div",16)(22,"mat-icon",17),O(23,"location_on"),S(),w(24,"span"),O(25),S()()(),w(26,"div",18),O(27),S()()()}if(2&e){const i=ae();T(1),rI("src",i.volunteerArr.image,Sh),T(5),_t(" ",i.volunteerArr.name," "),T(2),B("ngIf",1===i.data.rowData.status),T(1),B("ngIf",0===i.data.rowData.status),T(1),B("ngIf",2===i.data.rowData.status||0===i.data.rowData.status),T(1),B("ngIf",3===i.data.rowData.status),T(9),Et(i.volunteerArr.email),T(5),Et(i.volunteerArr.location),T(2),_t(" ",i.volunteerArr.bio," ")}}function jje(e,t){if(1&e&&(w(0,"div")(1,"p",28),O(2,"Statistics"),S(),w(3,"div",29)(4,"div",30)(5,"div",31),O(6),S(),w(7,"p",32),O(8,"TimeFunded"),S()(),w(9,"div",30)(10,"div",33),O(11),S(),w(12,"p",32),O(13,"Badges"),S()(),w(14,"div",30)(15,"div",34),O(16),S(),w(17,"p",32),O(18,"Organizations"),S()()()()),2&e){const i=ae(2);T(6),_t(" ",i.volunteerArr.time_funded," "),T(5),_t(" ",i.volunteerArr.time_funded," "),T(5),_t(" ",i.volunteerArr.orgnizations," ")}}function Uje(e,t){if(1&e&&(w(0,"span",38),O(1),S()),2&e){const i=t.$implicit;T(1),Et(i)}}function Wje(e,t){if(1&e&&(w(0,"span",38),O(1),S()),2&e){const i=t.$implicit;T(1),Et(i)}}function $je(e,t){if(1&e&&(w(0,"span",38),O(1),S()),2&e){const i=t.$implicit;T(1),Et(i)}}function Yje(e,t){if(1&e&&(w(0,"div")(1,"div",35)(2,"h4"),O(3,"Interests:"),S(),w(4,"div",36),te(5,Uje,2,1,"span",37),S(),w(6,"h4"),O(7,"skills:"),S(),w(8,"div",36),te(9,Wje,2,1,"span",37),S(),w(10,"h4"),O(11,"creative_potential:"),S(),w(12,"div",36),te(13,$je,2,1,"span",37),S()()()),2&e){const i=ae(2);T(5),B("ngForOf",i.volunteerArr.interest),T(4),B("ngForOf",i.volunteerArr.skills),T(4),B("ngForOf",i.volunteerArr.creative_potential)}}function Kje(e,t){if(1&e){const i=ct();w(0,"div",39)(1,"div",40)(2,"mat-form-field",41)(3,"mat-label"),O(4,"Month"),S(),w(5,"mat-select",42),Q("valueChange",function(r){return Le(i),Ve(ae(2).selected=r)})("selectionChange",function(r){return Le(i),Ve(ae(2).onSelectedChange(r.value))}),w(6,"mat-option",43),O(7,"Month"),S(),w(8,"mat-option",44),O(9,"Week"),S()()()(),w(10,"div",45),Z(11,"ag-charts",46),S()()}if(2&e){const i=ae(2);T(5),B("value",i.selected),T(6),B("options",i.options)}}function qje(e,t){if(1&e){const i=ct();w(0,"div",23)(1,"div",24)(2,"button",25),Q("click",function(){return Le(i),Ve(ae().selectTab(0))}),O(3," About "),S(),w(4,"button",25),Q("click",function(){return Le(i),Ve(ae().selectTab(1))}),O(5," Preferences "),S(),w(6,"button",25),Q("click",function(){return Le(i),Ve(ae().selectTab(2))}),O(7," Performance "),S()(),te(8,jje,19,3,"div",26),te(9,Yje,14,3,"div",26),te(10,Kje,12,2,"div",27),S()}if(2&e){const i=ae();T(2),ei("active",0===i.selectedTab),T(2),ei("active",1===i.selectedTab),T(2),ei("active",2===i.selectedTab),T(2),B("ngIf",0===i.selectedTab&&!i.loading),T(1),B("ngIf",1===i.selectedTab&&!i.loading),T(1),B("ngIf",2===i.selectedTab&&!i.loading)}}function Zje(e,t){1&e&&(w(0,"div",47),Z(1,"app-loading"),S())}let Qje=(()=>{class e{constructor(i,n,r,s){this.dialog=i,this.volunteerService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr),this.selected="weekPerformance",this.loading=!1,this.options={},this.selectedTab=0,this.volunteerArr={id:0,name:"",image:"",email:"",bio:"",time_funded:"",badges:"",location:"",orgnizations:"",interest:[],skills:[],creative_potential:[]}}onClose(){this.dialogRef.close()}selectTab(i){this.selectedTab=i}ngOnInit(){this.getData({id:this.data.rowData.id})}getData({id:i}){var n=this;return(0,J.A)(function*(){n.loading=!0,n.volunteerService.getDetailsVolunteer({id:i}).subscribe(r=>{n.loading=!1,console.log(n.data.rowData.id),n.options={data:"monthPerformance"===n.selected?r.data.monthPerformance:r.data.weekPerformance,series:[{type:"line",xKey:"date",yKey:"total_hours",yName:"total hours",stroke:"#7f77d9"}]},n.volunteerArr.name=r.data.volunteer.name,n.volunteerArr.id=r.data.volunteer.id,n.volunteerArr.email=r.data.volunteer.email,n.volunteerArr.bio=r.data.volunteer.bio,n.volunteerArr.time_funded=r.data.volunteer.time_funded,n.volunteerArr.badges=r.data.volunteer.badges,n.volunteerArr.orgnizations=r.data.volunteer.orgnizations,n.volunteerArr.location=r.data.volunteer.location,n.volunteerArr.interest=r.data.volunteer.interest.map(s=>s.name),n.volunteerArr.skills=r.data.volunteer.skills,n.volunteerArr.creative_potential=r.data.volunteer.creative_potential,n.loading=!1})})()}onSelectedChange(i){this.selected=i,this.getData({id:this.data.rowData.id})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}openBlockDialog(){this.dialog.open(gk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{})}openUnblockDialog(){this.dialog.open(fk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Unblock dialog closed:",n)})}openDeleteDialog(){this.dialog.open(mk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Delete dialog closed:",n)})}openCheckDialog(){this.dialog.open(vk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Check dialog closed:",n)})}static{this.\u0275fac=function(n){return new(n||e)(R(jr),R(gg),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-vol-details-dialog"]],decls:4,vars:3,consts:[[1,"w-[700px]","h-[600px]"],["class","flex gap-14 m-6",4,"ngIf"],["class","flex my-9",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","gap-14","m-6"],["alt","Profile Image",1,"w-[102px]","h-[102px]","rounded-3xl","object-cover",3,"src"],[1,"pr-0"],[1,"w-full"],[1,"flex","gap-1"],[1,"text-xl","font-bold","text-gray-800"],["svgIcon","block",3,"click",4,"ngIf"],["svgIcon","delete",3,"click",4,"ngIf"],["svgIcon","check",3,"click",4,"ngIf"],["svgIcon","unblock",3,"click",4,"ngIf"],[1,"absolute","top-6","right-6",3,"click"],[1,"flex"],[1,"flex","justify-center","items-center","text-sm","my-2","mr-4","text-gray-500"],[1,"icon"],[1,"text-sm","text-gray-500"],["svgIcon","block",3,"click"],["svgIcon","delete",3,"click"],["svgIcon","check",3,"click"],["svgIcon","unblock",3,"click"],[1,"flex","my-9"],[1,"flex","flex-col","mr-5","w-36","text-gray-600"],[1,"flex","items-center","pl-9","pt-3","pb-3",3,"click"],[4,"ngIf"],["class","w-full pl-2",4,"ngIf"],[1,"font-bold","text-sm","mb-3"],[1,"flex","gap-6"],[1,"flex-col"],[1,"w-24","h-24","text-3xl","font-bold","border-none","rounded-3xl","bg-[#a9f987]","flex","justify-center","items-center"],[1,"text-sm","text-gray-500","text-center"],[1,"w-24","h-24","text-3xl","font-bold","border-none","rounded-3xl","bg-[#AAD8FE]","flex","justify-center","items-center"],[1,"w-24","h-24","text-3xl","font-bold","border-none","rounded-3xl","bg-[#FDEED0]","flex","justify-center","items-center"],[1,"tags-container"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],[1,"w-full","pl-2"],[1,"w-fit"],["appearance","outline",2,"width","100%"],[3,"value","valueChange","selectionChange"],["value","monthPerformance"],["value","weekPerformance"],[1,"overflow-auto","w-[92%]","noSidebar"],[3,"options"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,Hje,28,9,"div",1),te(2,qje,11,9,"div",2),te(3,Zje,2,0,"div",3),S()),2&n&&(T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",r.loading))},dependencies:[Dl,ui,Ci,U0,Sg,pk,Nm,O_,or],styles:["button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}.icon[_ngcontent-%COMP%]{font-size:14px;width:14px!important;height:14px!important}.tag[_ngcontent-%COMP%]{padding:8px 12px;background-color:#f5f5f5;border:1px solid #bbb;border-radius:20px;width:100px;font-size:14px;color:#555;text-align:center}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.tag[_ngcontent-%COMP%]{padding:8px 12px;background-color:#f5f5f5;border:1px solid #bbb;border-radius:20px;font-size:14px;color:#555}"]})}}return e})(),Xje=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.volunteerService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.volunteerService.acceptVolunteer({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(gg),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-reject-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-[470px]","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog-rectangle-check-icon",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-primary-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," checking user Confirmation "),S(),w(8,"p",7),O(9," checking a user will prevent them from interacting on this platform "),S(),w(10,"p",7),O(11," If you're certain that you want to check this user, click 'Check' below "),S()()(),w(12,"div",8)(13,"button",9),Q("click",function(){return r.onBlock()}),O(14," Accept "),S(),w(15,"button",10),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})();const Cp=gc("filterAnimation",[Du("void",Qi({opacity:0,transform:"translateY(-20px)"})),ss(":enter",[rs("250ms ease-in")]),ss(":leave",[rs("250ms ease-out")])]);function Jje(e,t){if(1&e){const i=ct();w(0,"li",5),Q("click",function(){return Le(i),Ve(ae().setPage(1))}),O(1,"..."),S()}}const yk=function(e){return{active:e}};function eUe(e,t){if(1&e){const i=ct();w(0,"li",3),Q("click",function(){Le(i);const r=ae();return Ve(r.setPage(r.currentPage-1))}),O(1),S()}if(2&e){const i=ae();B("ngClass",fx(2,yk,i.currentPage===i.currentPage-1)),T(1),_t(" ",i.currentPage-1," ")}}function tUe(e,t){if(1&e){const i=ct();w(0,"li",3),Q("click",function(){Le(i);const r=ae();return Ve(r.setPage(r.currentPage+1))}),O(1),S()}if(2&e){const i=ae();B("ngClass",fx(2,yk,i.currentPage===i.currentPage+1)),T(1),_t(" ",i.currentPage+1," ")}}function iUe(e,t){1&e&&(w(0,"li"),O(1,"..."),S())}function nUe(e,t){if(1&e){const i=ct();w(0,"li",3),Q("click",function(){Le(i);const r=ae();return Ve(r.setPage(r.lastPage))}),O(1),S()}if(2&e){const i=ae();B("ngClass",fx(2,yk,i.currentPage===i.lastPage)),T(1),_t(" ",i.lastPage," ")}}let Yu=(()=>{class e{constructor(){this.currentPage=1,this.lastPage=1,this.pageChange=new pe}setPage(i){i<1||i>this.lastPage||(this.currentPage=i,this.pageChange.emit(this.currentPage))}ngOnChanges(i){i.lastPage&&(this.lastPage<1&&(this.lastPage=1),this.currentPage>this.lastPage&&(this.currentPage=this.lastPage,this.pageChange.emit(this.currentPage)))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",lastPage:"lastPage"},outputs:{pageChange:"pageChange"},features:[Xn],decls:9,vars:9,consts:[[1,"pagination","mx-14","text-sm"],[3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],[4,"ngIf"],[3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"ul"),te(2,Jje,2,0,"li",1),te(3,eUe,2,4,"li",2),w(4,"li",3),Q("click",function(){return r.setPage(r.currentPage)}),O(5),S(),te(6,tUe,2,4,"li",2),te(7,iUe,2,0,"li",4),te(8,nUe,2,4,"li",2),S()()),2&n&&(T(2),B("ngIf",r.currentPage>2),T(1),B("ngIf",r.currentPage>=2),T(1),B("ngClass",fx(7,yk,r.currentPage==r.currentPage)),T(1),_t(" ",r.currentPage," "),T(1),B("ngIf",r.currentPage+1<r.lastPage),T(1),B("ngIf",r.currentPage+1<r.lastPage-1),T(1),B("ngIf",r.currentPage+1<=r.lastPage))},dependencies:[Ph,ui],styles:[".pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none;padding:20px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 1px;width:30px;height:30px;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:50%;transition:.3s}.pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border-radius:100%;background-color:#7f77d9;color:#fff;border-color:#7f77d9}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#7f77d9a7;color:#fff}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-left:5px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2){margin-right:5px}"]})}}return e})();function rUe(e,t){if(1&e){const i=ct();w(0,"div",14)(1,"div",15),Z(2,"app-main-header-dashboard",16),w(3,"div",17)(4,"p",18),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",19),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",20),O(10),S(),w(11,"form",21)(12,"div",22)(13,"label",23),O(14,"Name:"),S(),w(15,"div",24),ki(),w(16,"svg",25),Z(17,"path",26),S(),Ji(),Z(18,"input",27),S()(),w(19,"div",22)(20,"label",23),O(21,"email:"),S(),w(22,"div",24),ki(),w(23,"svg",25),Z(24,"path",26),S(),Ji(),Z(25,"input",28),S()(),w(26,"div",22)(27,"label",23),O(28," Location :"),S(),w(29,"div",24)(30,"mat-icon",29),O(31,"location_on"),S(),Z(32,"input",30),S()(),w(33,"div",22)(34,"label",23),O(35," Hours :"),S(),w(36,"div",31)(37,"div",24)(38,"mat-icon",29),O(39,"schedule"),S(),Z(40,"input",32)(41,"span",33),S(),w(42,"div",24)(43,"mat-icon",29),O(44,"schedule"),S(),Z(45,"input",34)(46,"span",33),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(10),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function sUe(e,t){if(1&e){const i=ct();w(0,"div",35),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const oUe=function(){return{resizable:!0,suppressMovable:!0}};function aUe(e,t){if(1&e){const i=ct();w(0,"ag-grid-angular",36),Q("gridReady",function(r){return Le(i),Ve(ae().onGridReady(r))})("cellClicked",function(r){return Le(i),Ve(ae().onCellClicked(r))}),S()}if(2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(7,oUe))("pagination",!1)("paginationPageSize",10)("gridOptions",i.gridOptions)}}function lUe(e,t){1&e&&(w(0,"div",37),Z(1,"app-loading"),S())}let cUe=(()=>{class e{toggleOpenFilter(){this.openFilter=!this.openFilter}onSubmit(){if(""===this.FilterForm.get("hoursT")?.value&&""!==this.FilterForm.get("hoursF")?.value||""===this.FilterForm.get("hoursF")?.value&&""!==this.FilterForm.get("hoursT")?.value)return this.error="Select the range",void(this.loading=!1);this.getData({status:this.activeTab}),this.openFilter=!1}reset(){this.FilterForm.reset(),this.getData({status:this.activeTab}),this.openFilter=!1,this.error=""}setPage(i){this.currentPage=i}shouldShowEllipsis(){return this.currentPage<6}constructor(i,n,r,s){this.toastService=i,this.volunteerService=n,this.dialog=r,this.fb=s,this.currentPage=1,this.openFilter=!1,this.loading=!1,this.numbers=null,this.number0="loading",this.number1="loading",this.number2="loading",this.number3="loading",this.all_volunteers="loading",this.rowData=[],this.total=0,this.lastPage=0,this.error="",this.columnDefs=[{field:"name",headerName:"Name",cellRenderer:o=>`\n        <div style="display: flex; align-items: center;">\n          <img src="${o.data.image}" style="width: 24px; height: 24px; border-radius: 50%; margin-right: 8px;">\n          <span>${o.value}</span>\n        </div>\n      `,headerClass:"icon-header-person text-[14px]",sortable:!0,flex:2,filter:!1},{field:"email",headerName:"Email",headerClass:"icon-header-email text-[14px]",sortable:!0,flex:2,filter:!1},{field:"location",headerName:"Location",headerClass:"icon-header-location text-[14px]",sortable:!0,flex:1,filter:!1},{field:"hours",headerName:"Hours",headerClass:"icon-header-hours text-center ",sortable:!0,filter:!1,flex:1},{headerName:"Action",field:"action",headerClass:"text-center ",flex:1,width:100,cellRenderer:Ise,cellRendererParams:o=>({status:this.activeTab,openBlockDialog:()=>this.blockDialogHandler(o),openUnBlockDialog:()=>this.unBlockDialogHandler(o),openDeletekDialog:()=>this.deleteDialogHandler(o),openCheckDialog:()=>this.checkDialogHandler(o),openRejectkDialog:()=>this.rejectDialogHandler(o)})}],this.defaultColDef={sortable:!0,filter:!0,resizable:!0},this.gridOptions={onCellValueChanged:o=>{this.validateActiveTab()||o.api.undoCellEditing()}},this.FilterForm=this.fb.group({name:[""],email:["",kn.email],location:[""],hoursF:[""],hoursT:[""]})}ngOnInit(){this.getData({status:1}),this.activeTab=1}onPageChange(i){this.currentPage=i,this.getData({status:this.activeTab})}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData({status:i}){var n=this;return(0,J.A)(function*(){if(""===n.FilterForm.get("hoursT")?.value&&""!==n.FilterForm.get("hoursF")?.value||""===n.FilterForm.get("hoursF")?.value&&""!==n.FilterForm.get("hoursT")?.value)return n.error="Select the range",void(n.loading=!1);{n.loading=!0;const r={name:n.FilterForm.get("name")?.value||"",email:n.FilterForm.get("email")?.value||"",location:n.FilterForm.get("location")?.value||"",hoursF:n.FilterForm.get("hoursF")?.value||"",hoursT:n.FilterForm.get("hoursT")?.value||""};n.volunteerService.getAllVolunteers({status:i,page:n.currentPage,filter:r}).subscribe({next:s=>{n.loading=!1,n.lastPage=s.meta.last_page,n.rowData=s.data.volunteers,n.number0=s.data.active_volunteers,n.number1=s.data.pending_volunteers,n.number2=s.data.rejected_volunteers,n.number3=s.data.blocked_volunteers,n.all_volunteers=s.data.all_volunteers,n.loading=!1,n.activeTab=i,n.error=""},error:s=>{n.error="",n.showDangerToast(s.error.message)}})}})()}blockDialogHandler(i){this.dialog.open(gk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}unBlockDialogHandler(i){this.dialog.open(fk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}deleteDialogHandler(i){this.dialog.open(mk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}checkDialogHandler(i){this.dialog.open(vk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}rejectDialogHandler(i){this.dialog.open(Xje,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}onCellClicked(i){"action"!==i.colDef.field&&this.dialog.open(Qje,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{console.log("Dialog closed:",r),this.getData({status:this.activeTab})})}validateActiveTab(){for(let i of this.rowData)if(!i.name)return alert("Validation failed: Ensure all names are filled."),!1;return!0}changeTab(i){switch(i){case 1:this.number0="loading",this.getData({status:1});break;case 0:this.number1="loading",this.getData({status:0});break;case 2:this.number2="loading",this.getData({status:2});break;case 3:this.number3="loading",this.getData({status:3})}this.activeTab=i}onGridReady(i){this.gridApi=i.api,this.gridApi.sizeColumnsToFit()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(gg),R(jr),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-volunteer"]],decls:24,vars:20,consts:[[3,"title"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"px-main","mt-[30px]"],[1,"flex","mb-6","justify-center","gap-1","items-center","bg-secondary-500","hover:bg-gray-400","text-base","text-white","h-[40px]","w-[111px]","cursor-pointer","rounded-[28px]",3,"click"],[1,"text-white","py-2"],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"flex","pl-[74px]","pb-6","mt-6","text-textcolor-300","text-sm","tabs"],[1,"text-center","mx-[29px]",3,"click"],[2,"position","relative"],["style","width: 89%; height: 400px","class","ag-theme-alpine mx-auto",3,"rowData","columnDefs","defaultColDef","pagination","paginationPageSize","gridOptions","gridReady","cellClicked",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-between","items-center","border-t-2","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"cbg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","email","formControlName","email","type","email","name","email","required","","placeholder","Your Login Username",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","location","formControlName","location","type","text","name","location","placeholder","location",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","gap-4"],["id","hours","formControlName","hoursF","type","number","name","hoursF","placeholder","From",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],["id","hours","formControlName","hoursT","type","number","name","hours","placeholder","To",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine","mx-auto",2,"width","89%","height","400px",3,"rowData","columnDefs","defaultColDef","pagination","paginationPageSize","gridOptions","gridReady","cellClicked"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(Z(0,"app-navbar",0),te(1,rUe,47,3,"div",1),te(2,sUe,1,0,"div",2),w(3,"div",3)(4,"div",4),Q("click",function(){return r.toggleOpenFilter()}),w(5,"span",5),O(6,"Filter"),S(),Z(7,"mat-icon",6),S()(),w(8,"div",7)(9,"button",8),Q("click",function(){return r.changeTab(0)}),O(10),S(),w(11,"button",8),Q("click",function(){return r.changeTab(1)}),O(12),S(),w(13,"button",8),Q("click",function(){return r.changeTab(2)}),O(14),S(),w(15,"button",8),Q("click",function(){return r.changeTab(3)}),O(16),S()(),w(17,"div",9),te(18,aUe,1,8,"ag-grid-angular",10),te(19,lUe,2,0,"div",11),w(20,"div",12)(21,"p"),O(22),S(),w(23,"app-pagination",13),Q("pageChange",function(o){return r.onPageChange(o)}),S()()()),2&n&&(B("title","Volunteers"),T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(7),ei("active",0===r.activeTab),T(1),_t(" Pending(",null!==r.number1?r.number1:"Loading...",") "),T(1),ei("active",1===r.activeTab),T(1),_t(" Active(",r.number0,") "),T(1),ei("active",2===r.activeTab),T(1),_t(" Rejected(",null!==r.number2?r.number2:"Loading...",") "),T(1),ei("active",3===r.activeTab),T(1),_t(" Blocked(",null!==r.number3?r.number3:"Loading...",") "),T(2),B("ngIf",!r.loading),T(1),B("ngIf",r.loading),T(3),_t("",r.all_volunteers," Volunteers on Platform"),T(1),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Ci,Gd,Pn,fr,jh,Pl,or,Yu],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((// use theme parameters where possible alpine-active-color: #c066b2));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-body-vertical-scroll, .ag-body-horizontal-scroll[_ngcontent-%COMP%], .ag-header-cell-resize)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin-left:40px}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{margin-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{border-bottom:1px solid #e1e1e1;background-color:#fff}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-person[_ngcontent-%COMP%]{background-image:url(/assets/Profile%20filled.d119336c0d88f85b.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-email[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-email.53b028274ade51cb.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-location[_ngcontent-%COMP%]{background-image:url(/assets/Location.005cea3faa089e9c.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-hours[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20ionic-md-time.72daceaa61d01c3d.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#0dd410;border-bottom:solid 1px #07d730;padding-bottom:6px}"],data:{animation:[Cp]}})}}return e})(),Ase=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllOrganization({status:i,page:n,filter:r}){return this.apiService.get("Account-Management/npo/list",{"filter[status]":i,"filter[name]":r.name,"filter[location]":r.location,"filter[email]":r.email,page:n,"filter[rate][0]":r.hoursF,"filter[rate][1]":r.hoursT}).pipe(er(s=>(console.log(s),s)))}getDetailsNpo({id:i}){return console.log("uu",i),this.apiService.get(`Account-Management/npo/details/${i}`,{"filter[name]":"","filter[location]":"","filter[email]":""}).pipe(er(n=>n))}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",23),Q("click",function(){return Le(i),Ve(ae(2).openBlockDialog())}),S()}}function uUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",24),Q("click",function(){return Le(i),Ve(ae(2).openDeleteDialog())}),S()}}function hUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",25),Q("click",function(){return Le(i),Ve(ae(2).openCheckDialog())}),S()}}function pUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",26),Q("click",function(){return Le(i),Ve(ae(2).openUnblockDialog())}),S()}}function gUe(e,t){if(1&e){const i=ct();w(0,"div",4),Z(1,"img",5),w(2,"div",6)(3,"div",7)(4,"div",8)(5,"p",9),O(6),S(),w(7,"div",8),te(8,dUe,1,0,"mat-icon",10),te(9,uUe,1,0,"mat-icon",11),te(10,hUe,1,0,"mat-icon",12),te(11,pUe,1,0,"mat-icon",13),S()(),w(12,"button",14),Q("click",function(){return Le(i),Ve(ae().onClose())}),w(13,"mat-icon"),O(14,"close"),S()()(),w(15,"div",15),Z(16,"mat-icon",16),w(17,"div",17),O(18),S()(),w(19,"div",18)(20,"div",19)(21,"mat-icon",20),O(22,"email"),S(),w(23,"span"),O(24),S()(),w(25,"div",19)(26,"mat-icon",20),O(27,"location_on"),S(),w(28,"p"),O(29),S()()(),w(30,"div",21)(31,"mat-icon",20),O(32,"website"),S(),w(33,"p"),O(34),S()(),w(35,"div",22),O(36),S()()()}if(2&e){const i=ae();T(1),B("src",i.npoArr.image,Sh),T(5),_t(" ",i.npoArr.name," "),T(2),B("ngIf",1===i.data.rowData.status),T(1),B("ngIf",0===i.data.rowData.status),T(1),B("ngIf",2===i.data.rowData.status||0===i.data.rowData.status),T(1),B("ngIf",3===i.data.rowData.status),T(7),Et(i.npoArr.rating_average),T(6),Et(i.npoArr.email),T(5),Et(i.npoArr.location),T(5),Et(i.npoArr.website),T(2),_t(" ",i.npoArr.bio," ")}}function fUe(e,t){if(1&e&&(w(0,"span",42),O(1),S()),2&e){const i=t.$implicit;T(1),Et(i)}}function mUe(e,t){if(1&e&&(w(0,"span",42),O(1),S()),2&e){const i=t.$implicit;T(1),Et(i)}}function vUe(e,t){if(1&e&&(w(0,"div")(1,"h2",32),O(2,"Statistics"),S(),w(3,"div",33)(4,"div",34)(5,"div",35),O(6),S(),w(7,"p",36),O(8,"Rating"),S()(),w(9,"div",34)(10,"div",37),O(11),S(),w(12,"p",36),O(13,"Projects"),S()(),w(14,"div",34)(15,"div",38),O(16),S(),w(17,"p",36),O(18,"Volunteers"),S()()(),w(19,"div",39)(20,"h2",32),O(21,"Skills Requirement:"),S(),w(22,"div",40),te(23,fUe,2,1,"span",41),S(),w(24,"div",39)(25,"h2",32),O(26,"creative_potential:"),S(),w(27,"div",40),te(28,mUe,2,1,"span",41),S()()()()),2&e){const i=ae(2);T(6),_t(" ",i.npoArr.rating_count," "),T(5),_t(" ",i.npoArr.projects," "),T(5),_t(" ",i.npoArr.volunteers_count," "),T(7),B("ngForOf",i.npoArr.skills),T(5),B("ngForOf",i.npoArr.creative_potential)}}function yUe(e,t){if(1&e){const i=ct();w(0,"div",43)(1,"mat-form-field",44)(2,"mat-label"),O(3,"Month"),S(),w(4,"mat-select",45),Q("valueChange",function(r){return Le(i),Ve(ae(2).selected=r)})("selectionChange",function(r){return Le(i),Ve(ae(2).onSelectedChange(r.value))}),w(5,"mat-option",46),O(6,"Month"),S(),w(7,"mat-option",47),O(8,"Week"),S()()(),w(9,"div",48),Z(10,"ag-charts",49),S()()}if(2&e){const i=ae(2);T(4),B("value",i.selected),T(6),B("options",i.options)}}function bUe(e,t){if(1&e){const i=ct();w(0,"div",27)(1,"div",28)(2,"button",29),Q("click",function(){return Le(i),Ve(ae().selectTab(0))}),O(3," About "),S(),w(4,"button",29),Q("click",function(){return Le(i),Ve(ae().selectTab(2))}),O(5," Performance "),S()(),te(6,vUe,29,5,"div",30),te(7,yUe,11,2,"div",31),S()}if(2&e){const i=ae();T(2),ei("active",0===i.selectedTab),T(2),ei("active",2===i.selectedTab),T(2),B("ngIf",0===i.selectedTab&&!i.loading),T(1),B("ngIf",2===i.selectedTab&&!i.loading)}}function _Ue(e,t){1&e&&(w(0,"div",50),Z(1,"app-loading"),S())}let CUe=(()=>{class e{constructor(i,n,r,s){this.dialog=i,this.npoService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr),this.selected="weekPerformance",this.options={},this.isLoading=!1,this.selectedTab=0,this.npoArr={name:"",email:"",bio:"",website:"",location:"",image:"",volunteers_count:0,rating_average:0,rating_count:0,projects:0,status:0,interest:[],skills:[],creative_potential:[]},this.loading=!1}onClose(){this.dialogRef.close()}selectTab(i){this.selectedTab=i}ngOnInit(){this.getData({id:this.data.rowData.id})}getData({id:i}){var n=this;return(0,J.A)(function*(){n.loading=!0,n.npoService.getDetailsNpo({id:i}).subscribe(r=>{n.loading=!1,console.log(n.data.rowData.id),n.options={data:"monthPerformance"===n.selected?r.data.monthPerformance:r.data.weekPerformance,series:[{type:"line",xKey:"date",yKey:"total_hours",yName:"total hours",stroke:"#7f77d9"}]},n.npoArr.name=r.data.npo.name,n.npoArr.image=r.data.npo.image,n.npoArr.email=r.data.npo.email,n.npoArr.bio=r.data.npo.bio,n.npoArr.projects=r.data.npo.projects,n.npoArr.rating_average=r.data.npo.rating_average,n.npoArr.status=r.data.npo.status,n.npoArr.rating_count=r.data.npo.rating_count,n.npoArr.volunteers_count=r.data.npo.volunteers_count,n.npoArr.website=r.data.npo.website,n.npoArr.location=r.data.npo.location,n.npoArr.interest=r.data.npo.interest.map(s=>s.name),n.npoArr.skills=r.data.npo.skills,n.npoArr.creative_potential=r.data.npo.creative_potential,n.loading=!1})})()}onSelectedChange(i){this.selected=i,this.getData({id:this.data.rowData.id})}openBlockDialog(){this.dialog.open(gk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{})}openUnblockDialog(){this.dialog.open(fk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Unblock dialog closed:",n)})}openDeleteDialog(){this.dialog.open(mk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Delete dialog closed:",n)})}openCheckDialog(){this.dialog.open(vk,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Check dialog closed:",n)})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(jr),R(Ase),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-npo-details-dialog"]],decls:4,vars:3,consts:[[1,"h-[600px]","w-[700px]"],["class","flex gap-10 m-6",4,"ngIf"],["class","flex my-9",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","gap-10","m-6"],["alt","Profile Image",1,"w-[102px]","h-[102px]","rounded-3xl","object-cover",3,"src"],[1,"pr-0"],[1,"w-full"],[1,"flex","gap-1"],[1,"text-xl","font-bold","text-gray-800"],["svgIcon","block",3,"click",4,"ngIf"],["svgIcon","delete",3,"click",4,"ngIf"],["svgIcon","check",3,"click",4,"ngIf"],["svgIcon","unblock",3,"click",4,"ngIf"],[1,"absolute","top-6","right-6",3,"click"],[1,"flex","justify-start","items-center","gap-1"],["svgIcon","star-rating",1,"icon"],[1,"texr-sm"],[1,"flex"],[1,"flex","justify-center","items-center","text-sm","my-2","mr-4","text-gray-500"],[1,"icon"],[1,"flex","items-start","justify-start","gap-1","text-sm","mb-2","text-gray-500"],[1,"text-sm","text-gray-500"],["svgIcon","block",3,"click"],["svgIcon","delete",3,"click"],["svgIcon","check",3,"click"],["svgIcon","unblock",3,"click"],[1,"flex","my-9"],[1,"flex","flex-col","mr-5","w-36","text-gray-600"],[1,"flex","items-center","pl-9","pt-3","pb-3",3,"click"],[4,"ngIf"],["class","w-full pl-2",4,"ngIf"],[1,"font-bold"],[1,"flex","gap-6"],[1,"flex-col"],[1,"w-24","h-24","text-3xl","font-bold","border-none","rounded-3xl","bg-[#a9f987]","flex","justify-center","items-center"],[1,"text-sm","text-gray-500","text-center"],[1,"w-24","h-24","text-3xl","font-bold","border-none","rounded-3xl","bg-[#AAD8FE]","flex","justify-center","items-center"],[1,"w-24","h-24","text-3xl","font-bold","border-none","rounded-3xl","bg-[#FDEED0]","flex","justify-center","items-center"],[1,"mt-5"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],[1,"w-full","pl-2"],["appearance","outline",2,"width","100%"],[3,"value","valueChange","selectionChange"],["value","monthPerformance"],["value","weekPerformance"],[1,"overflow-auto","w-[92%]","noSidebar"],[3,"options"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,gUe,37,11,"div",1),te(2,bUe,8,6,"div",2),te(3,_Ue,2,0,"div",3),S()),2&n&&(T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",r.loading))},dependencies:[Dl,ui,Ci,U0,Sg,pk,Nm,O_,or],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}.icon[_ngcontent-%COMP%]{font-size:14px;width:14px!important;height:14px!important}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.tag[_ngcontent-%COMP%]{padding:8px 12px;background-color:#f5f5f5;border:1px solid #bbb;width:100px;border-radius:20px;font-size:14px;color:#555}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}"]})}}return e})();function wUe(e,t){if(1&e){const i=ct();w(0,"div",14)(1,"div",15),Z(2,"app-main-header-dashboard",16),w(3,"div",17)(4,"p",18),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",19),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",20),O(10),S(),w(11,"form",21)(12,"div",22)(13,"label",23),O(14,"Name:"),S(),w(15,"div",24),ki(),w(16,"svg",25),Z(17,"path",26),S(),Ji(),Z(18,"input",27),S()(),w(19,"div",22)(20,"label",23),O(21,"email:"),S(),w(22,"div",24),ki(),w(23,"svg",25),Z(24,"path",26),S(),Ji(),Z(25,"input",28),S()(),w(26,"div",22)(27,"label",23),O(28," Location :"),S(),w(29,"div",24)(30,"mat-icon",29),O(31,"location_on"),S(),Z(32,"input",30),S()(),w(33,"div",22)(34,"label",23),O(35," Rates :"),S(),w(36,"div",31)(37,"div",24)(38,"mat-icon",29),O(39,"schedule"),S(),Z(40,"input",32)(41,"span",33),S(),w(42,"div",24)(43,"mat-icon",29),O(44,"schedule"),S(),Z(45,"input",34)(46,"span",33),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(10),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function xUe(e,t){if(1&e){const i=ct();w(0,"div",35),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const SUe=function(){return{resizable:!0,suppressMovable:!0}};function DUe(e,t){if(1&e){const i=ct();w(0,"ag-grid-angular",36),Q("gridReady",function(r){return Le(i),Ve(ae().onGridReady(r))})("cellClicked",function(r){return Le(i),Ve(ae().onCellClicked(r))}),S()}if(2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",xl(6,SUe))("pagination",!1)("paginationPageSize",10)("gridOptions",i.gridOptions)}}function MUe(e,t){1&e&&(w(0,"div",37),Z(1,"app-loading"),S())}let EUe=(()=>{class e{toggleOpenFilter(){this.openFilter=!this.openFilter}onSubmit(){if(""===this.FilterForm.get("hoursT")?.value&&""!==this.FilterForm.get("hoursF")?.value||""===this.FilterForm.get("hoursF")?.value&&""!==this.FilterForm.get("hoursT")?.value)return this.error="Select the range",void(this.loading=!1);this.getData({status:this.activeTab}),this.openFilter=!1}reset(){this.FilterForm.reset(),this.getData({status:this.activeTab}),this.openFilter=!1,this.error=""}setPage(i){this.currentPage=i}shouldShowEllipsis(){return this.currentPage<6}constructor(i,n,r,s){this.toastService=i,this.npoService=n,this.dialog=r,this.fb=s,this.currentPage=1,this.openFilter=!1,this.error="",this.loading=!1,this.numbers=null,this.number0="loading",this.number1="loading",this.number2="loading",this.number3="loading",this.all_npos="loading",this.rowData=[],this.total=0,this.lastPage=0,this.columnDefs=[{field:"name",headerName:"Name",cellRenderer:o=>`\n        <div style="display: flex; align-items: center;">\n          <img src="${o.data.imageUrl}" style="width: 24px; height: 24px; border-radius: 50%; margin-right: 8px;">\n          <span>${o.value}</span>\n        </div>\n      `,headerClass:"icon-header-person text-[14px]",sortable:!0,filter:!1,flex:2},{field:"email",headerName:"Email",headerClass:"icon-header-email text-[14px]",sortable:!0,filter:!1,flex:2},{field:"location",headerName:"Location",headerClass:"icon-header-location text-[14px]",sortable:!0,flex:1,filter:!1},{field:"rate",headerName:"Rating",cellRenderer:o=>`\n        <div style="display: flex; align-items: center;">\n          \n          <svg xmlns="http://www.w3.org/2000/svg" width="10.486" height="9.001" viewBox="0 0 10.486 9.001">\n          <path id="Path_1279" data-name="Path 1279" d="M4797.924,1956.841l1.35,2.74a.677.677,0,0,0,.236.264.772.772,0,0,0,.352.122l3.3.313-2.47,2.005a.658.658,0,0,0-.2.285.593.593,0,0,0-.02.34l.692,2.933-2.877-1.5a.795.795,0,0,0-.727,0l-2.877,1.5.692-2.933a.593.593,0,0,0-.02-.34.655.655,0,0,0-.205-.285l-2.47-2.005,3.3-.312a.772.772,0,0,0,.352-.122.669.669,0,0,0,.236-.264Z" transform="translate(-4792.681 -1956.841)" fill="#f4c01e"/>\n          </svg>\n          <span>${o.value}</span>\n\n\n        </div>\n      `,headerClass:"icon-header-rating text-[14px]",sortable:!0,filter:!1,flex:1},{headerName:"Action",field:"action",width:100,flex:1,cellRenderer:Ise,cellRendererParams:o=>({status:this.activeTab,openBlockDialog:()=>this.blockDialogHandler(o),openUnBlockDialog:()=>this.unBlockDialogHandler(o),openDeletekDialog:()=>this.deleteDialogHandler(o),openCheckDialog:()=>this.checkDialogHandler(o)})}],this.defaultColDef={sortable:!0,filter:!0,resizable:!0},this.gridOptions={onCellValueChanged:o=>{this.validateActiveTab()||o.api.undoCellEditing()}},this.FilterForm=this.fb.group({name:[""],email:["",kn.email],location:[""],hoursF:[""],hoursT:[""]})}ngOnInit(){this.getData({status:1}),this.activeTab=1}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData({status:i}){var n=this;return(0,J.A)(function*(){n.loading=!0;const r={name:n.FilterForm.get("name")?.value||"",email:n.FilterForm.get("email")?.value||"",location:n.FilterForm.get("location")?.value||"",hoursF:n.FilterForm.get("hoursF")?.value||"",hoursT:n.FilterForm.get("hoursT")?.value||""};n.npoService.getAllOrganization({status:i,page:n.currentPage,filter:r}).subscribe({next:s=>{n.loading=!1,n.rowData=s.data.npos,n.number0=s.data.active_npos,n.number1=s.data.pending_npos,n.number2=s.data.rejected_npos,n.number3=s.data.blocked_npos,n.all_npos=s.data.all_npos,n.loading=!1,n.activeTab=i,n.error="",n.lastPage=s.meta.last_page},error:s=>{n.loading=!1,n.error="",n.showDangerToast(s.error.message)}})})()}onPageChange(i){this.currentPage=i,this.getData({status:this.activeTab})}blockDialogHandler(i){this.dialog.open(gk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}unBlockDialogHandler(i){this.dialog.open(fk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}deleteDialogHandler(i){this.dialog.open(mk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}checkDialogHandler(i){this.dialog.open(vk,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}onCellClicked(i){"action"!==i.colDef.field&&this.dialog.open(CUe,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{console.log("Dialog closed:",r),this.getData({status:this.activeTab})})}validateActiveTab(){for(let i of this.rowData)if(!i.name)return alert("Validation failed: Ensure all names are filled and age is at least 18."),!1;return!0}changeTab(i){switch(i){case 1:this.number0="loading",this.getData({status:1});break;case 0:this.number1="loading",this.getData({status:0});break;case 2:this.number2="loading",this.getData({status:2});break;case 3:this.number3="loading",this.getData({status:3})}this.activeTab=i,console.log(this.activeTab)}onGridReady(i){this.gridApi=i.api,this.gridApi.sizeColumnsToFit()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Ase),R(jr),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-organization"]],decls:24,vars:20,consts:[[3,"title"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"px-main","mt-[30px]"],[1,"flex","mb-6","justify-center","gap-1","items-center","bg-secondary-500","hover:bg-gray-400","text-base","text-white","h-[40px]","w-[111px]","cursor-pointer","rounded-[28px]",3,"click"],[1,"text-white","py-2"],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"flex","pl-[74px]","pb-6","mt-6","text-textcolor-300","text-sm","tabs"],[1,"text-center","mx-[29px]",3,"click"],[2,"position","relative"],["style","width: 89%; height: 400px","class","ag-theme-alpine mx-auto",3,"rowData","columnDefs","defaultColDef","pagination","paginationPageSize","gridOptions","gridReady","cellClicked",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-between","items-center","border-t-2","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","email","formControlName","email","type","email","name","email","required","","placeholder","Your Login Username",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","location","formControlName","location","type","text","name","location","placeholder","location",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","gap-4"],["id","hours","formControlName","hoursF","type","number","name","hoursF","placeholder","From",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],["id","hours","formControlName","hoursT","type","number","name","hours","placeholder","To",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine","mx-auto",2,"width","89%","height","400px",3,"rowData","columnDefs","defaultColDef","pagination","paginationPageSize","gridOptions","gridReady","cellClicked"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(Z(0,"app-navbar",0),te(1,wUe,47,3,"div",1),te(2,xUe,1,0,"div",2),w(3,"div",3)(4,"div",4),Q("click",function(){return r.toggleOpenFilter()}),w(5,"span",5),O(6,"Filter"),S(),Z(7,"mat-icon",6),S()(),w(8,"div",7)(9,"button",8),Q("click",function(){return r.changeTab(0)}),O(10),S(),w(11,"button",8),Q("click",function(){return r.changeTab(1)}),O(12),S(),w(13,"button",8),Q("click",function(){return r.changeTab(2)}),O(14),S(),w(15,"button",8),Q("click",function(){return r.changeTab(3)}),O(16),S()(),w(17,"div",9),te(18,DUe,1,7,"ag-grid-angular",10),te(19,MUe,2,0,"div",11),w(20,"div",12)(21,"p"),O(22),S(),w(23,"app-pagination",13),Q("pageChange",function(o){return r.onPageChange(o)}),S()()()),2&n&&(B("title","Organizations"),T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(7),ei("active",0===r.activeTab),T(1),_t(" Pending(",null!==r.number1?r.number1:"Loading...",") "),T(1),ei("active",1===r.activeTab),T(1),_t(" Active(",r.number0,") "),T(1),ei("active",2===r.activeTab),T(1),_t(" Rejected(",null!==r.number2?r.number2:"Loading...",") "),T(1),ei("active",3===r.activeTab),T(1),_t(" Blocked(",null!==r.number3?r.number3:"Loading...",") "),T(2),B("ngIf",!r.loading),T(1),B("ngIf",r.loading),T(3),_t("",r.all_npos," Organizations on Platform"),T(1),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Ci,Gd,Pn,fr,jh,Pl,or,Yu],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((// use theme parameters where possible alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-body-vertical-scroll, .ag-header-cell-resize[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin:0%}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{margin:0%;padding:0%}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{border-bottom:1px solid #e1e1e1;background-color:#fff}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-person[_ngcontent-%COMP%]{background-image:url(/assets/Profile%20filled.d119336c0d88f85b.svg);background-repeat:no-repeat;background-position:left center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-email[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-email.53b028274ade51cb.svg);background-repeat:no-repeat;background-position:left center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-location[_ngcontent-%COMP%]{background-image:url(/assets/Location.005cea3faa089e9c.svg);background-repeat:no-repeat;background-position:left center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-rating[_ngcontent-%COMP%]{background-image:url(/assets/star-rating.2f4d2baf3b3c142c.svg);background-repeat:no-repeat;background-position:left center}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#0dd410;border-bottom:solid 1px #07d730;padding-bottom:6px}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 1px;padding:6px 10px;cursor:pointer}.pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border-radius:100%;background-color:#7f77d9;color:#fff;border-color:#7f77d9}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-left:5px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2){margin-right:5px}"],data:{animation:[Cp]}})}}return e})();const IUe=function(e,t){return{"background-color":e,"--mdc-chip-label-text-color":t}};function AUe(e,t){if(1&e&&(w(0,"div",1),O(1),S()),2&e){const i=ae();B("ngStyle",PO(2,IUe,i.getChipColor(i.value),i.getChipTextColor(i.value))),T(1),_t("",i.getChipText(i.value)," ")}}let TUe=(()=>{class e{constructor(){this.value=null}agInit(i){this.value=i.value}refresh(i){return this.value=i.value,!0}getChipColor(i){switch(i){case 1:return"#FEF9D9";case 2:return"#E8E6FD";case 3:return"#D2FDD4";case 4:return"#E1E1E1";case 5:return"#FFE6DD";default:return"unknowen"}}getChipTextColor(i){switch(i){case 1:return"#FAD141";case 2:return"#7F77D9";case 3:return"#20E578";case 4:return"#36373B";case 5:return"#FF5765";default:return"unknowen"}}getChipText(i){switch(i){case 1:return"pending";case 2:return"open";case 3:return"completed";case 4:return"closed";case 5:return"rejected";default:return"unknowen"}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-chip-cell"]],decls:1,vars:1,consts:[["class"," m-auto w-20 text-sm text-center rounded-3xl h-8 flex justify-center items-center mt-1",3,"ngStyle",4,"ngIf"],[1,"m-auto","w-20","text-sm","text-center","rounded-3xl","h-8","flex","justify-center","items-center","mt-1",3,"ngStyle"]],template:function(n,r){1&n&&te(0,AUe,2,5,"div",0),2&n&&B("ngIf",r.value)},dependencies:[ui,PI],styles:[".mat-mdc-chip[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:120px;text-align:center}.mdc-evolution-chip[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;padding:0 16px}.mdc-evolution-chip__text-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;width:100%}"]})}}return e})();function RUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",4),Q("click",function(){return Le(i),Ve(ae().params.openBlockDialog())}),S()}}function kUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",5),Q("click",function(){return Le(i),Ve(ae().params.openCheckDialog())}),S()}}function PUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",6),Q("click",function(){return Le(i),Ve(ae().params.openDeletekDialog())}),S()}}let FUe=(()=>{class e{constructor(i){this.dialog=i}agInit(i){this.params=i,this.status=i.data.status}refresh(){return!1}static{this.\u0275fac=function(n){return new(n||e)(R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-action-opportinties-cell"]],decls:4,vars:3,consts:[[1,"flex","h-full","gap-2","justify-center","items-center"],["svgIcon","block","class","cursor-pointer",3,"click",4,"ngIf"],["svgIcon","check","class","cursor-pointer",3,"click",4,"ngIf"],["svgIcon","delete","class","cursor-pointer",3,"click",4,"ngIf"],["svgIcon","block",1,"cursor-pointer",3,"click"],["svgIcon","check",1,"cursor-pointer",3,"click"],["svgIcon","delete",1,"cursor-pointer",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,RUe,1,0,"mat-icon",1),te(2,kUe,1,0,"mat-icon",2),te(3,PUe,1,0,"mat-icon",3),S()),2&n&&(T(1),B("ngIf",2===r.status),T(1),B("ngIf",1===r.status),T(1),B("ngIf",1===r.status))},dependencies:[ui,Ci]})}}return e})(),J1=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllOpportunity({status:i,page:n,filter:r}){const s={"filter[status]":i??"","filter[name]":r.name,"filter[organization]":r.organization_name,"filter[location]":r.location,"filter[volunteer_number]":r.volunteer_number,page:n};return console.log(s),r.deadlineF&&(s["filter[deadline][0]"]=r.deadlineF),r.deadlineT&&(s["filter[deadline][1]"]=r.deadlineT),this.apiService.get("Oppprtunities-Management/opportunities/list",s).pipe(er(o=>o))}acceptOpportinties({id:i}){return console.log("id: "),this.apiService.post(`Oppprtunities-Management/accept/${i}`,{})}rejectOpportinties({id:i}){return this.apiService.post(`Oppprtunities-Management/reject/${i}`,{})}blockOpportinties({id:i}){return this.apiService.post(`Oppprtunities-Management/block/${i}`,{})}getDetailsOpp({id:i}){return console.log("uu",i),this.apiService.get(`Oppprtunities-Management/show/${i}`,{}).pipe(er(n=>n))}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Tse=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.opportintyService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.opportintyService.blockOpportinties({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(J1),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-close-opportinties-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-[470px]","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl"],[1,"text-black","text-center","leading-snug","mb-2"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Blocking opportinty Confirmation "),S(),w(8,"p",7),O(9," Blocking a opportinty will prevent them from interacting on this platform "),S(),w(10,"p",8),O(11," If you're certain that you want to delete this opportinty, click 'Block' below "),S()()(),w(12,"div",9)(13,"button",10),Q("click",function(){return r.onBlock()}),O(14," Block "),S(),w(15,"button",11),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})(),Rse=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.opportintyService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.opportintyService.rejectOpportinties({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(J1),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-delete-opportinties-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-96","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","delete-dialog",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl"],[1,"text-black","text-center","leading-snug","mb-2"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Deleting opportinty Confirmation "),S(),w(8,"p",7),O(9," Deleting a opportinty will prevent them from interacting on this platform "),S(),w(10,"p",8),O(11," If you're certain that you want to delete this opportinty, click 'Delete' below "),S()()(),w(12,"div",9)(13,"button",10),Q("click",function(){return r.onBlock()}),O(14," Delete "),S(),w(15,"button",11),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{height:470px;border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})(),kse=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.opportintyService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onBlock(){console.log(this.data.rowData.id),this.opportintyService.acceptOpportinties({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(J1),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-check-opportinties-dialog"]],decls:17,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-[470px]","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog-rectangle-check-icon",1,"rectangle-icon","mb-14"],["svgIcon","check",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-primary-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," checking user Confirmation "),S(),w(8,"p",7),O(9," checking a user will prevent them from interacting on this platform "),S(),w(10,"p",7),O(11," If you're certain that you want to check this user, click 'Check' below "),S()()(),w(12,"div",8)(13,"button",9),Q("click",function(){return r.onBlock()}),O(14," Accept "),S(),w(15,"button",10),Q("click",function(){return r.onClose()}),O(16,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:84px;height:84px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})();function OUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",23),Q("click",function(){return Le(i),Ve(ae(2).openBlockDialog())}),S()}}function LUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",24),Q("click",function(){return Le(i),Ve(ae(2).openDeleteDialog())}),S()}}function NUe(e,t){if(1&e){const i=ct();w(0,"mat-icon",25),Q("click",function(){return Le(i),Ve(ae(2).openCheckDialog())}),S()}}function VUe(e,t){if(1&e){const i=ct();w(0,"div",7),Z(1,"img",8),w(2,"div",9)(3,"div",10)(4,"h2",11),O(5),S(),w(6,"div",12),te(7,OUe,1,0,"mat-icon",13),te(8,LUe,1,0,"mat-icon",14),te(9,NUe,1,0,"mat-icon",15),S()(),w(10,"button",16),Q("click",function(){return Le(i),Ve(ae().onClose())}),w(11,"mat-icon"),O(12,"close"),S()(),w(13,"div",17)(14,"p"),O(15),S(),w(16,"p"),O(17),S()(),w(18,"div",18)(19,"div",19)(20,"mat-icon",20),O(21,"location_on"),S(),w(22,"p"),O(23),S()(),w(24,"div",21),Z(25,"mat-icon",22),w(26,"p"),O(27),S()()()()()}if(2&e){const i=ae();T(5),Et(i.oppArr.name),T(2),B("ngIf",2===i.data.rowData.status),T(1),B("ngIf",1===i.data.rowData.status),T(1),B("ngIf",1===i.data.rowData.status),T(6),_t("Date:",i.oppArr.date,""),T(2),_t("Time:",i.oppArr.time,""),T(6),Et(i.oppArr.location),T(4),Et(i.oppArr.rate)}}function BUe(e,t){if(1&e&&(w(0,"div",26)(1,"h2",27),O(2," NPO Details : "),S(),w(3,"div",28)(4,"h4"),O(5),S(),w(6,"div",12)(7,"mat-icon",20),O(8,"website"),S(),w(9,"p",29),O(10),S()()(),w(11,"div",28)(12,"p",30),O(13),S(),w(14,"div",12)(15,"mat-icon",20),O(16,"email"),S(),w(17,"p",31),O(18),S()()()()),2&e){const i=ae();T(5),Et(i.oppArr.npoName),T(5),Et(i.oppArr.npoWebSite),T(3),_t("Mobile Number : ",i.oppArr.npoMobile,""),T(5),Et(i.oppArr.npoEmail)}}function zUe(e,t){if(1&e&&(w(0,"div",32)(1,"h2",27),O(2,"Volunteers Details :"),S(),w(3,"div",33)(4,"p"),O(5),S(),w(6,"p"),O(7),S()(),w(8,"p",30),O(9),S()()),2&e){const i=ae();T(5),_t("Number Of Volunteer : ",i.oppArr.number_of_volunteer,""),T(2),_t("Hours : ",i.oppArr.total_time,""),T(2),_t("Volunteer Role : ",i.oppArr.volunteer_role,"")}}function GUe(e,t){if(1&e&&(w(0,"div",32)(1,"h2",27),O(2," Overview : "),S(),w(3,"p",34),O(4),S()()),2&e){const i=ae();T(4),Et(i.oppArr.overview)}}function HUe(e,t){if(1&e&&(w(0,"div",32)(1,"h2",27),O(2," Highlight : "),S(),w(3,"p",34),O(4),S()()),2&e){const i=ae();T(4),Et(i.oppArr.highlights)}}function jUe(e,t){if(1&e&&(w(0,"div",35)(1,"h4",27),O(2,"Interests:"),S(),w(3,"p",36),O(4),S()()),2&e){const i=ae();T(4),Et(i.oppArr.interest)}}function UUe(e,t){if(1&e&&(w(0,"span",36),O(1),S()),2&e){const i=t.$implicit;T(1),Et(i)}}function WUe(e,t){if(1&e&&(w(0,"div",37)(1,"h4",27),O(2,"Tags:"),S(),w(3,"div",38),te(4,UUe,2,1,"span",39),S()()),2&e){const i=ae();T(4),B("ngForOf",i.oppArr.tags)}}function $Ue(e,t){1&e&&(w(0,"div",40),Z(1,"app-loading"),S())}let YUe=(()=>{class e{constructor(i,n,r,s){this.dialog=i,this.oppService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr),this.oppArr={name:"",email:"",date:"",website:"",location:"",main_picture:"",overview:"",highlights:"",volunteer_role:"",total_time:0,status:0,time:"",interest:"",npo:[],tags:[],rate:0,npoName:"",npoEmail:"",npoMobile:"",npoWebSite:"",number_of_volunteer:""},this.loading=!1}onClose(){this.dialogRef.close()}ngOnInit(){this.getData({id:this.data.rowData.id})}getData({id:i}){var n=this;return(0,J.A)(function*(){n.loading=!0,n.oppService.getDetailsOpp({id:i}).subscribe(r=>{n.loading=!1,console.log(n.data.rowData.id),n.oppArr.name=r.data.name,n.oppArr.date=r.data.date,n.oppArr.time=r.data.time,n.oppArr.number_of_volunteer=r.data.number_of_volunteer,n.oppArr.volunteer_role=r.data.volunteer_role,n.oppArr.overview=r.data.overview,n.oppArr.highlights=r.data.highlights,n.oppArr.location=r.data.location,n.oppArr.rate=r.data.rate.rates_count,n.oppArr.interest=r.data.interest.name,n.oppArr.tags=r.data.tags.map(s=>s.name),n.oppArr.npoName=r.data.npo_name,n.oppArr.npoWebSite=r.data.npo_website,n.oppArr.npoEmail=r.data.npo_email,n.oppArr.npoMobile=r.data.npo_mobile_number,n.loading=!1},r=>{console.error("Error fetching details:",r)})})()}openBlockDialog(){this.dialog.open(Tse,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{})}openDeleteDialog(){this.dialog.open(Rse,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Delete dialog closed:",n)})}openCheckDialog(){this.dialog.open(kse,{data:{rowData:this.data.rowData}}).afterClosed().subscribe(n=>{console.log("Check dialog closed:",n)})}static{this.\u0275fac=function(n){return new(n||e)(R(jr),R(J1),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-opp-details-dialog"]],decls:9,vars:8,consts:[[1,"w-[700px]","h-[700px]","m-8"],["class","flex gap-6",4,"ngIf"],["class","mt-5 mx-2",4,"ngIf"],["class","mt-6 mx-2",4,"ngIf"],["class","tags-container mx-2",4,"ngIf"],["class","tags-container mx-2 my-2",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","gap-6"],["src","https://tecdn.b-cdn.net/img/new/avatars/2.jpg","alt","Profile Image",1,"w-[102px]","h-[102px]","rounded-3xl","object-cover"],[1,"flex-col"],[1,"flex","w-[550px]","gap-1","mb-3"],[1,"text-xl","font-bold","text-gray-800"],[1,"flex","gap-1"],["svgIcon","block",3,"click",4,"ngIf"],["svgIcon","delete",3,"click",4,"ngIf"],["svgIcon","check",3,"click",4,"ngIf"],[1,"absolute","top-6","right-6",3,"click"],[1,"flex","gap-14","text-gray-500","text-sm","mb-2"],[1,"flex","gap-12"],[1,"flex","gap-1","text-gray-500","text-sm"],[1,"icon"],[1,"flex","gap-1","text-xs","ml-10"],["svgIcon","star-rating",1,"icon"],["svgIcon","block",3,"click"],["svgIcon","delete",3,"click"],["svgIcon","check",3,"click"],[1,"mt-5","mx-2"],[1,"font-bold"],[1,"flex","gap-8"],[1,"text-sm","text-gray-500"],[1,"text-sm"],[1,"text-xs","text-gray-500"],[1,"mt-6","mx-2"],[1,"flex","gap-20","text-sm","my-4"],[1,"text-sm","my-2","text-gray-500"],[1,"tags-container","mx-2"],[1,"tag"],[1,"tags-container","mx-2","my-2"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,VUe,28,8,"div",1),te(2,BUe,19,4,"div",2),te(3,zUe,10,3,"div",3),te(4,GUe,5,1,"div",3),te(5,HUe,5,1,"div",3),te(6,jUe,5,1,"div",4),te(7,WUe,5,1,"div",5),te(8,$Ue,2,0,"div",6),S()),2&n&&(T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",!r.loading),T(1),B("ngIf",r.loading))},dependencies:[Dl,ui,Ci,or],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}.icon[_ngcontent-%COMP%]{font-size:14px;width:14px!important;height:14px!important}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.tag[_ngcontent-%COMP%]{padding:8px 12px;background-color:#f5f5f5;border:1px solid #bbb;border-radius:20px;font-size:14px;color:#555;width:100px;text-align:center}"]})}}return e})();function KUe(e,t){if(1&e){const i=ct();w(0,"div",14)(1,"div",15),Z(2,"app-main-header-dashboard",16),w(3,"div",17)(4,"p",18),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",19),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",20),O(10),S(),w(11,"form",21)(12,"div",22)(13,"label",23),O(14,"Name:"),S(),w(15,"div",24),ki(),w(16,"svg",25),Z(17,"path",26),S(),Ji(),Z(18,"input",27),S()(),w(19,"div",22)(20,"label",23),O(21,"Organization Name :"),S(),w(22,"div",24),ki(),w(23,"svg",25),Z(24,"path",26),S(),Ji(),Z(25,"input",28),S()(),w(26,"div",22)(27,"label",23),O(28,"email:"),S(),w(29,"div",24),ki(),w(30,"svg",25),Z(31,"path",26),S(),Ji(),Z(32,"input",29),S()(),w(33,"div",22)(34,"label",23),O(35," Location :"),S(),w(36,"div",24)(37,"mat-icon",30),O(38,"location_on"),S(),Z(39,"input",31),S()(),w(40,"div",22)(41,"label",23),O(42," volunteer number :"),S(),w(43,"div",24)(44,"mat-icon",30),O(45,"location_on"),S(),Z(46,"input",32)(47,"span",33),S()(),w(48,"div",22)(49,"label",23),O(50," deadline :"),S(),w(51,"div",34)(52,"div",24)(53,"mat-icon",30),O(54,"schedule"),S(),Z(55,"input",35)(56,"span",33),S(),w(57,"div",24)(58,"mat-icon",30),O(59,"schedule"),S(),Z(60,"input",36)(61,"span",33),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(10),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function qUe(e,t){if(1&e){const i=ct();w(0,"div",37),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const ZUe=function(){return{resizable:!0,suppressMovable:!0}};function QUe(e,t){if(1&e){const i=ct();w(0,"ag-grid-angular",38),Q("gridReady",function(r){return Le(i),Ve(ae().onGridReady(r))})("cellClicked",function(r){return Le(i),Ve(ae().onCellClicked(r))}),S()}if(2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(6,ZUe))("pagination",!1)("gridOptions",i.gridOptions)}}function XUe(e,t){1&e&&(w(0,"div",39),Z(1,"app-loading"),S())}let JUe=(()=>{class e{toggleOpenFilter(){this.openFilter=!this.openFilter}onSubmit(){""===this.FilterForm.get("deadlineT")?.value&&""!==this.FilterForm.get("deadlineF")?.value||""===this.FilterForm.get("deadlineF")?.value&&""!==this.FilterForm.get("deadlineT")?.value?this.error="Select the range":(this.getData({status:this.activeTab}),this.currentPage=1,this.openFilter=!1)}reset(){this.FilterForm.reset(),this.error="",this.getData({status:this.activeTab}),this.openFilter=!1}constructor(i,n,r,s){this.toastService=i,this.opportunityService=n,this.dialog=r,this.fb=s,this.currentPage=1,this.openFilter=!1,this.error="",this.numbersOfData={active_opportunities:0,all_opportunties:0,pending_opportunities:0,rejected_opportunities:0,closed_opportunities:0,completed_opportunities:0},this.loading=!1,this.activeTab=0,this.rowData=[],this.lastPage=0,this.defaultColDef={sortable:!0,filter:!0,resizable:!0},this.gridOptions={onCellValueChanged:o=>{this.validateActiveTab()||o.api.undoCellEditing()}},this.FilterForm=this.fb.group({name:[""],organization_name:[""],email:[""],location:[""],deadlineT:[""],deadlineF:[""],volunteer_number:[]})}onPageChange(i){this.currentPage=i,this.getData(0===this.activeTab?{}:{status:this.activeTab})}ngOnInit(){this.activeTab=0,this.columnDefs=[{field:"name",headerName:"Title",headerClass:"icon-header-title text-[14px]",sortable:!0,filter:!1,width:132},{field:"organization",headerName:"Organization name",headerClass:"icon-header-organization text-[14px]",sortable:!0,filter:!1,width:120},{field:"location",headerName:"Location",headerClass:"icon-header-location text-[14px]",sortable:!0,filter:!1,width:120},{field:"time",headerName:"Time",headerClass:"icon-header-time text-[14px]",sortable:!0,filter:!1,cellStyle:{textAlign:"center"},width:70},{field:"dead_line",headerName:"Deadline",headerClass:"icon-header-time text-[14px]",sortable:!0,filter:!1,width:97},{field:"status",headerName:"Status",headerClass:"icon-header-statu  text-[14px]",sortable:!0,filter:!1,width:74,cellStyle:{textAlign:"center"},cellRenderer:TUe,hide:0!==this.activeTab},{headerName:"Action",field:"action",headerClass:"text-center",cellStyle:{textAlign:"center"},width:100,cellRenderer:FUe,cellRendererParams:i=>({status:this.activeTab,openBlockDialog:()=>this.blockDialogHandler(i),openDeletekDialog:()=>this.deleteDialogHandler(i),openCheckDialog:()=>this.checkDialogHandler(i)})}],this.getData({})}setPage(i){this.currentPage=i}shouldShowEllipsis(){return this.currentPage<6}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData({status:i}){var n=this;return(0,J.A)(function*(){n.loading=!0,console.log(n.FilterForm.get("volunteer_number")?.value);const r={name:n.FilterForm.get("name")?.value||"",organization_name:n.FilterForm.get("organization_name ")?.value||"",email:n.FilterForm.get("email")?.value||"",location:n.FilterForm.get("location")?.value||"",deadlineF:n.FilterForm.get("deadlineF")?.value||"",deadlineT:n.FilterForm.get("deadlineT")?.value||"",volunteer_number:n.FilterForm.get("volunteer_number")?.value||""};n.opportunityService.getAllOpportunity({status:i,page:n.currentPage,filter:r}).subscribe(s=>{n.loading=!1,n.rowData=s.data.opportunties,n.numbersOfData.active_opportunities=s.data.active_opportunities,n.numbersOfData.pending_opportunities=s.data.pending_opportunities,n.numbersOfData.rejected_opportunities=s.data.rejected_opportunities,n.numbersOfData.closed_opportunities=s.data.closed_opportunities,n.numbersOfData.completed_opportunities=s.data.completed_opportunities,n.numbersOfData.all_opportunties=s.data.all_opportunties,n.loading=!1,n.activeTab=i??0,n.lastPage=s.meta.last_page},s=>{n.loading=!1,n.showDangerToast(s.error.message)})})()}blockDialogHandler(i){this.dialog.open(Tse,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}deleteDialogHandler(i){this.dialog.open(Rse,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}checkDialogHandler(i){this.dialog.open(kse,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData({status:this.activeTab})})}validateActiveTab(){for(let i of this.rowData)if(!i.name)return alert("Validation failed: Ensure all names are filled."),!1;return!0}changeTab(i){switch(i){case 2:this.numbersOfData.active_opportunities=0,this.getData({status:2});break;case 1:this.numbersOfData.pending_opportunities=0,this.getData({status:1});break;case 3:this.numbersOfData.completed_opportunities=0,this.getData({status:3});break;case 4:this.numbersOfData.closed_opportunities=0,this.getData({status:4});break;case 5:this.numbersOfData.rejected_opportunities=0,this.getData({status:5});break;case 0:this.numbersOfData.all_opportunties=0,this.getData({})}this.activeTab=i,console.log(this.activeTab)}onCellClicked(i){"action"!==i.colDef.field&&this.dialog.open(YUe,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{console.log("Dialog closed:",r),this.getData({status:this.activeTab})})}onGridReady(i){this.gridApi=i.api,this.gridApi.sizeColumnsToFit(),this.gridApi.setColumnsVisible(["status"],0===this.activeTab)}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(J1),R(jr),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-opportunities"]],decls:28,vars:26,consts:[[3,"title"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"px-main","mt-[30px]"],[1,"flex","mb-6","justify-center","gap-1","items-center","bg-secondary-500","hover:bg-gray-400","text-base","text-white","h-[40px]","w-[111px]","cursor-pointer","rounded-[28px]",3,"click"],[1,"text-white","py-2"],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"flex","pl-[74px]","pb-6","mt-6","text-textcolor-300","text-sm","tabs"],[1,"text-center","mx-[29px]",3,"click"],[2,"position","relative"],["style","width: 89%; height: 400px","class","ag-theme-alpine mx-auto",3,"rowData","columnDefs","defaultColDef","pagination","gridOptions","gridReady","cellClicked",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-between","items-center","border-t-2","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","name","formControlName","volunteer_number","type","text","name","organization_name","placeholder","enter organization name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","email","formControlName","email","type","email","name","email","required","","placeholder","Your Login Username",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","location","formControlName","location","type","text","name","location","placeholder","location",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","volunteer_number","formControlName","volunteer_number","type","number","name","volunteer_number","placeholder","volunteer_number",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],[1,"flex","gap-4"],["id","deadline","formControlName","deadlineF","type","number","name","deadlineF","placeholder","From",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","deadline","formControlName","deadlineT","type","number","name","deadline","placeholder","To",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine","mx-auto",2,"width","89%","height","400px",3,"rowData","columnDefs","defaultColDef","pagination","gridOptions","gridReady","cellClicked"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(Z(0,"app-navbar",0),te(1,KUe,62,3,"div",1),te(2,qUe,1,0,"div",2),w(3,"div",3)(4,"div",4),Q("click",function(){return r.toggleOpenFilter()}),w(5,"span",5),O(6,"Filter"),S(),Z(7,"mat-icon",6),S()(),w(8,"div",7)(9,"button",8),Q("click",function(){return r.changeTab(0)}),O(10),S(),w(11,"button",8),Q("click",function(){return r.changeTab(1)}),O(12),S(),w(13,"button",8),Q("click",function(){return r.changeTab(2)}),O(14),S(),w(15,"button",8),Q("click",function(){return r.changeTab(3)}),O(16),S(),w(17,"button",8),Q("click",function(){return r.changeTab(4)}),O(18),S(),w(19,"button",8),Q("click",function(){return r.changeTab(5)}),O(20),S()(),w(21,"div",9),te(22,QUe,1,7,"ag-grid-angular",10),te(23,XUe,2,0,"div",11),w(24,"div",12)(25,"p"),O(26),S(),w(27,"app-pagination",13),Q("pageChange",function(o){return r.onPageChange(o)}),S()()()),2&n&&(B("title","Opportunities"),T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(7),ei("active",0===r.activeTab),T(1),_t(" All(",r.loading?"Loading...":r.numbersOfData.all_opportunties,") "),T(1),ei("active",1===r.activeTab),T(1),_t(" Pending(",r.loading?"Loading...":r.numbersOfData.pending_opportunities,") "),T(1),ei("active",2===r.activeTab),T(1),_t(" Active(",r.loading?"Loading...":r.numbersOfData.active_opportunities,") "),T(1),ei("active",3===r.activeTab),T(1),_t(" completed(",r.loading?"Loading...":r.numbersOfData.completed_opportunities,") "),T(1),ei("active",4===r.activeTab),T(1),_t(" closed(",r.loading?"Loading...":r.numbersOfData.closed_opportunities,") "),T(1),ei("active",5===r.activeTab),T(1),_t(" Rejected(",r.loading?"Loading...":r.numbersOfData.rejected_opportunities,") "),T(2),B("ngIf",!r.loading),T(1),B("ngIf",r.loading),T(3),_t("",r.numbersOfData.all_opportunties," Opportunities on Platform"),T(1),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Ci,Gd,Pn,fr,jh,Pl,or,Yu],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((// use theme parameters where possible alpine-active-color: #c066b2));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin-left:30px;margin-right:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{margin-left:30px;padding:0;margin-right:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{border-left:none!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-title[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-title.d7f00219443f3031.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-organization[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20metro-organization.ac488daaaa5ed923.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-location[_ngcontent-%COMP%]{background-image:url(/assets/Location.005cea3faa089e9c.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-time[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20ionic-md-time.72daceaa61d01c3d.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-statu[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-update.ceee7f5fe2e105b8.svg);background-repeat:no-repeat;background-position:left center;padding-left:20px}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#0dd410;border-bottom:solid 1px #07d730;padding-bottom:6px}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 1px;padding:6px 10px;cursor:pointer}.pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border-radius:100%;background-color:#7f77d9;color:#fff;border-color:#7f77d9}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-left:5px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2){margin-right:5px}"],data:{animation:[Cp]}})}}return e})(),e9e=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllRating(i){return this.apiService.get("Platform-Evaluation",{page:i,limit:3}).pipe(er(n=>n))}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function t9e(e,t){1&e&&(Ih(0),w(1,"span",8),O(2,"\u2605"),S(),Ah())}function i9e(e,t){1&e&&(Ih(0),w(1,"span",9),O(2,"\u2605"),S(),Ah())}function n9e(e,t){1&e&&(Ih(0),w(1,"span",10),O(2,"\u2605"),S(),Ah())}let r9e=(()=>{class e{constructor(){this.rating=0,this.maxRating=4,this.average=2,this.name="'name'"}get filledStars(){const i=Math.min(Math.floor(this.rating),this.maxRating);return Array(i).fill(0)}get emptyStars(){const i=Math.floor(this.rating)+(this.hasHalfStar?1:0),n=Math.max(this.maxRating-i,0);return Array(n).fill(0)}get hasHalfStar(){return this.rating%1>=.5&&Math.ceil(this.rating)<=this.maxRating}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-star-rating"]],inputs:{rating:"rating",maxRating:"maxRating",average:"average",name:"name"},decls:10,vars:7,consts:[[1,"flex","justify-center","align-middle"],[1,"rating-bar","ml-20"],[1,"rating-fill"],[1,"star-rating","ml-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ml-11","mr-28","mt-1"],[1,"text-textcolor-500","text-lg"],[1,"star","filled"],[1,"star","half"],[1,"star","empty"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1),Z(2,"div",2),S(),w(3,"div",3),te(4,t9e,3,0,"ng-container",4),te(5,i9e,3,0,"ng-container",5),te(6,n9e,3,0,"ng-container",4),S(),w(7,"div",6)(8,"p",7),O(9),S()()()),2&n&&(T(2),mu("width",r.average,"%"),T(2),B("ngForOf",r.filledStars),T(1),B("ngIf",r.hasHalfStar),T(1),B("ngForOf",r.emptyStars),T(3),wO(" ",r.average.toFixed(0),"% ",r.name," "))},dependencies:[Dl,ui],styles:[".star-rating[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.star[_ngcontent-%COMP%]{font-size:24px;color:#d3d3d3}.star.filled[_ngcontent-%COMP%]{color:gold}.rating-bar[_ngcontent-%COMP%]{margin-top:8px;width:375px;height:23px;background-color:#e9e5e5;border-radius:6px;overflow:hidden}.rating-fill[_ngcontent-%COMP%]{height:100%;background-color:#7ed957;transition:width .3s ease}.star.half[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffd700 50%,#e0e0e0 50%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}"]})}}return e})();function s9e(e,t){1&e&&(w(0,"mat-icon",17),O(1,"star"),S())}function o9e(e,t){1&e&&(w(0,"mat-icon",17),O(1,"star_border"),S())}function a9e(e,t){if(1&e&&(w(0,"span",15),te(1,s9e,2,0,"mat-icon",16),te(2,o9e,2,0,"mat-icon",16),S()),2&e){const i=t.$implicit,n=ae();T(1),B("ngIf",i<=n.NumbersOfRating.feedback_rate),T(1),B("ngIf",i>n.NumbersOfRating.feedback_rate)}}function l9e(e,t){1&e&&(w(0,"mat-icon"),O(1,"star"),S())}function c9e(e,t){1&e&&(w(0,"mat-icon"),O(1,"star_border"),S())}function d9e(e,t){if(1&e&&(w(0,"span",15),te(1,l9e,2,0,"mat-icon",31),te(2,c9e,2,0,"mat-icon",31),S()),2&e){const i=t.$implicit,n=ae().$implicit;T(1),B("ngIf",i<=n.rate),T(1),B("ngIf",i>n.rate)}}const u9e=function(){return[1,2,3,4,5]};function h9e(e,t){if(1&e&&(w(0,"div",22),Z(1,"img",23),w(2,"div",24)(3,"p",25),O(4),S(),w(5,"h3",26),O(6),S()(),w(7,"div",27)(8,"div",5),te(9,d9e,3,2,"span",28),S(),w(10,"p",29),O(11),S(),w(12,"p",30),O(13),S()()()),2&e){const i=t.$implicit;T(1),rI("alt",i.name),B("src",i.user_image,Sh),T(3),Et(i.date),T(2),Et(i.name),T(3),B("ngForOf",xl(7,u9e)),T(2),Et(i.opportunity_name),T(2),_t(" ",i.description," ")}}function p9e(e,t){if(1&e&&(w(0,"div",18)(1,"h1",19),O(2,"Reviews:"),S(),w(3,"div",20),te(4,h9e,14,8,"div",21),S()()),2&e){const i=ae();T(4),B("ngForOf",i.platform_rates)}}function g9e(e,t){1&e&&(w(0,"div",32),Z(1,"app-loading"),S())}const f9e=function(){return[1,2,3,4]};let m9e=(()=>{class e{onPageChange(i){this.currentPage=i,this.getData()}setPage(i){this.currentPage=i}shouldShowEllipsis(){return this.currentPage<6}constructor(i,n,r){this.toastService=i,this.platformService=n,this.dialog=r,this.isLoading=!1,this.currentPage=1,this.lastPage=0,this.NumbersOfRating={feedback_average:0,feedback_rate:0,volunteer_average:0,volunteer_ratings:0,npo_average:0,npo_ratings:0},this.platform_rates=[],this.currentDate=new Date}ngOnInit(){this.getData()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData(){var i=this;return(0,J.A)(function*(){i.isLoading=!0,i.platformService.getAllRating(i.currentPage).subscribe(n=>{i.NumbersOfRating.feedback_average=n.data.feedback_average,i.NumbersOfRating.feedback_rate=n.data.feedback_rate,i.NumbersOfRating.npo_average=n.data.npo_average,i.NumbersOfRating.npo_ratings=n.data.npo_ratings,i.NumbersOfRating.volunteer_average=n.data.volunteer_average,i.NumbersOfRating.volunteer_ratings=n.data.volunteer_ratings,i.platform_rates=n.data.platform_rates,i.lastPage=n.meta.last_page,i.isLoading=!1},n=>{i.isLoading=!1,i.showDangerToast(n.error.message)})})()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(e9e),R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-platform-evaluation"]],decls:18,vars:16,consts:[[3,"title"],[1,"text-[22px]","pl-20","my-4","font-semibold"],[1,"flex"],[1,"w-52","flex-col","justify-center","items-center","pl-32"],[1,"text-6xl","ml-9","mb-6","mt-4","text-secondary-500"],[1,"review-rating","flex","items-center"],["class","text-yellow-400 ",4,"ngFor","ngForOf"],[1,"ml-24","mb-6"],[1,"my-4"],[3,"rating","maxRating","average","name"],[1,"my-4","mr-5"],["class","",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-end","items-center","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"text-yellow-400"],["class","star",4,"ngIf"],[1,"star"],[1,""],[1,"text-[22px]","pl-20","font-semibold"],[1,"flex","flex-col","overflow-auto"],["class","flex justify-start items-center gap-6 py-2 w-[85%] ml-[91px]  border-b-2",4,"ngFor","ngForOf"],[1,"flex","justify-start","items-center","gap-6","py-2","w-[85%]","ml-[91px]","border-b-2"],[1,"review-img","my-auto","w-11","h-11","rounded-full","mb-6",3,"src","alt"],[1,"w-40","flex-col","justify-between","text-center","my-auto"],[1,"text-sm","text-textcolor-300","pb-3"],[1,"font-semibold","text-base"],[1,"flex","flex-col","justify-start","items-start"],["class","text-yellow-400",4,"ngFor","ngForOf"],[1,"review-text","text-sm","font-semibold"],[1,"review-text","text-sm","text-[#111111]","w-[800px]"],[4,"ngIf"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(Z(0,"app-navbar",0),w(1,"h1",1),O(2,"Average rating:"),S(),w(3,"div",2)(4,"div",3)(5,"p",4),O(6),S(),w(7,"div",5),te(8,a9e,3,2,"span",6),S()(),w(9,"div",7)(10,"div",8),Z(11,"app-star-rating",9),S(),w(12,"div",10),Z(13,"app-star-rating",9),S()()(),te(14,p9e,5,1,"div",11),te(15,g9e,2,0,"div",12),w(16,"div",13)(17,"app-pagination",14),Q("pageChange",function(o){return r.onPageChange(o)}),S()()),2&n&&(B("title","Platform Evaluation"),T(6),Et(r.NumbersOfRating.feedback_average),T(2),B("ngForOf",xl(15,f9e)),T(3),B("rating",3.5)("maxRating",4)("average",r.NumbersOfRating.npo_average)("name","Organization"),T(2),B("rating",r.NumbersOfRating.npo_ratings)("maxRating",4)("average",r.NumbersOfRating.volunteer_average)("name","Volunteer"),T(1),B("ngIf",!r.isLoading),T(1),B("ngIf",r.isLoading),T(2),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[Dl,ui,Ci,jh,r9e,or,Yu],styles:[".star[_ngcontent-%COMP%]{font-size:50px;width:50px!important;height:60px!important}.review-img[_ngcontent-%COMP%]{object-fit:cover}.review-name[_ngcontent-%COMP%]{font-size:1.2rem}.review-rating[_ngcontent-%COMP%]{display:flex}"]})}}return e})();const Pse=(e,t)=>{const i=ze(mS),n=ze(is);return!!i.isAuthenticated()||(n.navigate(["auth/login"]),!1)};let v9e=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-control-panel"]],decls:2,vars:1,consts:[[3,"title"]],template:function(n,r){1&n&&Z(0,"app-navbar",0)(1,"router-outlet"),2&n&&B("title","Control Panel")},dependencies:[s0,jh]})}}return e})(),y9e=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-privacy-policy"]],decls:1,vars:1,consts:[[3,"title"]],template:function(n,r){1&n&&Z(0,"app-navbar",0),2&n&&B("title","Privacy & Policy")},dependencies:[jh]})}}return e})(),b9e=(()=>{class e{constructor(i){this.dialog=i}agInit(i){this.params=i}refresh(){return!1}static{this.\u0275fac=function(n){return new(n||e)(R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-action-cell-creative-render"]],decls:3,vars:0,consts:[[1,"flex","h-full","gap-2","justify-center","items-center"],["svgIcon","edit",1,"cursor-pointer",3,"click"],["svgIcon","close",1,"cursor-pointer",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"mat-icon",1),Q("click",function(){return r.params.openEditCreativeDialog()}),S(),w(2,"mat-icon",2),Q("click",function(){return r.params.openBlockCreativeDialog()}),S()())},dependencies:[Ci]})}}return e})(),bk=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllCreative(i,n){const r=new URLSearchParams;return i.name&&r.append("filter[name]",i.name),i.number_of_users_0&&r.append("filter[number_of_users][0]",i.number_of_users_0),i.number_of_users_1&&r.append("filter[number_of_users][1]",i.number_of_users_1),r.append("page",n.toString()),this.apiService.get(`Creative-Potential-Management/list?${r.toString()}`,{})}deleteCreative({id:i}){return this.apiService.delete(`Creative-Potential-Management/delete/${i}`)}addCreative(i,n){const r=new FormData;return r.append("name",i),r.append("image",n),this.apiService.post("Creative-Potential-Management/store",r)}updateCreative(i,n){return this.apiService.post(`Creative-Potential-Management/update/${i}`,n)}detailCreative(i){return this.apiService.get(`Creative-Potential-Management/show/${i}`)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const _9e=["*"];let Ec=(()=>{class e{constructor(){this.variant="contained",this.color="main",this.fullWidth=!1}get buttonStyle(){return this.style?this.style:{}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-button"]],inputs:{variant:"variant",color:"color",fullWidth:"fullWidth",style:"style",styleTailwind:"styleTailwind"},ngContentSelectors:_9e,decls:2,vars:2,consts:[[3,"ngClass","ngStyle"]],template:function(n,r){1&n&&(co(),w(0,"button",0),Zi(1),S()),2&n&&B("ngClass",("contained"===r.variant?"main"===r.color?"bg-secondary-500 text-white hover:bg-gray-400":"bg-primary-500 text-white hover:bg-gray-400":"main"===r.color?"transparent border text-secondary-500 hover:bg-secondary-500/20":"transparent border text-primary-500 hover:bg-primary-500/20")+" flex justify-center gap-1 items-center transition-all px-6 text-base cursor-pointer rounded-[28px] py-2"+(r.fullWidth?" w-full py-3":"")+(r.styleTailwind?" "+r.styleTailwind:""))("ngStyle",r.buttonStyle)},dependencies:[Ph,PI],encapsulation:2})}}return e})();function C9e(e,t){1&e&&(w(0,"span"),O(1,"No file selected"),S())}function w9e(e,t){if(1&e&&(w(0,"span",20),O(1),S()),2&e){const i=ae();T(1),Et(i.selectedFile)}}let x9e=(()=>{class e{constructor(i,n,r,s){this.fb=i,this.creativeService=n,this.dialogRef=r,this.data=s,this.creativeName="",this.selectedFile=null,this._snackBar=ze(mr),this.creativeForm=this.fb.group({name:["",kn.required],image:[null,kn.required]})}onFileSelected(i){const n=i.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0],this.creativeForm.patchValue({image:this.selectedFile}),console.log("Selected file:",this.selectedFile))}onClose(){this.dialogRef.close()}addCreative(){if(this.creativeForm.invalid||!this.selectedFile)return void this._snackBar.open("Creative name and image are required","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});const i=this.creativeForm.get("name")?.value,n=new FormData;n.append("name",i),n.append("image",this.selectedFile),this.creativeService.addCreative(i,this.selectedFile).subscribe({next:r=>{console.log("Creative added successfully",r),this.dialogRef.close(i)},error:r=>{console.error("Error adding creative",r),this._snackBar.open("Failed to add creative potential","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"})}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(bk),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-add-creative-dialog"]],decls:27,vars:6,consts:[[1,"w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none",3,"ngModel","ngModelChange"],[1,"my-2"],[1,"input-container","relative"],[1,"icon","left-2","text-2xl","text-secondary-400",2,"width","25px","height","25px","top","43%"],["type","file","accept","image/*",1,"absolute","h-full","z-20",3,"change"],[1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","z-10","top-1/2","left-10","text-textcolor-400","text-sm","-translate-y-1/2"],[4,"ngIf"],["class","text-black",4,"ngIf"],["styleTailwind","mt-8","color","second",3,"fullWidth"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"],[1,"text-black"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Add Creative Potintial"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.addCreative()}),w(5,"div",4)(6,"label",5),O(7,"Creative Name:"),S(),w(8,"div",6),ki(),w(9,"svg",7),Z(10,"path",8),S(),Ji(),w(11,"input",9),Q("ngModelChange",function(o){return r.creativeName=o}),S()()(),w(12,"div",10)(13,"label",5),O(14,"creative Image:"),S(),w(15,"div",11)(16,"mat-icon",12),O(17," add_photo_alternate "),S(),w(18,"input",13),Q("change",function(o){return r.onFileSelected(o)}),S(),w(19,"div",14)(20,"p",15),te(21,C9e,2,0,"span",16),te(22,w9e,2,1,"span",17),S()()()(),w(23,"app-button",18),O(24,"Add"),S(),w(25,"app-button",19),Q("click",function(){return r.onClose()}),O(26,"Cancel"),S()()()),2&n&&(T(4),B("formGroup",r.creativeForm),T(7),B("ngModel",r.creativeName),T(10),B("ngIf",!r.selectedFile),T(1),B("ngIf",r.selectedFile),T(1),B("fullWidth",!0),T(2),B("fullWidth",!0))},dependencies:[ui,jn,yn,Gn,Hn,Ci,Pn,fr,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})(),S9e=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.creativeService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onDelete(){console.log(this.data.rowData.id),this.creativeService.deleteCreative({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(bk),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-delete-creative-dialog"]],decls:15,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-96","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-xl","text-center","leading-snug","mb-8"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Deleting Creative potintial "),S(),w(8,"p",7),O(9," If you're certain that you want to delete this Creative, click 'Delete' below "),S()()(),w(10,"div",8)(11,"button",9),Q("click",function(){return r.onDelete()}),O(12," Delete "),S(),w(13,"button",10),Q("click",function(){return r.onClose()}),O(14,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{height:470px;border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})();function D9e(e,t){1&e&&(w(0,"div",5),Z(1,"app-loading"),S())}function M9e(e,t){1&e&&(w(0,"span"),O(1,"No file selected"),S())}function E9e(e,t){if(1&e&&(w(0,"span",24),O(1),S()),2&e){const i=ae(2);T(1),Et(i.selectedFileName)}}function I9e(e,t){1&e&&(w(0,"div",5),Z(1,"app-loading"),S())}function A9e(e,t){if(1&e){const i=ct();w(0,"form",6)(1,"div",7)(2,"label",8),O(3,"Creative Name:"),S(),w(4,"div",9),ki(),w(5,"svg",10),Z(6,"path",11),S(),Ji(),Z(7,"input",12),S(),w(8,"span",13),O(9),S()(),w(10,"div",14)(11,"label",8),O(12,"Creative Image:"),S(),w(13,"div",15)(14,"mat-icon",16),O(15," add_photo_alternate "),S(),w(16,"input",17),Q("change",function(r){return Le(i),Ve(ae().onFileSelected(r))}),S(),w(17,"div",18)(18,"p",19),te(19,M9e,2,0,"span",20),te(20,E9e,2,1,"span",21),S()()()(),w(21,"app-button",22),Q("click",function(){return Le(i),Ve(ae().upData())}),te(22,I9e,2,0,"div",3),O(23),S(),w(24,"app-button",23),Q("click",function(){return Le(i),Ve(ae().onCancel())}),O(25,"Cancel"),S()()}if(2&e){const i=ae();B("formGroup",i.yourForm),T(9),Et(i.error),T(10),B("ngIf",!i.selectedFileName),T(1),B("ngIf",i.selectedFileName),T(1),B("fullWidth",!0),T(1),B("ngIf",i.isLoading),T(1),_t(" ",i.isLoading?"":"Edit"," "),T(1),B("fullWidth",!0)}}let T9e=(()=>{class e{getData(){this.loading=!0,this.creativeService.detailCreative(this.data.rowData.id).subscribe({next:i=>{this.badge=i.data,this.selectedFileName=this.badge.image?.split("/")[this.badge.image?.split("/").length-1],this.yourForm.patchValue({name:this.badge?.name??"",image:this.badge.image??""})},complete:()=>{this.loading=!1}})}ngOnInit(){this.getData()}constructor(i,n,r,s,o){this.fb=i,this.creativeService=n,this.data=r,this.toastService=s,this.dialogRef=o,this.selectedFileName=null,this.imagePreview=null,this.isLoading=!1,this.loading=!1,this.badge=null,this.error="",this.yourForm=this.fb.group({name:["",kn.required],image:[""]})}onCancel(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onFileSelected(i){const n=i.target;if(n.files&&n.files.length>0){const r=n.files[0];this.selectedFileName=r.name;const s=new FileReader;s.onload=o=>{this.imagePreview=o.target?.result},s.readAsDataURL(r),this.yourForm.patchValue({image:r})}}upData(){if(this.yourForm.valid){this.isLoading=!0;const i=new FormData;i.append("name",this.yourForm.get("name")?.value),i.append("image",this.yourForm.get("image")?.value),i.append("_method","put"),this.creativeService.updateCreative(this.data.rowData.id,i).subscribe({next:n=>{this.showSuccessToast(n.message),this.dialogRef.close(!0)},error:n=>{this.showDangerToast(n.error.message)},complete:()=>{this.isLoading=!1}})}else this.error="name is required"}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(bk),R(Wn),R(Hi),R(Un))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-edit-creative-dialog"]],decls:6,vars:2,consts:[[1,"min-h-[200px]","w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],["class","p-10 bg-white",3,"formGroup",4,"ngIf"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"p-10","bg-white",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"text-danger-500","text-xs"],[1,"my-2"],[1,"input-container","relative"],[1,"icon","left-2","text-2xl","text-secondary-400",2,"width","25px","height","25px","top","43%"],["id","image","formControlName","image","type","file","name","image",1,"absolute","h-full","z-20",3,"change"],[1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","z-10","top-1/2","left-10","text-textcolor-400","text-sm","-translate-y-1/2"],[4,"ngIf"],["class","text-black",4,"ngIf"],["styleTailwind","mt-8","color","second",3,"fullWidth","click"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"],[1,"text-black"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Edit Creative"),S()(),te(4,D9e,2,0,"div",3),te(5,A9e,26,8,"form",4),S()),2&n&&(T(4),B("ngIf",r.loading),T(1),B("ngIf",!r.loading))},dependencies:[ui,jn,yn,Gn,Hn,Ci,Pn,fr,or,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}.mat-mdc-dialog-surface.mdc-dialog__surface[_ngcontent-%COMP%]{height:530px!important}"]})}}return e})();function R9e(e,t){if(1&e){const i=ct();w(0,"div",14)(1,"div",15),Z(2,"app-main-header-dashboard",16),w(3,"div",17)(4,"p",18),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",19),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",20),O(10),S(),w(11,"form",21)(12,"div",22)(13,"label",23),O(14,"Name:"),S(),w(15,"div",24),ki(),w(16,"svg",25),Z(17,"path",26),S(),Ji(),Z(18,"input",27),S()(),w(19,"div",28)(20,"div",22)(21,"label",23),O(22," number of users :"),S(),w(23,"div",24)(24,"mat-icon",29),O(25,"schedule"),S(),Z(26,"input",30)(27,"span",31),S()(),w(28,"div",22)(29,"div",24)(30,"mat-icon",29),O(31,"schedule"),S(),Z(32,"input",32)(33,"span",31),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(6),B("disabled",i.isLoading),T(4),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function k9e(e,t){if(1&e){const i=ct();w(0,"div",33),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const P9e=function(){return{resizable:!0,suppressMovable:!0}};function F9e(e,t){if(1&e&&Z(0,"ag-grid-angular",34),2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(4,P9e))}}function O9e(e,t){1&e&&(w(0,"div",35),Z(1,"app-loading"),S())}let L9e=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.creativeService=n,this.dialog=r,this.fb=s,this.isLoading=!1,this.rowData=[],this.openFilter=!1,this.error="",this.lastPage=0,this.currentPage=1,this.columnDefs=[{field:"NO",headerName:"No",flex:2},{field:"name",headerName:"Name",flex:2,cellRenderer:o=>`\n        <div style="display: flex; align-items: center;">\n          <img src="${o.data.image}" style="width: 24px; height: 24px; border-radius: 50%; margin-right: 8px;">\n          <span>${o.data.name}</span>\n        </div>\n      `},{field:"number_of_users",headerName:"No of users with this creative potential",flex:3},{field:"action",headerName:"Action",flex:1,cellRenderer:b9e,cellRendererParams:o=>({openBlockCreativeDialog:()=>this.deleteDialogHandler(o),openEditCreativeDialog:()=>this.editDialogHandler(o)})}],this.defaultColDef={flex:1,sortable:!0,filter:!1,resizable:!0},this.FilterForm=this.fb.group({name:[""],From:[""],To:[""]})}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}ngOnInit(){this.getData()}toggleOpenFilter(){this.openFilter=!this.openFilter}getData(){if(this.FilterForm.get("To")?.value&&!this.FilterForm.get("From")?.value||this.FilterForm.get("From")?.value&&!this.FilterForm.get("To")?.value)return void(this.error="Please select a valid range.");const i={name:this.FilterForm.get("name")?.value||"",number_of_users_0:this.FilterForm.get("From")?.value||"",number_of_users_1:this.FilterForm.get("To")?.value||""};this.isLoading=!0,this.error="",this.creativeService.getAllCreative(i,this.currentPage).pipe(Rr(n=>(this.error="Failed to fetch data. Please try again later.",this.showDangerToast(n.error.message),ie({data:{CreativePotentials:[]},meta:{last_page:0}}))),_u(()=>this.isLoading=!1)).subscribe(n=>{this.lastPage=n.meta.last_page,this.rowData=n.data.CreativePotentials})}reset(){this.FilterForm.reset(),this.error="",this.currentPage=1,this.getData()}onPageChange(i){this.currentPage=i,this.getData()}openAddCreativeDialog(){this.dialog.open(x9e).afterClosed().subscribe(n=>{n&&this.getData()})}deleteDialogHandler(i){this.dialog.open(S9e,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{r&&this.getData()})}editDialogHandler(i){this.dialog.open(T9e,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{r&&this.getData()})}onSubmit(){this.error="",this.getData()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(bk),R(jr),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-creative-potintial"]],decls:17,vars:6,consts:[[1,"px-main","mt-[30px]","overflow-auto"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"flex","mb-6","justify-center","gap-1","items-center","bg-secondary-500","hover:bg-gray-400","text-base","text-whiteh-[40px]","w-[111px]","cursor-pointer","rounded-[28px]",3,"click"],[1,"text-white","py-2"],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"flex","justify-between","mb-7"],["title","Creative Potential Management:"],[1,"border","flex","justify-center","items-center","rounded-3xl","bg-primary-500","text-white","py-2","px-6",3,"click"],[1,""],["style","width: 95%; height: 400px; margin-left: 25px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-end","items-center","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"disabled","click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","name","name","name","required","","placeholder","enter name",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","items-end","gap-2"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","From","formControlName","From","type","number","name","From","required","","placeholder","From",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],["id","To","formControlName","To","type","number","name","To","required","","placeholder","To",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine",2,"width","95%","height","400px","margin-left","25px",3,"rowData","columnDefs","defaultColDef"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,R9e,34,4,"div",1),te(2,k9e,1,0,"div",2),w(3,"div",3),Q("click",function(){return r.toggleOpenFilter()}),w(4,"span",4),O(5,"Filter"),S(),Z(6,"mat-icon",5),S(),w(7,"div",6),Z(8,"app-main-header-dashboard",7),w(9,"button",8),Q("click",function(){return r.openAddCreativeDialog()}),w(10,"mat-icon",9),O(11,"add"),S(),O(12," Add Creative "),S()(),te(13,F9e,1,5,"ag-grid-angular",10),te(14,O9e,2,0,"div",11),S(),w(15,"div",12)(16,"app-pagination",13),Q("pageChange",function(o){return r.onPageChange(o)}),S()()),2&n&&(T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(11),B("ngIf",!r.isLoading),T(1),B("ngIf",r.isLoading),T(2),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Ci,Gd,Pn,fr,Pl,or,Yu],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin-right:auto;padding:0!important;border-left:none!important;width:auto!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{padding:0!important;width:auto!important;margin-right:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}"],data:{animation:[Cp]}})}}return e})(),N9e=(()=>{class e{constructor(i){this.dialog=i}agInit(i){this.params=i}refresh(){return!1}static{this.\u0275fac=function(n){return new(n||e)(R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-action-cell-interest-render"]],decls:3,vars:0,consts:[[1,"flex","h-full","gap-2","justify-center","items-center"],["svgIcon","edit",1,"cursor-pointer",3,"click"],["svgIcon","close",1,"cursor-pointer",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"mat-icon",1),Q("click",function(){return r.params.openEditInterestDialog()}),S(),w(2,"mat-icon",2),Q("click",function(){return r.params.openBlockInterestDialog()}),S()())},dependencies:[Ci]})}}return e})(),_k=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllInterest(i,n){const r=new URLSearchParams;return i.name&&r.append("filter[name]",i.name),i.number_of_users_0&&r.append("filter[number_of_users][0]",i.number_of_users_0),i.number_of_users_1&&r.append("filter[number_of_users][1]",i.number_of_users_1),r.append("page",n.toString()),this.apiService.get(`Interests-Management/list?${r.toString()}`,{})}deleteInterest({id:i}){return this.apiService.delete(`Interests-Management/delete/${i}`)}addInterest(i,n){const r=new FormData;return r.append("name",i),r.append("image",n),this.apiService.post("Interests-Management/store",r)}updateInterest(i,n){return this.apiService.post(`Interests-Management/update/${i}`,n)}detailInterest(i){return this.apiService.get(`Interests-Management/show/${i}`)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),V9e=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.interestService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onDelete(){console.log(this.data.rowData.id),this.interestService.deleteInterest({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(_k),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-delete-interest-dialog"]],decls:15,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-96","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-xl","text-center","leading-snug","mb-8"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Deleting Interest "),S(),w(8,"p",7),O(9," If you're certain that you want to delete this Interest, click 'Delete' below "),S()()(),w(10,"div",8)(11,"button",9),Q("click",function(){return r.onDelete()}),O(12," Delete "),S(),w(13,"button",10),Q("click",function(){return r.onClose()}),O(14,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{height:470px;border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})();function B9e(e,t){1&e&&(w(0,"div",5),Z(1,"app-loading"),S())}function z9e(e,t){1&e&&(w(0,"span"),O(1,"No file selected"),S())}function G9e(e,t){if(1&e&&(w(0,"span",24),O(1),S()),2&e){const i=ae(2);T(1),Et(i.selectedFileName)}}function H9e(e,t){1&e&&(w(0,"div",5),Z(1,"app-loading"),S())}function j9e(e,t){if(1&e){const i=ct();w(0,"form",6)(1,"div",7)(2,"label",8),O(3,"Interest Name:"),S(),w(4,"div",9),ki(),w(5,"svg",10),Z(6,"path",11),S(),Ji(),Z(7,"input",12),S(),w(8,"span",13),O(9),S()(),w(10,"div",14)(11,"label",8),O(12,"Interest Image:"),S(),w(13,"div",15)(14,"mat-icon",16),O(15," add_photo_alternate "),S(),w(16,"input",17),Q("change",function(r){return Le(i),Ve(ae().onFileSelected(r))}),S(),w(17,"div",18)(18,"p",19),te(19,z9e,2,0,"span",20),te(20,G9e,2,1,"span",21),S()()()(),w(21,"app-button",22),Q("click",function(){return Le(i),Ve(ae().upData())}),te(22,H9e,2,0,"div",3),O(23),S(),w(24,"app-button",23),Q("click",function(){return Le(i),Ve(ae().onCancel())}),O(25,"Cancel"),S()()}if(2&e){const i=ae();B("formGroup",i.yourForm),T(9),Et(i.error),T(10),B("ngIf",!i.selectedFileName),T(1),B("ngIf",i.selectedFileName),T(1),B("fullWidth",!0),T(1),B("ngIf",i.isLoading),T(1),_t(" ",i.isLoading?"":"Edit"," "),T(1),B("fullWidth",!0)}}let U9e=(()=>{class e{getData(){this.loading=!0,this.interestService.detailInterest(this.data.rowData.id).subscribe({next:i=>{this.badge=i.data,this.selectedFileName=this.badge.image?.split("/")[this.badge.image?.split("/").length-1],this.yourForm.patchValue({name:this.badge?.name??"",image:this.badge.image??""})},complete:()=>{this.loading=!1}})}ngOnInit(){this.getData()}constructor(i,n,r,s,o){this.fb=i,this.interestService=n,this.data=r,this.toastService=s,this.dialogRef=o,this.selectedFileName=null,this.imagePreview=null,this.isLoading=!1,this.loading=!1,this.badge=null,this.error="",this.yourForm=this.fb.group({name:["",kn.required],image:[""]})}onCancel(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onFileSelected(i){const n=i.target;if(n.files&&n.files.length>0){const r=n.files[0];this.selectedFileName=r.name;const s=new FileReader;s.onload=o=>{this.imagePreview=o.target?.result},s.readAsDataURL(r),this.yourForm.patchValue({image:r})}}upData(){if(this.yourForm.valid){this.isLoading=!0;const i=new FormData;i.append("name",this.yourForm.get("name")?.value),i.append("image",this.yourForm.get("image")?.value),i.append("_method","put"),this.interestService.updateInterest(this.data.rowData.id,i).subscribe({next:n=>{this.showSuccessToast(n.message),this.dialogRef.close(!0)},error:n=>{this.showDangerToast(n.error.message)},complete:()=>{this.isLoading=!1}})}else this.error="name is required"}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(_k),R(Wn),R(Hi),R(Un))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-edit-interest-dialog"]],decls:6,vars:2,consts:[[1,"min-h-[200px]","w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],["class","p-10 bg-white",3,"formGroup",4,"ngIf"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"p-10","bg-white",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"text-danger-500","text-xs"],[1,"my-2"],[1,"input-container","relative"],[1,"icon","left-2","text-2xl","text-secondary-400",2,"width","25px","height","25px","top","43%"],["id","image","formControlName","image","type","file","name","image",1,"absolute","h-full","z-20",3,"change"],[1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","z-10","top-1/2","left-10","text-textcolor-400","text-sm","-translate-y-1/2"],[4,"ngIf"],["class","text-black",4,"ngIf"],["styleTailwind","mt-8","color","second",3,"fullWidth","click"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"],[1,"text-black"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Edit Interest"),S()(),te(4,B9e,2,0,"div",3),te(5,j9e,26,8,"form",4),S()),2&n&&(T(4),B("ngIf",r.loading),T(1),B("ngIf",!r.loading))},dependencies:[ui,jn,yn,Gn,Hn,Ci,Pn,fr,or,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})();function W9e(e,t){1&e&&(w(0,"span"),O(1,"No file selected"),S())}function $9e(e,t){if(1&e&&(w(0,"span",20),O(1),S()),2&e){const i=ae();T(1),Et(i.selectedFile)}}let Y9e=(()=>{class e{constructor(i,n,r,s,o){this.fb=i,this.toastService=n,this.interestService=r,this.dialogRef=s,this.data=o,this.interestName="",this.selectedFile=null,this._snackBar=ze(mr),this.interestForm=this.fb.group({name:["",kn.required],image:[null,kn.required]})}onFileSelected(i){const n=i.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0],this.interestForm.patchValue({image:this.selectedFile}),console.log("Selected file:",this.selectedFile))}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}addInterest(){if(this.interestForm.invalid||!this.selectedFile)return void this._snackBar.open("Creative name and image are required","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});const i=this.interestForm.get("name")?.value,n=new FormData;n.append("name",this.interestName),n.append("image",this.selectedFile),this.interestService.addInterest(i,this.selectedFile).subscribe({next:r=>{this.showSuccessToast(r.message),this.dialogRef.close(!0)},error:r=>{this.showDangerToast(r.error.message)}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(Hi),R(_k),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-add-interest-dialog"]],decls:27,vars:6,consts:[[1,"w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none",3,"ngModel","ngModelChange"],[1,"my-2"],[1,"input-container","relative"],[1,"icon","left-2","text-2xl","text-secondary-400",2,"width","25px","height","25px","top","43%"],["type","file","accept","image/*",1,"absolute","h-full","z-20",3,"change"],[1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","z-10","top-1/2","left-10","text-textcolor-400","text-sm","-translate-y-1/2"],[4,"ngIf"],["class","text-black",4,"ngIf"],["styleTailwind","mt-8","color","second",3,"fullWidth"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"],[1,"text-black"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Add Interest"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.addInterest()}),w(5,"div",4)(6,"label",5),O(7,"Interest Name:"),S(),w(8,"div",6),ki(),w(9,"svg",7),Z(10,"path",8),S(),Ji(),w(11,"input",9),Q("ngModelChange",function(o){return r.interestName=o}),S()()(),w(12,"div",10)(13,"label",5),O(14,"Interest Image:"),S(),w(15,"div",11)(16,"mat-icon",12),O(17," add_photo_alternate "),S(),w(18,"input",13),Q("change",function(o){return r.onFileSelected(o)}),S(),w(19,"div",14)(20,"p",15),te(21,W9e,2,0,"span",16),te(22,$9e,2,1,"span",17),S()()()(),w(23,"app-button",18),O(24,"Add"),S(),w(25,"app-button",19),Q("click",function(){return r.onClose()}),O(26,"Cancel"),S()()()),2&n&&(T(4),B("formGroup",r.interestForm),T(7),B("ngModel",r.interestName),T(10),B("ngIf",!r.selectedFile),T(1),B("ngIf",r.selectedFile),T(1),B("fullWidth",!0),T(2),B("fullWidth",!0))},dependencies:[ui,jn,yn,Gn,Hn,Ci,Pn,fr,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})();function K9e(e,t){if(1&e){const i=ct();w(0,"div",14)(1,"div",15),Z(2,"app-main-header-dashboard",16),w(3,"div",17)(4,"p",18),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",19),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",20),O(10),S(),w(11,"form",21),Q("ngSubmit",function(){return Le(i),Ve(ae().onSubmit())}),w(12,"div",22)(13,"label",23),O(14,"Name:"),S(),w(15,"div",24),ki(),w(16,"svg",25),Z(17,"path",26),S(),Ji(),Z(18,"input",27),S()(),w(19,"div",28)(20,"div",22)(21,"label",23),O(22," number of users :"),S(),w(23,"div",24)(24,"mat-icon",29),O(25,"schedule"),S(),Z(26,"input",30)(27,"span",31),S()(),w(28,"div",22)(29,"div",24)(30,"mat-icon",29),O(31,"schedule"),S(),Z(32,"input",32)(33,"span",31),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(6),B("disabled",i.isLoading),T(4),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function q9e(e,t){if(1&e){const i=ct();w(0,"div",33),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const Z9e=function(){return{resizable:!0,suppressMovable:!0}};function Q9e(e,t){if(1&e&&Z(0,"ag-grid-angular",34),2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(4,Z9e))}}function X9e(e,t){1&e&&(w(0,"div",35),Z(1,"app-loading"),S())}let J9e=(()=>{class e{deleteDialogHandler(i){this.dialog.open(V9e,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData()})}editDialogHandler(i){this.dialog.open(U9e,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData()})}ngOnInit(){this.getData()}onSubmit(){this.error="",this.getData()}reset(){this.FilterForm.reset(),this.error="",this.currentPage=1,this.getData()}toggleOpenFilter(){this.openFilter=!this.openFilter}constructor(i,n,r,s){this.toastService=i,this.interestService=n,this.dialog=r,this.fb=s,this.isLoading=!1,this.openFilter=!1,this.rowData=[],this.defaultColDef={flex:1,sortable:!0,filter:!1,resizable:!0},this.columnDefs=[{field:"NO",headerName:"No",flex:2},{field:"name",headerName:"Name",flex:2,cellRenderer:o=>`\n        <div style="display: flex; align-items: center;">\n          <img src="${o.data.image}" style="width: 24px; height: 24px; border-radius: 50%; margin-right: 8px;">\n        <span>${o.data.name}</span>\n        </div>\n      `},{field:"number_of_users",headerName:"No of user with this interest",flex:3},{field:"action",headerName:"Action",flex:1,cellRenderer:N9e,cellRendererParams:o=>({openBlockInterestDialog:()=>this.deleteDialogHandler(o),openEditInterestDialog:()=>this.editDialogHandler(o)})}],this.error="",this.lastPage=0,this.currentPage=1,this.FilterForm=this.fb.group({name:[""],From:[""],To:[""]})}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData(){var i=this;return(0,J.A)(function*(){if(i.FilterForm.get("To")?.value&&!i.FilterForm.get("From")?.value||i.FilterForm.get("From")?.value&&!i.FilterForm.get("To")?.value)return void(i.error="Please select a valid range.");const n={name:i.FilterForm.get("name")?.value||"",number_of_users_0:i.FilterForm.get("From")?.value||"",number_of_users_1:i.FilterForm.get("To")?.value||""};i.isLoading=!0,i.error="",i.interestService.getAllInterest(n,i.currentPage).pipe(Rr(r=>(console.error("Error fetching creative potentials:",r),i.error="Failed to fetch data. Please try again later.",i.showDangerToast(r.error.message),ie({data:{CreativePotentials:[]},meta:{last_page:0}}))),_u(()=>i.isLoading=!1)).subscribe(r=>{i.isLoading=!1,i.lastPage=r.meta.last_page,i.rowData=r.data.interests,i.isLoading=!1})})()}openAddInterestDialog(){this.dialog.open(Y9e).afterClosed().subscribe(n=>{n&&this.getData()})}onPageChange(i){this.currentPage=i,this.getData()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(_k),R(jr),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-interest-mangment"]],decls:17,vars:6,consts:[[1,"px-main","mt-[30px]","overflow-auto"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"flex","mb-6","justify-center","gap-1","items-center","bg-secondary-500","hover:bg-gray-400","text-base","text-whiteh-[40px]","w-[111px]","cursor-pointer","rounded-[28px]",3,"click"],[1,"text-white","py-2"],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"flex","justify-between","mb-7"],["title","Interest Management:"],[1,"border","flex","justify-center","items-center","rounded-3xl","bg-primary-500","text-white","py-2","px-6",3,"click"],[1,""],["style","width: 95%; height: 400px; margin-left: 25px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-end","items-center","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"disabled","click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","name","name","name","required","","placeholder","enter name",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","items-end","gap-2"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","From","formControlName","From","type","number","name","From","required","","placeholder","From",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],["id","To","formControlName","To","type","number","name","To","required","","placeholder","To",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine",2,"width","95%","height","400px","margin-left","25px",3,"rowData","columnDefs","defaultColDef"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,K9e,34,4,"div",1),te(2,q9e,1,0,"div",2),w(3,"div",3),Q("click",function(){return r.toggleOpenFilter()}),w(4,"span",4),O(5,"Filter"),S(),Z(6,"mat-icon",5),S(),w(7,"div",6),Z(8,"app-main-header-dashboard",7),w(9,"button",8),Q("click",function(){return r.openAddInterestDialog()}),w(10,"mat-icon",9),O(11,"add"),S(),O(12," Add Interest "),S()(),te(13,Q9e,1,5,"ag-grid-angular",10),te(14,X9e,2,0,"div",11),S(),w(15,"div",12)(16,"app-pagination",13),Q("pageChange",function(o){return r.onPageChange(o)}),S()()),2&n&&(T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(11),B("ngIf",!r.isLoading),T(1),B("ngIf",r.isLoading),T(2),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Ci,Gd,Pn,fr,Pl,or,Yu],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin-right:auto;padding:0!important;border-left:none!important;width:auto!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{padding:0!important;width:auto!important;margin-right:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}"],data:{animation:[Cp]}})}}return e})(),eWe=(()=>{class e{constructor(i){this.dialog=i}agInit(i){this.params=i}refresh(){return!1}static{this.\u0275fac=function(n){return new(n||e)(R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-action-cell-skill-render"]],decls:3,vars:0,consts:[[1,"flex","h-full","gap-2","justify-center","items-center"],["svgIcon","edit",1,"cursor-pointer",3,"click"],["svgIcon","close",1,"cursor-pointer",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"mat-icon",1),Q("click",function(){return r.params.openEditDialog()}),S(),w(2,"mat-icon",2),Q("click",function(){return r.params.openBlockDialog()}),S()())},dependencies:[Ci]})}}return e})(),Ck=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllSkill(i,n){const r=new URLSearchParams;return i.name&&r.append("filter[name]",i.name),i.number_of_users_0&&r.append("filter[number_of_users][0]",i.number_of_users_0),i.number_of_users_1&&r.append("filter[number_of_users][1]",i.number_of_users_1),r.append("page",n.toString()),this.apiService.get(`Skills-Management/list?${r.toString()}`,{})}deleteSkill({id:i}){return this.apiService.delete(`Skills-Management/delete/${i}`)}addSkill(i){return this.apiService.post("Skills-Management/store",{name:i})}editSkill(i,n){const r={name:i};return console.log(`Attempting to update skill with ID ${n} and name "${i}"`),this.apiService.put(`Skills-Management/update/${n}`,r)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tWe=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.skillService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onDelete(){console.log(this.data.rowData.id),this.skillService.deleteSkill({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Ck),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-delete-skill-dialog"]],decls:15,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-96","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-xl","text-center","leading-snug","mb-11"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Deleting skill "),S(),w(8,"p",7),O(9," If you're certain that you want to delete this skill, click 'Delete' below "),S()()(),w(10,"div",8)(11,"button",9),Q("click",function(){return r.onDelete()}),O(12," Delete "),S(),w(13,"button",10),Q("click",function(){return r.onClose()}),O(14,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{height:470px;border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})(),iWe=(()=>{class e{constructor(i,n,r,s,o){this.fb=i,this.toastService=n,this.skillService=r,this.dialogRef=s,this.data=o,this._snackBar=ze(mr),this.skillForm=this.fb.group({name:["",kn.required]})}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}addskill(){if(this.skillForm.invalid)return void this._snackBar.open("skill name is required","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});const i=this.skillForm.get("name")?.value;this.skillService.addSkill(i).subscribe({next:n=>{this.showSuccessToast(n.message),this.dialogRef.close(!0)},error:n=>{this.showDangerToast(n.error.message)}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(Hi),R(Ck),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-add-skill-dialog"]],decls:13,vars:3,consts:[[1,"w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name",1,"block","py-1","text-lg"],["id","name","formControlName","name","type","text","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["type","submit","styleTailwind","mt-8","color","second",3,"fullWidth"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Add Skill Name"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.addskill()}),w(5,"div",4)(6,"label",5),O(7,"Skill Name:"),S(),Z(8,"input",6),S(),w(9,"app-button",7),O(10,"Add "),S(),w(11,"app-button",8),Q("click",function(){return r.onClose()}),O(12,"Cancel"),S()()()),2&n&&(T(4),B("formGroup",r.skillForm),T(5),B("fullWidth",!0),T(2),B("fullWidth",!0))},dependencies:[jn,yn,Gn,Hn,Pn,fr,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})(),nWe=(()=>{class e{constructor(i,n,r,s,o){this.toastService=i,this.fb=n,this.skillService=r,this.dialogRef=s,this.data=o,this._snackBar=ze(mr),this.skillForm=this.fb.group({name:[o.rowData.name,kn.required]})}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}editSkill(){if(this.skillForm.invalid)return void this._snackBar.open("Skill name is required","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});const i=this.skillForm.get("name")?.value;this.skillService.editSkill(i,this.data.rowData.id).subscribe({next:r=>{this.showSuccessToast(r.message),this.dialogRef.close(!0)},error:r=>{this.showDangerToast(r.error.message)}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Hr),R(Ck),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-edit-skill-dialog"]],decls:13,vars:3,consts:[[1,"w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name",1,"block","py-1","text-lg"],["id","name","formControlName","name","type","text","placeholder","Enter skill name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["type","submit","styleTailwind","mt-8","color","second",3,"fullWidth"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Edit Skill"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.editSkill()}),w(5,"div",4)(6,"label",5),O(7,"Skill Name:"),S(),Z(8,"input",6),S(),w(9,"app-button",7),O(10," Edit "),S(),w(11,"app-button",8),Q("click",function(){return r.onClose()}),O(12,"Cancel"),S()()()),2&n&&(T(4),B("formGroup",r.skillForm),T(5),B("fullWidth",!0),T(2),B("fullWidth",!0))},dependencies:[jn,yn,Gn,Hn,Pn,fr,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})();function rWe(e,t){if(1&e){const i=ct();w(0,"div",14)(1,"div",15),Z(2,"app-main-header-dashboard",16),w(3,"div",17)(4,"p",18),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",19),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",20),O(10),S(),w(11,"form",21)(12,"div",22)(13,"label",23),O(14,"Name:"),S(),w(15,"div",24),ki(),w(16,"svg",25),Z(17,"path",26),S(),Ji(),Z(18,"input",27),S()(),w(19,"div",28)(20,"div",22)(21,"label",23),O(22," number of users :"),S(),w(23,"div",24)(24,"mat-icon",29),O(25,"schedule"),S(),Z(26,"input",30)(27,"span",31),S()(),w(28,"div",22)(29,"div",24)(30,"mat-icon",29),O(31,"schedule"),S(),Z(32,"input",32)(33,"span",31),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(6),B("disabled",i.isLoading),T(4),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function sWe(e,t){if(1&e){const i=ct();w(0,"div",33),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const oWe=function(){return{resizable:!0,suppressMovable:!0}};function aWe(e,t){if(1&e&&Z(0,"ag-grid-angular",34),2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(4,oWe))}}function lWe(e,t){1&e&&(w(0,"div",35),Z(1,"app-loading"),S())}let cWe=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.controlPanelService=n,this.dialog=r,this.fb=s,this.openFilter=!1,this.isLoading=!1,this.rowData=[],this.error="",this.lastPage=0,this.currentPage=1,this.defaultColDef={flex:1,sortable:!0,filter:!1,resizable:!0},this.columnDefs=[{field:"NO",headerName:"No",flex:1},{field:"name",headerName:"Name",flex:2},{field:"number_of_users",headerName:"No of user with this skill",flex:2},{field:"action",headerName:"Action",flex:1,cellRenderer:eWe,cellRendererParams:o=>({openBlockDialog:()=>this.deleteDialogHandler(o),openEditDialog:()=>this.editDialogHandler(o)})}],this.FilterForm=this.fb.group({name:[""],From:[""],To:[""]})}ngOnInit(){this.FilterForm.reset(),this.getData()}toggleOpenFilter(){this.openFilter=!this.openFilter}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData(){if(this.FilterForm.get("To")?.value&&!this.FilterForm.get("From")?.value||this.FilterForm.get("From")?.value&&!this.FilterForm.get("To")?.value)return void(this.error="Select the range");this.isLoading=!0,this.error="";const i={name:this.FilterForm.get("name")?.value||"",number_of_users_0:this.FilterForm.get("From")?.value||"",number_of_users_1:this.FilterForm.get("To")?.value||""};this.controlPanelService.getAllSkill(i,this.currentPage).pipe(Rr(n=>(this.showDangerToast(n.error.message),this.error="Failed to fetch data. Please try again later.",ie({data:{skills:[]},meta:{last_page:0}}))),_u(()=>{this.isLoading=!1,this.openFilter=!1})).subscribe(n=>{this.lastPage=n.meta.last_page,this.rowData=n.data.skills})}reset(){this.FilterForm.reset(),this.error="",this.currentPage=1,this.getData()}onPageChange(i){this.currentPage=i,this.getData()}openAddSkillDialog(){this.dialog.open(iWe).afterClosed().subscribe(n=>{n&&this.getData()})}deleteDialogHandler(i){this.dialog.open(tWe,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{r&&this.getData()})}editDialogHandler(i){this.dialog.open(nWe,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{r&&this.getData()})}onSubmit(){this.error="",this.getData()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Ck),R(jr),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-skill-mangment"]],decls:18,vars:6,consts:[[1,"px-main","mt-[30px]","overflow-auto"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"flex","mb-6","justify-center","gap-1","items-center","bg-secondary-500","hover:bg-gray-400","text-base","text-whiteh-[40px]","w-[111px]","cursor-pointer","rounded-[28px]",3,"click"],[1,"text-white","py-2"],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"flex","justify-between","mb-7"],["title","Skills Mangment:"],[1,"flex","justify-center","items-center","border","rounded-3xl","bg-primary-500","text-white","py-2","px-6",3,"click"],[1,""],["style","width: 95%; height: 400px; margin-left: 25px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-end","items-center","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"disabled","click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","name","name","name","required","","placeholder","enter name",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","items-end","gap-2"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","From","formControlName","From","type","number","name","From","required","","placeholder","From",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],["id","To","formControlName","To","type","number","name","To","required","","placeholder","To",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine",2,"width","95%","height","400px","margin-left","25px",3,"rowData","columnDefs","defaultColDef"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,rWe,34,4,"div",1),te(2,sWe,1,0,"div",2),w(3,"div",3),Q("click",function(){return r.toggleOpenFilter()}),w(4,"span",4),O(5,"Filter"),S(),Z(6,"mat-icon",5),S(),w(7,"div",6),Z(8,"app-main-header-dashboard",7),w(9,"button",8),Q("click",function(){return r.openAddSkillDialog()}),w(10,"mat-icon",9),O(11,"add"),S(),w(12,"p"),O(13,"Add skill"),S()()(),te(14,aWe,1,5,"ag-grid-angular",10),te(15,lWe,2,0,"div",11),S(),w(16,"div",12)(17,"app-pagination",13),Q("pageChange",function(o){return r.onPageChange(o)}),S()()),2&n&&(T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(12),B("ngIf",!r.isLoading),T(1),B("ngIf",r.isLoading),T(2),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Ci,Gd,Pn,fr,Pl,or,Yu],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin-right:auto;padding:0!important;border-left:none!important;width:auto!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{padding:0!important;width:auto!important;margin-right:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}"],data:{animation:[Cp]}})}}return e})(),wk=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllTags(i,n){const r=[];i.name&&r.push(`filter[name]=${i.name}`),i.number_of_users_0&&r.push(`filter[number_of_opportunities][0]=${i.number_of_users_0}`),i.number_of_users_1&&r.push(`filter[number_of_opportunities][1]=${i.number_of_users_1}`);const s=r.length?"?"+r.join("&"):"";return this.apiService.get(`Tags-Management/list${s}`,{page:n})}deleteTag({id:i}){return this.apiService.delete(`Tags-Management/delete/${i}`)}addTag(i){return this.apiService.post("Tags-Management/store",{name:i})}editTag(i,n){const r={name:i};return console.log(`Attempting to update Tag with ID ${n} and name "${i}"`),this.apiService.put(`Tags-Management/update/${n}`,r)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dWe=(()=>{class e{constructor(i,n,r,s,o){this.fb=i,this.toastService=n,this.tagService=r,this.dialogRef=s,this.data=o,this._snackBar=ze(mr),this.tagForm=this.fb.group({name:["",kn.required]})}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}addTag(){if(this.tagForm.invalid)return void this._snackBar.open("tag name is required","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});const i=this.tagForm.get("name")?.value;this.tagService.addTag(i).subscribe({next:n=>{this.showSuccessToast(n.message),this.dialogRef.close(i)},error:n=>{this.showDangerToast(n.error.message),this._snackBar.open("Failed to add tag name","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"})}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(Hi),R(wk),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-add-tags-dialog"]],decls:13,vars:3,consts:[[1,"w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name",1,"block","py-1","text-lg"],["id","name","formControlName","name","type","text","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["type","submit","styleTailwind","mt-8","color","second",3,"fullWidth"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Add Tag Name"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.addTag()}),w(5,"div",4)(6,"label",5),O(7,"Tag Name:"),S(),Z(8,"input",6),S(),w(9,"app-button",7),O(10,"Add "),S(),w(11,"app-button",8),Q("click",function(){return r.onClose()}),O(12,"Cancel"),S()()()),2&n&&(T(4),B("formGroup",r.tagForm),T(5),B("fullWidth",!0),T(2),B("fullWidth",!0))},dependencies:[jn,yn,Gn,Hn,Pn,fr,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})(),uWe=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.skillService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr)}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onDelete(){console.log(this.data.rowData.id),this.skillService.deleteTag({id:this.data.rowData.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.dialogRef.close(!0)},error:i=>{this.showDangerToast(i.error.message)}})}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(wk),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-delete-tags-dialog"]],decls:15,vars:0,consts:[["mat-dialog-container","",1,"w-[436px]","h-96","flex-col"],["mat-dialog-content","",1,"flex-col"],[1,"header"],["svgIcon","dialog",1,"rectangle-icon","mb-14"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-xl","text-center","leading-snug","mb-11"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["mat-button","",1,"mb-4",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"mat-icon",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Deleting tag "),S(),w(8,"p",7),O(9," If you're certain that you want to delete this tag, click 'Delete' below "),S()()(),w(10,"div",8)(11,"button",9),Q("click",function(){return r.onDelete()}),O(12," Delete "),S(),w(13,"button",10),Q("click",function(){return r.onClose()}),O(14,"Cancel"),S()()())},dependencies:[Ci,Yo,Rl,kl],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;scale:1px!important;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}*[_ngcontent-%COMP%]{font-family:Nunito,Helvetica Neue,sans-serif}  .mat-mdc-dialog-surface.mdc-dialog__surface{height:470px;border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})(),hWe=(()=>{class e{constructor(i,n,r,s,o){this.toastService=i,this.fb=n,this.skillService=r,this.dialogRef=s,this.data=o,this._snackBar=ze(mr),this.tagForm=this.fb.group({name:[o.rowData.name,kn.required]})}onClose(){this.dialogRef.close()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}editTag(){if(this.tagForm.invalid)return void this._snackBar.open("Skill name is required","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});const i=this.tagForm.get("name")?.value;this.skillService.editTag(i,this.data.rowData.id).subscribe({next:r=>{this.showSuccessToast(r.message),this.dialogRef.close(!0)},error:r=>{this.showDangerToast(r.error.message)}})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Hr),R(wk),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-edit-tags-dialog"]],decls:13,vars:3,consts:[[1,"w-[500px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name",1,"block","py-1","text-lg"],["id","name","formControlName","name","type","text","placeholder","Enter tag name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["type","submit","styleTailwind","mt-8","color","second",3,"fullWidth"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Edit tag"),S()(),w(4,"form",3),Q("ngSubmit",function(){return r.editTag()}),w(5,"div",4)(6,"label",5),O(7,"tag Name:"),S(),Z(8,"input",6),S(),w(9,"app-button",7),O(10," Edit "),S(),w(11,"app-button",8),Q("click",function(){return r.onClose()}),O(12,"Cancel"),S()()()),2&n&&(T(4),B("formGroup",r.tagForm),T(5),B("fullWidth",!0),T(2),B("fullWidth",!0))},dependencies:[jn,yn,Gn,Hn,Pn,fr,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})(),pWe=(()=>{class e{constructor(i){this.dialog=i}agInit(i){this.params=i}refresh(){return!1}static{this.\u0275fac=function(n){return new(n||e)(R(jr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-action-cell-tags-render"]],decls:3,vars:0,consts:[[1,"flex","h-full","gap-2","justify-center","items-center"],["svgIcon","edit",1,"cursor-pointer",3,"click"],["svgIcon","close",1,"cursor-pointer",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"mat-icon",1),Q("click",function(){return r.params.openEditDialog()}),S(),w(2,"mat-icon",2),Q("click",function(){return r.params.openBlockDialog()}),S()())},dependencies:[Ci]})}}return e})();function gWe(e,t){if(1&e){const i=ct();w(0,"div",14)(1,"div",15),Z(2,"app-main-header-dashboard",16),w(3,"div",17)(4,"p",18),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",19),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",20),O(10),S(),w(11,"form",21)(12,"div",22)(13,"label",23),O(14,"Name:"),S(),w(15,"div",24),ki(),w(16,"svg",25),Z(17,"path",26),S(),Ji(),Z(18,"input",27),S()(),w(19,"div",28)(20,"div",22)(21,"label",23),O(22," number of opportunity :"),S(),w(23,"div",24)(24,"mat-icon",29),O(25,"schedule"),S(),Z(26,"input",30)(27,"span",31),S()(),w(28,"div",22)(29,"div",24)(30,"mat-icon",29),O(31,"schedule"),S(),Z(32,"input",32)(33,"span",31),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(6),B("disabled",i.isLoading),T(4),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function fWe(e,t){if(1&e){const i=ct();w(0,"div",33),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const mWe=function(){return{resizable:!0,suppressMovable:!0}};function vWe(e,t){if(1&e&&Z(0,"ag-grid-angular",34),2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(4,mWe))}}function yWe(e,t){1&e&&(w(0,"div",35),Z(1,"app-loading"),S())}let bWe=(()=>{class e{toggleOpenFilter(){this.openFilter=!this.openFilter}constructor(i,n,r,s){this.toastService=i,this.tagService=n,this.dialog=r,this.fb=s,this.openFilter=!1,this.error="",this.isLoading=!1,this.rowData=[],this.defaultColDef={flex:1,sortable:!0,filter:!1,resizable:!0},this.columnDefs=[{field:"NO",headerName:"No",flex:2},{field:"name",headerName:"Name",flex:2},{field:"Number of opportunties",headerName:"Number of opportunties",flex:3},{field:"action",headerName:"Action",flex:1,cellRenderer:pWe,cellRendererParams:o=>({openBlockDialog:()=>this.deleteDialogHandler(o),openEditDialog:()=>this.editDialogHandler(o)})}],this.lastPage=0,this.currentPage=1,this.FilterForm=this.fb.group({name:[""],From:[""],To:[""]})}onSubmit(){this.error="",this.getData()}reset(){this.FilterForm.reset(),this.error="",this.currentPage=1,this.getData()}deleteDialogHandler(i){this.dialog.open(uWe,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData()})}editDialogHandler(i){this.dialog.open(hWe,{data:{rowData:i.data}}).afterClosed().subscribe(r=>{this.getData()})}ngOnInit(){this.getData()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData(){var i=this;return(0,J.A)(function*(){if(i.FilterForm.get("To")?.value&&!i.FilterForm.get("From")?.value||i.FilterForm.get("From")?.value&&!i.FilterForm.get("To")?.value)return void(i.error="Select the range");i.isLoading=!0,i.error="";const n={name:i.FilterForm.get("name")?.value||"",number_of_users_0:i.FilterForm.get("From")?.value||"",number_of_users_1:i.FilterForm.get("To")?.value||""};i.tagService.getAllTags(n,i.currentPage).pipe(Rr(r=>(console.error("Error fetching skills:",r),i.showDangerToast(r.error.message),i.error="Failed to fetch data. Please try again later.",ie({data:{skills:[]},meta:{last_page:0}}))),_u(()=>{i.isLoading=!1,i.openFilter=!1})).subscribe({next:r=>{i.isLoading=!1,i.rowData=r.data.Tags},error:r=>{i.isLoading=!1,console.error("Error fetching skills:",r)}})})()}openAddTagsDialog(){this.dialog.open(dWe).afterClosed().subscribe(n=>{n&&this.getData()})}onPageChange(i){this.currentPage=i,this.getData()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(wk),R(jr),R(Hr))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-tags-mangment"]],decls:18,vars:6,consts:[[1,"px-main","mt-[30px]","overflow-auto"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"flex","mb-6","justify-center","gap-1","items-center","bg-secondary-500","hover:bg-gray-400","text-base","text-whiteh-[40px]","w-[111px]","cursor-pointer","rounded-[28px]",3,"click"],[1,"text-white","py-2"],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"flex","justify-between","mb-7"],["title","Tags Mangment:"],[1,"flex","justify-center","items-center","border","rounded-3xl","bg-primary-500","text-white","py-2","px-6",3,"click"],[1,""],["style","width: 95%; height: 400px; margin-left: 25px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-end","items-center","my-3","text-sm","mx-20","mt-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"disabled","click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","name","name","name","required","","placeholder","enter name",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","items-end","gap-2"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","From","formControlName","From","type","number","name","From","required","","placeholder","From",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],["id","To","formControlName","To","type","number","name","To","required","","placeholder","To",1,"block","--secondary-500","text-xs","w-full","capitalize","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine",2,"width","95%","height","400px","margin-left","25px",3,"rowData","columnDefs","defaultColDef"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0),te(1,gWe,34,4,"div",1),te(2,fWe,1,0,"div",2),w(3,"div",3),Q("click",function(){return r.toggleOpenFilter()}),w(4,"span",4),O(5,"Filter"),S(),Z(6,"mat-icon",5),S(),w(7,"div",6),Z(8,"app-main-header-dashboard",7),w(9,"button",8),Q("click",function(){return r.openAddTagsDialog()}),w(10,"mat-icon",9),O(11,"add"),S(),w(12,"p"),O(13,"Add Tag"),S()()(),te(14,vWe,1,5,"ag-grid-angular",10),te(15,yWe,2,0,"div",11),w(16,"div",12)(17,"app-pagination",13),Q("pageChange",function(o){return r.onPageChange(o)}),S()()()),2&n&&(T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(12),B("ngIf",!r.isLoading),T(1),B("ngIf",r.isLoading),T(2),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Ci,Gd,Pn,fr,Pl,or,Yu],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{margin-right:auto;padding:0!important;border-left:none!important;width:auto!important}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{padding:0!important;width:auto!important;margin-right:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}"],data:{animation:[Cp]}})}}return e})(),_We=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Be({type:e,selectors:[["app-sent-code"]],decls:28,vars:0,consts:[[1,"w-[372px]"],[1,"text-2xl","mb-6","text-dd","text-center","tracking-normal","font-bold"],[1,"mb-2"],["for","password",1,"block","text-secondary-500","py-1","font-bold","text-sm"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 13.121 14.996",1,"icon","left-2"],["id","Icon_awesome-lock","data-name","Icon awesome-lock","d","M11.715,6.561h-.7V4.452a4.452,4.452,0,0,0-8.9,0V6.561h-.7A1.406,1.406,0,0,0,0,7.966V13.59A1.406,1.406,0,0,0,1.406,15h10.31a1.406,1.406,0,0,0,1.406-1.406V7.966A1.406,1.406,0,0,0,11.715,6.561Zm-3.046,0H4.452V4.452a2.109,2.109,0,1,1,4.218,0Z","fill","#7f77d9"],["type","number","id","code","name","code","required","","placeholder","Enter the Code ",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","rounded-lg","bg-[#F7F7FF]","border","border-secondary-500","focus:outline-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20.562 16",1,"icon","right-2"],["id","Path_208","data-name","Path 208","d","M24.226,9.662a.579.579,0,0,0-.8,0L20.74,12.27C13.674,8.934,7.916,14.538,6.3,16.366a1.707,1.707,0,0,0,.015,2.248,18.326,18.326,0,0,0,4.233,3.568L8.1,24.558a.541.541,0,0,0,0,.78.579.579,0,0,0,.8,0l15.321-14.9A.541.541,0,0,0,24.226,9.662ZM7.166,17.887a.633.633,0,0,1-.009-.8c1.862-2.1,6.733-6.557,12.73-3.987l-2.106,2.048a2.962,2.962,0,0,0-1.618-.484A2.881,2.881,0,0,0,13.246,17.5a2.763,2.763,0,0,0,.492,1.578l-2.362,2.3a16.857,16.857,0,0,1-4.21-3.487Zm7.406.38a1.679,1.679,0,0,1-.192-.767,1.761,1.761,0,0,1,1.783-1.733,1.814,1.814,0,0,1,.789.186l-2.38,2.314Zm11.457.368c-1.5,1.7-5.148,5.152-9.924,5.152a10.121,10.121,0,0,1-2.8-.4.549.549,0,0,1-.383-.685.57.57,0,0,1,.7-.373c5.5,1.578,9.9-2.561,11.544-4.414a.634.634,0,0,0-.009-.8,18.821,18.821,0,0,0-2.9-2.654.541.541,0,0,1-.116-.772.578.578,0,0,1,.794-.113,19.909,19.909,0,0,1,3.08,2.812,1.709,1.709,0,0,1,.015,2.249ZM18.581,17.47a.552.552,0,0,1,.428.661A2.875,2.875,0,0,1,16.67,20.3a.565.565,0,0,1-.657-.448.546.546,0,0,1,.461-.639A1.755,1.755,0,0,0,17.9,17.886a.567.567,0,0,1,.679-.416Z","transform","translate(-5.883 -9.5)","fill","#808289"],["type","password","id","password","name","password","required","","placeholder","Confirm password",1,"block","--secondary-500","text-xs","w-full","px-4","h-[56px]","rounded-lg","bg-[#F7F7FF]","border","border-secondary-500","focus:outline-none"],[1,"flex","justify-between"],["type","submit",1,"bg-primary-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[174px]","rounded-[28px]","my-4"],[1,"hover:bg-gray-400","text-primary-500","font-bold","h-[56px]","w-[174px]","rounded-[28px]","border","border-primary-500","my-4"]],template:function(n,r){1&n&&(w(0,"form",0)(1,"h1",1),O(2," Enter your new password "),S(),w(3,"div",2)(4,"label",3),O(5,"code ver:"),S(),w(6,"div",4),ki(),w(7,"svg",5),Z(8,"path",6),S(),Ji(),Z(9,"input",7),ki(),w(10,"svg",8),Z(11,"path",9),S()()(),Ji(),w(12,"div",2)(13,"label",3),O(14,"Confirm password:"),S(),w(15,"div",4),ki(),w(16,"svg",5),Z(17,"path",6),S(),Ji(),Z(18,"input",10),ki(),w(19,"svg",8),Z(20,"path",9),S()()(),Ji(),w(21,"div",11)(22,"button",12)(23,"span"),O(24,"Save"),S()(),w(25,"button",13)(26,"span"),O(27,"Cancel"),S()()()())},dependencies:[jn,Hn,xu]})}}return e})(),df=(()=>{class e{constructor(i,n){this.http=i,this.apiService=n}getAllBadges({page:i,filter:n}){let r=new Gh;return i&&(r=r.set("page",i.toString())),n?.name&&(r=r.set("filter[name]",n.name)),this.apiService.get("Badges-Management/list"+(i?"?page="+i:""),{"filter[name]":n?.name??""})}getRatedBadge({page:i,filter:n}){const r={"filter[npo]":n.npo||"","filter[volunteer]":n.volunteer||"","filter[opportunity]":n.opportunity||""};return n.ratedF&&(r["filter[rate][0]"]=n.ratedF),n.ratedT&&(r["filter[rate][1]"]=n.ratedT),this.apiService.get(`Badges-Management/rated/volunteers?page=${i}`,r)}deleteBadge({id:i}){return this.apiService.delete(`Badges-Management/delete/${i}`)}addBadge(i){return this.apiService.post("Badges-Management/store",i)}detailBadge(i){return this.apiService.get(`Badges-Management/show/${i}`)}updateBadge(i,n){return this.apiService.post(`Badges-Management/update/${i}`,n)}assignBadge(i){return this.apiService.post("Badges-Management/assign/badge",i)}static{this.\u0275fac=function(n){return new(n||e)(ne(Ko),ne(Tl))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function CWe(e,t){1&e&&(w(0,"span"),O(1,"No file selected"),S())}function wWe(e,t){if(1&e&&(w(0,"span",22),O(1),S()),2&e){const i=ae();T(1),Et(i.selectedFileName)}}function xWe(e,t){1&e&&(w(0,"div",23),Z(1,"app-loading"),S())}let SWe=(()=>{class e{constructor(i,n,r,s,o){this.fb=i,this.badgeApi=n,this.dialogRef=r,this.toastService=s,this.data=o,this.selectedFileName=null,this.imagePreview=null,this.isLoading=!1,this.error="",this.yourForm=this.fb.group({name:["",kn.required],image:[""]})}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onCancel(){this.dialogRef.close()}onFileSelected(i){const n=i.target;if(n.files&&n.files.length>0){const r=n.files[0];this.selectedFileName=r.name;const s=new FileReader;s.onload=o=>{this.imagePreview=o.target?.result},s.readAsDataURL(r),this.yourForm.patchValue({image:r})}}onAdd(){if(this.yourForm.valid){this.isLoading=!0;const i=new FormData;i.append("name",this.yourForm.get("name")?.value),i.append("image",this.yourForm.get("image")?.value),this.badgeApi.addBadge(i).subscribe({next:n=>{this.isLoading=!1,this.onCancel(),this.data.getData(),this.showSuccessToast(n.message)},error:n=>{this.isLoading=!1,this.showDangerToast(n.error.message)},complete:()=>{this.isLoading=!1}})}else this.error="name is required"}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(df),R(Un),R(Hi),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-add-badge"]],decls:30,vars:8,consts:[[1,""],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"text-danger-500","text-xs"],[1,"my-2"],[1,"input-container","relative"],[1,"icon","left-2","text-2xl","text-secondary-400",2,"width","25px","height","25px","top","43%"],["id","image","formControlName","image","type","file","name","image",1,"absolute","h-full","z-20",3,"change"],[1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","z-10","top-1/2","left-10","text-textcolor-400","text-sm","-translate-y-1/2"],[4,"ngIf"],["class","text-black",4,"ngIf"],["styleTailwind","mt-8","color","second",3,"fullWidth","click"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"],[1,"text-black"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Add Badge"),S()(),w(4,"form",3)(5,"div",4)(6,"label",5),O(7,"Badge Name:"),S(),w(8,"div",6),ki(),w(9,"svg",7),Z(10,"path",8),S(),Ji(),Z(11,"input",9),S(),w(12,"span",10),O(13),S()(),w(14,"div",11)(15,"label",5),O(16,"Badge Image:"),S(),w(17,"div",12)(18,"mat-icon",13),O(19," add_photo_alternate "),S(),w(20,"input",14),Q("change",function(o){return r.onFileSelected(o)}),S(),w(21,"div",15)(22,"p",16),te(23,CWe,2,0,"span",17),te(24,wWe,2,1,"span",18),S()()()(),w(25,"app-button",19),Q("click",function(){return r.onAdd()}),te(26,xWe,2,0,"div",20),O(27),S(),w(28,"app-button",21),Q("click",function(){return r.onCancel()}),O(29,"Cancel"),S()()()),2&n&&(T(4),B("formGroup",r.yourForm),T(9),Et(r.error),T(10),B("ngIf",!r.selectedFileName),T(1),B("ngIf",r.selectedFileName),T(1),B("fullWidth",!0),T(1),B("ngIf",r.isLoading),T(1),_t(" ",r.isLoading?"":"Add"," "),T(1),B("fullWidth",!0))},dependencies:[ui,jn,yn,Gn,Hn,Ci,Pn,fr,or,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {.mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}"]})}}return e})();function DWe(e,t){1&e&&(w(0,"div",5),Z(1,"app-loading"),S())}function MWe(e,t){1&e&&(w(0,"span"),O(1,"No file selected"),S())}function EWe(e,t){if(1&e&&(w(0,"span",24),O(1),S()),2&e){const i=ae(2);T(1),Et(i.selectedFileName)}}function IWe(e,t){1&e&&(w(0,"div",5),Z(1,"app-loading"),S())}function AWe(e,t){if(1&e){const i=ct();w(0,"form",6)(1,"div",7)(2,"label",8),O(3,"Badge Name:"),S(),w(4,"div",9),ki(),w(5,"svg",10),Z(6,"path",11),S(),Ji(),Z(7,"input",12),S(),w(8,"span",13),O(9),S()(),w(10,"div",14)(11,"label",8),O(12,"Badge Image:"),S(),w(13,"div",15)(14,"mat-icon",16),O(15," add_photo_alternate "),S(),w(16,"input",17),Q("change",function(r){return Le(i),Ve(ae().onFileSelected(r))}),S(),w(17,"div",18)(18,"p",19),te(19,MWe,2,0,"span",20),te(20,EWe,2,1,"span",21),S()()()(),w(21,"app-button",22),Q("click",function(){return Le(i),Ve(ae().upData())}),te(22,IWe,2,0,"div",3),O(23),S(),w(24,"app-button",23),Q("click",function(){return Le(i),Ve(ae().onCancel())}),O(25,"Cancel"),S()()}if(2&e){const i=ae();B("formGroup",i.yourForm),T(9),Et(i.error),T(10),B("ngIf",!i.selectedFileName),T(1),B("ngIf",i.selectedFileName),T(1),B("fullWidth",!0),T(1),B("ngIf",i.isLoading),T(1),_t(" ",i.isLoading?"":"Edit"," "),T(1),B("fullWidth",!0)}}let TWe=(()=>{class e{getData(){this.loading=!0,this.badgeApi.detailBadge(this.data.id).subscribe({next:i=>{this.badge=i.data,this.selectedFileName=this.badge.image?.split("/")[this.badge.image?.split("/").length-1],this.yourForm.patchValue({name:this.badge?.name??"",image:this.badge.image??""})},complete:()=>{this.loading=!1}})}ngOnInit(){this.getData()}constructor(i,n,r,s,o){this.fb=i,this.badgeApi=n,this.data=r,this.toastService=s,this.dialogRef=o,this.selectedFileName=null,this.imagePreview=null,this.isLoading=!1,this.loading=!1,this.badge=null,this.error="",this.yourForm=this.fb.group({name:["",kn.required],image:[""]})}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onCancel(){this.dialogRef.close()}onFileSelected(i){const n=i.target;if(n.files&&n.files.length>0){const r=n.files[0];this.selectedFileName=r.name;const s=new FileReader;s.onload=o=>{this.imagePreview=o.target?.result},s.readAsDataURL(r),this.yourForm.patchValue({image:r})}}upData(){if(this.yourForm.valid){this.isLoading=!0;const i=new FormData;i.append("name",this.yourForm.get("name")?.value),i.append("image",this.yourForm.get("image")?.value),i.append("_method","put"),this.badgeApi.updateBadge(this.data.id,i).subscribe({next:n=>{this.showSuccessToast(n.message),this.isLoading=!1,this.onCancel(),this.data.getData()},error:n=>{this.isLoading=!1,this.showDangerToast(n.error.message)},complete:()=>{this.isLoading=!1}})}else this.error="name is required"}static{this.\u0275fac=function(n){return new(n||e)(R(Hr),R(df),R(Wn),R(Hi),R(Un))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-update-badge"]],decls:6,vars:2,consts:[[1,"min-h-[200px]"],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],["class","p-10 bg-white",3,"formGroup",4,"ngIf"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"p-10","bg-white",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","Enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"text-danger-500","text-xs"],[1,"my-2"],[1,"input-container","relative"],[1,"icon","left-2","text-2xl","text-secondary-400",2,"width","25px","height","25px","top","43%"],["id","image","formControlName","image","type","file","name","image",1,"absolute","h-full","z-20",3,"change"],[1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","z-10","top-1/2","left-10","text-textcolor-400","text-sm","-translate-y-1/2"],[4,"ngIf"],["class","text-black",4,"ngIf"],["styleTailwind","mt-8","color","second",3,"fullWidth","click"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"],[1,"text-black"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Edit Badge"),S()(),te(4,DWe,2,0,"div",3),te(5,AWe,26,8,"form",4),S()),2&n&&(T(4),B("ngIf",r.loading),T(1),B("ngIf",!r.loading))},dependencies:[ui,jn,yn,Gn,Hn,Ci,Pn,fr,or,Ec],styles:[".mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:24px}button.active[_ngcontent-%COMP%]{background-color:#f9f9f9;color:#7ed957}  mat-form-field{mat-select {transform: translateY(-4px); .mat-mdc-select-trigger {.mat-mdc-select-value {font-size: 14px !important;}}} .mat-mdc-text-field-wrapper.mdc-text-field.mdc-text-field--outlined {height: 40px; .mat-mdc-form-field-flex {.mdc-notched-outline.mdc-notched-outline--upgraded.ng-star-inserted {background-color: #f7f7ff; z-index: -1; border: 1px solid #7f77d9; border-radius: 8px; top: 3px; .mdc-notched-outline__notch {top: 7px; border-radius: 0; border-right: 0; display: inline-grid; width: -moz-fit-content !important; width: fit-content !important; padding: 0; label {width: 50px; font-size: 12px; padding-top: 2px; cursor: pointer; color: #7f77d9;}}}}}}[_ngcontent-%COMP%]:is()   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#7f77d9}[_ngcontent-%COMP%]:is()   .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]   .cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .cdk-overlay-pane.mdc-menu-surface.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:14px}  .my-select-panel-class .mat-mdc-option .mdc-list-item__primary-text{font-size:14px}input[type=file][_ngcontent-%COMP%]{opacity:0}.mat-mdc-dialog-surface.mdc-dialog__surface[_ngcontent-%COMP%]{height:530px!important}"]})}}return e})();function RWe(e,t){1&e&&(w(0,"div",12),Z(1,"app-loading"),S())}let kWe=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.badgesService=n,this.dialogRef=r,this.data=s,this._snackBar=ze(mr),this.loading=!1}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}onClose(){this.dialogRef.close()}ngOnInit(){console.log("Received data:",this.data),this.data&&this.data.getData?console.log("getData function is available"):console.error("getData is not available or is undefined")}onDelete(){this.loading=!0,this.data&&"function"==typeof this.data.getData?this.badgesService.deleteBadge({id:this.data.id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.loading=!1,this.onClose(),this.data.getData()},error:i=>{this.loading=!1,this.showDangerToast(i.error.message)}}):console.error("getData is not available")}openSnackBar(i){this._snackBar.open(i,"close",{horizontalPosition:"center",duration:3e3,verticalPosition:"top"})}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(df),R(Un),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-delete-badge"]],decls:18,vars:2,consts:[[1,"w-full"],["mat-dialog-content","",1,"flex-col"],[1,"header"],[1,"h-[100px]","bg-danger-500","mb-14","relative","w-full"],["svgIcon","dialog-blockicon",1,"block-icon"],[1,"mx-6"],[1,"text-black","text-center","font-bold","text-2xl","mb-4"],[1,"text-black","text-center","leading-snug","mb-4"],["mat-dialog-actions","",1,"flex-col"],[1,"bg-danger-500","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[296px]","rounded-[28px]","mb-4",3,"click"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],["mat-button","",1,"mb-4",3,"click"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"div",3)(4,"mat-icon",4),S(),w(5,"div",5)(6,"h1",6),O(7," Deleting Badge "),S(),w(8,"p",7),O(9," Deleting a user will prevent them from interacting on this platform "),S(),w(10,"p",7),O(11," If you're certain that you want to delete this user, click 'Delete' below "),S()()(),w(12,"div",8)(13,"button",9),Q("click",function(){return r.onDelete()}),te(14,RWe,2,0,"div",10),O(15),S(),w(16,"button",11),Q("click",function(){return r.onClose()}),O(17,"Cancel"),S()()()),2&n&&(T(14),B("ngIf",r.loading),T(1),_t(" ",r.loading?"":"Delete"," "))},dependencies:[ui,Ci,Yo,Rl,kl,or],styles:[".rectangle-icon[_ngcontent-%COMP%]{width:100%;height:101px;position:relative}.block-icon[_ngcontent-%COMP%]{width:150px;height:150px;scale:1px!important;position:absolute;top:100px;left:50%;transform:translate(-50%,-50%)}.header[_ngcontent-%COMP%]{position:relative}  .mat-mdc-dialog-surface.mdc-dialog__surface{border-radius:28px;background-color:#f1f1f1;box-shadow:0 4px 10px #0000004d}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:aqua important!}  .mat-mdc-dialog-content.mdc-dialog__content.flex-col{padding:0}.mat-icon.notranslate.mate.mb-4.mat-icon-no-color[_ngcontent-%COMP%]{margin:0 0 40px;height:130px;scale:1px!important}"]})}}return e})();function PWe(e,t){if(1&e){const i=ct();w(0,"div",10),Q("click",function(){return Le(i),Ve(ae().openInfo())}),S()}}function FWe(e,t){if(1&e){const i=ct();w(0,"div",11)(1,"div",12),Q("click",function(){Le(i);const r=ae();let s;return Ve(r.openDeleteBadgeDialog(null!==(s=null==r.badge?null:r.badge.id)&&void 0!==s?s:0))}),w(2,"mat-icon",13),O(3,"delete"),S()(),w(4,"div",14),Q("click",function(){Le(i);const r=ae();let s;return Ve(r.openAddBadgeDialog(null!==(s=null==r.badge?null:r.badge.id)&&void 0!==s?s:0))}),w(5,"mat-icon",13),O(6,"edit"),S()()()}}let OWe=(()=>{class e{openInfo(){this.info=!this.info}constructor(i,n){this.dialog=i,this.badgesApi=n,this.info=!1,this.Delete="Delete"}openAddBadgeDialog(i){this.dialog.open(TWe,{width:"500px",panelClass:"custom-modalbox",data:{id:i,getData:this.getData.bind(this)}})}onClose(){this.dialog.closeAll()}openDeleteBadgeDialog(i){this.dialog.open(kWe,{width:"500px",panelClass:"custom-modalbox",data:{onClose:this.onClose,getData:this.getData.bind(this),id:i}})}static{this.\u0275fac=function(n){return new(n||e)(R(jr),R(df))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-badge-card"]],inputs:{badge:"badge",getData:"getData"},decls:13,vars:5,consts:[[1,"relative"],[1,"p-2","border","rounded-lg","flex","gap-2","min-w-[280px]"],[1,"image","w-16","h-16","rounded-base","overflow-hidden","bg-textcolor-200"],["alt","",1,"w-full","h-full",3,"src"],[1,"w-full"],[1,"title","text-lg","flex","justify-between","w-full"],["class","w-screen h-screen z-10 top-[-200px] left-[-300px] absolute",3,"click",4,"ngIf"],[1,"text-secondary-500","cursor-pointer","relative",2,"overflow","visible",3,"click"],["class","shadow z-50 p-1 text-base flex rounded-md bg-white absolute top-0 right-0",4,"ngIf"],[1,"title","text-textcolor-400","text-sm"],[1,"w-screen","h-screen","z-10","top-[-200px]","left-[-300px]","absolute",3,"click"],[1,"shadow","z-50","p-1","text-base","flex","rounded-md","bg-white","absolute","top-0","right-0"],[1,"flex","p-2","hover:bg-black/5","transition-all","rounded-md","cursor-pointer",3,"click"],[1,"text-xl"],[1,"p-2","flex","hover:bg-black/5","transition-all","rounded-md","cursor-pointer",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"img",3),S(),w(4,"div",4)(5,"div",5),O(6),te(7,PWe,1,0,"div",6),w(8,"mat-icon",7),Q("click",function(){return r.openInfo()}),O(9,"more_horiz "),te(10,FWe,7,0,"div",8),S()(),w(11,"p",9),O(12),S()()()()),2&n&&(T(3),B("src",null==r.badge?null:r.badge.image,Sh),T(3),_t(" ",null==r.badge?null:r.badge.name," "),T(1),B("ngIf",r.info),T(3),B("ngIf",r.info),T(2),_t(" number of volunteers: ",null==r.badge?null:r.badge.number_of_volunteers," "))},dependencies:[ui,Ci],encapsulation:2})}}return e})();function LWe(e,t){if(1&e){const i=ct();w(0,"div",13)(1,"div",14),Z(2,"app-main-header-dashboard",15),w(3,"div",16)(4,"p",17),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",18),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"form",19)(10,"div",20)(11,"label",21),O(12,"Name:"),S(),w(13,"div",22),ki(),w(14,"svg",23),Z(15,"path",24),S(),Ji(),Z(16,"input",25),S()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(9),B("formGroup",i.FilterForm)}}function NWe(e,t){if(1&e){const i=ct();w(0,"div",26),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}function VWe(e,t){if(1&e&&Z(0,"app-badge-card",29),2&e){const i=t.$implicit,n=ae(2);B("badge",i)("getData",n.getData.bind(n))}}function BWe(e,t){if(1&e&&(w(0,"div",27),te(1,VWe,1,2,"app-badge-card",28),S()),2&e){const i=ae();T(1),B("ngForOf",i.badges)}}function zWe(e,t){1&e&&(w(0,"div",30),Z(1,"app-loading"),S())}let GWe=(()=>{class e{constructor(i,n,r,s,o){this.toastService=i,this.fb=n,this.router=r,this.dialog=s,this.badgesApi=o,this.openFilter=!1,this.currentPage=1,this.badges=[],this.loading=!1,this.lastPage=0,this.FilterForm=this.fb.group({name:[""]})}toggleOpenFilter(){this.openFilter=!this.openFilter}onSubmit(){this.getData(),this.openFilter=!1}reset(){this.FilterForm.reset(),this.getData(),this.openFilter=!1}setPage(i){this.currentPage=i}goToGiveBadge(){this.router.navigate(["/give-badge"])}onClose(){this.dialog.closeAll()}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}getData(){this.loading=!0,this.badgesApi.getAllBadges({page:this.currentPage,filter:{name:this.FilterForm.get("name")?.value??""}}).subscribe({next:i=>{this.badges=i.data.badges,this.lastPage=i.meta.last_page},error:i=>{this.loading=!1,this.showDangerToast(i.error.message)},complete:()=>{this.loading=!1}})}onPageChange(i){this.currentPage=i,this.getData()}openAddBadgeDialog(){this.dialog.open(SWe,{width:"500px",panelClass:"custom-modalbox",data:{getData:this.getData.bind(this)}}).afterClosed().subscribe(n=>{n&&console.log("Dialog closed with result:",n)})}ngOnInit(){this.getData()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Hr),R(is),R(jr),R(df))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-badge"]],decls:17,vars:7,consts:[[3,"title"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"px-main","flex","items-center","gap-4","mt-[30px]"],[3,"click"],[1,""],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],["variant","border",3,"click"],[1,"px-main","mt-10"],["class","grid xl:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-end","items-center","border-t-2","my-3","text-sm","mx-20","mt-5","py-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"click"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","name","type","text","name","name","placeholder","enter name",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"grid","xl:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-4"],[3,"badge","getData",4,"ngFor","ngForOf"],[3,"badge","getData"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(Z(0,"app-navbar",0),te(1,LWe,17,2,"div",1),te(2,NWe,1,0,"div",2),w(3,"div",3)(4,"app-button",4),Q("click",function(){return r.toggleOpenFilter()}),w(5,"span",5),O(6,"Filter"),S(),Z(7,"mat-icon",6),S(),w(8,"app-button",7),Q("click",function(){return r.openAddBadgeDialog()}),O(9," Add Badge "),w(10,"mat-icon",5),O(11,"add"),S()()(),w(12,"div",8),te(13,BWe,2,1,"div",9),te(14,zWe,2,0,"div",10),S(),w(15,"div",11)(16,"app-pagination",12),Q("pageChange",function(o){return r.onPageChange(o)}),S()()),2&n&&(B("title","Badge"),T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(11),B("ngIf",!r.loading),T(1),B("ngIf",r.loading),T(2),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[Dl,ui,jn,yn,Gn,Hn,Ci,Pn,fr,jh,Pl,or,Yu,Ec,OWe],data:{animation:[Cp]}})}}return e})();function Fse(e,t){return t?i=>Zb(t.pipe(Gr(1),function HWe(){return be((e,t)=>{e.subscribe(Oe(t,wt))})}()),i.pipe(Fse(e))):Qn((i,n)=>En(e(i,n)).pipe(Gr(1),U$(i)))}const UWe=["panel"];function WWe(e,t){if(1&e&&(w(0,"div",0,1),Zi(2),S()),2&e){const i=t.id,n=ae();B("id",n.id)("ngClass",n._classList)("@panelAnimation",n.isOpen?"visible":"hidden"),gi("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(i))}}const $We=["*"],YWe=gc("panelAnimation",[Du("void, hidden",Qi({opacity:0,transform:"scaleY(0.8)"})),ss(":enter, hidden => visible",[GL([rs("0.03s linear",Qi({opacity:1})),rs("0.12s cubic-bezier(0, 0, 0.2, 1)",Qi({transform:"scaleY(1)"}))])]),ss(":leave, visible => hidden",[rs("0.075s linear",Qi({opacity:0}))])]);let KWe=0;class qWe{constructor(t,i){this.source=t,this.option=i}}const ZWe=EA(class{}),Ose=new Me("mat-autocomplete-default-options",{providedIn:"root",factory:function QWe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1}}});let XWe=(()=>{class e extends ZWe{get isOpen(){return this._isOpen&&this.showPanel}_setColor(i){this._color=i,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(i){this._autoActiveFirstOption=Ei(i)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(i){this._autoSelectActiveOption=Ei(i)}set classList(i){this._classList=i&&i.length?eq(i).reduce((n,r)=>(n[r]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(i,n,r,s){super(),this._changeDetectorRef=i,this._elementRef=n,this._defaults=r,this._activeOptionChanges=Rt.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this._autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this._autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.optionSelected=new pe,this.opened=new pe,this.closed=new pe,this.optionActivated=new pe,this._classList={},this.id="mat-autocomplete-"+KWe++,this.inertGroups=s?.SAFARI||!1}ngAfterContentInit(){this._keyManager=new lq(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(i=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[i]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(i){this.panel&&(this.panel.nativeElement.scrollTop=i)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(i){const n=new qWe(this,i);this.optionSelected.emit(n)}_getPanelAriaLabelledby(i){return this.ariaLabel?null:this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_setVisibilityClasses(i){i[this._visibleClass]=this.showPanel,i[this._hiddenClass]=!this.showPanel}_setThemeClasses(i){i["mat-primary"]="primary"===this._color,i["mat-warn"]="warn"===this._color,i["mat-accent"]="accent"===this._color}}return e.\u0275fac=function(i){return new(i||e)(R(Es),R(ti),R(Ose),R(Ns))},e.\u0275dir=tt({type:e,viewQuery:function(i,n){if(1&i&&(Jn(uc,7),Jn(UWe,5)),2&i){let r;ii(r=ni())&&(n.template=r.first),ii(r=ni())&&(n.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[Ht]}),e})(),JWe=(()=>{class e extends XWe{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=Ei(i),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const i of this.options)i._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=An(e)))(n||e)}}(),e.\u0275cmp=Be({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(i,n,r){if(1&i&&(zr(r,BL,5),zr(r,Nm,5)),2&i){let s;ii(s=ni())&&(n.optionGroups=s),ii(s=ni())&&(n.options=s)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[Ri([{provide:VL,useExisting:e}]),Ht],ngContentSelectors:$We,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(i,n){1&i&&(co(),te(0,WWe,3,5,"ng-template"))},dependencies:[Ph],styles:[".mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface.mat-mdc-autocomplete-panel{width:100%;max-height:256px;position:static;visibility:hidden;transform-origin:center top;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-autocomplete-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) .mdc-menu-surface.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above .mdc-menu-surface.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[YWe]},changeDetection:0}),e})();const e$e={provide:pc,useExisting:he(()=>Nse),multi:!0},Lse=new Me("mat-autocomplete-scroll-strategy"),i$e={provide:Lse,deps:[Il],useFactory:function t$e(e){return()=>e.scrollStrategies.reposition()}};let n$e=(()=>{class e{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(i){this._autocompleteDisabled=Ei(i)}constructor(i,n,r,s,o,a,l,c,d,u,h){this._element=i,this._overlay=n,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=l,this._formField=c,this._document=d,this._viewportRuler=u,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Rt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new oe,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Qb(()=>{const g=this.autocomplete?this.autocomplete.options:null;return g?g.changes.pipe(Zs(g),Ze(()=>$(...g.map(m=>m.onSelectionChange)))):this._zone.onStable.pipe(Gr(1),Ze(()=>this.optionSelections))}),this._scrollStrategy=a}ngAfterViewInit(){const i=this._getWindow();typeof i<"u"&&this._zone.runOutsideAngular(()=>i.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(i){i.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const i=this._getWindow();typeof i<"u"&&i.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return $(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Tr(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Tr(()=>this._overlayAttached)):ie()).pipe(nt(i=>i instanceof Mq?i:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return $(zm(this._document,"click"),zm(this._document,"auxclick"),zm(this._document,"touchend")).pipe(Tr(i=>{const n=Nh(i),r=this._formField?this._formField._elementRef.nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(i){Promise.resolve(null).then(()=>this._assignOptionValue(i))}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this._element.nativeElement.disabled=i}_handleKeydown(i){const n=i.keyCode,r=So(i);if(27===n&&!r&&i.preventDefault(),this.activeOption&&13===n&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===n||40===n;9===n||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(i):o&&this._canOpen()&&this.openPanel(),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(i){let n=i.target,r=n.value;"number"===n.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,this._onChange(r),this._canOpen()&&this._document.activeElement===i.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(i=!1){this._formField&&"auto"===this._formField.floatLabel&&(i?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const i=this._zone.onStable.pipe(Gr(1)),n=this.autocomplete.options.changes.pipe(er(()=>this._positionStrategy.reapplyLastPosition()),function jWe(e,t=Fm){const i=YL(e,t);return Fse(()=>i)}(0));return $(i,n).pipe(Ze(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),Gr(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(i){const n=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(i):i;this._updateNativeInputValue(n??"")}_updateNativeInputValue(i){this._formField?this._formField._control.value=i:this._element.nativeElement.value=i,this._previousValue=i}_setValueAndClose(i){const n=i?i.source:this._pendingAutoselectedOption;n&&(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),this.autocomplete._emitSelectEvent(n),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(i){this.autocomplete.options.forEach(n=>{n!==i&&n.selected&&n.deselect()})}_attachOverlay(){let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new lS(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._handleOverlayEvents(i),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new y0({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const i=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(i),this._positionStrategy=i,i}_setStrategyPositions(i){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?n:[...n,...s],i.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const i=this.autocomplete;i.autoActiveFirstOption?i._keyManager.setFirstItemActive():i._keyManager.setActiveItem(-1)}_canOpen(){const i=this._element.nativeElement;return!i.readOnly&&!i.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(i){const n=this.autocomplete,r=Eq(i,n.options,n.optionGroups);if(0===i&&1===r)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[i];if(s){const o=s._getHostElement(),a=Iq(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(a)}}}_handleOverlayEvents(i){i.keydownEvents().subscribe(n=>{(27===n.keyCode&&!So(n)||38===n.keyCode&&So(n,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),n.stopPropagation(),n.preventDefault())}),i.outsidePointerEvents().subscribe()}}return e.\u0275fac=function(i){return new(i||e)(R(ti),R(Il),R(pa),R(Mt),R(Es),R(Lse),R(ga,8),R(j0,9),R(fi,8),R(dS),R(Ose,8))},e.\u0275dir=tt({type:e,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[Xn]}),e})(),Nse=(()=>{class e extends n$e{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=An(e)))(n||e)}}(),e.\u0275dir=tt({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,n){1&i&&Q("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(s){return n._handleInput(s)})("keydown",function(s){return n._handleKeydown(s)})("click",function(){return n._handleClick()}),2&i&&gi("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-owns",n.autocompleteDisabled||!n.panelOpen||null==n.autocomplete?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[Ri([e$e]),Ht]}),e})(),r$e=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[i$e],imports:[b0,TA,ns,Fh,uS,TA,ns]}),e})();function s$e(e,t){if(1&e&&(w(0,"mat-option",11),O(1),S()),2&e){const i=t.$implicit;B("value",i.name),T(1),_t(" ",i.name," ")}}function o$e(e,t){1&e&&(w(0,"div",12),Z(1,"app-loading"),S())}let a$e=(()=>{class e{constructor(i,n,r,s,o){this.toastService=i,this.dialogRef=n,this.dialog=r,this.badgesApi=s,this.data=o,this.loading=!1,this.loadingAssign=!1,this.badgeControl=new u0}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}assignBadge(){this.loadingAssign=!0,this.badgesApi.assignBadge({badge_id:this.selectedBadge?.id??0,feedback_id:this.data.volunteer_id}).subscribe({next:i=>{this.showSuccessToast(i.message),this.loadingAssign=!1,this.data.getData(),this.onCancel()},error:i=>{this.showDangerToast(i.error.message),this.loadingAssign=!1},complete:()=>{this.loadingAssign=!1}})}ngOnInit(){console.log(this.data),this.getData(),this.filteredOptions=this.badgeControl.valueChanges.pipe(Zs(""),nt(i=>this._filter(i||""))),this.badgeControl.valueChanges.subscribe(i=>{this.selectedBadge=this.options?.find(n=>n.name===i)})}getData(){this.loading=!0,this.badgesApi.getAllBadges({}).subscribe({next:i=>{this.options=i.data.badges,console.log("Options Array:",this.options),this.filteredOptions=this.badgeControl.valueChanges.pipe(Zs(""),nt(n=>this._filter(n||""))),this.loading=!1},error:()=>{this.loading=!1},complete:()=>{this.loading=!1}})}_filter(i){const n=i.toLowerCase();return this.options?this.options.filter(r=>r.name?.toLowerCase().includes(n)):[]}onCancel(){this.dialog.closeAll()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Un),R(jr),R(df),R(Wn))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-dialog-assign-badge"]],decls:18,vars:9,consts:[[1,""],[1,"py-10","flex","justify-center","bg-primary-500","text-3xl","text-center","w-full","font-semibold","px-10","text-white"],[1,"w-fit"],[1,"p-10","bg-white"],["appearance","outline",1,"w-full"],["type","text","placeholder","Select a badge","aria-label","Badge","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["styleTailwind","mt-8","color","second",3,"fullWidth","click"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],["variant","border","color","second","styleTailwind","mt-4",3,"fullWidth","click"],[3,"value"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){if(1&n&&(w(0,"div",0)(1,"div",1)(2,"h2",2),O(3,"Assign Badge"),S()(),w(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),O(7,"Assign Badge"),S(),Z(8,"input",5),w(9,"mat-autocomplete",null,6),te(11,s$e,2,2,"mat-option",7),Va(12,"async"),S()(),w(13,"app-button",8),Q("click",function(){return r.assignBadge()}),te(14,o$e,2,0,"div",9),O(15),S(),w(16,"app-button",10),Q("click",function(){return r.onCancel()}),O(17,"Cancel"),S()()()),2&n){const s=Wc(10);T(8),B("formControl",r.badgeControl)("matAutocomplete",s),T(3),B("ngForOf",$c(12,7,r.filteredOptions)),T(2),B("fullWidth",!0),T(1),B("ngIf",r.loadingAssign),T(1),_t(" ",r.loadingAssign?"":"Assign Badge"," "),T(1),B("fullWidth",!0)}},dependencies:[Dl,ui,yn,Gn,U0,Sg,NT,bL,Nm,JWe,Nse,or,Ec,w3]})}}return e})();function l$e(e,t){if(1&e&&(w(0,"div",2),Z(1,"img",3),w(2,"span"),O(3),S()()),2&e){const i=ae();T(1),B("src",i.params.data.badge_image,Sh),T(2),Et(i.params.data.badge_name)}}function c$e(e,t){if(1&e){const i=ct();w(0,"button",4),Q("click",function(){Le(i);const r=ae();let s;return Ve(r.assignBadge(null!==(s=r.params.data.feedback_id)&&void 0!==s?s:0))}),O(1," add badge\n"),S()}}let d$e=(()=>{class e{agInit(i){this.params=i,console.log(this.params)}constructor(i,n){this.dialog=i,this.badgesApi=n}assignBadge(i){this.dialog.open(a$e,{width:"500px",panelClass:"custom-modalbox",data:{volunteer_id:i,getData:this.params.getData}})}static{this.\u0275fac=function(n){return new(n||e)(R(jr),R(df))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-give-badge-to-volunteer"]],decls:2,vars:2,consts:[["style","display: flex; align-items: center",4,"ngIf"],["class","text-primary-500 px-2 rounded-md flex justify-center items-center hover:bg-primary-400/20 transition-all cursor-pointer",3,"click",4,"ngIf"],[2,"display","flex","align-items","center"],[2,"width","24px","height","24px","border-radius","50%","margin-right","8px",3,"src"],[1,"text-primary-500","px-2","rounded-md","flex","justify-center","items-center","hover:bg-primary-400/20","transition-all","cursor-pointer",3,"click"]],template:function(n,r){1&n&&(te(0,l$e,4,2,"div",0),te(1,c$e,2,0,"button",1)),2&n&&(B("ngIf",r.params.data.badge_name),T(1),B("ngIf",!r.params.data.badge_image))},dependencies:[ui]})}}return e})();function u$e(e,t){if(1&e){const i=ct();w(0,"div",12)(1,"div",13),Z(2,"app-main-header-dashboard",14),w(3,"div",15)(4,"p",16),Q("click",function(){return Le(i),Ve(ae().reset())}),O(5," rest "),S(),w(6,"button",17),Q("click",function(){return Le(i),Ve(ae().onSubmit())}),w(7,"span"),O(8,"apply filter"),S()()()(),w(9,"p",18),O(10),S(),w(11,"form",19)(12,"div",20)(13,"label",21),O(14,"Name:"),S(),w(15,"div",22),ki(),w(16,"svg",23),Z(17,"path",24),S(),Ji(),Z(18,"input",25),S()(),w(19,"div",20)(20,"label",21),O(21,"Organizations Name:"),S(),w(22,"div",22),ki(),w(23,"svg",23),Z(24,"path",24),S(),Ji(),Z(25,"input",26),S()(),w(26,"div",20)(27,"label",21),O(28,"Opportunity Name:"),S(),w(29,"div",22),ki(),w(30,"svg",23),Z(31,"path",24),S(),Ji(),Z(32,"input",27),S()(),w(33,"div",20)(34,"label",21),O(35," Rated :"),S(),w(36,"div",28)(37,"div",22)(38,"mat-icon",29),O(39,"schedule"),S(),Z(40,"input",30)(41,"span",31),S(),w(42,"div",22)(43,"mat-icon",29),O(44,"schedule"),S(),Z(45,"input",32)(46,"span",31),S()()()()()}if(2&e){const i=ae();B("@filterAnimation",void 0),T(10),Et(i.error),T(1),B("formGroup",i.FilterForm)}}function h$e(e,t){if(1&e){const i=ct();w(0,"div",33),Q("click",function(){return Le(i),Ve(ae().toggleOpenFilter())}),S()}}const p$e=function(){return{resizable:!0,suppressMovable:!0}};function g$e(e,t){if(1&e&&Z(0,"ag-grid-angular",34),2&e){const i=ae();B("rowData",i.rowData)("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("defaultColDef",xl(4,p$e))}}function f$e(e,t){1&e&&(w(0,"div",35),Z(1,"app-loading"),S())}let m$e=(()=>{class e{constructor(i,n,r,s){this.toastService=i,this.fb=n,this.router=r,this.badgesService=s,this.openFilter=!1,this.currentPage=1,this.loading=!1,this.rowData=[],this.columnDefs=[],this.defaultColDef={flex:1,resizable:!0},this.options={},this.error="",this.lastPage=0,this.FilterForm=this.fb.group({volunteer:[""],npo:[""],opportunity:[""],ratedF:[],ratedT:[]})}showSuccessToast(i){this.toastService.showToast(yt.success,i)}showDangerToast(i){this.toastService.showToast(yt.danger,i)}ngOnInit(){this.initializeColumnDefs(),this.getData()}toggleOpenFilter(){this.openFilter=!this.openFilter}onSubmit(){this.error="",this.getData()}reset(){this.FilterForm.reset(),this.error="",this.currentPage=1,this.getData()}setPage(i){this.currentPage=i,this.getData()}getData(){if(this.FilterForm.get("ratedT")?.value&&!this.FilterForm.get("ratedF")?.value||this.FilterForm.get("ratedF")?.value&&!this.FilterForm.get("ratedT")?.value)return void(this.error="Select the range");this.loading=!0,this.error="";const i=this.FilterForm.value;this.badgesService.getRatedBadge({filter:{volunteer:i.volunteer,npo:i.npo,opportunity:i.opportunity,ratedF:i.ratedF,ratedT:i.ratedT},page:this.currentPage}).subscribe({next:n=>{this.rowData=n.data,this.loading=!1,this.lastPage=n.meta.last_page},error:n=>{this.showDangerToast(n.error.message),this.loading=!1}})}initializeColumnDefs(){this.columnDefs=[{flex:1,headerName:"number",field:"No",maxWidth:100},{flex:1,headerName:"Volunteer Name",field:"volunteer_name",cellRenderer:i=>` <div style="display: flex; align-items: center;">\n          <img src="${i.data.Volunteer_image}" style="width: 24px; height: 24px; border-radius: 50%; margin-right: 8px;">\n          <span>${i.value}</span>\n        </div>`},{flex:1,headerName:"NPO Name",field:"npo_name",minWidth:300},{flex:1,headerName:"Opportunity",field:"opportunity"},{flex:1,headerName:"Badge Name",field:"badge_name",cellRenderer:d$e,cellRendererParams:{getData:this.getData.bind(this)}},{flex:1,headerName:"Rating",field:"rate",maxWidth:120}]}onPageChange(i){this.currentPage=i,this.getData()}static{this.\u0275fac=function(n){return new(n||e)(R(Hi),R(Hr),R(is),R(df))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-give-badge"]],decls:13,vars:7,consts:[[3,"title"],["class","filterColabs",4,"ngIf"],["class","filterBlur",3,"click",4,"ngIf"],[1,"px-main","flex","items-center","gap-4","mt-[30px]"],[3,"click"],[1,""],["svgIcon","filter",2,"width","13px","height","11px","scale","1"],[1,"px-main","mt-6","mx-auto"],["style","width: 100%; height: 400px","class","ag-theme-alpine",3,"rowData","columnDefs","defaultColDef",4,"ngIf"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"flex","justify-end","items-center","border-t-2","my-3","text-sm","mx-20","mt-5","py-2"],[3,"currentPage","lastPage","pageChange"],[1,"filterColabs"],[1,"w-full","flex","justify-between","mb-4"],["title","Filter"],[1,"flex","items-center","gap-4"],[1,"text-primary-500","transition-all","hover:bg-primary-400/10","px-4","py-2","rounded-full","cursor-pointer",3,"click"],[1,"bg-primary-500","cursor-pointer","transition-all","hover:bg-gray-400","capitalize","text-white","font-bold","w-fit","px-4","py-2","rounded-[28px]","inline-flex","justify-center","items-center",3,"click"],[1,"text-xs","text-danger-500"],[1,"grid","grid-cols-2","gap-4",3,"formGroup"],[1,"mb-2"],["for","username",1,"block","py-1","text-lg"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 18.607 24",1,"icon","left-2"],["id","Path_234","data-name","Path 234","d","M9.3,24C4.173,24,0,23.187,0,22.187a13.091,13.091,0,0,1,2.726-8.2,8.431,8.431,0,0,1,6.577-3.4,8.433,8.433,0,0,1,6.578,3.4,13.09,13.09,0,0,1,2.726,8.2C18.607,23.187,14.433,24,9.3,24Zm0-13.861A5.07,5.07,0,0,1,5.716,1.485a5.07,5.07,0,0,1,7.169,7.17A5.036,5.036,0,0,1,9.3,10.139Z","fill","#7f77d9"],["id","name","formControlName","volunteer","type","text","name","name","placeholder","Enter name volunteer",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","npo","formControlName","npo","type","text","name","npo","placeholder","enter name Organization",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],["id","opportunity","formControlName","opportunity","type","text","name","opportunity","placeholder","enter name opportunity",1,"px-4","w-full","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"flex","gap-4"],[1,"icon","left-2","text-lg","text-secondary-400",2,"width","25px","height","25px"],["id","rated","formControlName","ratedF","type","number","name","ratedF","placeholder","From",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],["id","rated","formControlName","ratedT","type","number","name","rated","placeholder","To",1,"capitalize","w-full","px-4","h-[56px]","bg-[#F7F7FF]","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"filterBlur",3,"click"],[1,"ag-theme-alpine",2,"width","100%","height","400px",3,"rowData","columnDefs","defaultColDef"],[1,"w-full","h-full","flex","justify-center","items-center"]],template:function(n,r){1&n&&(Z(0,"app-navbar",0),te(1,u$e,47,3,"div",1),te(2,h$e,1,0,"div",2),w(3,"div",3)(4,"app-button",4),Q("click",function(){return r.toggleOpenFilter()}),w(5,"span",5),O(6,"Filter"),S(),Z(7,"mat-icon",6),S()(),w(8,"div",7),te(9,g$e,1,5,"ag-grid-angular",8),te(10,f$e,2,0,"div",9),S(),w(11,"div",10)(12,"app-pagination",11),Q("pageChange",function(o){return r.onPageChange(o)}),S()()),2&n&&(B("title","assign Badges"),T(1),B("ngIf",r.openFilter),T(1),B("ngIf",r.openFilter),T(7),B("ngIf",!r.loading),T(1),B("ngIf",r.loading),T(2),B("currentPage",r.currentPage)("lastPage",r.lastPage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ci,Gd,Pn,fr,jh,Pl,or,Yu,Ec],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{@include ag-theme-alpine((alpine-active-color: #c066b2,));font-family:Nunito,sans-serif;--ag-borders: none;-ag-header-row-separator-width:2px}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ag-header-cell-resize, .ag-body-vertical-scroll[_ngcontent-%COMP%], .ag-body-horizontal-scroll)[_ngcontent-%COMP%]{display:none}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e1e1e1}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-header-cell.text-center[_ngcontent-%COMP%]   .ag-header-cell-label[_ngcontent-%COMP%]{justify-content:center}.ag-theme-alpine[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.icon-header-title, .icon-header-organization[_ngcontent-%COMP%], .icon-header-location[_ngcontent-%COMP%], .icon-header-time[_ngcontent-%COMP%], .icon-header-statu)[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:left center}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-title[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-title.d7f00219443f3031.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-organization[_ngcontent-%COMP%]{background-image:url(/assets/orte.133a1cf0ba895410.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-location[_ngcontent-%COMP%]{background-image:url(/assets/Location.005cea3faa089e9c.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-time[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20ionic-md-time.72daceaa61d01c3d.svg)}.ag-theme-alpine[_ngcontent-%COMP%]   .icon-header-statu[_ngcontent-%COMP%]{background-image:url(/assets/Icon%20material-update.ceee7f5fe2e105b8.svg)}.ag-center-cols-container[_ngcontent-%COMP%]{width:100%!important}"],data:{animation:[Cp]}})}}return e})();function y$e(e,t){1&e&&(w(0,"span"),O(1," Resent Code"),S())}function b$e(e,t){if(1&e&&(w(0,"span"),O(1),S()),2&e){const i=ae();T(1),_t("Resent After ",i.countdown,"")}}function _$e(e,t){1&e&&(w(0,"div",22),Z(1,"app-loading"),S())}function C$e(e,t){1&e&&(w(0,"span"),O(1,"Sent"),S())}function w$e(e,t){if(1&e&&(w(0,"div",23),O(1),S()),2&e){const i=ae();T(1),_t(" ",i.successMessage," ")}}function x$e(e,t){if(1&e&&(w(0,"div",24),O(1),S()),2&e){const i=ae();T(1),Et(i.errorMessage)}}const xk=(e,t)=>{const i=ze(is);return!!w0(pg)||(i.navigate(["auth/forget-password"]),!1)},D$e=[{path:"auth",component:Lxe,children:[{path:"login",component:tEe},{path:"forget-password",component:oEe},{path:"reset-password",component:aEe,canActivate:[xk]},{path:"check-email",component:mEe,canActivate:[xk]},{path:"sent-code",component:_We,canActivate:[xk]},{path:"verify-code",component:(()=>{class e{constructor(i,n,r,s){this.authService=i,this.router=n,this.fb=r,this.toastService=s,this.successMessage="",this.errorMessage="",this.isLoading=!1,this.countdown=Number(w0("codeExpiration")??10),this.FilterForm=this.fb.group({code:["",kn.required]})}resentCode(){this.authService.ReSentCode().subscribe({next:i=>{this.errorMessage="",GA("codeExpiration","120"),this.countdown=Number(w0("codeExpiration")??10),this.startCountdown()},error:i=>{this.errorMessage=i.error.massage,this.successMessage=""}})}cancel(){nN(pg),this.router.navigate(["auth/login"])}showSuccessToast(){this.toastService.showToast(yt.danger,"Please enter a valid code")}onSubmit(){this.isLoading=!0,this.FilterForm.valid?this.authService.verifyCode(this.FilterForm.get("code")?.value??"").subscribe({next:i=>{this.successMessage="Password reset link has been sent to your email.",this.errorMessage="",this.router.navigate(["/auth/check-email"]),this.isLoading=!1},error:i=>{this.errorMessage="Error sending password reset email. Please try again.",this.successMessage="",this.isLoading=!1}}):(this.showSuccessToast(),this.isLoading=!1)}ngOnInit(){this.startCountdown()}startCountdown(){this.countdownSubscription=function v$e(e=0,t=Fm){return e<0&&(e=0),YL(e,e,t)}(1e3).subscribe(()=>{this.countdown>0?(this.countdown--,GA("codeExpiration",this.countdown.toString())):this.countdownSubscription.unsubscribe()})}ngOnDestroy(){this.countdownSubscription&&this.countdownSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(R(mS),R(is),R(Hr),R(Hi))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-verify-code"]],decls:29,vars:8,consts:[[1,"w-full","h-full","justify-center","items-center","flex"],[1,"w-[372px]"],[1,"text-2xl","mb-6","text-dd","text-center","tracking-normal","font-bold"],[1,"text-[13px]","text-center","--text-500","mb-8"],[3,"formGroup"],[1,"mb-2"],["for","emailAddress",1,"block","text-secondary-500","py-1","font-bold","text-sm"],[1,"input-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 42 33.6",1,"icon","left-2"],["id","Icon_material-email","data-name","Icon material-email","d","M40.8,6H7.2a4.194,4.194,0,0,0-4.179,4.2L3,35.4a4.212,4.212,0,0,0,4.2,4.2H40.8A4.212,4.212,0,0,0,45,35.4V10.2A4.212,4.212,0,0,0,40.8,6Zm0,8.4L24,24.9,7.2,14.4V10.2L24,20.7,40.8,10.2Z","transform","translate(-3 -6)","fill","#7F77D9"],["type","number","id","code","name","code","formControlName","code","required","","placeholder","Code verify",1,"block","text-secondary-500","bg-[#F7F7FF]","text-xs","w-full","px-4","h-[56px]","input-container","rounded-lg","border","border-secondary-500","focus:outline-none"],[1,"absolute","bg-[#F7F7FF]","right-2","h-[60%]","w-6","top-2"],[1,"text-primary-500","px-2","py-2","hover:bg-primary-400/10","text-sm","transition-all","w-fit","rounded-md","cursor-pointer",3,"disabled","click"],[4,"ngIf"],[1,"flex","justify-between"],["type","submit",1,"bg-[#7ED957]","hover:bg-gray-400","text-white","font-bold","h-[56px]","w-[174px]","rounded-[28px]","my-4",3,"click"],["class","w-full h-full flex justify-center items-center",4,"ngIf"],[1,"hover:bg-gray-400","text-[#7ED957]","flex","items-center","justify-center","font-bold","h-[56px]","w-[174px]","rounded-[28px]","border","border-[#7ED957]","my-4",3,"click"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"absolute","-bottom-10","-z-10","left-0","w-full"],["src","/assets/loginLanding.svg","alt","",1,"w-full"],[1,"w-full","h-full","flex","justify-center","items-center"],[1,"success-message"],[1,"error-message"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1)(2,"h1",2),O(3," Verify Email "),S(),w(4,"p",3),O(5," Please Enter The Code To Verify Email "),S(),w(6,"form",4)(7,"div",5)(8,"label",6),O(9,"Code:"),S(),w(10,"div",7),ki(),w(11,"svg",8),Z(12,"path",9),S(),Ji(),Z(13,"input",10)(14,"span",11),S()(),w(15,"button",12),Q("click",function(){return r.resentCode()}),te(16,y$e,2,0,"span",13),te(17,b$e,2,1,"span",13),S(),w(18,"div",14)(19,"button",15),Q("click",function(){return r.onSubmit()}),te(20,_$e,2,0,"div",16),te(21,C$e,2,0,"span",13),S(),w(22,"div",17),Q("click",function(){return r.cancel()}),w(23,"span"),O(24,"Cancel"),S()()()(),te(25,w$e,2,1,"div",18),te(26,x$e,2,1,"div",19),S()(),w(27,"div",20),Z(28,"img",21),S()),2&n&&(T(6),B("formGroup",r.FilterForm),T(9),B("disabled",r.countdown>0),T(1),B("ngIf",r.countdown<=0),T(1),B("ngIf",r.countdown>0),T(3),B("ngIf",r.isLoading),T(1),B("ngIf",!r.isLoading),T(4),B("ngIf",r.successMessage),T(1),B("ngIf",r.errorMessage))},dependencies:[ui,jn,yn,Od,Gn,Hn,Ml,Pn,fr,or]})}}return e})(),canActivate:[xk]}]},{path:"",component:HEe,canActivateChild:[Pse],canActivate:[Pse],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Pje},{path:"volunteer",component:cUe},{path:"organization",component:EUe},{path:"opportunity",component:JUe},{path:"platform",component:m9e},{path:"badges",component:GWe},{path:"assign-badge",component:m$e},{path:"control",component:v9e,children:[{path:"creative",component:L9e},{path:"skill",component:cWe},{path:"interest",component:J9e},{path:"tags",component:bWe}]},{path:"privacy",component:y9e}]},{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"**",redirectTo:"/auth/login"}];let M$e=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({imports:[$Y.forRoot(D$e),$Y]})}}return e})();function E$e(e,t){1&e&&(w(0,"mat-icon",9),O(1,"check_circle"),S())}function I$e(e,t){1&e&&(w(0,"mat-icon",10),O(1,"report"),S())}function A$e(e,t){1&e&&(w(0,"h3",11),O(1," success! "),S())}function T$e(e,t){1&e&&(w(0,"h3",11),O(1," Error! "),S())}const R$e=function(e,t){return{"border-success-500":e,"border-danger-500":t}};function k$e(e,t){if(1&e){const i=ct();w(0,"div",1),Va(1,"async"),Va(2,"async"),Va(3,"async"),w(4,"div",2),te(5,E$e,2,0,"mat-icon",3),Va(6,"async"),te(7,I$e,2,0,"mat-icon",4),Va(8,"async"),w(9,"div"),te(10,A$e,2,0,"h3",5),Va(11,"async"),te(12,T$e,2,0,"h3",5),Va(13,"async"),w(14,"p",6),O(15),Va(16,"async"),S()(),w(17,"a",7),Q("click",function(){return Le(i),Ve(ae().toastService.dismissToast())}),w(18,"mat-icon",8),O(19,"cancel"),S()()()()}if(2&e){const i=ae();B("@toastTrigger",$c(1,7,i.showsToast)?"open":"close")("ngClass",PO(23,R$e,$c(2,9,i.toastState)===i.state.success,$c(3,11,i.toastState)===i.state.danger)),T(5),B("ngIf",$c(6,13,i.toastState)===i.state.success),T(2),B("ngIf",$c(8,15,i.toastState)===i.state.danger),T(3),B("ngIf",$c(11,17,i.toastState)===i.state.success),T(2),B("ngIf",$c(13,19,i.toastState)===i.state.danger),T(3),Et($c(16,21,i.toastMessage))}}let P$e=(()=>{class e{constructor(i){this.toastService=i,this.state=yt}ngOnInit(){}get showsToast(){return this.toastService.showsToast$}get toastMessage(){return this.toastService.toastMessage$}get toastState(){return this.toastService.toastState$}static{this.\u0275fac=function(n){return new(n||e)(R(Hi))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-toast"]],decls:2,vars:3,consts:[["class","fixed bg-white shadow-custom bottom-4 right-0 p-4 z-50 max-w-[400px] border-l-4",3,"ngClass",4,"ngIf"],[1,"fixed","bg-white","shadow-custom","bottom-4","right-0","p-4","z-50","max-w-[400px]","border-l-4",3,"ngClass"],[1,"flex","items-center","gap-4"],["class","text-sucess-500 text-[40px]","style","width: 50px; height: 50px",4,"ngIf"],["class","text-danger-500 text-[40px]","style","width: 50px; height: 50px",4,"ngIf"],["class","text-lg",4,"ngIf"],[1,"text-sm","text-black/80"],[1,"close-btn","hover:bg-black/5","transition-all","p-2","cursor-pointer","flex","justify-center","items-center","rounded-full",3,"click"],[1,"text-slate-700","text-[25px]",2,"width","25px","height","25px"],[1,"text-sucess-500","text-[40px]",2,"width","50px","height","50px"],[1,"text-danger-500","text-[40px]",2,"width","50px","height","50px"],[1,"text-lg"]],template:function(n,r){1&n&&(te(0,k$e,20,26,"div",0),Va(1,"async")),2&n&&B("ngIf",$c(1,1,r.showsToast))},dependencies:[Ph,ui,Ci,w3],styles:[".toast-class[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background-color:#333;color:#fff;padding:15px;border-radius:5px;box-shadow:0 2px 10px #00000080;z-index:1000}.success-toast[_ngcontent-%COMP%]{background-color:green}.warning-toast[_ngcontent-%COMP%]{background-color:orange}.danger-toast[_ngcontent-%COMP%]{background-color:red}"],data:{animation:[gc("toastTrigger",[ss(":enter",[Qi({opacity:0,transform:"translate(60%, 0px)"}),rs("500ms ease-in",Qi({opacity:1,transform:"translate(0%,0px)"}))]),ss(":leave",[rs("500ms ease-in",Qi({opacity:0,transform:"translate( 60%,0px)"}))])])]}})}}return e})(),F$e=(()=>{class e{constructor(i,n){this.matIconRegistry=i,this.domSanitizer=n,this.title="spark-village-16",this.matIconRegistry.addSvgIcon("unicorn",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Logo.svg")),this.matIconRegistry.addSvgIcon("logo",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Logo.svg")),this.matIconRegistry.addSvgIcon("organization",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/noun-organization-1401444.svg")),this.matIconRegistry.addSvgIcon("opportunity",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/opportunity Filled.svg")),this.matIconRegistry.addSvgIcon("logout",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Icon awesome-power-off.svg")),this.matIconRegistry.addSvgIcon("star",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/noun-star-5480646.svg")),this.matIconRegistry.addSvgIcon("dashboard",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/noun-dashboard-6000235.svg")),this.matIconRegistry.addSvgIcon("check",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/check&bac.svg")),this.matIconRegistry.addSvgIcon("block",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/block.svg")),this.matIconRegistry.addSvgIcon("starRating",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/star-rating.svg")),this.matIconRegistry.addSvgIcon("filter",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Icon awesome-sort-amount-down.svg")),this.matIconRegistry.addSvgIcon("volunteer",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Group 2.svg")),this.matIconRegistry.addSvgIcon("notifecation",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Group 1705.svg")),this.matIconRegistry.addSvgIcon("delete",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Delete.svg")),this.matIconRegistry.addSvgIcon("unblock",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/unblock.svg")),this.matIconRegistry.addSvgIcon("dialog",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Rectangle 2791.svg")),this.matIconRegistry.addSvgIcon("dialog-blockicon",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/dialog-blockicon.svg")),this.matIconRegistry.addSvgIcon("dialog-rectangle-check-icon",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/rectangle-check-dialog.svg")),this.matIconRegistry.addSvgIcon("dialog-rectangle-delete-icon",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/rectangle-delete-dialog.svg")),this.matIconRegistry.addSvgIcon("control-panel",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/controls.svg")),this.matIconRegistry.addSvgIcon("privacy",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/privacy.svg")),this.matIconRegistry.addSvgIcon("menu",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/menu.svg")),this.matIconRegistry.addSvgIcon("edit",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/edit.svg")),this.matIconRegistry.addSvgIcon("close",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/close.svg")),this.matIconRegistry.addSvgIcon("edit-dialog",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/edit-dialog.svg")),this.matIconRegistry.addSvgIcon("star-rating",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/Icon awesome-star.svg")),this.matIconRegistry.addSvgIcon("delete-dialog",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/delet-dialog.svg")),this.matIconRegistry.addSvgIcon("spark-logo",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/sPARK VELLAGE LOGO -v2.svg")),this.matIconRegistry.addSvgIcon("profile-admin",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/icons/profileAdmin.svg"))}static{this.\u0275fac=function(n){return new(n||e)(R(yS),R(VI))}}static{this.\u0275cmp=Be({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&(w(0,"div"),Z(1,"app-toast")(2,"router-outlet"),S())},dependencies:[s0,P$e],data:{animation:[gc("filterAnimation",[ss(":enter",[Qi({opacity:0}),rs("500ms ease-in",Qi({opacity:1}))]),ss(":leave",[rs("500ms ease-out",Qi({opacity:0}))])])]}})}}return e})();function Vse(e){return new se(3e3,!1)}function uf(e){switch(e.length){case 0:return new aS;case 1:return e[0];default:return new Fq(e)}}function Bse(e,t,i=new Map,n=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),d=c==o,u=d&&a||new Map;l.forEach((h,g)=>{let m=g,y=h;if("offset"!==g)switch(m=e.normalizePropertyName(m,r),y){case"!":y=i.get(g);break;case zh:y=n.get(g);break;default:y=e.normalizeStyleValue(g,m,y,r)}u.set(m,y)}),d||s.push(u),a=u,o=c}),r.length)throw function nYe(e){return new se(3502,!1)}();return s}function S5(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&D5(i,"start",e)));break;case"done":e.onDone(()=>n(i&&D5(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&D5(i,"destroy",e)))}}function D5(e,t,i){const s=M5(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i.totalTime??e.totalTime,!!i.disabled),o=e._data;return null!=o&&(s._data=o),s}function M5(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Ic(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function zse(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const fYe=(()=>typeof document>"u"?null:document.documentElement)();function E5(e){const t=e.parentNode||e.host||null;return t===fYe?null:t}let jv=null,Gse=!1;function Hse(e,t){for(;t;){if(t===e)return!0;t=E5(t)}return!1}function jse(e,t,i){if(i)return Array.from(e.querySelectorAll(t));const n=e.querySelector(t);return n?[n]:[]}let Use=(()=>{class e{validateStyleProperty(i){return function vYe(e){jv||(jv=function yYe(){return typeof document<"u"?document.body:null}()||{},Gse=!!jv.style&&"WebkitAppearance"in jv.style);let t=!0;return jv.style&&!function mYe(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in jv.style,!t&&Gse&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in jv.style)),t}(i)}matchesElement(i,n){return!1}containsElement(i,n){return Hse(i,n)}getParentElement(i){return E5(i)}query(i,n,r){return jse(i,n,r)}computeStyle(i,n,r){return r||""}animate(i,n,r,s,o,a=[],l){return new aS(r,s)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})(),I5=(()=>{class e{static{this.NOOP=new Use}}return e})();const bYe=1e3,A5="ng-enter",Sk="ng-leave",Dk="ng-trigger",Mk=".ng-trigger",$se="ng-animating",T5=".ng-animating";function wp(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:R5(parseFloat(t[1]),t[2])}function R5(e,t){return"s"===t?e*bYe:e}function Ek(e,t,i){return e.hasOwnProperty("duration")?e:function CYe(e,t,i){let r,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Vse()),{duration:0,delay:0,easing:""};r=R5(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=R5(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=e;if(!i){let a=!1,l=t.length;r<0&&(t.push(function O$e(){return new se(3100,!1)}()),a=!0),s<0&&(t.push(function L$e(){return new se(3101,!1)}()),a=!0),a&&t.splice(l,0,Vse())}return{duration:r,delay:s,easing:o}}(e,t,i)}function eD(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function Yse(e){const t=new Map;return Object.keys(e).forEach(i=>{t.set(i,e[i])}),t}function hf(e,t=new Map,i){if(i)for(let[n,r]of i)t.set(n,r);for(let[n,r]of e)t.set(n,r);return t}function Ku(e,t,i){t.forEach((n,r)=>{const s=P5(r);i&&!i.has(r)&&i.set(r,e.style[s]),e.style[s]=n})}function Uv(e,t){t.forEach((i,n)=>{const r=P5(n);e.style[r]=""})}function tD(e){return Array.isArray(e)?1==e.length?e[0]:kq(e):e}const k5=new RegExp("{{\\s*(.+?)\\s*}}","g");function qse(e){let t=[];if("string"==typeof e){let i;for(;i=k5.exec(e);)t.push(i[1]);k5.lastIndex=0}return t}function iD(e,t,i){const n=e.toString(),r=n.replace(k5,(s,o)=>{let a=t[o];return null==a&&(i.push(function V$e(e){return new se(3003,!1)}()),a=""),a.toString()});return r==n?e:r}function Ik(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const SYe=/-+([a-z0-9])/g;function P5(e){return e.replace(SYe,(...t)=>t[1].toUpperCase())}function Ac(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw function B$e(e){return new se(3004,!1)}()}}function Zse(e,t){return window.getComputedStyle(e)[t]}const Ak="*";function EYe(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(n=>function IYe(e,t,i){if(":"==e[0]){const l=function AYe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return t.push(function J$e(e){return new se(3016,!1)}()),"* => *"}}(e,i);if("function"==typeof l)return void t.push(l);e=l}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(function X$e(e){return new se(3015,!1)}()),t;const r=n[1],s=n[2],o=n[3];t.push(Qse(r,o));"<"==s[0]&&!(r==Ak&&o==Ak)&&t.push(Qse(o,r))}(n,i,t)):i.push(e),i}const Tk=new Set(["true","1"]),Rk=new Set(["false","0"]);function Qse(e,t){const i=Tk.has(e)||Rk.has(e),n=Tk.has(t)||Rk.has(t);return(r,s)=>{let o=e==Ak||e==r,a=t==Ak||t==s;return!o&&i&&"boolean"==typeof r&&(o=r?Tk.has(e):Rk.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?Tk.has(t):Rk.has(t)),o&&a}}const TYe=new RegExp("s*:selfs*,?","g");function F5(e,t,i,n){return new RYe(e).build(t,i,n)}class RYe{constructor(t){this._driver=t}build(t,i,n){const r=new FYe(i);return this._resetContextStyleTimingState(r),Ac(this,tD(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,i){let n=i.queryCount=0,r=i.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&i.errors.push(function G$e(){return new se(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,i))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,i);n+=l.queryCount,r+=l.depCount,o.push(l)}else i.errors.push(function H$e(){return new se(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,i){const n=this.visitStyle(t.styles,i),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{qse(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Ik(s.values()),i.errors.push(function j$e(e,t){return new se(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;const n=Ac(this,tD(t.animation),i);return{type:1,matchers:EYe(t.expr,i.errors),animation:n,queryCount:i.queryCount,depCount:i.depCount,options:Wv(t.options)}}visitSequence(t,i){return{type:2,steps:t.steps.map(n=>Ac(this,n,i)),options:Wv(t.options)}}visitGroup(t,i){const n=i.currentTime;let r=0;const s=t.steps.map(o=>{i.currentTime=n;const a=Ac(this,o,i);return r=Math.max(r,i.currentTime),a});return i.currentTime=r,{type:3,steps:s,options:Wv(t.options)}}visitAnimate(t,i){const n=function LYe(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return O5(Ek(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=O5(0,0,"");return s.dynamic=!0,s.strValue=i,s}const r=Ek(i,t);return O5(r.duration,r.delay,r.easing)}(t.timings,i.errors);i.currentAnimateTimings=n;let r,s=t.styles?t.styles:Qi({});if(5==s.type)r=this.visitKeyframes(s,i);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};n.easing&&(c.easing=n.easing),o=Qi(c)}i.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,i);l.isEmptyStep=a,r=l}return i.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,i){const n=this._makeStyleAst(t,i);return this._validateStyleAst(n,i),n}_makeStyleAst(t,i){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===zh?n.push(a):i.errors.push(new se(3002,!1)):n.push(Yse(a));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,i){const n=i.currentAnimateTimings;let r=i.currentTime,s=i.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=i.collectedStyles.get(i.currentQuerySelector),d=c.get(l);let u=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(i.errors.push(function W$e(e,t,i,n,r){return new se(3010,!1)}()),u=!1),s=d.startTime),u&&c.set(l,{startTime:s,endTime:r}),i.options&&function xYe(e,t,i){const n=t.params||{},r=qse(e);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||i.push(function N$e(e){return new se(3001,!1)}())})}(a,i.options,i.errors)})})}visitKeyframes(t,i){const n={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function $$e(){return new se(3011,!1)}()),n;let s=0;const o=[];let a=!1,l=!1,c=0;const d=t.steps.map(x=>{const D=this._makeStyleAst(x,i);let M=null!=D.offset?D.offset:function OYe(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(i=>{if(i instanceof Map&&i.has("offset")){const n=i;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(D.styles),k=0;return null!=M&&(s++,k=D.offset=M),l=l||k<0||k>1,a=a||k<c,c=k,o.push(k),D});l&&i.errors.push(function Y$e(){return new se(3012,!1)}()),a&&i.errors.push(function K$e(){return new se(3200,!1)}());const u=t.steps.length;let h=0;s>0&&s<u?i.errors.push(function q$e(){return new se(3202,!1)}()):0==s&&(h=1/(u-1));const g=u-1,m=i.currentTime,y=i.currentAnimateTimings,_=y.duration;return d.forEach((x,D)=>{const M=h>0?D==g?1:h*D:o[D],k=M*_;i.currentTime=m+y.delay+k,y.duration=k,this._validateStyleAst(x,i),x.offset=M,n.styles.push(x)}),n}visitReference(t,i){return{type:8,animation:Ac(this,tD(t.animation),i),options:Wv(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:9,options:Wv(t.options)}}visitAnimateRef(t,i){return{type:10,animation:this.visitReference(t.animation,i),options:Wv(t.options)}}visitQuery(t,i){const n=i.currentQuerySelector,r=t.options||{};i.queryCount++,i.currentQuery=t;const[s,o]=function kYe(e){const t=!!e.split(/\s*,\s*/).find(i=>":self"==i);return t&&(e=e.replace(TYe,"")),e=e.replace(/@\*/g,Mk).replace(/@\w+/g,i=>Mk+"-"+i.slice(1)).replace(/:animating/g,T5),[e,t]}(t.selector);i.currentQuerySelector=n.length?n+" "+s:s,Ic(i.collectedStyles,i.currentQuerySelector,new Map);const a=Ac(this,tD(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Wv(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(function Z$e(){return new se(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ek(t.timings,i.errors,!0);return{type:12,animation:Ac(this,tD(t.animation),i),timings:n,options:null}}}class FYe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wv(e){return e?(e=eD(e)).params&&(e.params=function PYe(e){return e?eD(e):null}(e.params)):e={},e}function O5(e,t,i){return{duration:e,delay:t,easing:i}}function L5(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class kk{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,i){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const BYe=new RegExp(":enter","g"),GYe=new RegExp(":leave","g");function N5(e,t,i,n,r,s=new Map,o=new Map,a,l,c=[]){return(new HYe).buildKeyframes(e,t,i,n,r,s,o,a,l,c)}class HYe{buildKeyframes(t,i,n,r,s,o,a,l,c,d=[]){c=c||new kk;const u=new V5(t,i,c,r,s,d,[]);u.options=l;const h=l.delay?wp(l.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([o],null,u.errors,l),Ac(this,n,u);const g=u.timelines.filter(m=>m.containsAnimation());if(g.length&&a.size){let m;for(let y=g.length-1;y>=0;y--){const _=g[y];if(_.element===i){m=_;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,u.errors,l)}return g.length?g.map(m=>m.buildKeyframes()):[L5(i,[],[],[],0,h,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){const n=i.subInstructions.get(i.element);if(n){const r=i.createSubContext(t.options),s=i.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&i.transformIntoNewTimeline(o)}i.previousNode=t}visitAnimateRef(t,i){const n=i.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,n),this.visitReference(t.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,n){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:wp(iD(s,r?.params??{},i.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,i,n){let s=i.currentTimeline.currentTime;const o=null!=n.duration?wp(n.duration):null,a=null!=n.delay?wp(n.delay):null;return 0!==o&&t.forEach(l=>{const c=i.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,i){i.updateOptions(t.options,!0),Ac(this,t.animation,i),i.previousNode=t}visitSequence(t,i){const n=i.subContextCount;let r=i;const s=t.options;if(s&&(s.params||s.delay)&&(r=i.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Pk);const o=wp(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ac(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){const n=[];let r=i.currentTimeline.currentTime;const s=t.options&&t.options.delay?wp(t.options.delay):0;t.steps.forEach(o=>{const a=i.createSubContext(t.options);s&&a.delayNextStep(s),Ac(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>i.currentTimeline.mergeTimelineCollectedStyles(o)),i.transformIntoNewTimeline(r),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){const n=t.strValue;return Ek(i.params?iD(n,i.params,i.errors):n,i.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){const n=i.currentAnimateTimings=this._visitTiming(t.timings,i),r=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,i):(i.incrementTime(n.duration),this.visitStyle(s,i),r.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){const n=i.currentTimeline,r=i.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){const n=i.currentAnimateTimings,r=i.currentTimeline.duration,s=n.duration,a=i.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(r+s),i.previousNode=t}visitQuery(t,i){const n=i.currentTimeline.currentTime,r=t.options||{},s=r.delay?wp(r.delay):0;s&&(6===i.previousNode.type||0==n&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Pk);let o=n;const a=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{i.currentQueryIndex=d;const u=i.createSubContext(t.options,c);s&&u.delayNextStep(s),c===i.element&&(l=u.currentTimeline),Ac(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,u.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(o),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){const n=i.parentContext,r=i.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(i.currentQueryTotal-1);let l=o*i.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const d=i.currentTimeline;l&&d.delayNextStep(l);const u=d.currentTime;Ac(this,t.animation,i),i.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Pk={};class V5{constructor(t,i,n,r,s,o,a,l){this._driver=t,this.element=i,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Fk(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=wp(n.duration)),null!=n.delay&&(r.delay=wp(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!i||!o.hasOwnProperty(a))&&(o[a]=iD(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const i=this.options.params;if(i){const n=t.params={};Object.keys(i).forEach(r=>{n[r]=i[r]})}}return t}createSubContext(t=null,i,n){const r=i||this.element,s=new V5(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Pk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,n){const r={duration:i??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new jYe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,n,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(BYe,"."+this._enterClassName)).replace(GYe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&0==a.length&&o.push(function Q$e(e){return new se(3014,!1)}()),a}}class Fk{constructor(t,i,n,r){this._driver=t,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new Fk(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||zh),this._currentKeyframe.set(i,zh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,n,r){i&&this._previousKeyframe.set("easing",i);const s=r&&r.params||{},o=function UYe(e,t){const i=new Map;let n;return e.forEach(r=>{if("*"===r){n=n||t.keys();for(let s of n)i.set(s,zh)}else hf(r,i)}),i}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=iD(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zh),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,n)=>{const r=this._styleSummary.get(n);(!r||i.time>r.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,i=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=hf(a,new Map,this._backFill);c.forEach((d,u)=>{"!"===d?t.add(u):d===zh&&i.add(u)}),n||c.set("offset",l/this.duration),r.push(c)});const s=t.size?Ik(t.values()):[],o=i.size?Ik(i.values()):[];if(n){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return L5(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class jYe extends Fk{constructor(t,i,n,r,s,o,a=!1){super(t,i,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&i){const s=[],o=n+i,a=i/o,l=hf(t[0]);l.set("offset",0),s.push(l);const c=hf(t[0]);c.set("offset",eoe(a)),s.push(c);const d=t.length-1;for(let u=1;u<=d;u++){let h=hf(t[u]);const g=h.get("offset");h.set("offset",eoe((i+g*n)/o)),s.push(h)}n=o,i=0,r="",t=s}return L5(this.element,t,this.preStyleProps,this.postStyleProps,n,i,r,!0)}}function eoe(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class B5{}const WYe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $Ye extends B5{normalizePropertyName(t,i){return P5(t)}normalizeStyleValue(t,i,n,r){let s="";const o=n.toString().trim();if(WYe.has(i)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function z$e(e,t){return new se(3005,!1)}())}return o+s}}function toe(e,t,i,n,r,s,o,a,l,c,d,u,h){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:h}}const z5={};class ioe{constructor(t,i,n){this._triggerName=t,this.ast=i,this._stateStyles=n}match(t,i,n,r){return function YYe(e,t,i,n,r){return e.some(s=>s(t,i,n,r))}(this.ast.matchers,t,i,n,r)}buildStyles(t,i,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(i,n):new Map}build(t,i,n,r,s,o,a,l,c,d){const u=[],h=this.ast.options&&this.ast.options.params||z5,m=this.buildStyles(n,a&&a.params||z5,u),y=l&&l.params||z5,_=this.buildStyles(r,y,u),x=new Set,D=new Map,M=new Map,k="void"===r,V={params:KYe(y,h),delay:this.ast.options?.delay},H=d?[]:N5(t,i,this.ast.animation,s,o,m,_,V,c,u);let F=0;if(H.forEach(G=>{F=Math.max(G.duration+G.delay,F)}),u.length)return toe(i,this._triggerName,n,r,k,m,_,[],[],D,M,F,u);H.forEach(G=>{const Y=G.element,q=Ic(D,Y,new Set);G.preStyleProps.forEach(K=>q.add(K));const ee=Ic(M,Y,new Set);G.postStyleProps.forEach(K=>ee.add(K)),Y!==i&&x.add(Y)});const P=Ik(x.values());return toe(i,this._triggerName,n,r,k,m,_,H,P,D,M,F)}}function KYe(e,t){const i=eD(t);for(const n in e)e.hasOwnProperty(n)&&null!=e[n]&&(i[n]=e[n]);return i}class qYe{constructor(t,i,n){this.styles=t,this.defaultParams=i,this.normalizer=n}buildStyles(t,i){const n=new Map,r=eD(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=iD(o,r,i));const l=this.normalizer.normalizePropertyName(a,i);o=this.normalizer.normalizeStyleValue(a,l,o,i),n.set(a,o)})}),n}}class QYe{constructor(t,i,n){this.name=t,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(r=>{this.states.set(r.name,new qYe(r.style,r.options&&r.options.params||{},n))}),noe(this.states,"true","1"),noe(this.states,"false","0"),i.transitions.forEach(r=>{this.transitionFactories.push(new ioe(t,r,this.states))}),this.fallbackTransition=function XYe(e,t,i){return new ioe(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,n,r){return this.transitionFactories.find(o=>o.match(t,i,n,r))||null}matchStyles(t,i,n){return this.fallbackTransition.buildStyles(t,i,n)}}function noe(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}const JYe=new kk;class eKe{constructor(t,i,n){this.bodyNode=t,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,i){const n=[],s=F5(this._driver,i,n,[]);if(n.length)throw function rYe(e){return new se(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,i,n){const r=t.element,s=Bse(this._normalizer,t.keyframes,i,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,i,n={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=N5(this._driver,i,s,A5,Sk,new Map,new Map,n,JYe,r),o.forEach(d=>{const u=Ic(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(function sYe(){return new se(3300,!1)}()),o=[]),r.length)throw function oYe(e){return new se(3504,!1)}();a.forEach((d,u)=>{d.forEach((h,g)=>{d.set(g,this._driver.computeStyle(u,g,zh))})});const c=uf(o.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);const n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(t){const i=this._playersById.get(t);if(!i)throw function aYe(e){return new se(3301,!1)}();return i}listen(t,i,n,r){const s=M5(i,"","","");return S5(this._getPlayer(t),n,s,r),()=>{}}command(t,i,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,i,r[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const roe="ng-animate-queued",G5="ng-animate-disabled",sKe=[],soe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oKe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jd="__ng_removed";class H5{get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;const n=t&&t.hasOwnProperty("value");if(this.value=function dKe(e){return e??null}(n?t.value:t),n){const s=eD(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const i=t.params;if(i){const n=this.options.params;Object.keys(i).forEach(r=>{null==n[r]&&(n[r]=i[r])})}}}const nD="void",j5=new H5(nD);class aKe{constructor(t,i,n){this.id=t,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yd(i,this._hostClassName)}listen(t,i,n,r){if(!this._triggers.has(i))throw function lYe(e,t){return new se(3302,!1)}();if(null==n||0==n.length)throw function cYe(e){return new se(3303,!1)}();if(!function uKe(e){return"start"==e||"done"==e}(n))throw function dYe(e,t){return new se(3400,!1)}();const s=Ic(this._elementListeners,t,[]),o={name:i,phase:n,callback:r};s.push(o);const a=Ic(this._engine.statesByElement,t,new Map);return a.has(i)||(yd(t,Dk),yd(t,Dk+"-"+i),a.set(i,j5)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(t,i){return!this._triggers.has(t)&&(this._triggers.set(t,i),!0)}_getTrigger(t){const i=this._triggers.get(t);if(!i)throw function uYe(e){return new se(3401,!1)}();return i}trigger(t,i,n,r=!0){const s=this._getTrigger(i),o=new U5(this.id,i,t);let a=this._engine.statesByElement.get(t);a||(yd(t,Dk),yd(t,Dk+"-"+i),this._engine.statesByElement.set(t,a=new Map));let l=a.get(i);const c=new H5(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(i,c),l||(l=j5),c.value!==nD&&l.value===c.value){if(!function gKe(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){const s=i[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,c.params)){const y=[],_=s.matchStyles(l.value,l.params,y),x=s.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Uv(t,_),Ku(t,x)})}return}const h=Ic(this._engine.playersByElement,t,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==i&&y.queued&&y.destroy()});let g=s.matchTransition(l.value,c.value,t,c.params),m=!1;if(!g){if(!r)return;g=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:m}),m||(yd(t,roe),o.onStart(()=>{N_(t,roe)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);const _=this._engine.playersByElement.get(t);if(_){let x=_.indexOf(o);x>=0&&_.splice(x,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const i=this._engine.playersByElement.get(t);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){const n=this._engine.driver.query(t,Mk,!0);n.forEach(r=>{if(r[Jd])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,i,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,i,n,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,nD,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,o),n&&uf(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const i=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(i&&n){const r=new Set;i.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=n.get(o)||j5,d=new H5(nD),u=new U5(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,i){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,i);else{const s=t[Jd];(!s||s===soe)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,i))}}insertNode(t,i){yd(t,this._hostClassName)}drainQueuedTransitions(t){const i=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=M5(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,S5(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):i.push(n)}),this._queue=[],i.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class lKe{_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,n){this.bodyNode=t,this.driver=i,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,i){const n=new aKe(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,i){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(i);for(;a;){const l=r.get(a);if(l){const c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return r.set(i,t),t}register(t,i){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,i)),n}registerTrigger(t,i,n){let r=this._namespaceLookup[t];r&&r.register(i,n)&&this.totalAnimations++}destroy(t,i){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(i),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const i=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&i.add(s)}return i}trigger(t,i,n,r){if(Ok(i)){const s=this._fetchNamespace(t);if(s)return s.trigger(i,n,r),!0}return!1}insertNode(t,i,n,r){if(!Ok(i))return;const s=i[Jd];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(i);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(i,n)}r&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yd(t,G5)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),N_(t,G5))}removeNode(t,i,n){if(Ok(i)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(i,n):this.markElementAsRemoved(t,i,!1,n);const s=this.namespacesByHostElement.get(i);s&&s.id!==t&&s.removeNode(i,n)}else this._onRemovalComplete(i,n)}markElementAsRemoved(t,i,n,r,s){this.collectedLeaveElements.push(i),i[Jd]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,i,n,r,s){return Ok(i)?this._fetchNamespace(t).listen(i,n,r,s):()=>{}}_buildInstruction(t,i,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,i,s)}destroyInnerAnimations(t){let i=this.driver.query(t,Mk,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(t,T5,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const i=this.playersByElement.get(t);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const i=this.playersByQueriedElement.get(t);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return uf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const i=t[Jd];if(i&&i.setForRemoval){if(t[Jd]=soe,i.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(G5)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)yd(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{i=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],i.length?uf(i).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function hYe(e){return new se(3402,!1)}()}_flushAnimations(t,i){const n=new kk,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Fe=>{d.add(Fe);const $e=this.driver.query(Fe,".ng-animate-queued",!0);for(let Ke=0;Ke<$e.length;Ke++)d.add($e[Ke])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=loe(h,this.collectedEnterElements),m=new Map;let y=0;g.forEach((Fe,$e)=>{const Ke=A5+y++;m.set($e,Ke),Fe.forEach(dt=>yd(dt,Ke))});const _=[],x=new Set,D=new Set;for(let Fe=0;Fe<this.collectedLeaveElements.length;Fe++){const $e=this.collectedLeaveElements[Fe],Ke=$e[Jd];Ke&&Ke.setForRemoval&&(_.push($e),x.add($e),Ke.hasAnimation?this.driver.query($e,".ng-star-inserted",!0).forEach(dt=>x.add(dt)):D.add($e))}const M=new Map,k=loe(h,Array.from(x));k.forEach((Fe,$e)=>{const Ke=Sk+y++;M.set($e,Ke),Fe.forEach(dt=>yd(dt,Ke))}),t.push(()=>{g.forEach((Fe,$e)=>{const Ke=m.get($e);Fe.forEach(dt=>N_(dt,Ke))}),k.forEach((Fe,$e)=>{const Ke=M.get($e);Fe.forEach(dt=>N_(dt,Ke))}),_.forEach(Fe=>{this.processLeaveNode(Fe)})});const V=[],H=[];for(let Fe=this._namespaceList.length-1;Fe>=0;Fe--)this._namespaceList[Fe].drainQueuedTransitions(i).forEach(Ke=>{const dt=Ke.player,Ot=Ke.element;if(V.push(dt),this.collectedEnterElements.length){const qe=Ot[Jd];if(qe&&qe.setForMove){if(qe.previousTriggersValues&&qe.previousTriggersValues.has(Ke.triggerName)){const Je=qe.previousTriggersValues.get(Ke.triggerName),mt=this.statesByElement.get(Ke.element);if(mt&&mt.has(Ke.triggerName)){const $t=mt.get(Ke.triggerName);$t.value=Je,mt.set(Ke.triggerName,$t)}}return void dt.destroy()}}const qt=!u||!this.driver.containsElement(u,Ot),Vt=M.get(Ot),Ut=m.get(Ot),Kt=this._buildInstruction(Ke,n,Ut,Vt,qt);if(Kt.errors&&Kt.errors.length)return void H.push(Kt);if(qt)return dt.onStart(()=>Uv(Ot,Kt.fromStyles)),dt.onDestroy(()=>Ku(Ot,Kt.toStyles)),void r.push(dt);if(Ke.isFallbackTransition)return dt.onStart(()=>Uv(Ot,Kt.fromStyles)),dt.onDestroy(()=>Ku(Ot,Kt.toStyles)),void r.push(dt);const _n=[];Kt.timelines.forEach(qe=>{qe.stretchStartingKeyframe=!0,this.disabledNodes.has(qe.element)||_n.push(qe)}),Kt.timelines=_n,n.append(Ot,Kt.timelines),o.push({instruction:Kt,player:dt,element:Ot}),Kt.queriedElements.forEach(qe=>Ic(a,qe,[]).push(dt)),Kt.preStyleProps.forEach((qe,Je)=>{if(qe.size){let mt=l.get(Je);mt||l.set(Je,mt=new Set),qe.forEach(($t,Di)=>mt.add(Di))}}),Kt.postStyleProps.forEach((qe,Je)=>{let mt=c.get(Je);mt||c.set(Je,mt=new Set),qe.forEach(($t,Di)=>mt.add(Di))})});if(H.length){const Fe=[];H.forEach($e=>{Fe.push(function pYe(e,t){return new se(3505,!1)}())}),V.forEach($e=>$e.destroy()),this.reportError(Fe)}const F=new Map,P=new Map;o.forEach(Fe=>{const $e=Fe.element;n.has($e)&&(P.set($e,$e),this._beforeAnimationBuild(Fe.player.namespaceId,Fe.instruction,F))}),r.forEach(Fe=>{const $e=Fe.element;this._getPreviousPlayers($e,!1,Fe.namespaceId,Fe.triggerName,null).forEach(dt=>{Ic(F,$e,[]).push(dt),dt.destroy()})});const G=_.filter(Fe=>doe(Fe,l,c)),Y=new Map;aoe(Y,this.driver,D,c,zh).forEach(Fe=>{doe(Fe,l,c)&&G.push(Fe)});const ee=new Map;g.forEach((Fe,$e)=>{aoe(ee,this.driver,new Set(Fe),l,"!")}),G.forEach(Fe=>{const $e=Y.get(Fe),Ke=ee.get(Fe);Y.set(Fe,new Map([...$e?.entries()??[],...Ke?.entries()??[]]))});const K=[],gt=[],jt={};o.forEach(Fe=>{const{element:$e,player:Ke,instruction:dt}=Fe;if(n.has($e)){if(d.has($e))return Ke.onDestroy(()=>Ku($e,dt.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(dt.totalTime),void r.push(Ke);let Ot=jt;if(P.size>1){let Vt=$e;const Ut=[];for(;Vt=Vt.parentNode;){const Kt=P.get(Vt);if(Kt){Ot=Kt;break}Ut.push(Vt)}Ut.forEach(Kt=>P.set(Kt,Ot))}const qt=this._buildAnimation(Ke.namespaceId,dt,F,s,ee,Y);if(Ke.setRealPlayer(qt),Ot===jt)K.push(Ke);else{const Vt=this.playersByElement.get(Ot);Vt&&Vt.length&&(Ke.parentPlayer=uf(Vt)),r.push(Ke)}}else Uv($e,dt.fromStyles),Ke.onDestroy(()=>Ku($e,dt.toStyles)),gt.push(Ke),d.has($e)&&r.push(Ke)}),gt.forEach(Fe=>{const $e=s.get(Fe.element);if($e&&$e.length){const Ke=uf($e);Fe.setRealPlayer(Ke)}}),r.forEach(Fe=>{Fe.parentPlayer?Fe.syncPlayerEvents(Fe.parentPlayer):Fe.destroy()});for(let Fe=0;Fe<_.length;Fe++){const $e=_[Fe],Ke=$e[Jd];if(N_($e,Sk),Ke&&Ke.hasAnimation)continue;let dt=[];if(a.size){let qt=a.get($e);qt&&qt.length&&dt.push(...qt);let Vt=this.driver.query($e,T5,!0);for(let Ut=0;Ut<Vt.length;Ut++){let Kt=a.get(Vt[Ut]);Kt&&Kt.length&&dt.push(...Kt)}}const Ot=dt.filter(qt=>!qt.destroyed);Ot.length?hKe(this,$e,Ot):this.processLeaveNode($e)}return _.length=0,K.forEach(Fe=>{this.players.push(Fe),Fe.onDone(()=>{Fe.destroy();const $e=this.players.indexOf(Fe);this.players.splice($e,1)}),Fe.play()}),K}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,n,r,s){let o=[];if(i){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==nD;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,i,n){const s=i.element,o=i.isRemovalTransition?void 0:t,a=i.isRemovalTransition?void 0:i.triggerName;for(const l of i.timelines){const c=l.element,d=c!==s,u=Ic(n,c,[]);this._getPreviousPlayers(c,d,o,a,i.toState).forEach(g=>{const m=g.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),g.destroy(),u.push(g)})}Uv(s,i.fromStyles)}_buildAnimation(t,i,n,r,s,o){const a=i.triggerName,l=i.element,c=[],d=new Set,u=new Set,h=i.timelines.map(m=>{const y=m.element;d.add(y);const _=y[Jd];if(_&&_.removedBeforeQueried)return new aS(m.duration,m.delay);const x=y!==l,D=function pKe(e){const t=[];return coe(e,t),t}((n.get(y)||sKe).map(F=>F.getRealPlayer())).filter(F=>!!F.element&&F.element===y),M=s.get(y),k=o.get(y),V=Bse(this._normalizer,m.keyframes,M,k),H=this._buildPlayer(m,V,D);if(m.subTimeline&&r&&u.add(y),x){const F=new U5(t,a,y);F.setRealPlayer(H),c.push(F)}return H});c.forEach(m=>{Ic(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function cKe(e,t,i){let n=e.get(t);if(n){if(n.length){const r=n.indexOf(i);n.splice(r,1)}0==n.length&&e.delete(t)}return n}(this.playersByQueriedElement,m.element,m))}),d.forEach(m=>yd(m,$se));const g=uf(h);return g.onDestroy(()=>{d.forEach(m=>N_(m,$se)),Ku(l,i.toStyles)}),u.forEach(m=>{Ic(r,m,[]).push(g)}),g}_buildPlayer(t,i,n){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,n):new aS(t.duration,t.delay)}}class U5{constructor(t,i,n){this.namespaceId=t,this.triggerName=i,this.element=n,this._player=new aS,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,n)=>{i.forEach(r=>S5(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){Ic(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const i=this._player;i.triggerCallback&&i.triggerCallback(t)}}function Ok(e){return e&&1===e.nodeType}function ooe(e,t){const i=e.style.display;return e.style.display=t??"none",i}function aoe(e,t,i,n,r){const s=[];i.forEach(l=>s.push(ooe(l)));const o=[];n.forEach((l,c)=>{const d=new Map;l.forEach(u=>{const h=t.computeStyle(c,u,r);d.set(u,h),(!h||0==h.length)&&(c[Jd]=oKe,o.push(c))}),e.set(c,d)});let a=0;return i.forEach(l=>ooe(l,s[a++])),o}function loe(e,t){const i=new Map;if(e.forEach(a=>i.set(a,[])),0==t.length)return i;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=i.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&i.get(l).push(a)}),i}function yd(e,t){e.classList?.add(t)}function N_(e,t){e.classList?.remove(t)}function hKe(e,t,i){uf(i).onDone(()=>e.processLeaveNode(t))}function coe(e,t){for(let i=0;i<e.length;i++){const n=e[i];n instanceof Fq?coe(n.players,t):t.push(n)}}function doe(e,t,i){const n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach(s=>r.add(s)):t.set(e,n),i.delete(e),!0}class Lk{constructor(t,i,n){this.bodyNode=t,this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new lKe(t,i,n),this._timelineEngine=new eKe(t,i,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,i,n,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],d=F5(this._driver,s,l,[]);if(l.length)throw function iYe(e,t){return new se(3404,!1)}();a=function ZYe(e,t,i){return new QYe(e,t,i)}(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(i,r,a)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,n,r){this._transitionEngine.insertNode(t,i,n,r)}onRemove(t,i,n){this._transitionEngine.removeNode(t,i,n)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,n,r){if("@"==n.charAt(0)){const[s,o]=zse(n);this._timelineEngine.command(s,i,o,r)}else this._transitionEngine.trigger(t,i,n,r)}listen(t,i,n,r,s){if("@"==n.charAt(0)){const[o,a]=zse(n);return this._timelineEngine.listen(o,i,a,s)}return this._transitionEngine.listen(t,i,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let mKe=(()=>{class e{static{this.initialStylesByElement=new WeakMap}constructor(i,n,r){this._element=i,this._startStyles=n,this._endStyles=r,this._state=0;let s=e.initialStylesByElement.get(i);s||e.initialStylesByElement.set(i,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ku(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ku(this._element,this._initialStyles),this._endStyles&&(Ku(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Uv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uv(this._element,this._endStyles),this._endStyles=null),Ku(this._element,this._initialStyles),this._state=3)}}return e})();function W5(e){let t=null;return e.forEach((i,n)=>{(function vKe(e){return"display"===e||"position"===e})(n)&&(t=t||new Map,t.set(n,i))}),t}class uoe{constructor(t,i,n,r){this.element=t,this.keyframes=i,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const i=[];return t.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(t,i,n){return t.animate(this._convertKeyframesToObject(i),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:Zse(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const i="start"===t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class yKe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,i){return!1}containsElement(t,i){return Hse(t,i)}getParentElement(t){return E5(t)}query(t,i,n){return jse(t,i,n)}computeStyle(t,i,n){return window.getComputedStyle(t)[i]}animate(t,i,n,r,s,o=[]){const l={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,d=o.filter(g=>g instanceof uoe);(function DYe(e,t){return 0===e||0===t})(n,r)&&d.forEach(g=>{g.currentSnapshot.forEach((m,y)=>c.set(y,m))});let u=function wYe(e){return e.length?e[0]instanceof Map?e:e.map(t=>Yse(t)):[]}(i).map(g=>hf(g));u=function MYe(e,t,i){if(i.size&&t.length){let n=t[0],r=[];if(i.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,Zse(e,a)))}}return t}(t,u,c);const h=function fKe(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=W5(t[0]),t.length>1&&(n=W5(t[t.length-1]))):t instanceof Map&&(i=W5(t)),i||n?new mKe(e,i,n):null}(t,u);return new uoe(t,u,l,h)}}let bKe=(()=>{class e extends Rq{constructor(i,n){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(n.body,{id:"0",encapsulation:Ss.None,styles:[],data:{animation:[]}})}build(i){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(i)?kq(i):i;return hoe(this._renderer,null,n,"register",[r]),new _Ke(n,this._renderer)}static{this.\u0275fac=function(n){return new(n||e)(ne(Qw),ne(fi))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();class _Ke extends rDe{constructor(t,i){super(),this._id=t,this._renderer=i}create(t,i){return new CKe(this._id,t,i||{},this._renderer)}}class CKe{constructor(t,i,n,r){this.id=t,this.element=i,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,i){return this._renderer.listen(this.element,`@@${this.id}:${t}`,i)}_command(t,...i){return hoe(this._renderer,this.element,this.id,t,i)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hoe(e,t,i,n,r){return e.setProperty(t,`@@${i}:${n}`,r)}const poe="@.disabled";let wKe=(()=>{class e{constructor(i,n,r){this.delegate=i,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(i,n){const s=this.delegate.createRenderer(i,n);if(!(i&&n&&n.data&&n.data.animation)){let d=this._rendererCache.get(s);return d||(d=new goe("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,i,d.name,d)};return n.data.animation.forEach(l),new xKe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,n,r){i>=0&&i<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(n){return new(n||e)(ne(Qw),ne(Lk),ne(Mt))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();class goe{constructor(t,i,n,r){this.namespaceId=t,this.delegate=i,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,n,r=!0){this.delegate.insertBefore(t,i,n),this.engine.onInsert(this.namespaceId,i,t,r)}removeChild(t,i,n){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){"@"==i.charAt(0)&&i==poe?this.disableAnimations(t,!!n):this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.delegate.listen(t,i,n)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}}class xKe extends goe{constructor(t,i,n,r,s){super(i,n,r,s),this.factory=t,this.namespaceId=i}setProperty(t,i,n){"@"==i.charAt(0)?"."==i.charAt(1)&&i==poe?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,i.slice(1),n):this.delegate.setProperty(t,i,n)}listen(t,i,n){if("@"==i.charAt(0)){const r=function SKe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=i.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function DKe(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,i,n)}}const foe=[{provide:Rq,useClass:bKe},{provide:B5,useFactory:function EKe(){return new $Ye}},{provide:Lk,useClass:(()=>{class e extends Lk{constructor(i,n,r,s){super(i.body,n,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(n){return new(n||e)(ne(fi),ne(I5),ne(B5),ne(ng))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})()},{provide:Qw,useFactory:function IKe(e,t,i){return new wKe(e,t,i)},deps:[P3,Lk,Mt]}],$5=[{provide:I5,useFactory:()=>new yKe},{provide:Hc,useValue:"BrowserAnimations"},...foe],moe=[{provide:I5,useClass:Use},{provide:Hc,useValue:"NoopAnimations"},...foe];let voe=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?moe:$5}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e})}static{this.\u0275inj=pi({providers:$5,imports:[k$]})}}return e})(),RKe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({imports:[Fh,ns]}),e})(),kKe=(()=>{class e{constructor(i){this.router=i}intercept(i,n){const r=vZ(rN);if(r){const s=i.clone({headers:i.headers.set("Authorization",`Bearer ${r}`)});return n.handle(s).pipe(Rr(o=>(401===o.status&&this.router.navigate(["/auth/login"]),Mm(()=>o))))}return n.handle(i)}static{this.\u0275fac=function(n){return new(n||e)(ne(is))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})();const Vk=new Me("mat-chips-default-options");let cqe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=pi({providers:[AA,{provide:Vk,useValue:{separatorKeyCodes:[13]}}],imports:[ns,Fh,NL,ns]}),e})();Pt(955);const Doe=new Me("angularfire2.auth.use-emulator"),Moe=new Me("angularfire2.auth.settings"),Eoe=new Me("angularfire2.auth.tenant-id"),Ioe=new Me("angularfire2.auth.langugage-code"),Aoe=new Me("angularfire2.auth.use-device-language"),Toe=new Me("angularfire.auth.persistence"),Roe=(e,t,i,n,r,s,o,a)=>dN(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(i&&l.useEmulator(...i),n&&(l.tenantId=n),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[i,n,r,s,o,a]);let koe=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(i,n,r,s,o,a,l,c,d,u,h,g){const m=new oe,y=ie(void 0).pipe(hr(o.outsideAngular),Ze(()=>s.runOutsideAngular(()=>Promise.resolve().then(Pt.bind(Pt,955)))),nt(()=>$A(i,s,n)),nt(_=>Roe(_,s,a,c,d,u,l,h)),uN({bufferSize:1,refCount:!1}));if(FI(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ie(null);else{y.pipe(og()).subscribe();const _=y.pipe(Ze(M=>M.getRedirectResult().then(k=>k,()=>null)),fc,uN({bufferSize:1,refCount:!1})),x=y.pipe(Ze(M=>new Qt(k=>({unsubscribe:s.runOutsideAngular(()=>M.onAuthStateChanged(V=>k.next(V),V=>k.error(V),()=>k.complete()))})))),D=y.pipe(Ze(M=>new Qt(k=>({unsubscribe:s.runOutsideAngular(()=>M.onIdTokenChanged(V=>k.next(V),V=>k.error(V),()=>k.complete()))}))));this.authState=_.pipe(YA(x),vn(o.outsideAngular),hr(o.insideAngular)),this.user=_.pipe(YA(D),vn(o.outsideAngular),hr(o.insideAngular)),this.idToken=this.user.pipe(Ze(M=>M?U(M.getIdToken()):ie(null))),this.idTokenResult=this.user.pipe(Ze(M=>M?U(M.getIdTokenResult()):ie(null))),this.credential=$(_,m,this.authState.pipe(Tr(M=>!M))).pipe(nt(M=>M?.user?M:null),vn(o.outsideAngular),hr(o.insideAngular))}return FZ(this,y,s,{spy:{apply:(_,x,D)=>{(_.startsWith("signIn")||_.startsWith("createUser"))&&D.then(M=>m.next(M))}}})}static \u0275fac=function(n){return new(n||e)(ne(_S),ne(CS,8),ne(Gc),ne(Mt),ne(cN),ne(Doe,8),ne(Moe,8),ne(Eoe,8),ne(Ioe,8),ne(Aoe,8),ne(Toe,8),ne(kZ,8))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();function X5(){return be((e,t)=>{let i,n=!1;e.subscribe(Oe(t,r=>{const s=i;i=r,n&&t.next([s,r]),n=!0}))})}var $v,Loe,Poe=Pt(362),qu=Pt(41),Ln=Pt(76),Foe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ooe={};(function(){var e;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(F,P,G){G||(G=0);var Y=Array(16);if("string"==typeof P)for(var q=0;16>q;++q)Y[q]=P.charCodeAt(G++)|P.charCodeAt(G++)<<8|P.charCodeAt(G++)<<16|P.charCodeAt(G++)<<24;else for(q=0;16>q;++q)Y[q]=P[G++]|P[G++]<<8|P[G++]<<16|P[G++]<<24;var ee=F.g[3],K=(P=F.g[0])+(ee^(G=F.g[1])&((q=F.g[2])^ee))+Y[0]+3614090360&4294967295;K=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=(G=(q=(ee=(P=G+(K<<7&4294967295|K>>>25))+((K=ee+(q^P&(G^q))+Y[1]+3905402710&4294967295)<<12&4294967295|K>>>20))+((K=q+(G^ee&(P^G))+Y[2]+606105819&4294967295)<<17&4294967295|K>>>15))+((K=G+(P^q&(ee^P))+Y[3]+3250441966&4294967295)<<22&4294967295|K>>>10))+((K=P+(ee^G&(q^ee))+Y[4]+4118548399&4294967295)<<7&4294967295|K>>>25))+((K=ee+(q^P&(G^q))+Y[5]+1200080426&4294967295)<<12&4294967295|K>>>20))+((K=q+(G^ee&(P^G))+Y[6]+2821735955&4294967295)<<17&4294967295|K>>>15))+((K=G+(P^q&(ee^P))+Y[7]+4249261313&4294967295)<<22&4294967295|K>>>10))+((K=P+(ee^G&(q^ee))+Y[8]+1770035416&4294967295)<<7&4294967295|K>>>25))+((K=ee+(q^P&(G^q))+Y[9]+2336552879&4294967295)<<12&4294967295|K>>>20))+((K=q+(G^ee&(P^G))+Y[10]+4294925233&4294967295)<<17&4294967295|K>>>15))+((K=G+(P^q&(ee^P))+Y[11]+2304563134&4294967295)<<22&4294967295|K>>>10))+((K=P+(ee^G&(q^ee))+Y[12]+1804603682&4294967295)<<7&4294967295|K>>>25))+((K=ee+(q^P&(G^q))+Y[13]+4254626195&4294967295)<<12&4294967295|K>>>20))+((K=q+(G^ee&(P^G))+Y[14]+2792965006&4294967295)<<17&4294967295|K>>>15))+((K=G+(P^q&(ee^P))+Y[15]+1236535329&4294967295)<<22&4294967295|K>>>10))+((K=P+(q^ee&(G^q))+Y[1]+4129170786&4294967295)<<5&4294967295|K>>>27))+((K=ee+(G^q&(P^G))+Y[6]+3225465664&4294967295)<<9&4294967295|K>>>23))+((K=q+(P^G&(ee^P))+Y[11]+643717713&4294967295)<<14&4294967295|K>>>18))+((K=G+(ee^P&(q^ee))+Y[0]+3921069994&4294967295)<<20&4294967295|K>>>12))+((K=P+(q^ee&(G^q))+Y[5]+3593408605&4294967295)<<5&4294967295|K>>>27))+((K=ee+(G^q&(P^G))+Y[10]+38016083&4294967295)<<9&4294967295|K>>>23))+((K=q+(P^G&(ee^P))+Y[15]+3634488961&4294967295)<<14&4294967295|K>>>18))+((K=G+(ee^P&(q^ee))+Y[4]+3889429448&4294967295)<<20&4294967295|K>>>12))+((K=P+(q^ee&(G^q))+Y[9]+568446438&4294967295)<<5&4294967295|K>>>27))+((K=ee+(G^q&(P^G))+Y[14]+3275163606&4294967295)<<9&4294967295|K>>>23))+((K=q+(P^G&(ee^P))+Y[3]+4107603335&4294967295)<<14&4294967295|K>>>18))+((K=G+(ee^P&(q^ee))+Y[8]+1163531501&4294967295)<<20&4294967295|K>>>12))+((K=P+(q^ee&(G^q))+Y[13]+2850285829&4294967295)<<5&4294967295|K>>>27))+((K=ee+(G^q&(P^G))+Y[2]+4243563512&4294967295)<<9&4294967295|K>>>23))+((K=q+(P^G&(ee^P))+Y[7]+1735328473&4294967295)<<14&4294967295|K>>>18))+((K=G+(ee^P&(q^ee))+Y[12]+2368359562&4294967295)<<20&4294967295|K>>>12))+((K=P+(G^q^ee)+Y[5]+4294588738&4294967295)<<4&4294967295|K>>>28))+((K=ee+(P^G^q)+Y[8]+2272392833&4294967295)<<11&4294967295|K>>>21))+((K=q+(ee^P^G)+Y[11]+1839030562&4294967295)<<16&4294967295|K>>>16))+((K=G+(q^ee^P)+Y[14]+4259657740&4294967295)<<23&4294967295|K>>>9))+((K=P+(G^q^ee)+Y[1]+2763975236&4294967295)<<4&4294967295|K>>>28))+((K=ee+(P^G^q)+Y[4]+1272893353&4294967295)<<11&4294967295|K>>>21))+((K=q+(ee^P^G)+Y[7]+4139469664&4294967295)<<16&4294967295|K>>>16))+((K=G+(q^ee^P)+Y[10]+3200236656&4294967295)<<23&4294967295|K>>>9))+((K=P+(G^q^ee)+Y[13]+681279174&4294967295)<<4&4294967295|K>>>28))+((K=ee+(P^G^q)+Y[0]+3936430074&4294967295)<<11&4294967295|K>>>21))+((K=q+(ee^P^G)+Y[3]+3572445317&4294967295)<<16&4294967295|K>>>16))+((K=G+(q^ee^P)+Y[6]+76029189&4294967295)<<23&4294967295|K>>>9))+((K=P+(G^q^ee)+Y[9]+3654602809&4294967295)<<4&4294967295|K>>>28))+((K=ee+(P^G^q)+Y[12]+3873151461&4294967295)<<11&4294967295|K>>>21))+((K=q+(ee^P^G)+Y[15]+530742520&4294967295)<<16&4294967295|K>>>16))+((K=G+(q^ee^P)+Y[2]+3299628645&4294967295)<<23&4294967295|K>>>9))+((K=P+(q^(G|~ee))+Y[0]+4096336452&4294967295)<<6&4294967295|K>>>26))+((K=ee+(G^(P|~q))+Y[7]+1126891415&4294967295)<<10&4294967295|K>>>22))+((K=q+(P^(ee|~G))+Y[14]+2878612391&4294967295)<<15&4294967295|K>>>17))+((K=G+(ee^(q|~P))+Y[5]+4237533241&4294967295)<<21&4294967295|K>>>11))+((K=P+(q^(G|~ee))+Y[12]+1700485571&4294967295)<<6&4294967295|K>>>26))+((K=ee+(G^(P|~q))+Y[3]+2399980690&4294967295)<<10&4294967295|K>>>22))+((K=q+(P^(ee|~G))+Y[10]+4293915773&4294967295)<<15&4294967295|K>>>17))+((K=G+(ee^(q|~P))+Y[1]+2240044497&4294967295)<<21&4294967295|K>>>11))+((K=P+(q^(G|~ee))+Y[8]+1873313359&4294967295)<<6&4294967295|K>>>26))+((K=ee+(G^(P|~q))+Y[15]+4264355552&4294967295)<<10&4294967295|K>>>22))+((K=q+(P^(ee|~G))+Y[6]+2734768916&4294967295)<<15&4294967295|K>>>17))+((K=G+(ee^(q|~P))+Y[13]+1309151649&4294967295)<<21&4294967295|K>>>11))+((ee=(P=G+((K=P+(q^(G|~ee))+Y[4]+4149444226&4294967295)<<6&4294967295|K>>>26))+((K=ee+(G^(P|~q))+Y[11]+3174756917&4294967295)<<10&4294967295|K>>>22))^((q=ee+((K=q+(P^(ee|~G))+Y[2]+718787259&4294967295)<<15&4294967295|K>>>17))|~P))+Y[9]+3951481745&4294967295,F.g[0]=F.g[0]+P&4294967295,F.g[1]=F.g[1]+(q+(K<<21&4294967295|K>>>11))&4294967295,F.g[2]=F.g[2]+q&4294967295,F.g[3]=F.g[3]+ee&4294967295}function o(F,P){this.h=P;for(var G=[],Y=!0,q=F.length-1;0<=q;q--){var ee=0|F[q];Y&&ee==P||(G[q]=ee,Y=!1)}this.g=G}(function t(F,P){function G(){}G.prototype=P.prototype,F.D=P.prototype,F.prototype=new G,F.prototype.constructor=F,F.C=function(Y,q,ee){for(var K=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)K[gt-2]=arguments[gt];return P.prototype[q].apply(Y,K)}})(n,function i(){this.blockSize=-1}),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(F,P){void 0===P&&(P=F.length);for(var G=P-this.blockSize,Y=this.B,q=this.h,ee=0;ee<P;){if(0==q)for(;ee<=G;)r(this,F,ee),ee+=this.blockSize;if("string"==typeof F){for(;ee<P;)if(Y[q++]=F.charCodeAt(ee++),q==this.blockSize){r(this,Y),q=0;break}}else for(;ee<P;)if(Y[q++]=F[ee++],q==this.blockSize){r(this,Y),q=0;break}}this.h=q,this.o+=P},n.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var P=1;P<F.length-8;++P)F[P]=0;var G=8*this.o;for(P=F.length-8;P<F.length;++P)F[P]=255&G,G/=256;for(this.u(F),F=Array(16),P=G=0;4>P;++P)for(var Y=0;32>Y;Y+=8)F[G++]=this.g[P]>>>Y&255;return F};var a={};function l(F){return-128<=F&&128>F?function s(F,P){var G=a;return Object.prototype.hasOwnProperty.call(G,F)?G[F]:G[F]=P(F)}(F,function(P){return new o([0|P],0>P?-1:0)}):new o([0|F],0>F?-1:0)}function c(F){if(isNaN(F)||!isFinite(F))return u;if(0>F)return _(c(-F));for(var P=[],G=1,Y=0;F>=G;Y++)P[Y]=F/G|0,G*=4294967296;return new o(P,0)}var u=l(0),h=l(1),g=l(16777216);function m(F){if(0!=F.h)return!1;for(var P=0;P<F.g.length;P++)if(0!=F.g[P])return!1;return!0}function y(F){return-1==F.h}function _(F){for(var P=F.g.length,G=[],Y=0;Y<P;Y++)G[Y]=~F.g[Y];return new o(G,~F.h).add(h)}function x(F,P){return F.add(_(P))}function D(F,P){for(;(65535&F[P])!=F[P];)F[P+1]+=F[P]>>>16,F[P]&=65535,P++}function M(F,P){this.g=F,this.h=P}function k(F,P){if(m(P))throw Error("division by zero");if(m(F))return new M(u,u);if(y(F))return P=k(_(F),P),new M(_(P.g),_(P.h));if(y(P))return P=k(F,_(P)),new M(_(P.g),P.h);if(30<F.g.length){if(y(F)||y(P))throw Error("slowDivide_ only works with positive integers.");for(var G=h,Y=P;0>=Y.l(F);)G=V(G),Y=V(Y);var q=H(G,1),ee=H(Y,1);for(Y=H(Y,2),G=H(G,2);!m(Y);){var K=ee.add(Y);0>=K.l(F)&&(q=q.add(G),ee=K),Y=H(Y,1),G=H(G,1)}return P=x(F,q.j(P)),new M(q,P)}for(q=u;0<=F.l(P);){for(G=Math.max(1,Math.floor(F.m()/P.m())),Y=48>=(Y=Math.ceil(Math.log(G)/Math.LN2))?1:Math.pow(2,Y-48),K=(ee=c(G)).j(P);y(K)||0<K.l(F);)K=(ee=c(G-=Y)).j(P);m(ee)&&(ee=h),q=q.add(ee),F=x(F,K)}return new M(q,F)}function V(F){for(var P=F.g.length+1,G=[],Y=0;Y<P;Y++)G[Y]=F.i(Y)<<1|F.i(Y-1)>>>31;return new o(G,F.h)}function H(F,P){var G=P>>5;P%=32;for(var Y=F.g.length-G,q=[],ee=0;ee<Y;ee++)q[ee]=0<P?F.i(ee+G)>>>P|F.i(ee+G+1)<<32-P:F.i(ee+G);return new o(q,F.h)}(e=o.prototype).m=function(){if(y(this))return-_(this).m();for(var F=0,P=1,G=0;G<this.g.length;G++){var Y=this.i(G);F+=(0<=Y?Y:4294967296+Y)*P,P*=4294967296}return F},e.toString=function(F){if(2>(F=F||10)||36<F)throw Error("radix out of range: "+F);if(m(this))return"0";if(y(this))return"-"+_(this).toString(F);for(var P=c(Math.pow(F,6)),G=this,Y="";;){var q=k(G,P).g,ee=((0<(G=x(G,q.j(P))).g.length?G.g[0]:G.h)>>>0).toString(F);if(m(G=q))return ee+Y;for(;6>ee.length;)ee="0"+ee;Y=ee+Y}},e.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h},e.l=function(F){return y(F=x(this,F))?-1:m(F)?0:1},e.abs=function(){return y(this)?_(this):this},e.add=function(F){for(var P=Math.max(this.g.length,F.g.length),G=[],Y=0,q=0;q<=P;q++){var ee=Y+(65535&this.i(q))+(65535&F.i(q)),K=(ee>>>16)+(this.i(q)>>>16)+(F.i(q)>>>16);Y=K>>>16,G[q]=(K&=65535)<<16|(ee&=65535)}return new o(G,-2147483648&G[G.length-1]?-1:0)},e.j=function(F){if(m(this)||m(F))return u;if(y(this))return y(F)?_(this).j(_(F)):_(_(this).j(F));if(y(F))return _(this.j(_(F)));if(0>this.l(g)&&0>F.l(g))return c(this.m()*F.m());for(var P=this.g.length+F.g.length,G=[],Y=0;Y<2*P;Y++)G[Y]=0;for(Y=0;Y<this.g.length;Y++)for(var q=0;q<F.g.length;q++){var ee=this.i(Y)>>>16,K=65535&this.i(Y),gt=F.i(q)>>>16,jt=65535&F.i(q);G[2*Y+2*q]+=K*jt,D(G,2*Y+2*q),G[2*Y+2*q+1]+=ee*jt,D(G,2*Y+2*q+1),G[2*Y+2*q+1]+=K*gt,D(G,2*Y+2*q+1),G[2*Y+2*q+2]+=ee*gt,D(G,2*Y+2*q+2)}for(Y=0;Y<P;Y++)G[Y]=G[2*Y+1]<<16|G[2*Y];for(Y=P;Y<2*P;Y++)G[Y]=0;return new o(G,0)},e.A=function(F){return k(this,F).h},e.and=function(F){for(var P=Math.max(this.g.length,F.g.length),G=[],Y=0;Y<P;Y++)G[Y]=this.i(Y)&F.i(Y);return new o(G,this.h&F.h)},e.or=function(F){for(var P=Math.max(this.g.length,F.g.length),G=[],Y=0;Y<P;Y++)G[Y]=this.i(Y)|F.i(Y);return new o(G,this.h|F.h)},e.xor=function(F){for(var P=Math.max(this.g.length,F.g.length),G=[],Y=0;Y<P;Y++)G[Y]=this.i(Y)^F.i(Y);return new o(G,this.h^F.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Loe=Ooe.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=function d(F,P){if(0==F.length)throw Error("number format error: empty string");if(2>(P=P||10)||36<P)throw Error("radix out of range: "+P);if("-"==F.charAt(0))return _(d(F.substring(1),P));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var G=c(Math.pow(P,8)),Y=u,q=0;q<F.length;q+=8){var ee=Math.min(8,F.length-q),K=parseInt(F.substring(q,q+ee),P);8>ee?(ee=c(Math.pow(P,ee)),Y=Y.j(ee).add(c(K))):Y=(Y=Y.j(G)).add(c(K))}return Y},$v=Ooe.Integer=o}).apply(typeof Foe<"u"?Foe:typeof self<"u"?self:typeof window<"u"?window:{});var Noe,rD,Voe,Hk,J5,Boe,zoe,Goe,Gk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xp={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(v,I,N){return v==Array.prototype||v==Object.prototype||(v[I]=N.value),v},n=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Gk&&Gk];for(var I=0;I<v.length;++I){var N=v[I];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}(this);!function r(v,I){if(I)e:{var N=n;v=v.split(".");for(var W=0;W<v.length-1;W++){var ge=v[W];if(!(ge in N))break e;N=N[ge]}(I=I(W=N[v=v[v.length-1]]))!=W&&null!=I&&t(N,v,{configurable:!0,writable:!0,value:I})}}("Array.prototype.values",function(v){return v||function(){return function s(v,I){v instanceof String&&(v+="");var N=0,W=!1,ge={next:function(){if(!W&&N<v.length){var De=N++;return{value:I(De,v[De]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}(this,function(I,N){return N})}});var o=o||{},a=this||self;function l(v){var I=typeof v;return"array"==(I="object"!=I?I:v?Array.isArray(v)?"array":I:"null")||"object"==I&&"number"==typeof v.length}function c(v){var I=typeof v;return"object"==I&&null!=v||"function"==I}function d(v,I,N){return v.call.apply(v.bind,arguments)}function u(v,I,N){if(!v)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,W),v.apply(I,ge)}}return function(){return v.apply(I,arguments)}}function h(v,I,N){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:u).apply(null,arguments)}function g(v,I){var N=Array.prototype.slice.call(arguments,1);return function(){var W=N.slice();return W.push.apply(W,arguments),v.apply(this,W)}}function m(v,I){function N(){}N.prototype=I.prototype,v.aa=I.prototype,v.prototype=new N,v.prototype.constructor=v,v.Qb=function(W,ge,De){for(var ut=Array(arguments.length-2),_r=2;_r<arguments.length;_r++)ut[_r-2]=arguments[_r];return I.prototype[ge].apply(W,ut)}}function y(v){const I=v.length;if(0<I){const N=Array(I);for(let W=0;W<I;W++)N[W]=v[W];return N}return[]}function _(v,I){for(let N=1;N<arguments.length;N++){const W=arguments[N];if(l(W)){const ge=v.length||0,De=W.length||0;v.length=ge+De;for(let ut=0;ut<De;ut++)v[ge+ut]=W[ut]}else v.push(W)}}function D(v){return/^[\s\xa0]*$/.test(v)}function M(){var v=a.navigator;return v&&(v=v.userAgent)?v:""}function k(v){return k[" "](v),v}k[" "]=function(){};var V=!(-1==M().indexOf("Gecko")||-1!=M().toLowerCase().indexOf("webkit")&&-1==M().indexOf("Edge")||-1!=M().indexOf("Trident")||-1!=M().indexOf("MSIE")||-1!=M().indexOf("Edge"));function H(v,I,N){for(const W in v)I.call(N,v[W],W,v)}function P(v){const I={};for(const N in v)I[N]=v[N];return I}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(v,I){let N,W;for(let ge=1;ge<arguments.length;ge++){for(N in W=arguments[ge],W)v[N]=W[N];for(let De=0;De<G.length;De++)N=G[De],Object.prototype.hasOwnProperty.call(W,N)&&(v[N]=W[N])}}function q(v){var I=1;v=v.split(":");const N=[];for(;0<I&&v.length;)N.push(v.shift()),I--;return v.length&&N.push(v.join(":")),N}function ee(v){a.setTimeout(()=>{throw v},0)}function K(){var v=dt;let I=null;return v.g&&(I=v.g,v.g=v.g.next,v.g||(v.h=null),I.next=null),I}var jt=new class x{constructor(I,N){this.i=I,this.j=N,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}(()=>new Fe,v=>v.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(I,N){this.h=I,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,Ke=!1,dt=new class gt{constructor(){this.h=this.g=null}add(I,N){const W=jt.get();W.set(I,N),this.h?this.h.next=W:this.g=W,this.h=W}},Ot=()=>{const v=a.Promise.resolve(void 0);$e=()=>{v.then(qt)}};var qt=()=>{for(var v;v=K();){try{v.h.call(v.g)}catch(N){ee(N)}var I=jt;I.j(v),100>I.h&&(I.h++,v.next=I.g,I.g=v)}Ke=!1};function Vt(){this.s=this.s,this.C=this.C}function Ut(v,I){this.type=v,this.g=this.target=I,this.defaultPrevented=!1}Vt.prototype.s=!1,Vt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ut.prototype.h=function(){this.defaultPrevented=!0};var Kt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,I=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const N=()=>{};a.addEventListener("test",N,I),a.removeEventListener("test",N,I)}catch{}return v}();function _n(v,I){if(Ut.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var N=this.type=v.type,W=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=I,I=v.relatedTarget){if(V){e:{try{k(I.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(I=null)}}else"mouseover"==N?I=v.fromElement:"mouseout"==N&&(I=v.toElement);this.relatedTarget=I,W?(this.clientX=void 0!==W.clientX?W.clientX:W.pageX,this.clientY=void 0!==W.clientY?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Ne[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&_n.aa.h.call(this)}}m(_n,Ut);var Ne={2:"touch",3:"pen",4:"mouse"};_n.prototype.h=function(){_n.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function mt(v,I,N,W,ge){this.listener=v,this.proxy=null,this.src=I,this.type=N,this.capture=!!W,this.ha=ge,this.key=++Je,this.da=this.fa=!1}function $t(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Di(v){this.src=v,this.g={},this.h=0}function an(v,I){var N=I.type;if(N in v.g){var De,W=v.g[N],ge=Array.prototype.indexOf.call(W,I,void 0);(De=0<=ge)&&Array.prototype.splice.call(W,ge,1),De&&($t(I),0==v.g[N].length&&(delete v.g[N],v.h--))}}function Fr(v,I,N,W){for(var ge=0;ge<v.length;++ge){var De=v[ge];if(!De.da&&De.listener==I&&De.capture==!!N&&De.ha==W)return ge}return-1}Di.prototype.add=function(v,I,N,W,ge){var De=v.toString();(v=this.g[De])||(v=this.g[De]=[],this.h++);var ut=Fr(v,I,W,ge);return-1<ut?(I=v[ut],N||(I.fa=!1)):((I=new mt(I,this.src,De,!!W,ge)).fa=N,v.push(I)),I};var Or="closure_lm_"+(1e6*Math.random()|0),Xr={};function no(v,I,N,W,ge){if(W&&W.once)return Jr(v,I,N,W,ge);if(Array.isArray(I)){for(var De=0;De<I.length;De++)no(v,I[De],N,W,ge);return null}return N=IG(N),v&&v[qe]?v.K(I,N,c(W)?!!W.capture:!!W,ge):ro(v,I,N,!1,W,ge)}function ro(v,I,N,W,ge,De){if(!I)throw Error("Invalid event type");var ut=c(ge)?!!ge.capture:!!ge,_r=MG(v);if(_r||(v[Or]=_r=new Di(v)),(N=_r.add(I,N,W,ut,De)).proxy)return N;if(W=function Cn(){const I=GJe;return function v(N){return I.call(v.src,v.listener,N)}}(),N.proxy=W,W.src=v,W.listener=N,v.addEventListener)Kt||(ge=ut),void 0===ge&&(ge=!1),v.addEventListener(I.toString(),W,ge);else if(v.attachEvent)v.attachEvent(U2(I.toString()),W);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(W)}return N}function Jr(v,I,N,W,ge){if(Array.isArray(I)){for(var De=0;De<I.length;De++)Jr(v,I[De],N,W,ge);return null}return N=IG(N),v&&v[qe]?v.L(I,N,c(W)?!!W.capture:!!W,ge):ro(v,I,N,!0,W,ge)}function Ps(v,I,N,W,ge){if(Array.isArray(I))for(var De=0;De<I.length;De++)Ps(v,I[De],N,W,ge);else W=c(W)?!!W.capture:!!W,N=IG(N),v&&v[qe]?(v=v.i,(I=String(I).toString())in v.g&&-1<(N=Fr(De=v.g[I],N,W,ge))&&($t(De[N]),Array.prototype.splice.call(De,N,1),0==De.length&&(delete v.g[I],v.h--))):v&&(v=MG(v))&&(I=v.g[I.toString()],v=-1,I&&(v=Fr(I,N,W,ge)),(N=-1<v?I[v]:null)&&nh(N))}function nh(v){if("number"!=typeof v&&v&&!v.da){var I=v.src;if(I&&I[qe])an(I.i,v);else{var N=v.type,W=v.proxy;I.removeEventListener?I.removeEventListener(N,W,v.capture):I.detachEvent?I.detachEvent(U2(N),W):I.addListener&&I.removeListener&&I.removeListener(W),(N=MG(I))?(an(N,v),0==N.h&&(N.src=null,I[Or]=null)):$t(v)}}}function U2(v){return v in Xr?Xr[v]:Xr[v]="on"+v}function GJe(v,I){if(v.da)v=!0;else{I=new _n(I,this);var N=v.listener,W=v.ha||v.src;v.fa&&nh(v),v=N.call(W,I)}return v}function MG(v){return(v=v[Or])instanceof Di?v:null}var EG="__closure_events_fn_"+(1e9*Math.random()>>>0);function IG(v){return"function"==typeof v?v:(v[EG]||(v[EG]=function(I){return v.handleEvent(I)}),v[EG])}function Ea(){Vt.call(this),this.i=new Di(this),this.M=this,this.F=null}function cl(v,I){var N,W=v.F;if(W)for(N=[];W;W=W.F)N.push(W);if(v=v.M,W=I.type||I,"string"==typeof I)I=new Ut(I,v);else if(I instanceof Ut)I.target=I.target||v;else{var ge=I;Y(I=new Ut(W,v),ge)}if(ge=!0,N)for(var De=N.length-1;0<=De;De--){var ut=I.g=N[De];ge=W2(ut,W,!0,I)&&ge}if(ge=W2(ut=I.g=v,W,!0,I)&&ge,ge=W2(ut,W,!1,I)&&ge,N)for(De=0;De<N.length;De++)ge=W2(ut=I.g=N[De],W,!1,I)&&ge}function W2(v,I,N,W){if(!(I=v.i.g[String(I)]))return!0;I=I.concat();for(var ge=!0,De=0;De<I.length;++De){var ut=I[De];if(ut&&!ut.da&&ut.capture==N){var _r=ut.listener,na=ut.ha||ut.src;ut.fa&&an(v.i,ut),ge=!1!==_r.call(na,W)&&ge}}return ge&&!W.defaultPrevented}function Lde(v,I,N){if("function"==typeof v)N&&(v=h(v,N));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=h(v.handleEvent,v)}return 2147483647<Number(I)?-1:a.setTimeout(v,I||0)}function Nde(v){v.g=Lde(()=>{v.g=null,v.i&&(v.i=!1,Nde(v))},v.l);const I=v.h;v.h=null,v.m.apply(null,I)}m(Ea,Vt),Ea.prototype[qe]=!0,Ea.prototype.removeEventListener=function(v,I,N,W){Ps(this,v,I,N,W)},Ea.prototype.N=function(){if(Ea.aa.N.call(this),this.i){var I,v=this.i;for(I in v.g){for(var N=v.g[I],W=0;W<N.length;W++)$t(N[W]);delete v.g[I],v.h--}}this.F=null},Ea.prototype.K=function(v,I,N,W){return this.i.add(String(v),I,!1,N,W)},Ea.prototype.L=function(v,I,N,W){return this.i.add(String(v),I,!0,N,W)};class HJe extends Vt{constructor(I,N){super(),this.m=I,this.l=N,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Nde(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $D(v){Vt.call(this),this.h=v,this.g={}}m($D,Vt);var Vde=[];function Bde(v){H(v.g,function(I,N){this.g.hasOwnProperty(N)&&nh(I)},v),v.g={}}$D.prototype.N=function(){$D.aa.N.call(this),Bde(this)},$D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var AG=a.JSON.stringify,jJe=a.JSON.parse,UJe=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function TG(){}function Gde(){}TG.prototype.h=null;var YD={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function RG(){Ut.call(this,"d")}function kG(){Ut.call(this,"c")}m(RG,Ut),m(kG,Ut);var gy={},Hde=null;function $2(){return Hde=Hde||new Ea}function jde(v){Ut.call(this,gy.La,v)}function KD(v){const I=$2();cl(I,new jde(I))}function Ude(v,I){Ut.call(this,gy.STAT_EVENT,v),this.stat=I}function dl(v){const I=$2();cl(I,new Ude(I,v))}function Wde(v,I){Ut.call(this,gy.Ma,v),this.size=I}function qD(v,I){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},I)}function ZD(){this.g=!0}function SC(v,I,N,W){v.info(function(){return"XMLHTTP TEXT ("+I+"): "+function KJe(v,I){if(!v.g)return I;if(!I)return null;try{var N=JSON.parse(I);if(N)for(v=0;v<N.length;v++)if(Array.isArray(N[v])){var W=N[v];if(!(2>W.length)){var ge=W[1];if(Array.isArray(ge)&&!(1>ge.length)){var De=ge[0];if("noop"!=De&&"stop"!=De&&"close"!=De)for(var ut=1;ut<ge.length;ut++)ge[ut]=""}}}return AG(N)}catch{return I}}(v,N)+(W?" "+W:"")})}gy.La="serverreachability",m(jde,Ut),gy.STAT_EVENT="statevent",m(Ude,Ut),gy.Ma="timingevent",m(Wde,Ut),ZD.prototype.xa=function(){this.g=!1},ZD.prototype.info=function(){};var PG,Y2={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$de={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function K2(){}function kf(v,I,N,W){this.j=v,this.i=I,this.l=N,this.R=W||1,this.U=new $D(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yde}function Yde(){this.i=null,this.g="",this.h=!1}m(K2,TG),K2.prototype.g=function(){return new XMLHttpRequest},K2.prototype.i=function(){return{}},PG=new K2;var Kde={},FG={};function OG(v,I,N){v.L=1,v.v=X2(Pp(I)),v.m=N,v.P=!0,qde(v,null)}function qde(v,I){v.F=Date.now(),q2(v),v.A=Pp(v.v);var N=v.A,W=v.R;Array.isArray(W)||(W=[String(W)]),cue(N.i,"t",W),v.C=0,N=v.j.J,v.h=new Yde,v.g=Eue(v.j,N?I:null,!v.m),0<v.O&&(v.M=new HJe(h(v.Y,v,v.g),v.O)),I=v.U,N=v.g,W=v.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(Vde[0]=ge.toString()),ge=Vde);for(var De=0;De<ge.length;De++){var ut=no(N,ge[De],W||I.handleEvent,!1,I.h||I);if(!ut)break;I.g[ut.key]=ut}I=v.H?P(v.H):{},v.m?(v.u||(v.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,I)):(v.u="GET",v.g.ea(v.A,v.u,null,I)),KD(),function WJe(v,I,N,W,ge,De){v.info(function(){if(v.g)if(De)for(var ut="",_r=De.split("&"),na=0;na<_r.length;na++){var wn=_r[na].split("=");if(1<wn.length){var Ia=wn[0];wn=wn[1];var Aa=Ia.split("_");ut=2<=Aa.length&&"type"==Aa[1]?ut+(Ia+"=")+wn+"&":ut+(Ia+"=redacted&")}}else ut=null;else ut=De;return"XMLHTTP REQ ("+W+") [attempt "+ge+"]: "+I+"\n"+N+"\n"+ut})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Zde(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function qJe(v,I){var N=v.C,W=I.indexOf("\n",N);return-1==W?FG:(N=Number(I.substring(N,W)),isNaN(N)?Kde:(W+=1)+N>I.length?FG:(I=I.slice(W,W+N),v.C=W+N,I))}function q2(v){v.S=Date.now()+v.I,Qde(v,v.I)}function Qde(v,I){if(null!=v.B)throw Error("WatchDog timer not null");v.B=qD(h(v.ba,v),I)}function LG(v){v.B&&(a.clearTimeout(v.B),v.B=null)}function QD(v){0==v.j.G||v.J||xue(v.j,v)}function fy(v){LG(v);var I=v.M;I&&"function"==typeof I.ma&&I.ma(),v.M=null,Bde(v.U),v.g&&(I=v.g,v.g=null,I.abort(),I.ma())}function NG(v,I){try{var N=v.j;if(0!=N.G&&(N.g==v||VG(N.h,v)))if(!v.K&&VG(N.h,v)&&3==N.G){try{var W=N.Da.g.parse(I)}catch{W=null}if(Array.isArray(W)&&3==W.length){var ge=W;if(0==ge[0]){e:if(!N.u){if(N.g){if(!(N.g.F+3e3<v.F))break e;nP(N),tP(N)}HG(N),dl(18)}}else N.za=ge[1],0<N.za-N.T&&37500>ge[2]&&N.F&&0==N.v&&!N.C&&(N.C=qD(h(N.Za,N),6e3));if(1>=eue(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else vy(N,11)}else if((v.K||N.g==v)&&nP(N),!D(I))for(ge=N.Da.g.parse(I),I=0;I<ge.length;I++){let wn=ge[I];if(N.T=wn[0],wn=wn[1],2==N.G)if("c"==wn[0]){N.K=wn[1],N.ia=wn[2];const Ia=wn[3];null!=Ia&&(N.la=Ia,N.j.info("VER="+N.la));const Aa=wn[4];null!=Aa&&(N.Aa=Aa,N.j.info("SVER="+N.Aa));const EC=wn[5];null!=EC&&"number"==typeof EC&&0<EC&&(N.L=W=1.5*EC,N.j.info("backChannelRequestTimeoutMs_="+W)),W=N;const eu=v.g;if(eu){const sP=eu.g?eu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sP){var De=W.h;De.g||-1==sP.indexOf("spdy")&&-1==sP.indexOf("quic")&&-1==sP.indexOf("h2")||(De.j=De.l,De.g=new Set,De.h&&(BG(De,De.h),De.h=null))}if(W.D){const UG=eu.g?eu.g.getResponseHeader("X-HTTP-Session-Id"):null;UG&&(W.ya=UG,es(W.I,W.D,UG))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-v.F,N.j.info("Handshake RTT: "+N.R+"ms"));var ut=v;if((W=N).qa=Mue(W,W.J?W.ia:null,W.W),ut.K){tue(W.h,ut);var _r=ut,na=W.L;na&&(_r.I=na),_r.B&&(LG(_r),q2(_r)),W.g=ut}else Cue(W);0<N.i.length&&iP(N)}else"stop"!=wn[0]&&"close"!=wn[0]||vy(N,7);else 3==N.G&&("stop"==wn[0]||"close"==wn[0]?"stop"==wn[0]?vy(N,7):GG(N):"noop"!=wn[0]&&N.l&&N.l.ta(wn),N.v=0)}KD()}catch{}}function Xde(v){this.l=v||10,v=a.PerformanceNavigationTiming?0<(v=a.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jde(v){return!!v.h||!!v.g&&v.g.size>=v.j}function eue(v){return v.h?1:v.g?v.g.size:0}function VG(v,I){return v.h?v.h==I:!!v.g&&v.g.has(I)}function BG(v,I){v.g?v.g.add(I):v.h=I}function tue(v,I){v.h&&v.h==I?v.h=null:v.g&&v.g.has(I)&&v.g.delete(I)}function iue(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let I=v.i;for(const N of v.g.values())I=I.concat(N.D);return I}return y(v.i)}function nue(v,I){if(v.forEach&&"function"==typeof v.forEach)v.forEach(I,void 0);else if(l(v)||"string"==typeof v)Array.prototype.forEach.call(v,I,void 0);else for(var N=function XJe(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(l(v)||"string"==typeof v){var I=[];v=v.length;for(var N=0;N<v;N++)I.push(N);return I}I=[],N=0;for(const W in v)I[N++]=W;return I}}}(v),W=function QJe(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(l(v)){for(var I=[],N=v.length,W=0;W<N;W++)I.push(v[W]);return I}for(W in I=[],N=0,v)I[N++]=v[W];return I}(v),ge=W.length,De=0;De<ge;De++)I.call(void 0,W[De],N&&N[De],v)}kf.prototype.ca=function(v){v=v.target;const I=this.M;I&&3==Fp(v)?I.j():this.Y(v)},kf.prototype.Y=function(v){try{if(v==this.g)e:{const Aa=Fp(this.g);var I=this.g.Ba();if(this.g.Z(),!(3>Aa)&&(3!=Aa||this.g&&(this.h.h||this.g.oa()||mue(this.g)))){this.J||4!=Aa||7==I||KD(),LG(this);var N=this.g.Z();this.X=N;t:if(Zde(this)){var W=mue(this.g);v="";var ge=W.length,De=4==Fp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fy(this),QD(this);var ut="";break t}this.h.i=new a.TextDecoder}for(I=0;I<ge;I++)this.h.h=!0,v+=this.h.i.decode(W[I],{stream:!(De&&I==ge-1)});W.length=0,this.h.g+=v,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=200==N,function $Je(v,I,N,W,ge,De,ut){v.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ge+"]: "+I+"\n"+N+"\n"+De+" "+ut})}(this.i,this.u,this.A,this.l,this.R,Aa,N),this.o){if(this.T&&!this.K){t:{if(this.g){var _r,na=this.g;if((_r=na.g?na.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(_r)){var wn=_r;break t}}wn=null}if(!(N=wn)){this.o=!1,this.s=3,dl(12),fy(this),QD(this);break e}SC(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,NG(this,N)}if(this.P){let eu;for(N=!0;!this.J&&this.C<ut.length;){if(eu=qJe(this,ut),eu==FG){4==Aa&&(this.s=4,dl(14),N=!1),SC(this.i,this.l,null,"[Incomplete Response]");break}if(eu==Kde){this.s=4,dl(15),SC(this.i,this.l,ut,"[Invalid Chunk]"),N=!1;break}SC(this.i,this.l,eu,null),NG(this,eu)}if(Zde(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Aa||0!=ut.length||this.h.h||(this.s=1,dl(16),N=!1),this.o=this.o&&N,N){if(0<ut.length&&!this.W){this.W=!0;var Ia=this.j;Ia.g==this&&Ia.ba&&!Ia.M&&(Ia.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),jG(Ia),Ia.M=!0,dl(11))}}else SC(this.i,this.l,ut,"[Invalid Chunked Response]"),fy(this),QD(this)}else SC(this.i,this.l,ut,null),NG(this,ut);4==Aa&&fy(this),this.o&&!this.J&&(4==Aa?xue(this.j,this):(this.o=!1,q2(this)))}else(function pet(v){const I={};v=(v.g&&2<=Fp(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let W=0;W<v.length;W++){if(D(v[W]))continue;var N=q(v[W]);const ge=N[0];if("string"!=typeof(N=N[1]))continue;N=N.trim();const De=I[ge]||[];I[ge]=De,De.push(N)}!function F(v,I){for(const N in v)I.call(void 0,v[N],N,v)}(I,function(W){return W.join(", ")})})(this.g),400==N&&0<ut.indexOf("Unknown SID")?(this.s=3,dl(12)):(this.s=0,dl(13)),fy(this),QD(this)}}}catch{}},kf.prototype.cancel=function(){this.J=!0,fy(this)},kf.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function YJe(v,I){v.info(function(){return"TIMEOUT: "+I})}(this.i,this.A),2!=this.L&&(KD(),dl(17)),fy(this),this.s=2,QD(this)):Qde(this,this.S-v)},Xde.prototype.cancel=function(){if(this.i=iue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var rue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function my(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof my){this.h=v.h,Z2(this,v.j),this.o=v.o,this.g=v.g,Q2(this,v.s),this.l=v.l;var I=v.i,N=new eM;N.i=I.i,I.g&&(N.g=new Map(I.g),N.h=I.h),sue(this,N),this.m=v.m}else v&&(I=String(v).match(rue))?(this.h=!1,Z2(this,I[1]||"",!0),this.o=XD(I[2]||""),this.g=XD(I[3]||"",!0),Q2(this,I[4]),this.l=XD(I[5]||"",!0),sue(this,I[6]||"",!0),this.m=XD(I[7]||"")):(this.h=!1,this.i=new eM(null,this.h))}function Pp(v){return new my(v)}function Z2(v,I,N){v.j=N?XD(I,!0):I,v.j&&(v.j=v.j.replace(/:$/,""))}function Q2(v,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);v.s=I}else v.s=null}function sue(v,I,N){I instanceof eM?(v.i=I,function set(v,I){I&&!v.j&&(Pf(v),v.i=null,v.g.forEach(function(N,W){var ge=W.toLowerCase();W!=ge&&(aue(this,W),cue(this,ge,N))},v)),v.j=I}(v.i,v.h)):(N||(I=JD(I,net)),v.i=new eM(I,v.h))}function es(v,I,N){v.i.set(I,N)}function X2(v){return es(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function XD(v,I){return v?I?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function JD(v,I,N){return"string"==typeof v?(v=encodeURI(v).replace(I,eet),N&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function eet(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}my.prototype.toString=function(){var v=[],I=this.j;I&&v.push(JD(I,oue,!0),":");var N=this.g;return(N||"file"==I)&&(v.push("//"),(I=this.o)&&v.push(JD(I,oue,!0),"@"),v.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(N=this.s)&&v.push(":",String(N))),(N=this.l)&&(this.g&&"/"!=N.charAt(0)&&v.push("/"),v.push(JD(N,"/"==N.charAt(0)?iet:tet,!0))),(N=this.i.toString())&&v.push("?",N),(N=this.m)&&v.push("#",JD(N,ret)),v.join("")};var v,oue=/[#\/\?@]/g,tet=/[#\?:]/g,iet=/[#\?]/g,net=/[#\?@]/g,ret=/#/g;function eM(v,I){this.h=this.g=null,this.i=v||null,this.j=!!I}function Pf(v){v.g||(v.g=new Map,v.h=0,v.i&&function JJe(v,I){if(v){v=v.split("&");for(var N=0;N<v.length;N++){var W=v[N].indexOf("="),ge=null;if(0<=W){var De=v[N].substring(0,W);ge=v[N].substring(W+1)}else De=v[N];I(De,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}(v.i,function(I,N){v.add(decodeURIComponent(I.replace(/\+/g," ")),N)}))}function aue(v,I){Pf(v),I=DC(v,I),v.g.has(I)&&(v.i=null,v.h-=v.g.get(I).length,v.g.delete(I))}function lue(v,I){return Pf(v),I=DC(v,I),v.g.has(I)}function cue(v,I,N){aue(v,I),0<N.length&&(v.i=null,v.g.set(DC(v,I),y(N)),v.h+=N.length)}function DC(v,I){return I=String(I),v.j&&(I=I.toLowerCase()),I}function Ff(v,I,N,W,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),W(N)}catch{}}function cet(){this.g=new UJe}function det(v,I,N){const W=N||"";try{nue(v,function(ge,De){let ut=ge;c(ge)&&(ut=AG(ge)),I.push(W+De+"="+encodeURIComponent(ut))})}catch(ge){throw I.push(W+"type="+encodeURIComponent("_badmap")),ge}}function tM(v){this.l=v.Ub||null,this.j=v.eb||!1}function J2(v,I){Ea.call(this),this.D=v,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function due(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function iM(v){v.readyState=4,v.l=null,v.j=null,v.v=null,nM(v)}function nM(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function uue(v){let I="";return H(v,function(N,W){I+=W,I+=":",I+=N,I+="\r\n"}),I}function zG(v,I,N){e:{for(W in N){var W=!1;break e}W=!0}W||(N=uue(N),"string"==typeof v?null!=N&&encodeURIComponent(String(N)):es(v,I,N))}function Fs(v){Ea.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=eM.prototype).add=function(v,I){Pf(this),this.i=null,v=DC(this,v);var N=this.g.get(v);return N||this.g.set(v,N=[]),N.push(I),this.h+=1,this},e.forEach=function(v,I){Pf(this),this.g.forEach(function(N,W){N.forEach(function(ge){v.call(I,ge,W,this)},this)},this)},e.na=function(){Pf(this);const v=Array.from(this.g.values()),I=Array.from(this.g.keys()),N=[];for(let W=0;W<I.length;W++){const ge=v[W];for(let De=0;De<ge.length;De++)N.push(I[W])}return N},e.V=function(v){Pf(this);let I=[];if("string"==typeof v)lue(this,v)&&(I=I.concat(this.g.get(DC(this,v))));else{v=Array.from(this.g.values());for(let N=0;N<v.length;N++)I=I.concat(v[N])}return I},e.set=function(v,I){return Pf(this),this.i=null,lue(this,v=DC(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[I]),this.h+=1,this},e.get=function(v,I){return v&&0<(v=this.V(v)).length?String(v[0]):I},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],I=Array.from(this.g.keys());for(var N=0;N<I.length;N++){var W=I[N];const De=encodeURIComponent(String(W)),ut=this.V(W);for(W=0;W<ut.length;W++){var ge=De;""!==ut[W]&&(ge+="="+encodeURIComponent(String(ut[W]))),v.push(ge)}}return this.i=v.join("&")},m(tM,TG),tM.prototype.g=function(){return new J2(this.l,this.j)},tM.prototype.i=(v={},function(){return v}),m(J2,Ea),(e=J2.prototype).open=function(v,I){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=I,this.readyState=1,nM(this)},e.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(I.body=v),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iM(this)),this.readyState=0},e.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,nM(this)),this.g&&(this.readyState=3,nM(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;due(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var I=v.value?v.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!v.done}))&&(this.response=this.responseText+=I)}v.done?iM(this):nM(this),3==this.readyState&&due(this)}},e.Ra=function(v){this.g&&(this.response=this.responseText=v,iM(this))},e.Qa=function(v){this.g&&(this.response=v,iM(this))},e.ga=function(){this.g&&iM(this)},e.setRequestHeader=function(v,I){this.u.append(v,I)},e.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],I=this.h.entries();for(var N=I.next();!N.done;)v.push((N=N.value)[0]+": "+N[1]),N=I.next();return v.join("\r\n")},Object.defineProperty(J2.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),m(Fs,Ea);var uet=/^https?$/i,het=["POST","PUT"];function hue(v,I){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=I,v.m=5,pue(v),eP(v)}function pue(v){v.A||(v.A=!0,cl(v,"complete"),cl(v,"error"))}function gue(v){if(v.h&&typeof o<"u"&&(!v.v[1]||4!=Fp(v)||2!=v.Z()))if(v.u&&4==Fp(v))Lde(v.Ea,0,v);else if(cl(v,"readystatechange"),4==Fp(v)){v.h=!1;try{const ut=v.Z();e:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var N;if(!(N=I)){var W;if(W=0===ut){var ge=String(v.D).match(rue)[1]||null;!ge&&a.self&&a.self.location&&(ge=a.self.location.protocol.slice(0,-1)),W=!uet.test(ge?ge.toLowerCase():"")}N=W}if(N)cl(v,"complete"),cl(v,"success");else{v.m=6;try{var De=2<Fp(v)?v.g.statusText:""}catch{De=""}v.l=De+" ["+v.Z()+"]",pue(v)}}finally{eP(v)}}}function eP(v,I){if(v.g){fue(v);const N=v.g,W=v.v[0]?()=>{}:null;v.g=null,v.v=null,I||cl(v,"ready");try{N.onreadystatechange=W}catch{}}}function fue(v){v.I&&(a.clearTimeout(v.I),v.I=null)}function Fp(v){return v.g?v.g.readyState:0}function mue(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function rM(v,I,N){return N&&N.internalChannelParams&&N.internalChannelParams[v]||I}function vue(v){this.Aa=0,this.i=[],this.j=new ZD,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rM("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rM("baseRetryDelayMs",5e3,v),this.cb=rM("retryDelaySeedMs",1e4,v),this.Wa=rM("forwardChannelMaxRetries",2,v),this.wa=rM("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Xde(v&&v.concurrentRequestLimit),this.Da=new cet,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function GG(v){if(yue(v),3==v.G){var I=v.U++,N=Pp(v.I);if(es(N,"SID",v.K),es(N,"RID",I),es(N,"TYPE","terminate"),sM(v,N),(I=new kf(v,v.j,I)).L=2,I.v=X2(Pp(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!N&&a.Image&&((new Image).src=I.v,N=!0),N||(I.g=Eue(I.j,null),I.g.ea(I.v)),I.F=Date.now(),q2(I)}Due(v)}function tP(v){v.g&&(jG(v),v.g.cancel(),v.g=null)}function yue(v){tP(v),v.u&&(a.clearTimeout(v.u),v.u=null),nP(v),v.h.cancel(),v.s&&("number"==typeof v.s&&a.clearTimeout(v.s),v.s=null)}function iP(v){if(!Jde(v.h)&&!v.s){v.s=!0;var I=v.Ga;$e||Ot(),Ke||($e(),Ke=!0),dt.add(I,v),v.B=0}}function bue(v,I){var N;N=I?I.l:v.U++;const W=Pp(v.I);es(W,"SID",v.K),es(W,"RID",N),es(W,"AID",v.T),sM(v,W),v.m&&v.o&&zG(W,v.m,v.o),N=new kf(v,v.j,N,v.B+1),null===v.m&&(N.H=v.o),I&&(v.i=I.D.concat(v.i)),I=_ue(v,N,1e3),N.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),BG(v.h,N),OG(N,W,I)}function sM(v,I){v.H&&H(v.H,function(N,W){es(I,W,N)}),v.l&&nue({},function(N,W){es(I,W,N)})}function _ue(v,I,N){N=Math.min(v.i.length,N);var W=v.l?h(v.l.Na,v.l,v):null;e:{var ge=v.i;let De=-1;for(;;){const ut=["count="+N];-1==De?0<N?(De=ge[0].g,ut.push("ofs="+De)):De=0:ut.push("ofs="+De);let _r=!0;for(let na=0;na<N;na++){let wn=ge[na].g;const Ia=ge[na].map;if(wn-=De,0>wn)De=Math.max(0,ge[na].g-100),_r=!1;else try{det(Ia,ut,"req"+wn+"_")}catch{W&&W(Ia)}}if(_r){W=ut.join("&");break e}}}return v=v.i.splice(0,N),I.D=v,W}function Cue(v){if(!v.g&&!v.u){v.Y=1;var I=v.Fa;$e||Ot(),Ke||($e(),Ke=!0),dt.add(I,v),v.v=0}}function HG(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=qD(h(v.Fa,v),Sue(v,v.v)),v.v++,0))}function jG(v){null!=v.A&&(a.clearTimeout(v.A),v.A=null)}function wue(v){v.g=new kf(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var I=Pp(v.qa);es(I,"RID","rpc"),es(I,"SID",v.K),es(I,"AID",v.T),es(I,"CI",v.F?"0":"1"),!v.F&&v.ja&&es(I,"TO",v.ja),es(I,"TYPE","xmlhttp"),sM(v,I),v.m&&v.o&&zG(I,v.m,v.o),v.L&&(v.g.I=v.L);var N=v.g;v=v.ia,N.L=1,N.v=X2(Pp(I)),N.m=null,N.P=!0,qde(N,v)}function nP(v){null!=v.C&&(a.clearTimeout(v.C),v.C=null)}function xue(v,I){var N=null;if(v.g==I){nP(v),jG(v),v.g=null;var W=2}else{if(!VG(v.h,I))return;N=I.D,tue(v.h,I),W=1}if(0!=v.G)if(I.o)if(1==W){N=I.m?I.m.length:0,I=Date.now()-I.F;var ge=v.B;cl(W=$2(),new Wde(W,N)),iP(v)}else Cue(v);else if(3==(ge=I.s)||0==ge&&0<I.X||!(1==W&&function get(v,I){return!(eue(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=I.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=qD(h(v.Ga,v,I),Sue(v,v.B)),v.B++,0)))}(v,I)||2==W&&HG(v)))switch(N&&0<N.length&&(I=v.h,I.i=I.i.concat(N)),ge){case 1:vy(v,5);break;case 4:vy(v,10);break;case 3:vy(v,6);break;default:vy(v,2)}}function Sue(v,I){let N=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(N*=2),N*I}function vy(v,I){if(v.j.info("Error code "+I),2==I){var N=h(v.fb,v),W=v.Xa;const ge=!W;W=new my(W||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Z2(W,"https"),X2(W),ge?function oet(v,I){const N=new ZD;if(a.Image){const W=new Image;W.onload=g(Ff,N,"TestLoadImage: loaded",!0,I,W),W.onerror=g(Ff,N,"TestLoadImage: error",!1,I,W),W.onabort=g(Ff,N,"TestLoadImage: abort",!1,I,W),W.ontimeout=g(Ff,N,"TestLoadImage: timeout",!1,I,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=v}else I(!1)}(W.toString(),N):function aet(v,I){new ZD;const W=new AbortController,ge=setTimeout(()=>{W.abort(),Ff(0,0,!1,I)},1e4);fetch(v,{signal:W.signal}).then(De=>{clearTimeout(ge),Ff(0,0,!!De.ok,I)}).catch(()=>{clearTimeout(ge),Ff(0,0,!1,I)})}(W.toString(),N)}else dl(2);v.G=0,v.l&&v.l.sa(I),Due(v),yue(v)}function Due(v){if(v.G=0,v.ka=[],v.l){const I=iue(v.h);(0!=I.length||0!=v.i.length)&&(_(v.ka,I),_(v.ka,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.ra()}}function Mue(v,I,N){var W=N instanceof my?Pp(N):new my(N);if(""!=W.g)I&&(W.g=I+"."+W.g),Q2(W,W.s);else{var ge=a.location;W=ge.protocol,I=I?I+"."+ge.hostname:ge.hostname,ge=+ge.port;var De=new my(null);W&&Z2(De,W),I&&(De.g=I),ge&&Q2(De,ge),N&&(De.l=N),W=De}return I=v.ya,(N=v.D)&&I&&es(W,N,I),es(W,"VER",v.la),sM(v,W),W}function Eue(v,I,N){if(I&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(I=new Fs(v.Ca&&!v.pa?new tM({eb:N}):v.pa)).Ha(v.J),I}function Iue(){}function rP(){}function Pc(v,I){Ea.call(this),this.g=new vue(I),this.l=v,this.h=I&&I.messageUrlParams||null,v=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(v?v["X-WebChannel-Content-Type"]=I.messageContentType:v={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(v?v["X-WebChannel-Client-Profile"]=I.va:v={"X-WebChannel-Client-Profile":I.va}),this.g.S=v,(v=I&&I.Sb)&&!D(v)&&(this.g.m=v),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!D(I)&&(this.g.D=I,null!==(v=this.h)&&I in v&&I in(v=this.h)&&delete v[I]),this.j=new MC(this)}function Aue(v){RG.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var I=v.__sm__;if(I){e:{for(const N in I){v=N;break e}v=void 0}(this.i=v)&&(v=this.i,I=null!==I&&v in I?I[v]:void 0),this.data=I}else this.data=v}function Tue(){kG.call(this),this.status=1}function MC(v){this.g=v}(e=Fs.prototype).Ha=function(v){this.J=v},e.ea=function(v,I,N,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);I=I?I.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():PG.g(),this.v=function zde(v){return v.h||(v.h=v.i())}(this.o?this.o:PG),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(I,String(v),!0),this.B=!1}catch(De){return void hue(this,De)}if(v=N||"",N=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ge in W)N.set(ge,W[ge]);else{if("function"!=typeof W.keys||"function"!=typeof W.get)throw Error("Unknown input type for opt_headers: "+String(W));for(const De of W.keys())N.set(De,W.get(De))}W=Array.from(N.keys()).find(De=>"content-type"==De.toLowerCase()),ge=a.FormData&&v instanceof a.FormData,!(0<=Array.prototype.indexOf.call(het,I,void 0))||W||ge||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,ut]of N)this.g.setRequestHeader(De,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fue(this),this.u=!0,this.g.send(v),this.u=!1}catch(De){hue(this,De)}},e.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,cl(this,"complete"),cl(this,"abort"),eP(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eP(this,!0)),Fs.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?gue(this):this.bb())},e.bb=function(){gue(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Fp(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(v){if(this.g){var I=this.g.responseText;return v&&0==I.indexOf(v)&&(I=I.substring(v.length)),jJe(I)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=vue.prototype).la=8,e.G=1,e.connect=function(v,I,N,W){dl(0),this.W=v,this.H=I||{},N&&void 0!==W&&(this.H.OSID=N,this.H.OAID=W),this.F=this.X,this.I=Mue(this,null,this.W),iP(this)},e.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const ge=new kf(this,this.j,v);let De=this.o;if(this.S&&(De?(De=P(De),Y(De,this.S)):De=this.S),null!==this.m||this.O||(ge.H=De,De=null),this.P)e:{for(var I=0,N=0;N<this.i.length;N++){var W=this.i[N];if(void 0===(W="__data__"in W.map&&"string"==typeof(W=W.map.__data__)?W.length:void 0))break;if(4096<(I+=W)){I=N;break e}if(4096===I||N===this.i.length-1){I=N+1;break e}}I=1e3}else I=1e3;I=_ue(this,ge,I),es(N=Pp(this.I),"RID",v),es(N,"CVER",22),this.D&&es(N,"X-HTTP-Session-Id",this.D),sM(this,N),De&&(this.O?I="headers="+encodeURIComponent(String(uue(De)))+"&"+I:this.m&&zG(N,this.m,De)),BG(this.h,ge),this.Ua&&es(N,"TYPE","init"),this.P?(es(N,"$req",I),es(N,"SID","null"),ge.T=!0,OG(ge,N,null)):OG(ge,N,I),this.G=2}}else 3==this.G&&(v?bue(this,v):0==this.i.length||Jde(this.h)||bue(this))},e.Fa=function(){if(this.u=null,wue(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=qD(h(this.ab,this),v)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dl(10),tP(this),wue(this))},e.Za=function(){null!=this.C&&(this.C=null,tP(this),HG(this),dl(19))},e.fb=function(v){v?(this.j.info("Successfully pinged google.com"),dl(2)):(this.j.info("Failed to ping google.com"),dl(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Iue.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},rP.prototype.g=function(v,I){return new Pc(v,I)},m(Pc,Ea),Pc.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pc.prototype.close=function(){GG(this.g)},Pc.prototype.o=function(v){var I=this.g;if("string"==typeof v){var N={};N.__data__=v,v=N}else this.u&&((N={}).__data__=AG(v),v=N);I.i.push(new class{constructor(v,I){this.g=v,this.map=I}}(I.Ya++,v)),3==I.G&&iP(I)},Pc.prototype.N=function(){this.g.l=null,delete this.j,GG(this.g),delete this.g,Pc.aa.N.call(this)},m(Aue,RG),m(Tue,kG),m(MC,Iue),MC.prototype.ua=function(){cl(this.g,"a")},MC.prototype.ta=function(v){cl(this.g,new Aue(v))},MC.prototype.sa=function(v){cl(this.g,new Tue)},MC.prototype.ra=function(){cl(this.g,"b")},rP.prototype.createWebChannel=rP.prototype.g,Pc.prototype.send=Pc.prototype.o,Pc.prototype.open=Pc.prototype.m,Pc.prototype.close=Pc.prototype.close,Goe=xp.createWebChannelTransport=function(){return new rP},zoe=xp.getStatEventTarget=function(){return $2()},Boe=xp.Event=gy,J5=xp.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Y2.NO_ERROR=0,Y2.TIMEOUT=8,Y2.HTTP_ERROR=6,Hk=xp.ErrorCode=Y2,$de.COMPLETE="complete",Voe=xp.EventType=$de,Gde.EventType=YD,YD.OPEN="a",YD.CLOSE="b",YD.ERROR="c",YD.MESSAGE="d",Ea.prototype.listen=Ea.prototype.K,rD=xp.WebChannel=Gde,xp.FetchXmlHttpFactory=tM,Fs.prototype.listenOnce=Fs.prototype.L,Fs.prototype.getLastError=Fs.prototype.Ka,Fs.prototype.getLastErrorCode=Fs.prototype.Ba,Fs.prototype.getStatus=Fs.prototype.Z,Fs.prototype.getResponseJson=Fs.prototype.Oa,Fs.prototype.getResponseText=Fs.prototype.oa,Fs.prototype.send=Fs.prototype.ea,Fs.prototype.setWithCredentials=Fs.prototype.Ha,Noe=xp.XhrIo=Fs}).apply(typeof Gk<"u"?Gk:typeof self<"u"?self:typeof window<"u"?window:{});const Hoe="@firebase/firestore";class Ro{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ro.UNAUTHENTICATED=new Ro(null),Ro.GOOGLE_CREDENTIALS=new Ro("google-credentials-uid"),Ro.FIRST_PARTY=new Ro("first-party-uid"),Ro.MOCK_USER=new Ro("mock-user");let z_="10.14.0";const pf=new qu.Vy("@firebase/firestore");function G_(){return pf.logLevel}function Ue(e,...t){if(pf.logLevel<=qu.$b.DEBUG){const i=t.map(ez);pf.debug(`Firestore (${z_}): ${e}`,...i)}}function Hs(e,...t){if(pf.logLevel<=qu.$b.ERROR){const i=t.map(ez);pf.error(`Firestore (${z_}): ${e}`,...i)}}function Tc(e,...t){if(pf.logLevel<=qu.$b.WARN){const i=t.map(ez);pf.warn(`Firestore (${z_}): ${e}`,...i)}}function ez(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function At(e="Unexpected state"){const t=`FIRESTORE (${z_}) INTERNAL ASSERTION FAILED: `+e;throw Hs(t),new Error(t)}function Nt(e,t){e||At()}function lt(e,t){return e}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ln.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ko{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class joe{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gqe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ro.UNAUTHENTICATED))}shutdown(){}}class fqe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class mqe{constructor(t){this.t=t,this.currentUser=Ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var n=this;Nt(void 0===this.o);let r=this.i;const s=c=>this.i!==r?(r=this.i,i(c)):Promise.resolve();let o=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ko,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable((0,J.A)(function*(){yield c.promise,yield s(n.currentUser)}))},l=c=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ko)}},0),a()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Nt("string"==typeof n.accessToken),new joe(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Nt(null===t||"string"==typeof t),new Ro(t)}}class vqe{constructor(t,i,n){this.l=t,this.h=i,this.P=n,this.type="FirstParty",this.user=Ro.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yqe{constructor(t,i,n){this.l=t,this.h=i,this.P=n}getToken(){return Promise.resolve(new vqe(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uoe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bqe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Nt(void 0===this.o);const n=s=>{null!=s.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?i(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const r=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Nt("string"==typeof i.token),this.R=i.token,new Uoe(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _qe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let n=0;n<e;n++)i[n]=Math.floor(256*Math.random());return i}class Woe{static newId(){const i=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=_qe(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<i&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return n}}function wi(e,t){return e<t?-1:e>t?1:0}function H_(e,t,i){return e.length===t.length&&e.every((n,r)=>i(n,t[r]))}function $oe(e){return e+"\0"}class ds{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ds.fromMillis(Date.now())}static fromDate(t){return ds.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*i));return new ds(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?wi(this.nanoseconds,t.nanoseconds):wi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Wt(t)}static min(){return new Wt(new ds(0,0))}static max(){return new Wt(new ds(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sD{constructor(t,i,n){void 0===i?i=0:i>t.length&&At(),void 0===n?n=t.length-i:n>t.length-i&&At(),this.segments=t,this.offset=i,this.len=n}get length(){return this.len}isEqual(t){return 0===sD.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof sD?t.forEach(n=>{i.push(n)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,n=this.limit();i<n;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const n=Math.min(t.length,i.length);for(let r=0;r<n;r++){const s=t.get(r),o=i.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class sn extends sD{construct(t,i,n){return new sn(t,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const n of t){if(n.indexOf("//")>=0)throw new He(xe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new sn(i)}static emptyPath(){return new sn([])}}const Cqe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qr extends sD{construct(t,i,n){return new qr(t,i,n)}static isValidIdentifier(t){return Cqe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qr(["__name__"])}static fromServerFormat(t){const i=[];let n="",r=0;const s=()=>{if(0===n.length)throw new He(xe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new He(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new He(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(n+=a,r++):(s(),r++)}if(s(),o)throw new He(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qr(i)}static emptyPath(){return new qr([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(sn.fromString(t))}static fromName(t){return new pt(sn.fromString(t).popFirst(5))}static empty(){return new pt(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return sn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new sn(t.slice()))}}class j_{constructor(t,i,n,r){this.indexId=t,this.collectionGroup=i,this.fields=n,this.indexState=r}}function tz(e){return e.fields.find(t=>2===t.kind)}function Yv(e){return e.fields.filter(t=>2!==t.kind)}j_.UNKNOWN_ID=-1;class Kv{constructor(t,i){this.fieldPath=t,this.kind=i}}class U_{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new U_(0,Rc.min())}}function Yoe(e,t){const i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=Wt.fromTimestamp(1e9===n?new ds(i+1,0):new ds(i,n));return new Rc(r,pt.empty(),t)}function Koe(e){return new Rc(e.readTime,e.key,-1)}class Rc{constructor(t,i,n){this.readTime=t,this.documentKey=i,this.largestBatchId=n}static min(){return new Rc(Wt.min(),pt.empty(),-1)}static max(){return new Rc(Wt.max(),pt.empty(),-1)}}function iz(e,t){let i=e.readTime.compareTo(t.readTime);return 0!==i?i:(i=pt.comparator(e.documentKey,t.documentKey),0!==i?i:wi(e.largestBatchId,t.largestBatchId))}const qoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zoe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function gf(e){return nz.apply(this,arguments)}function nz(){return(nz=(0,J.A)(function*(e){if(e.code!==xe.FAILED_PRECONDITION||e.message!==qoe)throw e;Ue("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new fe((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(i,s).next(n,r)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof fe?i:fe.resolve(i)}catch(i){return fe.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):fe.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):fe.reject(i)}static resolve(t){return new fe((i,n)=>{i(t)})}static reject(t){return new fe((i,n)=>{n(t)})}static waitFor(t){return new fe((i,n)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&i()},l=>n(l))}),o=!0,s===r&&i()})}static or(t){let i=fe.resolve(!1);for(const n of t)i=i.next(r=>r?fe.resolve(r):n());return i}static forEach(t,i){const n=[];return t.forEach((r,s)=>{n.push(i.call(this,r,s))}),this.waitFor(n)}static mapArray(t,i){return new fe((n,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;i(t[c]).next(d=>{o[c]=d,++a,a===s&&n(o)},d=>r(d))}})}static doWhile(t,i){return new fe((n,r)=>{const s=()=>{!0===t()?i().next(()=>{s()},r):n()};s()})}}class jk{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new ko,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new oD(t,i.error)):this.V.resolve()},this.transaction.onerror=n=>{const r=rz(n.target.error);this.V.reject(new oD(t,r))}}static open(t,i,n,r){try{return new jk(i,t.transaction(r,n))}catch(s){throw new oD(i,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Dqe(i)}}class Zu{constructor(t,i,n){this.name=t,this.version=i,this.p=n,12.2===Zu.S((0,Ln.ZQ)())&&Hs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),qv(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Ln.zW)())return!1;if(Zu.v())return!0;const t=(0,Ln.ZQ)(),i=Zu.S(t),n=0<i&&i<10,r=Qoe(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||s)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(n)}M(t){var i=this;return(0,J.A)(function*(){return i.db||(Ue("SimpleDb","Opening database:",i.name),i.db=yield new Promise((n,r)=>{const s=indexedDB.open(i.name,i.version);s.onsuccess=o=>{n(o.target.result)},s.onblocked=()=>{r(new oD(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new He(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new He(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new oD(t,a))},s.onupgradeneeded=o=>{Ue("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',o.oldVersion),i.p.O(o.target.result,s.transaction,o.oldVersion,i.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=n=>i.N(n)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,n,r){var s=this;return(0,J.A)(function*(){const o="readonly"===i;let a=0;for(;;){++a;try{s.db=yield s.M(t);const l=jk.open(s.db,t,o?"readonly":"readwrite",n),c=r(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),fe.reject(d))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,d="FirebaseError"!==c.name&&a<3;if(Ue("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),s.close(),!d)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Qoe(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Sqe{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return qv(this.B.delete())}}class oD extends He{constructor(t,i){super(xe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function ff(e){return"IndexedDbTransactionError"===e.name}class Dqe{constructor(t){this.store=t}put(t,i){let n;return void 0!==i?(Ue("SimpleDb","PUT",this.store.name,t,i),n=this.store.put(i,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),qv(n)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),qv(this.store.add(t))}get(t){return qv(this.store.get(t)).next(i=>(void 0===i&&(i=null),Ue("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),qv(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),qv(this.store.count())}U(t,i){const n=this.options(t,i),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const s=r.getAll(n.range);return new fe((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(n),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(t,i){const n=this.store.getAll(t,null===i?void 0:i);return new fe((r,s)=>{n.onerror=o=>{s(o.target.error)},n.onsuccess=o=>{r(o.target.result)}})}j(t,i){Ue("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,i);n.H=!1;const r=this.cursor(n);return this.W(r,(s,o,a)=>a.delete())}J(t,i){let n;i?n=t:(n={},i=t);const r=this.cursor(n);return this.W(r,i)}Y(t){const i=this.cursor({});return new fe((n,r)=>{i.onerror=s=>{const o=rz(s.target.error);r(o)},i.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():n()}):n()}})}W(t,i){const n=[];return new fe((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new Sqe(a),c=i(a.primaryKey,a.value,l);if(c instanceof fe){const d=c.catch(u=>(l.done(),fe.reject(u)));n.push(d)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>fe.waitFor(n))}options(t,i){let n;return void 0!==t&&("string"==typeof t?n=t:i=t),{index:n,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const n=this.store.index(t.index);return t.H?n.openKeyCursor(t.range,i):n.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function qv(e){return new fe((t,i)=>{e.onsuccess=n=>{t(n.target.result)},e.onerror=n=>{const r=rz(n.target.error);i(r)}})}let Xoe=!1;function rz(e){const t=Zu.S((0,Ln.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(i)>=0){const n=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xoe||(Xoe=!0,setTimeout(()=>{throw n},0)),n}}return e}class Mqe{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;Ue("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,J.A)(function*(){i.task=null;try{Ue("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(n){ff(n)?Ue("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield gf(n)}yield i.X(6e4)}))}}class Eqe{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,J.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>i.te(n,t))})()}te(t,i){const n=new Set;let r=i,s=!0;return fe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!n.has(o))return Ue("IndexBackfiller",`Processing collection: ${o}`),this.ne(t,o,r).next(a=>{r-=a,n.add(o)});s=!1})).next(()=>i-r)}ne(t,i,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(r=>this.localStore.localDocuments.getNextDocuments(t,i,r,n).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.re(r,s)).next(a=>(Ue("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,i,a))).next(()=>o.size)}))}re(t,i){let n=t;return i.changes.forEach((r,s)=>{const o=Koe(s);iz(o,n)>0&&(n=o)}),new Rc(n.readTime,n.documentKey,Math.max(i.batchId,t.largestBatchId))}}let kc=(()=>{class e{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return e.oe=-1,e})();function aD(e){return null==e}function lD(e){return 0===e&&1/e==-1/0}function Joe(e){return"number"==typeof e&&Number.isInteger(e)&&!lD(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function xa(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=eae(t)),t=Iqe(e.get(i),t);return eae(t)}function Iqe(e,t){let i=t;const n=e.length;for(let r=0;r<n;r++){const s=e.charAt(r);switch(s){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=s}}return i}function eae(e){return e+"\x01\x01"}function Qu(e){const t=e.length;if(Nt(t>=2),2===t)return Nt("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),sn.emptyPath();const i=t-2,n=[];let r="";for(let s=0;s<t;){const o=e.indexOf("\x01",s);switch((o<0||o>i)&&At(),e.charAt(o+1)){case"\x01":const a=e.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),n.push(l);break;case"\x10":r+=e.substring(s,o),r+="\0";break;case"\x11":r+=e.substring(s,o+1);break;default:At()}s=o+2}return new sn(n)}const tae=["userId","batchId"];function Uk(e,t){return[e,xa(t)]}function iae(e,t,i){return[e,xa(t),i]}const Aqe={},Tqe=["prefixPath","collectionGroup","readTime","documentId"],Rqe=["prefixPath","collectionGroup","documentId"],kqe=["collectionGroup","readTime","prefixPath","documentId"],Pqe=["canonicalId","targetId"],Fqe=["targetId","path"],Oqe=["path","targetId"],Lqe=["collectionId","parent"],Nqe=["indexId","uid"],Vqe=["uid","sequenceNumber"],Bqe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zqe=["indexId","uid","orderedDocumentKey"],Gqe=["userId","collectionPath","documentId"],Hqe=["userId","collectionPath","largestBatchId"],jqe=["userId","collectionGroup","largestBatchId"],nae=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uqe=[...nae,"documentOverlays"],rae=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sae=rae,sz=[...sae,"indexConfiguration","indexState","indexEntries"],Wqe=sz,$qe=[...sz,"globals"];class oz extends Zoe{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function yo(e,t){const i=lt(e);return Zu.F(i._e,t)}function oae(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function mf(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function lae(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Pr{constructor(t,i){this.comparator=t,this.root=i||ea.EMPTY}insert(t,i){return new Pr(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ea.BLACK,null,null))}remove(t){return new Pr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ea.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const n=this.comparator(t,i.key);if(0===n)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(t){let i=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,n)=>(t(i,n),!1))}toString(){const t=[];return this.inorderTraversal((i,n)=>(t.push(`${i}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wk(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wk(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wk(this.root,t,this.comparator,!0)}}class Wk{constructor(t,i,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=i?n(t.key,i):1,i&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ea{constructor(t,i,n,r,s){this.key=t,this.value=i,this.color=n??ea.RED,this.left=r??ea.EMPTY,this.right=s??ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,n,r,s){return new ea(t??this.key,i??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,n){let r=this;const s=n(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,i,n),null):0===s?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(t,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ea.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let n,r=this;if(i(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===i(t,r.key)){if(r.right.isEmpty())return ea.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}ea.EMPTY=null,ea.RED=!0,ea.BLACK=!1,ea.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,i,n,r,s){return this}insert(t,i,n){return new ea(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(t){this.comparator=t,this.data=new Pr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,n)=>(t(i),!1))}forEachInRange(t,i){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;i(r.key)}}forEachWhile(t,i){let n;for(n=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new cae(this.data.getIterator())}getIteratorFrom(t){return new cae(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(n=>{i=i.add(n)}),i}isEqual(t){if(!(t instanceof cr)||this.size!==t.size)return!1;const i=this.data.getIterator(),n=t.data.getIterator();for(;i.hasNext();){const r=i.getNext().key,s=n.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new cr(this.comparator);return i.data=t,i}}class cae{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function W_(e){return e.hasNext()?e.getNext():void 0}class Zl{constructor(t){this.fields=t,t.sort(qr.comparator)}static empty(){return new Zl([])}unionWith(t){let i=new cr(qr.comparator);for(const n of this.fields)i=i.add(n);for(const n of t)i=i.add(n);return new Zl(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return H_(this.fields,t.fields,(i,n)=>i.isEqual(n))}}class dae extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ks{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dae("Invalid base64 string: "+s):s}}(t);return new ks(i)}static fromUint8Array(t){const i=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new ks(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const Kqe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sp(e){if(Nt(!!e),"string"==typeof e){let t=0;const i=Kqe.exec(e);if(Nt(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:us(e.seconds),nanos:us(e.nanos)}}function us(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dp(e){return"string"==typeof e?ks.fromBase64String(e):ks.fromUint8Array(e)}function $k(e){var t,i;return"server_timestamp"===(null===(i=((null===(t=e?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Yk(e){const t=e.mapValue.fields.__previous_value__;return $k(t)?Yk(t):t}function cD(e){const t=Sp(e.mapValue.fields.__local_write_time__.timestampValue);return new ds(t.seconds,t.nanos)}class qqe{constructor(t,i,n,r,s,o,a,l,c){this.databaseId=t,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class vf{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new vf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof vf&&t.projectId===this.projectId&&t.database===this.database}}const yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kk={nullValue:"NULL_VALUE"};function bf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$k(e)?4:fae(e)?9007199254740991:Qk(e)?10:11:At()}function Xu(e,t){if(e===t)return!0;const i=bf(e);if(i!==bf(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cD(e).isEqual(cD(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Sp(r.timestampValue),a=Sp(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return s=t,Dp(e.bytesValue).isEqual(Dp(s.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return us(r.geoPointValue.latitude)===us(s.geoPointValue.latitude)&&us(r.geoPointValue.longitude)===us(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return us(r.integerValue)===us(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=us(r.doubleValue),a=us(s.doubleValue);return o===a?lD(o)===lD(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return H_(e.arrayValue.values||[],t.arrayValue.values||[],Xu);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(oae(o)!==oae(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Xu(o[l],a[l])))return!1;return!0}(e,t);default:return At()}var s}function dD(e,t){return void 0!==(e.values||[]).find(i=>Xu(i,t))}function _f(e,t){if(e===t)return 0;const i=bf(e),n=bf(t);if(i!==n)return wi(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return wi(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=us(s.integerValue||s.doubleValue),l=us(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return uae(e.timestampValue,t.timestampValue);case 4:return uae(cD(e),cD(t));case 5:return wi(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Dp(s),l=Dp(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=wi(a[c],l[c]);if(0!==d)return d}return wi(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=wi(us(s.latitude),us(o.latitude));return 0!==a?a:wi(us(s.longitude),us(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return hae(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,c,d;const g=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,m=null===(l=(o.fields||{}).value)||void 0===l?void 0:l.arrayValue,y=wi((null===(c=g?.values)||void 0===c?void 0:c.length)||0,(null===(d=m?.values)||void 0===d?void 0:d.length)||0);return 0!==y?y:hae(g,m)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===yf.mapValue&&o===yf.mapValue)return 0;if(s===yf.mapValue)return 1;if(o===yf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let u=0;u<l.length&&u<d.length;++u){const h=wi(l[u],d[u]);if(0!==h)return h;const g=_f(a[l[u]],c[d[u]]);if(0!==g)return g}return wi(l.length,d.length)}(e.mapValue,t.mapValue);default:throw At()}}function uae(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wi(e,t);const i=Sp(e),n=Sp(t),r=wi(i.seconds,n.seconds);return 0!==r?r:wi(i.nanos,n.nanos)}function hae(e,t){const i=e.values||[],n=t.values||[];for(let r=0;r<i.length&&r<n.length;++r){const s=_f(i[r],n[r]);if(s)return s}return wi(i.length,n.length)}function $_(e){return az(e)}function az(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const n=Sp(i);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dp(e.bytesValue).toBase64():"referenceValue"in e?pt.fromName(e.referenceValue).toString():"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let n="[",r=!0;for(const s of i.values||[])r?r=!1:n+=",",n+=az(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(i){const n=Object.keys(i.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${az(i.fields[o])}`;return r+"}"}(e.mapValue):At()}function Zv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lz(e){return!!e&&"integerValue"in e}function uD(e){return!!e&&"arrayValue"in e}function pae(e){return!!e&&"nullValue"in e}function gae(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zk(e){return!!e&&"mapValue"in e}function Qk(e){var t,i;return"__vector__"===(null===(i=((null===(t=e?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function hD(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mf(e.mapValue.fields,(i,n)=>t.mapValue.fields[i]=hD(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=hD(e.arrayValue.values[i]);return t}return Object.assign({},e)}function fae(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const mae={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Zqe(e){return"nullValue"in e?Kk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zv(vf.empty(),pt.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Qk(e)?mae:{mapValue:{}}:At()}function Qqe(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zv(vf.empty(),pt.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?mae:"mapValue"in e?Qk(e)?{mapValue:{}}:yf:At()}function vae(e,t){const i=_f(e.value,t.value);return 0!==i?i:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yae(e,t){const i=_f(e.value,t.value);return 0!==i?i:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ta{constructor(t){this.value=t}static empty(){return new ta({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let n=0;n<t.length-1;++n)if(i=(i.mapValue.fields||{})[t.get(n)],!Zk(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=hD(i)}setAll(t){let i=qr.emptyPath(),n={},r=[];t.forEach((o,a)=>{if(!i.isImmediateParentOf(a)){const l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=a.popLast()}o?n[a.lastSegment()]=hD(o):r.push(a.lastSegment())});const s=this.getFieldsMap(i);this.applyChanges(s,n,r)}delete(t){const i=this.field(t.popLast());Zk(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xu(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=i.mapValue.fields[t.get(n)];Zk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[t.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(t,i,n){mf(i,(r,s)=>t[r]=s);for(const r of n)delete t[r]}clone(){return new ta(hD(this.value))}}function bae(e){const t=[];return mf(e.fields,(i,n)=>{const r=new qr([i]);if(Zk(n)){const s=bae(n.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Zl(t)}class Zr{constructor(t,i,n,r,s,o,a){this.key=t,this.documentType=i,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Zr(t,0,Wt.min(),Wt.min(),Wt.min(),ta.empty(),0)}static newFoundDocument(t,i,n,r){return new Zr(t,1,i,Wt.min(),n,r,0)}static newNoDocument(t,i){return new Zr(t,2,i,Wt.min(),Wt.min(),ta.empty(),0)}static newUnknownDocument(t,i){return new Zr(t,3,i,Wt.min(),Wt.min(),ta.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ta.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Zr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cf{constructor(t,i){this.position=t,this.inclusive=i}}function _ae(e,t,i){let n=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(n=s.field.isKeyField()?pt.comparator(pt.fromName(o.referenceValue),i.key):_f(o,i.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function Cae(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Xu(e.position[i],t.position[i]))return!1;return!0}class pD{constructor(t,i="asc"){this.field=t,this.dir=i}}function Xqe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wae{}class on extends wae{constructor(t,i,n){super(),this.field=t,this.op=i,this.value=n}static create(t,i,n){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,n):new Jqe(t,i,n):"array-contains"===i?new iZe(t,n):"in"===i?new Iae(t,n):"not-in"===i?new nZe(t,n):"array-contains-any"===i?new rZe(t,n):new on(t,i,n)}static createKeyFieldInFilter(t,i,n){return"in"===i?new eZe(t,n):new tZe(t,n)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(_f(i,this.value)):null!==i&&bf(this.value)===bf(i)&&this.matchesComparison(_f(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends wae{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new nr(t,i)}matches(t){return Y_(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y_(e){return"and"===e.op}function cz(e){return"or"===e.op}function dz(e){return xae(e)&&Y_(e)}function xae(e){for(const t of e.filters)if(t instanceof nr)return!1;return!0}function uz(e){if(e instanceof on)return e.field.canonicalString()+e.op.toString()+$_(e.value);if(dz(e))return e.filters.map(t=>uz(t)).join(",");{const t=e.filters.map(i=>uz(i)).join(",");return`${e.op}(${t})`}}function Sae(e,t){return e instanceof on?(n=e,(r=t)instanceof on&&n.op===r.op&&n.field.isEqual(r.field)&&Xu(n.value,r.value)):e instanceof nr?function(n,r){return r instanceof nr&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,o,a)=>s&&Sae(o,r.filters[a]),!0)}(e,t):void At();var n,r}function Dae(e,t){const i=e.filters.concat(t);return nr.create(i,e.op)}function Mae(e){return e instanceof on?`${(i=e).field.canonicalString()} ${i.op} ${$_(i.value)}`:e instanceof nr?function(i){return i.op.toString()+" {"+i.getFilters().map(Mae).join(" ,")+"}"}(e):"Filter";var i}class Jqe extends on{constructor(t,i,n){super(t,i,n),this.key=pt.fromName(n.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class eZe extends on{constructor(t,i){super(t,"in",i),this.keys=Eae(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class tZe extends on{constructor(t,i){super(t,"not-in",i),this.keys=Eae(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Eae(e,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(n=>pt.fromName(n.referenceValue))}class iZe extends on{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return uD(i)&&dD(i.arrayValue,this.value)}}class Iae extends on{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&dD(this.value.arrayValue,i)}}class nZe extends on{constructor(t,i){super(t,"not-in",i)}matches(t){if(dD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!dD(this.value.arrayValue,i)}}class rZe extends on{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!uD(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>dD(this.value.arrayValue,n))}}class sZe{constructor(t,i=null,n=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function hz(e,t=null,i=[],n=[],r=null,s=null,o=null){return new sZe(e,t,i,n,r,s,o)}function Qv(e){const t=lt(e);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(n=>uz(n)).join(","),i+="|ob:",i+=t.orderBy.map(n=>{return(s=n).field.canonicalString()+s.dir;var s}).join(","),aD(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>$_(n)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>$_(n)).join(",")),t.ue=i}return t.ue}function gD(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Xqe(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!Sae(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cae(e.startAt,t.startAt)&&Cae(e.endAt,t.endAt)}function Xk(e){return pt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Jk(e,t){return e.filters.filter(i=>i instanceof on&&i.field.isEqual(t))}function Aae(e,t,i){let n=Kk,r=!0;for(const s of Jk(e,t)){let o=Kk,a=!0;switch(s.op){case"<":case"<=":o=Zqe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Kk}vae({value:n,inclusive:r},{value:o,inclusive:a})<0&&(n=o,r=a)}if(null!==i)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=i.position[s];vae({value:n,inclusive:r},{value:o,inclusive:i.inclusive})<0&&(n=o,r=i.inclusive);break}return{value:n,inclusive:r}}function Tae(e,t,i){let n=yf,r=!0;for(const s of Jk(e,t)){let o=yf,a=!0;switch(s.op){case">=":case">":o=Qqe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=yf}yae({value:n,inclusive:r},{value:o,inclusive:a})>0&&(n=o,r=a)}if(null!==i)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=i.position[s];yae({value:n,inclusive:r},{value:o,inclusive:i.inclusive})>0&&(n=o,r=i.inclusive);break}return{value:n,inclusive:r}}class Mp{constructor(t,i=null,n=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function Rae(e,t,i,n,r,s,o,a){return new Mp(e,t,i,n,r,s,o,a)}function K_(e){return new Mp(e)}function kae(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pz(e){return null!==e.collectionGroup}function q_(e){const t=lt(e);if(null===t.ce){t.ce=[];const i=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),i.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new cr(qr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{i.has(s.canonicalString())||s.isKeyField()||t.ce.push(new pD(s,n))}),i.has(qr.keyField().canonicalString())||t.ce.push(new pD(qr.keyField(),n))}return t.ce}function Sa(e){const t=lt(e);return t.le||(t.le=function Fae(e,t){if("F"===e.limitType)return hz(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>new pD(r.field,"desc"===r.dir?"asc":"desc"));const i=e.endAt?new Cf(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Cf(e.startAt.position,e.startAt.inclusive):null;return hz(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}}(t,q_(e))),t.le}function gz(e,t){const i=e.filters.concat([t]);return new Mp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}function e2(e,t,i){return new Mp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function fD(e,t){return gD(Sa(e),Sa(t))&&e.limitType===t.limitType}function Oae(e){return`${Qv(Sa(e))}|lt:${e.limitType}`}function Z_(e){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>Mae(r)).join(", ")}]`),aD(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>$_(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>$_(r)).join(",")),`Target(${n})`}(Sa(e))}; limitType=${e.limitType})`}function mD(e,t){return t.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):pt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,r){for(const s of q_(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(e,t)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(o,a,l){const c=_ae(o,a,l);return o.inclusive?c<=0:c<0}(n.startAt,q_(n),r)||n.endAt&&!function(o,a,l){const c=_ae(o,a,l);return o.inclusive?c>=0:c>0}(n.endAt,q_(n),r)));var n,r}function Lae(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nae(e){return(t,i)=>{let n=!1;for(const r of q_(e)){const s=oZe(r,t,i);if(0!==s)return s;n=n||r.field.isKeyField()}return 0}}function oZe(e,t,i){const n=e.field.isKeyField()?pt.comparator(t.key,i.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?_f(l,c):At()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return At()}}class Ep{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),n=this.inner[i];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,i){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,i]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,i]);r.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),n=this.inner[i];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){mf(this.inner,(i,n)=>{for(const[r,s]of n)t(r,s)})}isEmpty(){return lae(this.inner)}size(){return this.innerSize}}const aZe=new Pr(pt.comparator);function Ql(){return aZe}const Vae=new Pr(pt.comparator);function vD(...e){let t=Vae;for(const i of e)t=t.insert(i.key,i);return t}function Bae(e){let t=Vae;return e.forEach((i,n)=>t=t.insert(i,n.overlayedDocument)),t}function Ju(){return yD()}function zae(){return yD()}function yD(){return new Ep(e=>e.toString(),(e,t)=>e.isEqual(t))}const lZe=new Pr(pt.comparator),cZe=new cr(pt.comparator);function Oi(...e){let t=cZe;for(const i of e)t=t.add(i);return t}const dZe=new cr(wi);function fz(){return dZe}function mz(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lD(t)?"-0":t}}function Gae(e){return{integerValue:""+e}}function Hae(e,t){return Joe(t)?Gae(t):mz(e,t)}class t2{constructor(){this._=void 0}}function uZe(e,t,i){return e instanceof Q_?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&$k(s)&&(s=Yk(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(i,t):e instanceof Xv?Uae(e,t):e instanceof Jv?Wae(e,t):function(r,s){const o=jae(r,s),a=$ae(o)+$ae(r.Pe);return lz(o)&&lz(r.Pe)?Gae(a):mz(r.serializer,a)}(e,t)}function hZe(e,t,i){return e instanceof Xv?Uae(e,t):e instanceof Jv?Wae(e,t):i}function jae(e,t){return e instanceof X_?lz(n=t)||(s=n)&&"doubleValue"in s?t:{integerValue:0}:null;var n,s}class Q_ extends t2{}class Xv extends t2{constructor(t){super(),this.elements=t}}function Uae(e,t){const i=Yae(t);for(const n of e.elements)i.some(r=>Xu(r,n))||i.push(n);return{arrayValue:{values:i}}}class Jv extends t2{constructor(t){super(),this.elements=t}}function Wae(e,t){let i=Yae(t);for(const n of e.elements)i=i.filter(r=>!Xu(r,n));return{arrayValue:{values:i}}}class X_ extends t2{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function $ae(e){return us(e.integerValue||e.doubleValue)}function Yae(e){return uD(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bD{constructor(t,i){this.field=t,this.transform=i}}class gZe{constructor(t,i){this.version=t,this.transformResults=i}}class hs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hs}static exists(t){return new hs(void 0,t)}static updateTime(t){return new hs(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function n2(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class r2{}function Kae(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new eC(e.key,hs.none()):new J_(e.key,e.data,hs.none());{const i=e.data,n=ta.empty();let r=new cr(qr.comparator);for(let s of t.fields)if(!r.has(s)){let o=i.field(s);null===o&&s.length>1&&(s=s.popLast(),o=i.field(s)),null===o?n.delete(s):n.set(s,o),r=r.add(s)}return new Ip(e.key,n,new Zl(r.toArray()),hs.none())}}function fZe(e,t,i){e instanceof J_?function(r,s,o){const a=r.value.clone(),l=Qae(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,i):e instanceof Ip?function(r,s,o){if(!n2(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Qae(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Zae(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function _D(e,t,i,n){return e instanceof J_?function(s,o,a,l){if(!n2(s.precondition,o))return a;const c=s.value.clone(),d=Xae(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,i,n):e instanceof Ip?function(s,o,a,l){if(!n2(s.precondition,o))return a;const c=Xae(s.fieldTransforms,l,o),d=o.data;return d.setAll(Zae(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(e,t,i,n):(a=i,n2(e.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function mZe(e,t){let i=null;for(const n of e.fieldTransforms){const r=t.data.field(n.field),s=jae(n.transform,r||null);null!=s&&(null===i&&(i=ta.empty()),i.set(n.field,s))}return i||null}function qae(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&H_(n,r,(s,o)=>function pZe(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof Xv&&r instanceof Xv||n instanceof Jv&&r instanceof Jv?H_(n.elements,r.elements,Xu):n instanceof X_&&r instanceof X_?Xu(n.Pe,r.Pe):n instanceof Q_&&r instanceof Q_);var n,r}(s,o))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}class J_ extends r2{constructor(t,i,n,r=[]){super(),this.key=t,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ip extends r2{constructor(t,i,n,r,s=[]){super(),this.key=t,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Zae(e){const t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const n=e.data.field(i);t.set(i,n)}}),t}function Qae(e,t,i){const n=new Map;Nt(e.length===i.length);for(let r=0;r<i.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);n.set(s.field,hZe(o,a,i[r]))}return n}function Xae(e,t,i){const n=new Map;for(const r of e){const s=r.transform,o=i.data.field(r.field);n.set(r.field,uZe(s,o,t))}return n}class eC extends r2{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vz extends r2{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yz{constructor(t,i,n,r){this.batchId=t,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,i){const n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&fZe(s,t,n[r])}}applyToLocalView(t,i){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(i=_D(n,t,i,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(i=_D(n,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const n=zae();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=i.has(r.key)?null:a;const l=Kae(o,a);null!==l&&n.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Wt.min())}),n}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Oi())}isEqual(t){return this.batchId===t.batchId&&H_(this.mutations,t.mutations,(i,n)=>qae(i,n))&&H_(this.baseMutations,t.baseMutations,(i,n)=>qae(i,n))}}class bz{constructor(t,i,n,r){this.batch=t,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(t,i,n){Nt(t.mutations.length===n.length);let r=lZe;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new bz(t,i,n,r)}}class _z{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vZe{constructor(t,i){this.count=t,this.unchangedNames=i}}var io,pn;function ele(e){switch(e){default:return At();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function tle(e){if(void 0===e)return Hs("GRPC error has no .code"),xe.UNKNOWN;switch(e){case io.OK:return xe.OK;case io.CANCELLED:return xe.CANCELLED;case io.UNKNOWN:return xe.UNKNOWN;case io.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case io.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case io.INTERNAL:return xe.INTERNAL;case io.UNAVAILABLE:return xe.UNAVAILABLE;case io.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case io.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case io.NOT_FOUND:return xe.NOT_FOUND;case io.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case io.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case io.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case io.ABORTED:return xe.ABORTED;case io.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case io.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case io.DATA_LOSS:return xe.DATA_LOSS;default:return At()}}(pn=io||(io={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";function ile(){return new TextEncoder}const yZe=new $v([4294967295,4294967295],0);function nle(e){const t=ile().encode(e),i=new Loe;return i.update(t),new Uint8Array(i.digest())}function rle(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $v([i,n],0),new $v([r,s],0)]}class Cz{constructor(t,i,n){if(this.bitmap=t,this.padding=i,this.hashCount=n,i<0||i>=8)throw new CD(`Invalid padding: ${i}`);if(n<0)throw new CD(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new CD(`Invalid hash count: ${n}`);if(0===t.length&&0!==i)throw new CD(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=$v.fromNumber(this.Ie)}Ee(t,i,n){let r=t.add(i.multiply($v.fromNumber(n)));return 1===r.compare(yZe)&&(r=new $v([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=nle(t),[n,r]=rle(i);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(t,i,n){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Cz(s,r,i);return n.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Ie)return;const i=nle(t),[n,r]=rle(i);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);this.Ae(o)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class CD extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wD{constructor(t,i,n,r,s){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,i,n){const r=new Map;return r.set(t,xD.createSynthesizedTargetChangeForCurrentChange(t,i,n)),new wD(Wt.min(),r,new Pr(wi),Ql(),Oi())}}class xD{constructor(t,i,n,r,s){this.resumeToken=t,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,i,n){return new xD(n,i,Oi(),Oi(),Oi())}}class o2{constructor(t,i,n,r){this.Re=t,this.removedTargetIds=i,this.key=n,this.Ve=r}}class sle{constructor(t,i){this.targetId=t,this.me=i}}class ole{constructor(t,i,n=ks.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=i,this.resumeToken=n,this.cause=r}}class ale{constructor(){this.fe=0,this.ge=cle(),this.pe=ks.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Oi(),i=Oi(),n=Oi();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:At()}}),new xD(this.pe,this.ye,t,i,n)}Ce(){this.we=!1,this.ge=cle()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bZe{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ql(),this.qe=lle(),this.Qe=new Pr(wi)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const n=this.Ge(i);switch(t.state){case 0:this.ze(i)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(t.resumeToken));break;default:At()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(t){const i=t.targetId,n=t.me.count,r=this.Je(i);if(r){const s=r.target;if(Xk(s))if(0===n){const o=new pt(s.path);this.Ue(i,o,Zr.newNoDocument(o,Wt.min()))}else Nt(1===n);else{const o=this.Ye(i);if(o!==n){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;0!==l&&(this.je(i),this.Qe=this.Qe.insert(i,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=i;let o,a;try{o=Dp(n).toUint8Array()}catch(l){if(l instanceof dae)return Tc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cz(o,r,s)}catch(l){return Tc(l instanceof CD?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,i,n){return i.me.count===n-this.nt(t,i.targetId)?0:2}nt(t,i){const n=this.Le.getRemoteKeysForTarget(i);let r=0;return n.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(i,s,null),r++)}),r}rt(t){const i=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Xk(a.target)){const l=new pt(a.target.path);null!==this.ke.get(l)||this.it(o,l)||this.Ue(o,l,Zr.newNoDocument(l,t))}s.be&&(i.set(o,s.ve()),s.Ce())}});let n=Oi();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new wD(t,i,this.Qe,this.ke,n);return this.ke=Ql(),this.qe=lle(),this.Qe=new Pr(wi),r}$e(t,i){if(!this.ze(t))return;const n=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,n){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new ale,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new cr(wi),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||Ue("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new ale),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function lle(){return new Pr(pt.comparator)}function cle(){return new Pr(pt.comparator)}const _Ze={asc:"ASCENDING",desc:"DESCENDING"},CZe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wZe={and:"AND",or:"OR"};class xZe{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function wz(e,t){return e.useProto3Json||aD(t)?t:{value:t}}function tC(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dle(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function SZe(e,t){return tC(e,t.toTimestamp())}function js(e){return Nt(!!e),Wt.fromTimestamp(function(i){const n=Sp(i);return new ds(n.seconds,n.nanos)}(e))}function xz(e,t){return Sz(e,t).canonicalString()}function Sz(e,t){const i=(r=e,new sn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?i:i.child(t)}function ule(e){const t=sn.fromString(e);return Nt(wle(t)),t}function SD(e,t){return xz(e.databaseId,t.path)}function eh(e,t){const i=ule(t);if(i.get(1)!==e.databaseId.projectId)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new pt(gle(i))}function hle(e,t){return xz(e.databaseId,t)}function ple(e){const t=ule(e);return 4===t.length?sn.emptyPath():gle(t)}function Dz(e){return new sn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gle(e){return Nt(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fle(e,t,i){return{name:SD(e,t),fields:i.value.mapValue.fields}}function mle(e,t,i){const n=eh(e,t.name),r=js(t.updateTime),s=t.createTime?js(t.createTime):Wt.min(),o=new ta({mapValue:{fields:t.fields}}),a=Zr.newFoundDocument(n,r,s,o);return i&&a.setHasCommittedMutations(),i?a.setHasCommittedMutations():a}function DD(e,t){let i;if(t instanceof J_)i={update:fle(e,t.key,t.value)};else if(t instanceof eC)i={delete:SD(e,t.key)};else if(t instanceof Ip)i={update:fle(e,t.key,t.data),updateMask:kZe(t.fieldMask)};else{if(!(t instanceof vz))return At();i={verify:SD(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(n=>function(s,o){const a=o.transform;if(a instanceof Q_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xv)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jv)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof X_)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw At()}(0,n))),t.precondition.isNone||(i.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:SZe(e,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:At()),i;var s}function Mz(e,t){const i=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?hs.updateTime(js(s.updateTime)):void 0!==s.exists?hs.exists(s.exists):hs.none():hs.none(),n=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let l=null;"setToServerValue"in a?(Nt("REQUEST_TIME"===a.setToServerValue),l=new Q_):"appendMissingElements"in a?l=new Xv(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Jv(a.removeAllFromArray.values||[]):"increment"in a?l=new X_(o,a.increment):At();const c=qr.fromServerFormat(a.fieldPath);return new bD(c,l)}(e,r)):[];var s;if(t.update){const r=eh(e,t.update.name),s=new ta({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Zl((t.updateMask.fieldPaths||[]).map(d=>qr.fromServerFormat(d)));return new Ip(r,s,o,i,n)}return new J_(r,s,i,n)}if(t.delete){const r=eh(e,t.delete);return new eC(r,i)}if(t.verify){const r=eh(e,t.verify);return new vz(r,i)}return At()}function vle(e,t){return{documents:[hle(e,t.path)]}}function a2(e,t){const i={structuredQuery:{}},n=t.path;let r;null!==t.collectionGroup?(r=n,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=hle(e,r);const s=function(c){if(0!==c.length)return Cle(nr.create(c,"and"))}(t.filters);s&&(i.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:wf((h=d).field),direction:AZe(h.dir)};var h})}(t.orderBy);o&&(i.structuredQuery.orderBy=o);const a=wz(e,t.limit);return null!==a&&(i.structuredQuery.limit=a),t.startAt&&(i.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(i.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:i,parent:r};var c}function ble(e){let t=ple(e.parent);const i=e.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){Nt(1===n);const d=i.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];i.where&&(s=function(u){const h=_le(u);return h instanceof nr&&dz(h)?h.getFilters():[h]}(i.where));let o=[];i.orderBy&&(o=i.orderBy.map(h=>{return new pD(iC((m=h).field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction));var m}));let a=null;i.limit&&(a=function(u){let h;return h="object"==typeof u?u.value:u,aD(h)?null:h}(i.limit));let l=null;var u;i.startAt&&(l=new Cf((u=i.startAt).values||[],!!u.before));let c=null;return i.endAt&&(c=function(u){return new Cf(u.values||[],!u.before)}(i.endAt)),Rae(t,r,o,s,a,"F",l,c)}function _le(e){return void 0!==e.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const n=iC(i.unaryFilter.field);return on.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=iC(i.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=iC(i.unaryFilter.field);return on.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=iC(i.unaryFilter.field);return on.create(o,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(e):void 0!==e.fieldFilter?on.create(iC((i=e).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==e.compositeFilter?function(i){return nr.create(i.compositeFilter.filters.map(n=>_le(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return At()}}(i.compositeFilter.op))}(e):At();var i}function AZe(e){return _Ze[e]}function TZe(e){return CZe[e]}function RZe(e){return wZe[e]}function wf(e){return{fieldPath:e.canonicalString()}}function iC(e){return qr.fromServerFormat(e.fieldPath)}function Cle(e){return e instanceof on?function(i){if("=="===i.op){if(gae(i.value))return{unaryFilter:{field:wf(i.field),op:"IS_NAN"}};if(pae(i.value))return{unaryFilter:{field:wf(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(gae(i.value))return{unaryFilter:{field:wf(i.field),op:"IS_NOT_NAN"}};if(pae(i.value))return{unaryFilter:{field:wf(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(i.field),op:TZe(i.op),value:i.value}}}(e):e instanceof nr?function(i){const n=i.getFilters().map(r=>Cle(r));return 1===n.length?n[0]:{compositeFilter:{op:RZe(i.op),filters:n}}}(e):At()}function kZe(e){const t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function wle(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ap{constructor(t,i,n,r,s=Wt.min(),o=Wt.min(),a=ks.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ap(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xle{constructor(t){this.ct=t}}function Sle(e,t){const i=t.key,n={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:l2(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document={name:SD(s=e.ct,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:tC(s,o.version.toTimestamp()),createTime:tC(s,o.createTime.toTimestamp())};else if(t.isNoDocument())n.noDocument={path:i.path.toArray(),readTime:ey(t.version)};else{if(!t.isUnknownDocument())return At();n.unknownDocument={path:i.path.toArray(),version:ey(t.version)}}var s,o;return n}function l2(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ey(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ty(e){const t=new ds(e.seconds,e.nanoseconds);return Wt.fromTimestamp(t)}function iy(e,t){const i=(t.baseMutations||[]).map(s=>Mz(e.ct,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const n=t.mutations.map(s=>Mz(e.ct,s)),r=ds.fromMillis(t.localWriteTimeMs);return new yz(t.batchId,r,i,n)}function MD(e){const t=ty(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ty(e.lastLimboFreeSnapshotVersion):Wt.min();let n;return n=void 0!==e.query.documents?(Nt(1===(s=e.query).documents.length),Sa(K_(ple(s.documents[0])))):function(s){return Sa(ble(s))}(e.query),new Ap(n,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,i,ks.fromBase64String(e.resumeToken));var s}function Dle(e,t){const i=ey(t.snapshotVersion),n=ey(t.lastLimboFreeSnapshotVersion);let r;r=Xk(t.target)?vle(e.ct,t.target):a2(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qv(t.target),readTime:i,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function Ez(e){const t=ble({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?e2(t,t.limit,"L"):t}function Iz(e,t){return new _z(t.largestBatchId,Mz(e.ct,t.overlayMutation))}function Mle(e,t){const i=t.path.lastSegment();return[e,xa(t.path.popLast()),i]}function Ele(e,t,i,n){return{indexId:e,uid:t,sequenceNumber:i,readTime:ey(n.readTime),documentKey:xa(n.documentKey.path),largestBatchId:n.largestBatchId}}class FZe{getBundleMetadata(t,i){return Ile(t).get(i).next(n=>{if(n)return{id:(s=n).bundleId,createTime:ty(s.createTime),version:s.version};var s})}saveBundleMetadata(t,i){return Ile(t).put({bundleId:(r=i).id,createTime:ey(js(r.createTime)),version:r.version});var r}getNamedQuery(t,i){return Ale(t).get(i).next(n=>{if(n)return{name:(s=n).name,query:Ez(s.bundledQuery),readTime:ty(s.readTime)};var s})}saveNamedQuery(t,i){return Ale(t).put({name:(r=i).name,readTime:ey(js(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ile(e){return yo(e,"bundles")}function Ale(e){return yo(e,"namedQueries")}class c2{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new c2(t,i.uid||"")}getOverlay(t,i){return ED(t).get(Mle(this.userId,i)).next(n=>n?Iz(this.serializer,n):null)}getOverlays(t,i){const n=Ju();return fe.forEach(i,r=>this.getOverlay(t,r).next(s=>{null!==s&&n.set(r,s)})).next(()=>n)}saveOverlays(t,i,n){const r=[];return n.forEach((s,o)=>{const a=new _z(i,o);r.push(this.ht(t,a))}),fe.waitFor(r)}removeOverlaysForBatchId(t,i,n){const r=new Set;i.forEach(o=>r.add(xa(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);s.push(ED(t).j("collectionPathOverlayIndex",a))}),fe.waitFor(s)}getOverlaysForCollection(t,i,n){const r=Ju(),s=xa(i),o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ED(t).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Iz(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,i,n,r){const s=Ju();let o;const a=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ED(t).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const u=Iz(this.serializer,c);s.size()<r||u.largestBatchId===o?(s.set(u.getKey(),u),o=u.largestBatchId):d.done()}).next(()=>s)}ht(t,i){return ED(t).put(function(r,s,o){const[a,l,c]=Mle(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:DD(r.ct,o.mutation)}}(this.serializer,this.userId,i))}}function ED(e){return yo(e,"documentOverlays")}class OZe{Pt(t){return yo(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(i=>{const n=i?.value;return n?ks.fromUint8Array(n):ks.EMPTY_BYTE_STRING})}setSessionToken(t,i){return this.Pt(t).put({name:"sessionToken",value:i.toUint8Array()})}}class ny{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(us(t.integerValue));else if("doubleValue"in t){const n=us(t.doubleValue);isNaN(n)?this.dt(i,13):(this.dt(i,15),lD(n)?i.At(0):i.At(n))}else if("timestampValue"in t){let n=t.timestampValue;this.dt(i,20),"string"==typeof n&&(n=Sp(n)),i.Rt(`${n.seconds||""}`),i.At(n.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(Dp(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const n=t.geoPointValue;this.dt(i,45),i.At(n.latitude||0),i.At(n.longitude||0)}else"mapValue"in t?fae(t)?this.dt(i,Number.MAX_SAFE_INTEGER):Qk(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):At()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const n=t.fields||{};this.dt(i,55);for(const r of Object.keys(n))this.Vt(r,i),this.Tt(n[r],i)}wt(t,i){var n,r;const s=t.fields||{};this.dt(i,53);const o="value",a=(null===(r=null===(n=s[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(i,15),i.At(us(a)),this.Vt(o,i),this.Tt(s[o],i)}bt(t,i){const n=t.values||[];this.dt(i,50);for(const r of n)this.Tt(r,i)}yt(t,i){this.dt(i,37),pt.fromName(t).path.forEach(n=>{this.dt(i,60),this.Dt(n,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}function LZe(e){if(0===e)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function Tle(e){const t=64-function(n){let r=0;for(let s=0;s<8;++s){const o=LZe(255&n[s]);if(r+=o,8!==o)break}return r}(e);return Math.ceil(t/8)}ny.vt=new ny;class NZe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const i=t[Symbol.iterator]();let n=i.next();for(;!n.done;)this.Ft(n.value),n=i.next();this.Mt()}xt(t){const i=t[Symbol.iterator]();let n=i.next();for(;!n.done;)this.Ot(n.value),n=i.next();this.Nt()}Lt(t){for(const i of t){const n=i.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const r=i.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const i of t){const n=i.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const r=i.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const i=this.qt(t),n=Tle(i);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let r=i.length-n;r<i.length;++r)this.buffer[this.position++]=255&i[r]}Kt(t){const i=this.qt(t),n=Tle(i);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let r=i.length-n;r<i.length;++r)this.buffer[this.position++]=~(255&i[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const i=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),n=0!=(128&i[0]);i[0]^=n?255:128;for(let r=1;r<i.length;++r)i[r]^=n?255:0;return i}Ft(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(t){const i=255&t;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const i=t+this.position;if(i<=this.buffer.length)return;let n=2*this.buffer.length;n<i&&(n=i);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class VZe{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class BZe{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class ID{constructor(){this.jt=new NZe,this.Ht=new VZe(this.jt),this.Jt=new BZe(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ry{constructor(t,i,n,r){this.indexId=t,this.documentKey=i,this.arrayValue=n,this.directionalValue=r}Zt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(i);return n.set(this.directionalValue,0),i!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new ry(this.indexId,this.documentKey,this.arrayValue,n)}}function xf(e,t){let i=e.indexId-t.indexId;return 0!==i?i:(i=Rle(e.arrayValue,t.arrayValue),0!==i?i:(i=Rle(e.directionalValue,t.directionalValue),0!==i?i:pt.comparator(e.documentKey,t.documentKey)))}function Rle(e,t){for(let i=0;i<e.length&&i<t.length;++i){const n=e[i]-t[i];if(0!==n)return n}return e.length-t.length}class kle{constructor(t){this.Xt=new cr((i,n)=>qr.comparator(i.field,n.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const i of t.filters){const n=i;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(t){if(Nt(t.collectionGroup===this.collectionId),this.nn)return!1;const i=tz(t);if(void 0!==i&&!this.sn(i))return!1;const n=Yv(t);let r=new Set,s=0,o=0;for(;s<n.length&&this.sn(n[s]);++s)r=r.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=n[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<n.length;++s)if(o>=this.en.length||!this._n(this.en[o++],n[s]))return!1;return!0}an(){if(this.nn)return null;let t=new cr(qr.comparator);const i=[];for(const n of this.tn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)i.push(new Kv(n.field,2));else{if(t.has(n.field))continue;t=t.add(n.field),i.push(new Kv(n.field,0))}for(const n of this.en)n.field.isKeyField()||t.has(n.field)||(t=t.add(n.field),i.push(new Kv(n.field,"asc"===n.dir?0:1)));return new j_(j_.UNKNOWN_ID,this.collectionId,i,U_.empty())}sn(t){for(const i of this.tn)if(this.on(i,t))return!0;return!1}on(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Ple(e){var t,i;if(Nt(e instanceof on||e instanceof nr),e instanceof on){if(e instanceof Iae){const r=(null===(i=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(s=>on.create(e.field,"==",s)))||[];return nr.create(r,"or")}return e}const n=e.filters.map(r=>Ple(r));return nr.create(n,e.op)}function zZe(e){if(0===e.getFilters().length)return[];const t=Rz(Ple(e));return Nt(Fle(t)),Az(t)||Tz(t)?[t]:t.getFilters()}function Az(e){return e instanceof on}function Tz(e){return e instanceof nr&&dz(e)}function Fle(e){return Az(e)||Tz(e)||function(i){if(i instanceof nr&&cz(i)){for(const n of i.getFilters())if(!Az(n)&&!Tz(n))return!1;return!0}return!1}(e)}function Rz(e){if(Nt(e instanceof on||e instanceof nr),e instanceof on)return e;if(1===e.filters.length)return Rz(e.filters[0]);const t=e.filters.map(n=>Rz(n));let i=nr.create(t,e.op);return i=d2(i),Fle(i)?i:(Nt(i instanceof nr),Nt(Y_(i)),Nt(i.filters.length>1),i.filters.reduce((n,r)=>kz(n,r)))}function kz(e,t){let i;return Nt(e instanceof on||e instanceof nr),Nt(t instanceof on||t instanceof nr),i=e instanceof on?t instanceof on?nr.create([e,t],"and"):Ole(e,t):t instanceof on?Ole(t,e):function(r,s){if(Nt(r.filters.length>0&&s.filters.length>0),Y_(r)&&Y_(s))return Dae(r,s.getFilters());const o=cz(r)?r:s,a=cz(r)?s:r,l=o.filters.map(c=>kz(c,a));return nr.create(l,"or")}(e,t),d2(i)}function Ole(e,t){if(Y_(t))return Dae(t,e.getFilters());{const i=t.filters.map(n=>kz(e,n));return nr.create(i,"or")}}function d2(e){if(Nt(e instanceof on||e instanceof nr),e instanceof on)return e;const t=e.getFilters();if(1===t.length)return d2(t[0]);if(xae(e))return e;const i=t.map(r=>d2(r)),n=[];return i.forEach(r=>{r instanceof on?n.push(r):r instanceof nr&&(r.op===e.op?n.push(...r.filters):n.push(r))}),1===n.length?n[0]:nr.create(n,e.op)}class GZe{constructor(){this.un=new Pz}addToCollectionParentIndex(t,i){return this.un.add(i),fe.resolve()}getCollectionParents(t,i){return fe.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return fe.resolve()}deleteFieldIndex(t,i){return fe.resolve()}deleteAllFieldIndexes(t){return fe.resolve()}createTargetIndexes(t,i){return fe.resolve()}getDocumentsMatchingTarget(t,i){return fe.resolve(null)}getIndexType(t,i){return fe.resolve(0)}getFieldIndexes(t,i){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,i){return fe.resolve(Rc.min())}getMinOffsetFromCollectionGroup(t,i){return fe.resolve(Rc.min())}updateCollectionGroup(t,i,n){return fe.resolve()}updateIndexEntries(t,i){return fe.resolve()}}class Pz{constructor(){this.index={}}add(t){const i=t.lastSegment(),n=t.popLast(),r=this.index[i]||new cr(sn.comparator),s=!r.has(n);return this.index[i]=r.add(n),s}has(t){const i=t.lastSegment(),n=t.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(t){return(this.index[t]||new cr(sn.comparator)).toArray()}}const u2=new Uint8Array(0);class HZe{constructor(t,i){this.databaseId=i,this.cn=new Pz,this.ln=new Ep(n=>Qv(n),(n,r)=>gD(n,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.cn.has(i)){const n=i.lastSegment(),r=i.popLast();t.addOnCommittedListener(()=>{this.cn.add(i)});const s={collectionId:n,parent:xa(r)};return Lle(t).put(s)}return fe.resolve()}getCollectionParents(t,i){const n=[],r=IDBKeyRange.bound([i,""],[$oe(i),""],!1,!0);return Lle(t).U(r).next(s=>{for(const o of s){if(o.collectionId!==i)break;n.push(Qu(o.parent))}return n})}addFieldIndex(t,i){const n=AD(t),r={indexId:(a=i).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const s=n.add(r);if(i.indexState){const o=rC(t);return s.next(a=>{o.put(Ele(a,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return s.next()}deleteFieldIndex(t,i){const n=AD(t),r=rC(t),s=nC(t);return n.delete(i.indexId).next(()=>r.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=AD(t),n=nC(t),r=rC(t);return i.j().next(()=>n.j()).next(()=>r.j())}createTargetIndexes(t,i){return fe.forEach(this.hn(i),n=>this.getIndexType(t,n).next(r=>{if(0===r||1===r){const s=new kle(n).an();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,i){const n=nC(t);let r=!0;const s=new Map;return fe.forEach(this.hn(i),o=>this.Pn(t,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=Oi();const a=[];return fe.forEach(s,(l,c)=>{var M;Ue("IndexedDbIndexManager",`Using index ${M=l,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`} to execute ${Qv(i)}`);const d=function(M,k){const V=tz(k);if(void 0===V)return null;for(const H of Jk(M,V.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null}(c,l),u=function(M,k){const V=new Map;for(const H of Yv(k))for(const F of Jk(M,H.fieldPath))switch(F.op){case"==":case"in":V.set(H.fieldPath.canonicalString(),F.value);break;case"not-in":case"!=":return V.set(H.fieldPath.canonicalString(),F.value),Array.from(V.values())}return null}(c,l),h=function(M,k){const V=[];let H=!0;for(const F of Yv(k)){const P=0===F.kind?Aae(M,F.fieldPath,M.startAt):Tae(M,F.fieldPath,M.startAt);V.push(P.value),H&&(H=P.inclusive)}return new Cf(V,H)}(c,l),g=function(M,k){const V=[];let H=!0;for(const F of Yv(k)){const P=0===F.kind?Tae(M,F.fieldPath,M.endAt):Aae(M,F.fieldPath,M.endAt);V.push(P.value),H&&(H=P.inclusive)}return new Cf(V,H)}(c,l),m=this.In(l,c,h),y=this.In(l,c,g),_=this.Tn(l,c,u),x=this.En(l.indexId,d,m,h.inclusive,y,g.inclusive,_);return fe.forEach(x,D=>n.G(D,i.limit).next(M=>{M.forEach(k=>{const V=pt.fromSegments(k.documentKey);o.has(V)||(o=o.add(V),a.push(V))})}))}).next(()=>a)}return fe.resolve(null)})}hn(t){let i=this.ln.get(t);return i||(i=0===t.filters.length?[t]:zZe(nr.create(t.filters,"and")).map(n=>hz(t.path,t.collectionGroup,t.orderBy,n.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,i),i)}En(t,i,n,r,s,o,a){const l=(null!=i?i.length:1)*Math.max(n.length,s.length),c=l/(null!=i?i.length:1),d=[];for(let u=0;u<l;++u){const h=i?this.dn(i[u/c]):u2,g=this.An(t,h,n[u%c],r),m=this.Rn(t,h,s[u%c],o),y=a.map(_=>this.An(t,h,_,!0));d.push(...this.createRange(g,m,y))}return d}An(t,i,n,r){const s=new ry(t,pt.empty(),i,n);return r?s:s.Zt()}Rn(t,i,n,r){const s=new ry(t,pt.empty(),i,n);return r?s.Zt():s}Pn(t,i){const n=new kle(i),r=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const a of s)n.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,i){let n=2;const r=this.hn(i);return fe.forEach(r,s=>this.Pn(t,s).next(o=>{o?0!==n&&o.fields.length<function(l){let c=new cr(qr.comparator),d=!1;for(const u of l.filters)for(const h of u.getFlattenedFilters())h.field.isKeyField()||("array-contains"===h.op||"array-contains-any"===h.op?d=!0:c=c.add(h.field));for(const u of l.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(d?1:0)}(s)&&(n=1):n=0})).next(()=>null!==i.limit&&r.length>1&&2===n?1:n)}Vn(t,i){const n=new ID;for(const r of Yv(t)){const s=i.data.field(r.fieldPath);if(null==s)return null;const o=n.Yt(r.kind);ny.vt.It(s,o)}return n.zt()}dn(t){const i=new ID;return ny.vt.It(t,i.Yt(0)),i.zt()}mn(t,i){const n=new ID;return ny.vt.It(Zv(this.databaseId,i),n.Yt(function(s){const o=Yv(s);return 0===o.length?0:o[o.length-1].kind}(t))),n.zt()}Tn(t,i,n){if(null===n)return[];let r=[];r.push(new ID);let s=0;for(const o of Yv(t)){const a=n[s++];for(const l of r)if(this.fn(i,o.fieldPath)&&uD(a))r=this.gn(r,o,a);else{const c=l.Yt(o.kind);ny.vt.It(a,c)}}return this.pn(r)}In(t,i,n){return this.Tn(t,i,n.position)}pn(t){const i=[];for(let n=0;n<t.length;++n)i[n]=t[n].zt();return i}gn(t,i,n){const r=[...t],s=[];for(const o of n.arrayValue.values||[])for(const a of r){const l=new ID;l.seed(a.zt()),ny.vt.It(o,l.Yt(i.kind)),s.push(l)}return s}fn(t,i){return!!t.filters.find(n=>n instanceof on&&n.field.isEqual(i)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(t,i){const n=AD(t),r=rC(t);return(i?n.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):n.U()).next(s=>{const o=[];return fe.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(d,u){const h=u?new U_(u.sequenceNumber,new Rc(ty(u.readTime),new pt(Qu(u.documentKey)),u.largestBatchId)):U_.empty(),g=d.fields.map(([m,y])=>new Kv(qr.fromServerFormat(m),y));return new j_(d.indexId,d.collectionGroup,g,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((n,r)=>{const s=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:wi(n.collectionGroup,r.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,n){const r=AD(t),s=rC(t);return this.yn(t).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(a=>fe.forEach(a,l=>s.put(Ele(l.indexId,this.uid,o,n)))))}updateIndexEntries(t,i){const n=new Map;return fe.forEach(i,(r,s)=>{const o=n.get(r.collectionGroup);return(o?fe.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(n.set(r.collectionGroup,a),fe.forEach(a,l=>this.wn(t,r,l).next(c=>{const d=this.Sn(s,l);return c.isEqual(d)?fe.resolve():this.bn(t,s,l,c,d)}))))})}Dn(t,i,n,r){return nC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,i.key),documentKey:i.key.path.toArray()})}vn(t,i,n,r){return nC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,i.key),i.key.path.toArray()])}wn(t,i,n){const r=nC(t);let s=new cr(xf);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,i)])},(o,a)=>{s=s.add(new ry(n.indexId,i,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(t,i){let n=new cr(xf);const r=this.Vn(i,t);if(null==r)return n;const s=tz(i);if(null!=s){const o=t.data.field(s.fieldPath);if(uD(o))for(const a of o.arrayValue.values||[])n=n.add(new ry(i.indexId,t.key,this.dn(a),r))}else n=n.add(new ry(i.indexId,t.key,u2,r));return n}bn(t,i,n,r,s){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const o=[];return function(l,c,d,u,h){const g=l.getIterator(),m=c.getIterator();let y=W_(g),_=W_(m);for(;y||_;){let x=!1,D=!1;if(y&&_){const M=d(y,_);M<0?D=!0:M>0&&(x=!0)}else null!=y?D=!0:x=!0;x?(u(_),_=W_(m)):D?(h(y),y=W_(g)):(y=W_(g),_=W_(m))}}(r,s,xf,a=>{o.push(this.Dn(t,i,n,a))},a=>{o.push(this.vn(t,i,n,a))}),fe.waitFor(o)}yn(t){let i=1;return rC(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,s)=>{s.done(),i=r.sequenceNumber+1}).next(()=>i)}createRange(t,i,n){n=n.sort((o,a)=>xf(o,a)).filter((o,a,l)=>!a||0!==xf(o,l[a-1]));const r=[];r.push(t);for(const o of n){const a=xf(o,t),l=xf(o,i);if(0===a)r[0]=t.Zt();else if(a>0&&l<0)r.push(o),r.push(o.Zt());else if(l>0)break}r.push(i);const s=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,u2,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,u2,[]]))}return s}Cn(t,i){return xf(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Nle)}getMinOffset(t,i){return fe.mapArray(this.hn(i),n=>this.Pn(t,n).next(r=>r||At())).next(Nle)}}function Lle(e){return yo(e,"collectionParents")}function nC(e){return yo(e,"indexEntries")}function AD(e){return yo(e,"indexConfiguration")}function rC(e){return yo(e,"indexState")}function Nle(e){Nt(0!==e.length);let t=e[0].indexState.offset,i=t.largestBatchId;for(let n=1;n<e.length;n++){const r=e[n].indexState.offset;iz(r,t)<0&&(t=r),i<r.largestBatchId&&(i=r.largestBatchId)}return new Rc(t.readTime,t.documentKey,i)}const Vle={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Da{constructor(t,i,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Da(t,Da.DEFAULT_COLLECTION_PERCENTILE,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ble(e,t,i){const n=e.store("mutations"),r=e.store("documentMutations"),s=[],o=IDBKeyRange.only(i.batchId);let a=0;const l=n.J({range:o},(d,u,h)=>(a++,h.delete()));s.push(l.next(()=>{Nt(1===a)}));const c=[];for(const d of i.mutations){const u=iae(t,d.key.path,i.batchId);s.push(r.delete(u)),c.push(d.key)}return fe.waitFor(s).next(()=>c)}function h2(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw At();t=e.noDocument}return JSON.stringify(t).length}Da.DEFAULT_COLLECTION_PERCENTILE=10,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Da.DEFAULT=new Da(41943040,Da.DEFAULT_COLLECTION_PERCENTILE,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Da.DISABLED=new Da(-1,0,0);class p2{constructor(t,i,n,r){this.userId=t,this.serializer=i,this.indexManager=n,this.referenceDelegate=r,this.Fn={}}static lt(t,i,n,r){Nt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new p2(s,i,n,r)}checkEmpty(t){let i=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sf(t).J({index:"userMutationsIndex",range:n},(r,s,o)=>{i=!1,o.done()}).next(()=>i)}addMutationBatch(t,i,n,r){const s=sC(t),o=Sf(t);return o.add({}).next(a=>{Nt("number"==typeof a);const l=new yz(a,i,n,r),c=function(g,m,y){const _=y.baseMutations.map(D=>DD(g.ct,D)),x=y.mutations.map(D=>DD(g.ct,D));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:_,mutations:x}}(this.serializer,this.userId,l),d=[];let u=new cr((h,g)=>wi(h.canonicalString(),g.canonicalString()));for(const h of r){const g=iae(this.userId,h.key.path,a);u=u.add(h.key.path.popLast()),d.push(o.put(c)),d.push(s.put(g,Aqe))}return u.forEach(h=>{d.push(this.indexManager.addToCollectionParentIndex(t,h))}),t.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),fe.waitFor(d).next(()=>l)})}lookupMutationBatch(t,i){return Sf(t).get(i).next(n=>n?(Nt(n.userId===this.userId),iy(this.serializer,n)):null)}Mn(t,i){return this.Fn[i]?fe.resolve(this.Fn[i]):this.lookupMutationBatch(t,i).next(n=>{if(n){const r=n.keys();return this.Fn[i]=r,r}return null})}getNextMutationBatchAfterBatchId(t,i){const n=i+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Sf(t).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Nt(a.batchId>=n),s=iy(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Sf(t).J({index:"userMutationsIndex",range:i,reverse:!0},(r,s,o)=>{n=s.batchId,o.done()}).next(()=>n)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sf(t).U("userMutationsIndex",i).next(n=>n.map(r=>iy(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,i){const n=Uk(this.userId,i.path),r=IDBKeyRange.lowerBound(n),s=[];return sC(t).J({range:r},(o,a,l)=>{const[c,d,u]=o,h=Qu(d);if(c===this.userId&&i.path.isEqual(h))return Sf(t).get(u).next(g=>{if(!g)throw At();Nt(g.userId===this.userId),s.push(iy(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new cr(wi);const r=[];return i.forEach(s=>{const o=Uk(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=sC(t).J({range:a},(c,d,u)=>{const[h,g,m]=c,y=Qu(g);h===this.userId&&s.path.isEqual(y)?n=n.add(m):u.done()});r.push(l)}),fe.waitFor(r).next(()=>this.xn(t,n))}getAllMutationBatchesAffectingQuery(t,i){const n=i.path,r=n.length+1,s=Uk(this.userId,n),o=IDBKeyRange.lowerBound(s);let a=new cr(wi);return sC(t).J({range:o},(l,c,d)=>{const[u,h,g]=l,m=Qu(h);u===this.userId&&n.isPrefixOf(m)?m.length===r&&(a=a.add(g)):d.done()}).next(()=>this.xn(t,a))}xn(t,i){const n=[],r=[];return i.forEach(s=>{r.push(Sf(t).get(s).next(o=>{if(null===o)throw At();Nt(o.userId===this.userId),n.push(iy(this.serializer,o))}))}),fe.waitFor(r).next(()=>n)}removeMutationBatch(t,i){return Ble(t._e,this.userId,i).next(n=>(t.addOnCommittedListener(()=>{this.On(i.batchId)}),fe.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return fe.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return sC(t).J({range:n},(s,o,a)=>{if(s[0]===this.userId){const l=Qu(s[1]);r.push(l)}else a.done()}).next(()=>{Nt(0===r.length)})})}containsKey(t,i){return zle(t,this.userId,i)}Nn(t){return Gle(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zle(e,t,i){const n=Uk(t,i.path),r=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return sC(e).J({range:s,H:!0},(a,l,c)=>{const[d,u,h]=a;d===t&&u===r&&(o=!0),c.done()}).next(()=>o)}function Sf(e){return yo(e,"mutations")}function sC(e){return yo(e,"documentMutations")}function Gle(e){return yo(e,"mutationQueues")}class sy{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new sy(0)}static kn(){return new sy(-1)}}class jZe{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.qn(t).next(i=>{const n=new sy(i.highestTargetId);return i.highestTargetId=n.next(),this.Qn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(i=>Wt.fromTimestamp(new ds(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,n){return this.qn(t).next(r=>(r.highestListenSequenceNumber=i,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),i>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=i),this.Qn(t,r)))}addTargetData(t,i){return this.Kn(t,i).next(()=>this.qn(t).next(n=>(n.targetCount+=1,this.$n(i,n),this.Qn(t,n))))}updateTargetData(t,i){return this.Kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>oC(t).delete(i.targetId)).next(()=>this.qn(t)).next(n=>(Nt(n.targetCount>0),n.targetCount-=1,this.Qn(t,n)))}removeTargets(t,i,n){let r=0;const s=[];return oC(t).J((o,a)=>{const l=MD(a);l.sequenceNumber<=i&&null===n.get(l.targetId)&&(r++,s.push(this.removeTargetData(t,l)))}).next(()=>fe.waitFor(s)).next(()=>r)}forEachTarget(t,i){return oC(t).J((n,r)=>{const s=MD(r);i(s)})}qn(t){return Hle(t).get("targetGlobalKey").next(i=>(Nt(null!==i),i))}Qn(t,i){return Hle(t).put("targetGlobalKey",i)}Kn(t,i){return oC(t).put(Dle(this.serializer,i))}$n(t,i){let n=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,n=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.qn(t).next(i=>i.targetCount)}getTargetData(t,i){const n=Qv(i),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return oC(t).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const c=MD(a);gD(i,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(t,i,n){const r=[],s=Df(t);return i.forEach(o=>{const a=xa(o.path);r.push(s.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(t,n,o))}),fe.waitFor(r)}removeMatchingKeys(t,i,n){const r=Df(t);return fe.forEach(i,s=>{const o=xa(s.path);return fe.waitFor([r.delete([n,o]),this.referenceDelegate.removeReference(t,n,s)])})}removeMatchingKeysForTargetId(t,i){const n=Df(t),r=IDBKeyRange.bound([i],[i+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,i){const n=IDBKeyRange.bound([i],[i+1],!1,!0),r=Df(t);let s=Oi();return r.J({range:n,H:!0},(o,a,l)=>{const c=Qu(o[1]),d=new pt(c);s=s.add(d)}).next(()=>s)}containsKey(t,i){const n=xa(i.path),r=IDBKeyRange.bound([n],[$oe(n)],!1,!0);let s=0;return Df(t).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}ot(t,i){return oC(t).get(i).next(n=>n?MD(n):null)}}function oC(e){return yo(e,"targets")}function Hle(e){return yo(e,"targetGlobal")}function Df(e){return yo(e,"targetDocuments")}function jle([e,t],[i,n]){const r=wi(e,i);return 0===r?wi(t,n):r}class UZe{constructor(t){this.Un=t,this.buffer=new cr(jle),this.Wn=0}Gn(){return++this.Wn}zn(t){const i=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const n=this.buffer.last();jle(i,n)<0&&(this.buffer=this.buffer.delete(n).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ule{constructor(t,i,n){this.garbageCollector=t,this.asyncQueue=i,this.localStore=n,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var i=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,J.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(n){ff(n)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield gf(n)}yield i.Hn(3e5)}))}}class WZe{constructor(t,i){this.Jn=t,this.params=i}calculateTargetCount(t,i){return this.Jn.Yn(t).next(n=>Math.floor(i/100*n))}nthSequenceNumber(t,i){if(0===i)return fe.resolve(kc.oe);const n=new UZe(i);return this.Jn.forEachTarget(t,r=>n.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>n.zn(r))).next(()=>n.maxValue)}removeTargets(t,i,n){return this.Jn.removeTargets(t,i,n)}removeOrphanedDocuments(t,i){return this.Jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Vle)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vle):this.Xn(t,i))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,i){let n,r,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),r=this.params.maximumSequenceNumbersToCollect):r=u,o=Date.now(),this.nthSequenceNumber(t,r))).next(u=>(n=u,a=Date.now(),this.removeTargets(t,n,i))).next(u=>(s=u,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(u=>(c=Date.now(),G_()<=qu.$b.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-d}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${u} documents in `+(c-l)+`ms\nTotal Duration: ${c-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:u})))}}class $Ze{constructor(t,i){this.db=t,this.garbageCollector=function Wle(e,t){return new WZe(e,t)}(this,i)}Yn(t){const i=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(n=>i.next(r=>n+r))}er(t){let i=0;return this.Zn(t,n=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Zn(t,i){return this.tr(t,(n,r)=>i(r))}addReference(t,i,n){return g2(t,n)}removeReference(t,i,n){return g2(t,n)}removeTargets(t,i,n){return this.db.getTargetCache().removeTargets(t,i,n)}markPotentiallyOrphaned(t,i){return g2(t,i)}nr(t,i){return function(r,s){let o=!1;return Gle(r).Y(a=>zle(r,a,s).next(l=>(l&&(o=!0),fe.resolve(!l)))).next(()=>o)}(t,i)}removeOrphanedDocuments(t,i){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.tr(t,(o,a)=>{if(a<=i){const l=this.nr(t,o).next(c=>{if(!c)return s++,n.getEntry(t,o).next(()=>(n.removeEntry(o,Wt.min()),Df(t).delete([0,xa(o.path)])))});r.push(l)}}).next(()=>fe.waitFor(r)).next(()=>n.apply(t)).next(()=>s)}removeTarget(t,i){const n=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,i){return g2(t,i)}tr(t,i){const n=Df(t);let r,s=kc.oe;return n.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==kc.oe&&i(new pt(Qu(r)),s),s=c,r=l):s=kc.oe}).next(()=>{s!==kc.oe&&i(new pt(Qu(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function g2(e,t){return Df(e).put((r=e.currentSequenceNumber,{targetId:0,path:xa(t.path),sequenceNumber:r}));var r}class $le{constructor(){this.changes=new Ep(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Zr.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const n=this.changes.get(i);return void 0!==n?fe.resolve(n):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class YZe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,n){return oy(t).put(n)}removeEntry(t,i,n){return oy(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],l2(o),a[a.length-1]]}(i,n))}updateMetadata(t,i){return this.getMetadata(t).next(n=>(n.byteSize+=i,this.rr(t,n)))}getEntry(t,i){let n=Zr.newInvalidDocument(i);return oy(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(TD(i))},(r,s)=>{n=this.ir(i,s)}).next(()=>n)}sr(t,i){let n={size:0,document:Zr.newInvalidDocument(i)};return oy(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(TD(i))},(r,s)=>{n={document:this.ir(i,s),size:h2(s)}}).next(()=>n)}getEntries(t,i){let n=Ql();return this._r(t,i,(r,s)=>{const o=this.ir(r,s);n=n.insert(r,o)}).next(()=>n)}ar(t,i){let n=Ql(),r=new Pr(pt.comparator);return this._r(t,i,(s,o)=>{const a=this.ir(s,o);n=n.insert(s,a),r=r.insert(s,h2(o))}).next(()=>({documents:n,ur:r}))}_r(t,i,n){if(i.isEmpty())return fe.resolve();let r=new cr(Zle);i.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(TD(r.first()),TD(r.last())),o=r.getIterator();let a=o.getNext();return oy(t).J({index:"documentKeyIndex",range:s},(l,c,d)=>{const u=pt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&Zle(a,u)<0;)n(a,null),a=o.getNext();a&&a.isEqual(u)&&(n(a,c),a=o.hasNext()?o.getNext():null),a?d.$(TD(a)):d.done()}).next(()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,i,n,r,s){const o=i.path,a=[o.popLast().toArray(),o.lastSegment(),l2(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oy(t).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=Ql();for(const u of c){const h=this.ir(pt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);h.isFoundDocument()&&(mD(i,h)||r.has(h.key))&&(d=d.insert(h.key,h))}return d})}getAllFromCollectionGroup(t,i,n,r){let s=Ql();const o=qle(i,n),a=qle(i,Rc.max());return oy(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const u=this.ir(pt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(u.key,u),s.size===r&&d.done()}).next(()=>s)}newChangeBuffer(t){return new KZe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return Kle(t).get("remoteDocumentGlobalKey").next(i=>(Nt(!!i),i))}rr(t,i){return Kle(t).put("remoteDocumentGlobalKey",i)}ir(t,i){if(i){const n=function PZe(e,t){let i;if(t.document)i=mle(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const n=pt.fromSegments(t.noDocument.path),r=ty(t.noDocument.readTime);i=Zr.newNoDocument(n,r),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return At();{const n=pt.fromSegments(t.unknownDocument.path),r=ty(t.unknownDocument.version);i=Zr.newUnknownDocument(n,r)}}return t.readTime&&i.setReadTime(function(r){const s=new ds(r[0],r[1]);return Wt.fromTimestamp(s)}(t.readTime)),i}(this.serializer,i);if(!n.isNoDocument()||!n.version.isEqual(Wt.min()))return n}return Zr.newInvalidDocument(t)}}function Yle(e){return new YZe(e)}class KZe extends $le{constructor(t,i){super(),this.cr=t,this.trackRemovals=i,this.lr=new Ep(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(t){const i=[];let n=0,r=new cr((s,o)=>wi(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(i.push(this.cr.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=Sle(this.cr.serializer,o);r=r.add(s.path.popLast());const c=h2(l);n+=c-a.size,i.push(this.cr.addEntry(t,s,l))}else if(n-=a.size,this.trackRemovals){const l=Sle(this.cr.serializer,o.convertToNoDocument(Wt.min()));i.push(this.cr.addEntry(t,s,l))}}),r.forEach(s=>{i.push(this.cr.indexManager.addToCollectionParentIndex(t,s))}),i.push(this.cr.updateMetadata(t,n)),fe.waitFor(i)}getFromCache(t,i){return this.cr.sr(t,i).next(n=>(this.lr.set(i,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(t,i){return this.cr.ar(t,i).next(({documents:n,ur:r})=>(r.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:n.get(s).readTime})}),n))}}function Kle(e){return yo(e,"remoteDocumentGlobal")}function oy(e){return yo(e,"remoteDocumentsV14")}function TD(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qle(e,t){const i=t.documentKey.path.toArray();return[e,l2(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Zle(e,t){const i=e.path.toArray(),n=t.path.toArray();let r=0;for(let s=0;s<i.length-2&&s<n.length-2;++s)if(r=wi(i[s],n[s]),r)return r;return r=wi(i.length,n.length),r||(r=wi(i[i.length-2],n[n.length-2]),r||wi(i[i.length-1],n[n.length-1]))}class qZe{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Qle{constructor(t,i,n,r){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,i){let n=null;return this.documentOverlayCache.getOverlay(t,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,i))).next(r=>(null!==n&&_D(n.mutation,r,Zl.empty(),ds.now()),r))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.getLocalViewOfDocuments(t,n,Oi()).next(()=>n))}getLocalViewOfDocuments(t,i,n=Oi()){const r=Ju();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,n).next(s=>{let o=vD();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,i){const n=Ju();return this.populateOverlays(t,n,i).next(()=>this.computeViews(t,i,n,Oi()))}populateOverlays(t,i,n){const r=[];return n.forEach(s=>{i.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{i.set(o,a)})})}computeViews(t,i,n,r){let s=Ql();const o=yD(),a=yD();return i.forEach((l,c)=>{const d=n.get(c.key);r.has(c.key)&&(void 0===d||d.mutation instanceof Ip)?s=s.insert(c.key,c):void 0!==d?(o.set(c.key,d.mutation.getFieldMask()),_D(d.mutation,c,d.mutation.getFieldMask(),ds.now())):o.set(c.key,Zl.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),i.forEach((c,d)=>{var u;return a.set(c,new qZe(d,null!==(u=o.get(c))&&void 0!==u?u:null))}),a))}recalculateAndSaveOverlays(t,i){const n=yD();let r=new Pr((o,a)=>o-a),s=Oi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=i.get(l);if(null===c)return;let d=n.get(l)||Zl.empty();d=a.applyToLocalView(c,d),n.set(l,d);const u=(r.get(a.batchId)||Oi()).add(l);r=r.insert(a.batchId,u)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,u=zae();d.forEach(h=>{if(!s.has(h)){const g=Kae(i.get(h),n.get(h));null!==g&&u.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,u))}return fe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,i,n,r){return pt.isDocumentKey((o=i).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):pz(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,n,r):this.getDocumentsMatchingCollectionQuery(t,i,n,r);var o}getNextDocuments(t,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,n.largestBatchId,r-s.size):fe.resolve(Ju());let a=-1,l=s;return o.next(c=>fe.forEach(c,(d,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),s.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(t,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Oi())).next(d=>({batchId:a,changes:Bae(d)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(n=>{let r=vD();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,i,n,r){const s=i.collectionGroup;let o=vD();return this.indexManager.getCollectionParents(t,s).next(a=>fe.forEach(a,l=>{const c=(u=i,h=l.child(s),new Mp(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,h;return this.getDocumentsMatchingCollectionQuery(t,c,n,r).next(d=>{d.forEach((u,h)=>{o=o.insert(u,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,i,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,n,s,r))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();null===o.get(d)&&(o=o.insert(d,Zr.newInvalidDocument(d)))});let a=vD();return o.forEach((l,c)=>{const d=s.get(l);void 0!==d&&_D(d.mutation,c,Zl.empty(),ds.now()),mD(i,c)&&(a=a.insert(l,c))}),a})}}class ZZe{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return fe.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(r=i).id,version:r.version,createTime:js(r.createTime)}),fe.resolve();var r}getNamedQuery(t,i){return fe.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(r=i).name,query:Ez(r.bundledQuery),readTime:js(r.readTime)}),fe.resolve();var r}}class QZe{constructor(){this.overlays=new Pr(pt.comparator),this.Ir=new Map}getOverlay(t,i){return fe.resolve(this.overlays.get(i))}getOverlays(t,i){const n=Ju();return fe.forEach(i,r=>this.getOverlay(t,r).next(s=>{null!==s&&n.set(r,s)})).next(()=>n)}saveOverlays(t,i,n){return n.forEach((r,s)=>{this.ht(t,i,s)}),fe.resolve()}removeOverlaysForBatchId(t,i,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),fe.resolve()}getOverlaysForCollection(t,i,n){const r=Ju(),s=i.length+1,o=new pt(i.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!i.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&r.set(l.getKey(),l)}return fe.resolve(r)}getOverlaysForCollectionGroup(t,i,n,r){let s=new Pr((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===i&&c.largestBatchId>n){let d=s.get(c.largestBatchId);null===d&&(d=Ju(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ju(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return fe.resolve(a)}ht(t,i,n){const r=this.overlays.get(n.key);if(null!==r){const o=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new _z(i,n));let s=this.Ir.get(i);void 0===s&&(s=Oi(),this.Ir.set(i,s)),this.Ir.set(i,s.add(n.key))}}class XZe{constructor(){this.sessionToken=ks.EMPTY_BYTE_STRING}getSessionToken(t){return fe.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,fe.resolve()}}class Fz{constructor(){this.Tr=new cr(Po.Er),this.dr=new cr(Po.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const n=new Po(t,i);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,i){t.forEach(n=>this.addReference(n,i))}removeReference(t,i){this.Vr(new Po(t,i))}mr(t,i){t.forEach(n=>this.removeReference(n,i))}gr(t){const i=new pt(new sn([])),n=new Po(i,t),r=new Po(i,t+1),s=[];return this.dr.forEachInRange([n,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new pt(new sn([])),n=new Po(i,t),r=new Po(i,t+1);let s=Oi();return this.dr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(t){const i=new Po(t,0),n=this.Tr.firstAfterOrEqual(i);return null!==n&&t.isEqual(n.key)}}class Po{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return pt.comparator(t.key,i.key)||wi(t.wr,i.wr)}static Ar(t,i){return wi(t.wr,i.wr)||pt.comparator(t.key,i.key)}}class JZe{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new cr(Po.Er)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,n,r){const s=this.Sr;this.Sr++;const o=new yz(s,i,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new Po(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(t,i){return fe.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const r=this.vr(i+1),s=r<0?0:r;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const n=new Po(i,0),r=new Po(i,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,r],o=>{const a=this.Dr(o.wr);s.push(a)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new cr(wi);return i.forEach(r=>{const s=new Po(r,0),o=new Po(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{n=n.add(a.wr)})}),fe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,i){const n=i.path,r=n.length+1;let s=n;pt.isDocumentKey(s)||(s=s.child(""));const o=new Po(new pt(s),0);let a=new cr(wi);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),fe.resolve(this.Cr(a))}Cr(t){const i=[];return t.forEach(n=>{const r=this.Dr(n);null!==r&&i.push(r)}),i}removeMutationBatch(t,i){Nt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return fe.forEach(i.mutations,r=>{const s=new Po(r.key,i.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,i){const n=new Po(i,0),r=this.br.firstAfterOrEqual(n);return fe.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(t){return fe.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eQe{constructor(t){this.Mr=t,this.docs=new Pr(pt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const n=i.key,r=this.docs.get(n),s=r?r.size:0,o=this.Mr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const n=this.docs.get(i);return fe.resolve(n?n.document.mutableCopy():Zr.newInvalidDocument(i))}getEntries(t,i){let n=Ql();return i.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():Zr.newInvalidDocument(r))}),fe.resolve(n)}getDocumentsMatchingQuery(t,i,n,r){let s=Ql();const o=i.path,a=new pt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||iz(Koe(d),n)<=0||(r.has(d.key)||mD(i,d))&&(s=s.insert(d.key,d.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(t,i,n,r){At()}Or(t,i){return fe.forEach(this.docs,n=>i(n))}newChangeBuffer(t){return new tQe(this)}getSize(t){return fe.resolve(this.size)}}class tQe extends $le{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.cr.addEntry(t,r)):this.cr.removeEntry(n)}),fe.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class iQe{constructor(t){this.persistence=t,this.Nr=new Ep(i=>Qv(i),gD),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fz,this.targetCount=0,this.kr=sy.Bn()}forEachTarget(t,i){return this.Nr.forEach((n,r)=>i(r)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Lr&&(this.Lr=i),fe.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new sy(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,fe.resolve()}updateTargetData(t,i){return this.Kn(i),fe.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,i,n){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=i&&null===n.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),fe.waitFor(s).next(()=>r)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,i){const n=this.Nr.get(i)||null;return fe.resolve(n)}addMatchingKeys(t,i,n){return this.Br.Rr(i,n),fe.resolve()}removeMatchingKeys(t,i,n){this.Br.mr(i,n);const r=this.persistence.referenceDelegate,s=[];return r&&i.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),fe.waitFor(s)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),fe.resolve()}getMatchingKeysForTargetId(t,i){const n=this.Br.yr(i);return fe.resolve(n)}containsKey(t,i){return fe.resolve(this.Br.containsKey(i))}}class Oz{constructor(t,i){this.qr={},this.overlays={},this.Qr=new kc(0),this.Kr=!1,this.Kr=!0,this.$r=new XZe,this.referenceDelegate=t(this),this.Ur=new iQe(this),this.indexManager=new GZe,this.remoteDocumentCache=new eQe(n=>this.referenceDelegate.Wr(n)),this.serializer=new xle(i),this.Gr=new ZZe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new QZe,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let n=this.qr[t.toKey()];return n||(n=new JZe(i,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,n){Ue("MemoryPersistence","Starting transaction:",t);const r=new nQe(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,i){return fe.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,i)))}}class nQe extends Zoe{constructor(t){super(),this.currentSequenceNumber=t}}class f2{constructor(t){this.persistence=t,this.Jr=new Fz,this.Yr=null}static Zr(t){return new f2(t)}get Xr(){if(this.Yr)return this.Yr;throw At()}addReference(t,i,n){return this.Jr.addReference(n,i),this.Xr.delete(n.toString()),fe.resolve()}removeReference(t,i,n){return this.Jr.removeReference(n,i),this.Xr.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),fe.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(r=>this.Xr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,i.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,n=>{const r=pt.fromPath(n);return this.ei(t,r).next(s=>{s||i.removeEntry(r,Wt.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(n=>{n?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return fe.or([()=>fe.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class rQe{constructor(t){this.serializer=t}O(t,i,n,r){const s=new jk("createOrUpgrade",i);var l;n<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tae,{unique:!0}),l.createObjectStore("documentMutations"),Xle(t),function(l){l.createObjectStore("remoteDocuments")}(t));let o=fe.resolve();return n<3&&r>=3&&(0!==n&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),Xle(t)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wt.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tae,{unique:!0});const u=c.store("mutations"),h=d.map(g=>u.put(g));return fe.waitFor(h)})}(t,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),n<5&&r>=5&&(o=o.next(()=>this.ni(s))),n<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ri(s)))),n<7&&r>=7&&(o=o.next(()=>this.ii(s))),n<8&&r>=8&&(o=o.next(()=>this.si(t,s))),n<9&&r>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),n<10&&r>=10&&(o=o.next(()=>this.oi(s))),n<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&r>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Gqe});c.createIndex("collectionPathOverlayIndex",Hqe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",jqe,{unique:!1})}(t)})),n<13&&r>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Tqe});c.createIndex("documentKeyIndex",Rqe),c.createIndex("collectionGroupIndex",kqe)}(t)).next(()=>this._i(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(o=o.next(()=>this.ai(t,s))),n<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Nqe}).createIndex("sequenceNumberIndex",Vqe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Bqe}).createIndex("documentKeyIndex",zqe,{unique:!1})}(t))),n<16&&r>=16&&(o=o.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),n<17&&r>=17&&(o=o.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(t)})),o}ri(t){let i=0;return t.store("remoteDocuments").J((n,r)=>{i+=h2(r)}).next(()=>{const n={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(t){const i=t.store("mutationQueues"),n=t.store("mutations");return i.U().next(r=>fe.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",o).next(a=>fe.forEach(a,l=>{Nt(l.userId===s.userId);const c=iy(this.serializer,l);return Ble(t,s.userId,c).next(()=>{})}))}))}ii(t){const i=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return n.J((o,a)=>{const l=new sn(o),c=[0,xa(l)];s.push(i.get(c).next(d=>d?fe.resolve():i.put({targetId:0,path:xa(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>fe.waitFor(s))})}si(t,i){t.createObjectStore("collectionParents",{keyPath:Lqe});const n=i.store("collectionParents"),r=new Pz,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return n.put({collectionId:a,parent:xa(l)})}};return i.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new sn(o);return s(l.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([o,a,l],c)=>{const d=Qu(a);return s(d.popLast())}))}oi(t){const i=t.store("targets");return i.J((n,r)=>{const s=MD(r),o=Dle(this.serializer,s);return i.put(o)})}_i(t,i){const n=i.store("remoteDocuments"),r=[];return n.J((s,o)=>{const a=i.store("remoteDocumentsV14"),l=(u=o,u.document?new pt(sn.fromString(u.document.name).popFirst(5)):u.noDocument?pt.fromSegments(u.noDocument.path):u.unknownDocument?pt.fromSegments(u.unknownDocument.path):At()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var u;r.push(a.put(c))}).next(()=>fe.waitFor(r))}ai(t,i){const n=i.store("mutations"),r=Yle(this.serializer),s=new Oz(f2.Zr,this.serializer.ct);return n.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=null!==(c=a.get(l.userId))&&void 0!==c?c:Oi();iy(this.serializer,l).keys().forEach(u=>d=d.add(u)),a.set(l.userId,d)}),fe.forEach(a,(l,c)=>{const d=new Ro(c),u=c2.lt(this.serializer,d),h=s.getIndexManager(d),g=p2.lt(d,this.serializer,h,s.referenceDelegate);return new Qle(r,g,u,h).recalculateAndSaveOverlaysForDocumentKeys(new oz(i,kc.oe),l).next()})})}}function Xle(e){e.createObjectStore("targetDocuments",{keyPath:Fqe}).createIndex("documentTargetsIndex",Oqe,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pqe,{unique:!0}),e.createObjectStore("targetGlobal")}const Lz="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nz{constructor(t,i,n,r,s,o,a,l,c,d,u=17){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=n,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=d,this.hi=u,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!Nz.D())throw new He(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $Ze(this,r),this.Ai=i+"main",this.serializer=new xle(l),this.Ri=new Zu(this.Ai,this.hi,new rQe(this.serializer)),this.$r=new OZe,this.Ur=new jZe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Yle(this.serializer),this.Gr=new FZe,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===d&&Hs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(xe.FAILED_PRECONDITION,Lz);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new kc(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var i=this;return this.di=function(){var n=(0,J.A)(function*(r){if(i.started)return t(r)});return function(r){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var i=(0,J.A)(function*(n){null===n.newVersion&&(yield t())});return function(n){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,J.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>v2(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(i=>this.isPrimary&&!i?this.bi(t).next(()=>!1):!!i&&this.Di(t).next(()=>!0))).catch(t=>{if(ff(t))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return RD(t).get("owner").next(i=>fe.resolve(this.vi(i)))}Ci(t){return v2(t).delete(this.clientId)}Fi(){var t=this;return(0,J.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=yo(n,"clientMetadata");return r.U().next(s=>{const o=t.xi(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return fe.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const n of i)t.Vi.removeItem(t.Oi(n.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?fe.resolve(!0):RD(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new He(xe.FAILED_PRECONDITION,Lz);return!1}}return!(!this.networkEnabled||!this.inForeground)||v2(t).U().next(n=>void 0===this.xi(n,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Ue("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,J.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const n=new oz(i,kc.oe);return t.bi(n).next(()=>t.Ci(n))}),t.Ri.close(),t.qi()})()}xi(t,i){return t.filter(n=>this.Mi(n.updateTimeMs,i)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>v2(t).U().next(i=>this.xi(i,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,i){return p2.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new HZe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return c2.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,i,n){Ue("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===i?"readonly":"readwrite",s=17===(l=this.hi)?$qe:16===l?Wqe:15===l?sz:14===l?sae:13===l?rae:12===l?Uqe:11===l?nae:void At();var l;let o;return this.Ri.runTransaction(t,r,s,a=>(o=new oz(a,this.Qr?this.Qr.next():kc.oe),"readwrite-primary"===i?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Hs(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new He(xe.FAILED_PRECONDITION,qoe);return n(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>n(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(t){return RD(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new He(xe.FAILED_PRECONDITION,Lz)})}Di(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return RD(t).put("owner",i)}static D(){return Zu.D()}bi(t){const i=RD(t);return i.get("owner").next(n=>this.vi(n)?(Ue("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):fe.resolve())}Mi(t,i){const n=Date.now();return!(t<n-i||t>n&&(Hs(`Detected an update time that is in the future: ${t} > ${n}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,Ln.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var i;try{const n=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(t)));return Ue("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Hs("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Hs("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function RD(e){return yo(e,"owner")}function v2(e){return yo(e,"clientMetadata")}function Vz(e,t){let i=e.projectId;return e.isDefaultDatabase||(i+="."+e.database),"firestore/"+t+"/"+i+"/"}class Bz{constructor(t,i,n,r){this.targetId=t,this.fromCache=i,this.$i=n,this.Ui=r}static Wi(t,i){let n=Oi(),r=Oi();for(const s of i.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Bz(t,i.fromCache,n,r)}}class sQe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Jle{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Ln.nr)()?8:Qoe((0,Ln.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,n,r){const s={result:null};return this.Yi(t,i).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,i,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new sQe;return this.Xi(t,i,o).next(a=>{if(s.result=a,this.zi)return this.es(t,i,o,a.size)})}).next(()=>s.result)}es(t,i,n,r){return n.documentReadCount<this.ji?(G_()<=qu.$b.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Z_(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(G_()<=qu.$b.DEBUG&&Ue("QueryEngine","Query:",Z_(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(G_()<=qu.$b.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Z_(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Sa(i))):fe.resolve())}Yi(t,i){if(kae(i))return fe.resolve(null);let n=Sa(i);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==i.limit&&1===r&&(i=e2(i,null,"F"),n=Sa(i)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const o=Oi(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ts(i,a);return this.ns(i,c,o,l.readTime)?this.Yi(t,e2(i,null,"F")):this.rs(t,c,i,l)}))})))}Zi(t,i,n,r){return kae(i)||r.isEqual(Wt.min())?fe.resolve(null):this.Ji.getDocuments(t,n).next(s=>{const o=this.ts(i,s);return this.ns(i,o,n,r)?fe.resolve(null):(G_()<=qu.$b.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Z_(i)),this.rs(t,o,i,Yoe(r,-1)).next(a=>a))})}ts(t,i){let n=new cr(Nae(t));return i.forEach((r,s)=>{mD(t,s)&&(n=n.add(s))}),n}ns(t,i,n,r){if(null===t.limit)return!1;if(n.size!==i.size)return!0;const s="F"===t.limitType?i.last():i.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,i,n){return G_()<=qu.$b.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Z_(i)),this.Ji.getDocumentsMatchingQuery(t,i,Rc.min(),n)}rs(t,i,n,r){return this.Ji.getDocumentsMatchingQuery(t,n,r).next(s=>(i.forEach(o=>{s=s.insert(o.key,o)}),s))}}class oQe{constructor(t,i,n,r){this.persistence=t,this.ss=i,this.serializer=r,this.os=new Pr(wi),this._s=new Ep(s=>Qv(s),gD),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Qle(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function ece(e,t,i,n){return new oQe(e,t,i,n)}function tce(e,t){return zz.apply(this,arguments)}function zz(){return(zz=(0,J.A)(function*(e,t){const i=lt(e);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,i.ls(t),i.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],a=[];let l=Oi();for(const c of r){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return i.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function ice(e){const t=lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function nce(e,t,i){let n=Oi(),r=Oi();return i.forEach(s=>n=n.add(s)),t.getEntries(e,n).next(s=>{let o=Ql();return i.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Wt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function cQe(e,t){const i=lt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function aC(e,t){const i=lt(e);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Ur.getTargetData(n,t).next(s=>s?(r=s,fe.resolve(r)):i.Ur.allocateTargetId(n).next(o=>(r=new Ap(t,o,"TargetPurposeListen",n.currentSequenceNumber),i.Ur.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=i.os.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.os=i.os.insert(n.targetId,n),i._s.set(t,n.targetId)),n})}function lC(e,t,i){return Gz.apply(this,arguments)}function Gz(){return(Gz=(0,J.A)(function*(e,t,i){const n=lt(e),r=n.os.get(t),s=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ff(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}n.os=n.os.remove(t),n._s.delete(r.target)})).apply(this,arguments)}function y2(e,t,i){const n=lt(e);let r=Wt.min(),s=Oi();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const u=lt(l),h=u._s.get(d);return void 0!==h?fe.resolve(u.os.get(h)):u.Ur.getTargetData(c,d)}(n,o,Sa(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,t,i?r:Wt.min(),i?s:Oi())).next(a=>(oce(n,Lae(t),a),{documents:a,Ts:s})))}function rce(e,t){const i=lt(e),n=lt(i.Ur),r=i.os.get(t);return r?Promise.resolve(r.target):i.persistence.runTransaction("Get target data","readonly",s=>n.ot(s,t).next(o=>o?o.target:null))}function sce(e,t){const i=lt(e),n=i.us.get(t)||Wt.min();return i.persistence.runTransaction("Get new document changes","readonly",r=>i.cs.getAllFromCollectionGroup(r,t,Yoe(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(oce(i,t,r),r))}function oce(e,t,i){let n=e.us.get(t)||Wt.min();i.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.us.set(t,n)}function Hz(){return(Hz=(0,J.A)(function*(e,t,i,n){const r=lt(e);let s=Oi(),o=Ql();for(const c of i){const d=t.Es(c.metadata.name);c.document&&(s=s.add(d));const u=t.ds(c);u.setReadTime(t.As(c.metadata.readTime)),o=o.insert(d,u)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield aC(r,(d=n,Sa(K_(sn.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>nce(c,a,o).next(d=>(a.apply(c),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.Ps,d.Is)).next(()=>d.Ps)))})).apply(this,arguments)}function uQe(e,t){return jz.apply(this,arguments)}function jz(){return(jz=(0,J.A)(function*(e,t,i=Oi()){const n=yield aC(e,Sa(Ez(t.bundledQuery))),r=lt(e);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=js(t.readTime);if(n.snapshotVersion.compareTo(o)>=0)return r.Gr.saveNamedQuery(s,t);const a=n.withResumeToken(ks.EMPTY_BYTE_STRING,o);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(s,a).next(()=>r.Ur.removeMatchingKeysForTargetId(s,n.targetId)).next(()=>r.Ur.addMatchingKeys(s,i,n.targetId)).next(()=>r.Gr.saveNamedQuery(s,t))})})).apply(this,arguments)}function ace(e,t){return`firestore_clients_${e}_${t}`}function lce(e,t,i){let n=`firestore_mutations_${e}_${i}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}function Uz(e,t){return`firestore_targets_${e}_${t}`}class b2{constructor(t,i,n,r){this.user=t,this.batchId=i,this.state=n,this.error=r}static Rs(t,i,n){const r=JSON.parse(n);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new He(r.error.code,r.error.message))),o?new b2(t,i,r.state,s):(Hs("SharedClientState",`Failed to parse mutation state for ID '${i}': ${n}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class kD{constructor(t,i,n){this.targetId=t,this.state=i,this.error=n}static Rs(t,i){const n=JSON.parse(i);let r,s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(r=new He(n.error.code,n.error.message))),s?new kD(t,n.state,r):(Hs("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class _2{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Rs(t,i){const n=JSON.parse(i);let r="object"==typeof n&&n.activeTargetIds instanceof Array,s=fz();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Joe(n.activeTargetIds[o]),s=s.add(n.activeTargetIds[o]);return r?new _2(t,s):(Hs("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class Wz{constructor(t,i){this.clientId=t,this.onlineState=i}static Rs(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Wz(i.clientId,i.onlineState):(Hs("SharedClientState",`Failed to parse online state: ${t}`),null)}}class $z{constructor(){this.activeTargetIds=fz()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yz{constructor(t,i,n,r,s){this.window=t,this.ui=i,this.persistenceKey=n,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Pr(wi),this.started=!1,this.bs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=ace(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new $z),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,J.A)(function*(){const i=yield t.syncEngine.Qi();for(const r of i){if(r===t.ps)continue;const s=t.getItem(ace(t.persistenceKey,r));if(s){const o=_2.Rs(r,s);o&&(t.Ss=t.Ss.insert(o.clientId,o))}}t.Ns();const n=t.storage.getItem(t.xs);if(n){const r=t.Ls(n);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let i=!1;return this.Ss.forEach((n,r)=>{r.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,i,n){this.qs(t,i,n),this.Qs(t)}addLocalQueryTarget(t,i=!0){let n="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(Uz(this.persistenceKey,t));if(r){const s=kD.Rs(t,r);s&&(n=s.state)}}return i&&this.Ks.fs(t),this.Ns(),n}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Uz(this.persistenceKey,t))}updateQueryState(t,i,n){this.$s(t,i,n)}handleUserChange(t,i,n){i.forEach(r=>{this.Qs(r)}),this.currentUser=t,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return Ue("SharedClientState","READ",t,i),i}setItem(t,i){Ue("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){Ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var i=this;const n=t;if(n.storageArea===this.storage){if(Ue("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Hs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,J.A)(function*(){if(i.started){if(null!==n.key)if(i.Cs.test(n.key)){if(null==n.newValue){const r=i.Gs(n.key);return i.zs(r,null)}{const r=i.js(n.key,n.newValue);if(r)return i.zs(r.clientId,r)}}else if(i.Fs.test(n.key)){if(null!==n.newValue){const r=i.Hs(n.key,n.newValue);if(r)return i.Js(r)}}else if(i.Ms.test(n.key)){if(null!==n.newValue){const r=i.Ys(n.key,n.newValue);if(r)return i.Zs(r)}}else if(n.key===i.xs){if(null!==n.newValue){const r=i.Ls(n.newValue);if(r)return i.Bs(r)}}else if(n.key===i.vs){const r=function(o){let a=kc.oe;if(null!=o)try{const l=JSON.parse(o);Nt("number"==typeof l),a=l}catch(l){Hs("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(n.newValue);r!==kc.oe&&i.sequenceNumberHandler(r)}else if(n.key===i.Os){const r=i.Xs(n.newValue);yield Promise.all(r.map(s=>i.syncEngine.eo(s)))}}else i.bs.push(n)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,i,n){const r=new b2(this.currentUser,t,i,n),s=lce(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Vs())}Qs(t){const i=lce(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,i,n){const r=Uz(this.persistenceKey,t),s=new kD(t,i,n);this.setItem(r,s.Vs())}Ws(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Os,i)}Gs(t){const i=this.Cs.exec(t);return i?i[1]:null}js(t,i){const n=this.Gs(t);return _2.Rs(n,i)}Hs(t,i){const n=this.Fs.exec(t),r=Number(n[1]);return b2.Rs(new Ro(void 0!==n[2]?n[2]:null),r,i)}Ys(t,i){const n=this.Ms.exec(t),r=Number(n[1]);return kD.Rs(r,i)}Ls(t){return Wz.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var i=this;return(0,J.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.no(t.batchId,t.state,t.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,i){const n=i?this.Ss.insert(t,i):this.Ss.remove(t),r=this.ks(this.Ss),s=this.ks(n),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=n})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let i=fz();return t.forEach((n,r)=>{i=i.unionWith(r.activeTargetIds)}),i}}class cce{constructor(){this.so=new $z,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,n){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,n){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new $z,Promise.resolve()}handleUserChange(t,i,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hQe{_o(t){}shutdown(){}}class dce{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let C2=null;function Kz(){return null===C2?C2=268435456+Math.round(2147483648*Math.random()):C2++,"0x"+C2.toString(16)}const pQe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gQe{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Ma="WebChannelConnection";class fQe extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+i.host,this.vo=`projects/${r}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(i,n,r,s,o){const a=Kz(),l=this.xo(i,n.toUriEncodedString());Ue("RestConnection",`Sending RPC '${i}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(i,l,c,r).then(d=>(Ue("RestConnection",`Received RPC '${i}' ${a}: `,d),d),d=>{throw Tc("RestConnection",`RPC '${i}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(i,n,r,s,o,a){return this.Mo(i,n,r,s,o)}Oo(i,n,r){i["X-Goog-Api-Client"]="gl-js/ fire/"+z_,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>i[o]=s),r&&r.headers.forEach((s,o)=>i[o]=s)}xo(i,n){return`${this.Do}/v1/${n}:${pQe[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,n,r){const s=Kz();return new Promise((o,a)=>{const l=new Noe;l.setWithCredentials(!0),l.listenOnce(Voe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hk.NO_ERROR:const d=l.getResponseJson();Ue(Ma,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case Hk.TIMEOUT:Ue(Ma,`RPC '${t}' ${s} timed out`),a(new He(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Hk.HTTP_ERROR:const u=l.getStatus();if(Ue(Ma,`RPC '${t}' ${s} failed with status:`,u,"response text:",l.getResponseText()),u>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h?.error;if(g&&g.status&&g.message){const m=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(x)>=0?x:xe.UNKNOWN}(g.status);a(new He(m,g.message))}else a(new He(xe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new He(xe.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{Ue(Ma,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);Ue(Ma,`RPC '${t}' ${s} sending request:`,r),l.send(i,"POST",c,n,15)})}Bo(t,i,n){const r=Kz(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Goe(),a=zoe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;const d=s.join("");Ue(Ma,`Creating RPC '${t}' stream ${r}: ${d}`,l);const u=o.createWebChannel(d,l);let h=!1,g=!1;const m=new gQe({Io:_=>{g?Ue(Ma,`Not sending because RPC '${t}' stream ${r} is closed:`,_):(h||(Ue(Ma,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),Ue(Ma,`RPC '${t}' stream ${r} sending:`,_),u.send(_))},To:()=>u.close()}),y=(_,x,D)=>{_.listen(x,M=>{try{D(M)}catch(k){setTimeout(()=>{throw k},0)}})};return y(u,rD.EventType.OPEN,()=>{g||(Ue(Ma,`RPC '${t}' stream ${r} transport opened.`),m.yo())}),y(u,rD.EventType.CLOSE,()=>{g||(g=!0,Ue(Ma,`RPC '${t}' stream ${r} transport closed`),m.So())}),y(u,rD.EventType.ERROR,_=>{g||(g=!0,Tc(Ma,`RPC '${t}' stream ${r} transport errored:`,_),m.So(new He(xe.UNAVAILABLE,"The operation could not be completed")))}),y(u,rD.EventType.MESSAGE,_=>{var x;if(!g){const D=_.data[0];Nt(!!D);const k=D.error||(null===(x=D[0])||void 0===x?void 0:x.error);if(k){Ue(Ma,`RPC '${t}' stream ${r} received error:`,k);const V=k.status;let H=function(G){const Y=io[G];if(void 0!==Y)return tle(Y)}(V),F=k.message;void 0===H&&(H=xe.INTERNAL,F="Unknown error status: "+V+" with message "+k.message),g=!0,m.So(new He(H,F)),u.close()}else Ue(Ma,`RPC '${t}' stream ${r} received:`,D),m.bo(D)}}),y(a,Boe.STAT_EVENT,_=>{_.stat===J5.PROXY?Ue(Ma,`RPC '${t}' stream ${r} detected buffering proxy`):_.stat===J5.NOPROXY&&Ue(Ma,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function uce(){return typeof window<"u"?window:null}function w2(){return typeof document<"u"?document:null}function PD(e){return new xZe(e,!0)}class qz{constructor(t,i,n=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=i,this.ko=n,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,i-n);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class hce{constructor(t,i,n,r,s,o,a,l){this.ui=t,this.Ho=n,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qz(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,J.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,J.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var n=this;return(0,J.A)(function*(){n.u_(),n.c_(),n.t_.cancel(),n.Yo++,4!==t?n.t_.reset():i&&i.code===xe.RESOURCE_EXHAUSTED?(Hs(i.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),n.t_.Wo()):i&&i.code===xe.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.l_(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Yo===i&&this.P_(n,r)},n=>{t(()=>{const r=new He(xe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(r)})})}P_(t,i){const n=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{n(()=>this.I_(r))}),this.stream.onMessage(r=>{n(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,J.A)(function*(){t.state=0,t.start()}))}I_(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mQe extends hce{constructor(t,i,n,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,o),this.serializer=s}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function MZe(e,t){let i;if("targetChange"in t){const n="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:At(),r=t.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Nt(void 0===d||"string"==typeof d),ks.fromBase64String(d||"")):(Nt(void 0===d||d instanceof Buffer||d instanceof Uint8Array),ks.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=void 0===c.code?xe.UNKNOWN:tle(c.code);return new He(d,c.message||"")}(o);i=new ole(n,r,s,a||null)}else if("documentChange"in t){const n=t.documentChange,r=eh(e,n.document.name),s=js(n.document.updateTime),o=n.document.createTime?js(n.document.createTime):Wt.min(),a=new ta({mapValue:{fields:n.document.fields}}),l=Zr.newFoundDocument(r,s,o,a);i=new o2(n.targetIds||[],n.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const n=t.documentDelete,r=eh(e,n.document),s=n.readTime?js(n.readTime):Wt.min(),o=Zr.newNoDocument(r,s);i=new o2([],n.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const n=t.documentRemove,r=eh(e,n.document);i=new o2([],n.removedTargetIds||[],r,null)}else{if(!("filter"in t))return At();{const n=t.filter,{count:r=0,unchangedNames:s}=n,o=new vZe(r,s);i=new sle(n.targetId,o)}}var c;return i}(this.serializer,t),n=function(s){if(!("targetChange"in s))return Wt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Wt.min():o.readTime?js(o.readTime):Wt.min()}(t);return this.listener.d_(i,n)}A_(t){const i={};i.database=Dz(this.serializer),i.addTarget=function(s,o){let a;const l=o.target;if(a=Xk(l)?{documents:vle(s,l)}:{query:a2(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dle(s,o.resumeToken);const c=wz(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Wt.min())>0){a.readTime=tC(s,o.snapshotVersion.toTimestamp());const c=wz(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const n=function IZe(e,t){const i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);n&&(i.labels=n),this.a_(i)}R_(t){const i={};i.database=Dz(this.serializer),i.removeTarget=t,this.a_(i)}}class vQe extends hce{constructor(t,i,n,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Nt(!!t.streamToken),this.lastStreamToken=t.streamToken,Nt(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Nt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function EZe(e,t){return e&&e.length>0?(Nt(void 0!==t),e.map(i=>function(r,s){let o=js(r.updateTime?r.updateTime:s);return o.isEqual(Wt.min())&&(o=js(s)),new gZe(o,r.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),n=js(t.commitTime);return this.listener.g_(n,i)}p_(){const t={};t.database=Dz(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(n=>DD(this.serializer,n))};this.a_(i)}}class yQe extends class{}{constructor(t,i,n,r){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,Sz(i,n),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(xe.UNKNOWN,s.toString())})}Lo(t,i,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,Sz(i,n),r,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new He(xe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bQe{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hs(i),this.D_=!1):Ue("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class _Qe{constructor(t,i,n,r,s){var o=this;this.localStore=t,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget((0,J.A)(function*(){var l;Mf(o)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,J.A)(function*(d){const u=lt(d);u.L_.add(4),yield cC(u),u.q_.set("Unknown"),u.L_.delete(4),yield FD(u)}),function c(d){return l.apply(this,arguments)})(o))}))}),this.q_=new bQe(n,r)}}function FD(e){return Zz.apply(this,arguments)}function Zz(){return(Zz=(0,J.A)(function*(e){if(Mf(e))for(const t of e.B_)yield t(!0)})).apply(this,arguments)}function cC(e){return Qz.apply(this,arguments)}function Qz(){return(Qz=(0,J.A)(function*(e){for(const t of e.B_)yield t(!1)})).apply(this,arguments)}function x2(e,t){const i=lt(e);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),e8(i)?Jz(i):hC(i).r_()&&Xz(i,t))}function dC(e,t){const i=lt(e),n=hC(i);i.N_.delete(t),n.r_()&&pce(i,t),0===i.N_.size&&(n.r_()?n.o_():Mf(i)&&i.q_.set("Unknown"))}function Xz(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wt.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}hC(e).A_(t)}function pce(e,t){e.Q_.xe(t),hC(e).R_(t)}function Jz(e){e.Q_=new bZe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),hC(e).start(),e.q_.v_()}function e8(e){return Mf(e)&&!hC(e).n_()&&e.N_.size>0}function Mf(e){return 0===lt(e).L_.size}function gce(e){e.Q_=void 0}function CQe(e){return t8.apply(this,arguments)}function t8(){return(t8=(0,J.A)(function*(e){e.q_.set("Online")})).apply(this,arguments)}function wQe(e){return i8.apply(this,arguments)}function i8(){return(i8=(0,J.A)(function*(e){e.N_.forEach((t,i)=>{Xz(e,t)})})).apply(this,arguments)}function xQe(e,t){return n8.apply(this,arguments)}function n8(){return(n8=(0,J.A)(function*(e,t){gce(e),e8(e)?(e.q_.M_(t),Jz(e)):e.q_.set("Unknown")})).apply(this,arguments)}function SQe(e,t,i){return r8.apply(this,arguments)}function r8(){return r8=(0,J.A)(function*(e,t,i){if(e.q_.set("Online"),t instanceof ole&&2===t.state&&t.cause)try{yield(n=(0,J.A)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}),function r(s,o){return n.apply(this,arguments)})(e,t)}catch(n){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield S2(e,n)}else if(t instanceof o2?e.Q_.Ke(t):t instanceof sle?e.Q_.He(t):e.Q_.We(t),!i.isEqual(Wt.min()))try{const n=yield ice(e.localStore);i.compareTo(n)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(ks.EMPTY_BYTE_STRING,d.snapshotVersion)),pce(s,l);const u=new Ap(d.target,l,c,d.sequenceNumber);Xz(s,u)}),s.remoteSyncer.applyRemoteEvent(a)}(e,i))}catch(n){Ue("RemoteStore","Failed to raise snapshot:",n),yield S2(e,n)}var n}),r8.apply(this,arguments)}function S2(e,t,i){return s8.apply(this,arguments)}function s8(){return(s8=(0,J.A)(function*(e,t,i){if(!ff(t))throw t;e.L_.add(1),yield cC(e),e.q_.set("Offline"),i||(i=()=>ice(e.localStore)),e.asyncQueue.enqueueRetryable((0,J.A)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield i(),e.L_.delete(1),yield FD(e)}))})).apply(this,arguments)}function fce(e,t){return t().catch(i=>S2(e,i,t))}function uC(e){return o8.apply(this,arguments)}function o8(){return(o8=(0,J.A)(function*(e){const t=lt(e),i=Ef(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;DQe(t);)try{const r=yield cQe(t.localStore,n);if(null===r){0===t.O_.length&&i.o_();break}n=r.batchId,MQe(t,r)}catch(r){yield S2(t,r)}mce(t)&&vce(t)})).apply(this,arguments)}function DQe(e){return Mf(e)&&e.O_.length<10}function MQe(e,t){e.O_.push(t);const i=Ef(e);i.r_()&&i.V_&&i.m_(t.mutations)}function mce(e){return Mf(e)&&!Ef(e).n_()&&e.O_.length>0}function vce(e){Ef(e).start()}function EQe(e){return a8.apply(this,arguments)}function a8(){return(a8=(0,J.A)(function*(e){Ef(e).p_()})).apply(this,arguments)}function IQe(e){return l8.apply(this,arguments)}function l8(){return(l8=(0,J.A)(function*(e){const t=Ef(e);for(const i of e.O_)t.m_(i.mutations)})).apply(this,arguments)}function AQe(e,t,i){return c8.apply(this,arguments)}function c8(){return(c8=(0,J.A)(function*(e,t,i){const n=e.O_.shift(),r=bz.from(n,t,i);yield fce(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield uC(e)})).apply(this,arguments)}function TQe(e,t){return d8.apply(this,arguments)}function d8(){return d8=(0,J.A)(function*(e,t){var i;t&&Ef(e).V_&&(yield(i=(0,J.A)(function*(r,s){if(ele(a=s.code)&&a!==xe.ABORTED){const o=r.O_.shift();Ef(r).s_(),yield fce(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield uC(r)}var a}),function n(r,s){return i.apply(this,arguments)})(e,t)),mce(e)&&vce(e)}),d8.apply(this,arguments)}function yce(e,t){return u8.apply(this,arguments)}function u8(){return(u8=(0,J.A)(function*(e,t){const i=lt(e);i.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const n=Mf(i);i.L_.add(3),yield cC(i),n&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield FD(i)})).apply(this,arguments)}function h8(e,t){return p8.apply(this,arguments)}function p8(){return(p8=(0,J.A)(function*(e,t){const i=lt(e);t?(i.L_.delete(2),yield FD(i)):t||(i.L_.add(2),yield cC(i),i.q_.set("Unknown"))})).apply(this,arguments)}function hC(e){return e.K_||(e.K_=function(i,n,r){const s=lt(i);return s.w_(),new mQe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:CQe.bind(null,e),Ro:wQe.bind(null,e),mo:xQe.bind(null,e),d_:SQe.bind(null,e)}),e.B_.push(function(){var t=(0,J.A)(function*(i){i?(e.K_.s_(),e8(e)?Jz(e):e.q_.set("Unknown")):(yield e.K_.stop(),gce(e))});return function(i){return t.apply(this,arguments)}}())),e.K_}function Ef(e){return e.U_||(e.U_=function(i,n,r){const s=lt(i);return s.w_(),new vQe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:EQe.bind(null,e),mo:TQe.bind(null,e),f_:IQe.bind(null,e),g_:AQe.bind(null,e)}),e.B_.push(function(){var t=(0,J.A)(function*(i){i?(e.U_.s_(),yield uC(e)):(yield e.U_.stop(),e.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))});return function(i){return t.apply(this,arguments)}}())),e.U_}class g8{constructor(t,i,n,r,s){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,n,r,s){const o=Date.now()+n,a=new g8(t,i,o,r,s);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(xe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pC(e,t){if(Hs("AsyncQueue",`${t}: ${e}`),ff(e))return new He(xe.UNAVAILABLE,`${t}: ${e}`);throw e}class gC{constructor(t){this.comparator=t?(i,n)=>t(i,n)||pt.comparator(i.key,n.key):(i,n)=>pt.comparator(i.key,n.key),this.keyedMap=vD(),this.sortedSet=new Pr(this.comparator)}static emptySet(t){return new gC(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,n)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof gC)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;i.hasNext();){const r=i.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const n=new gC;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=i,n}}class bce{constructor(){this.W_=new Pr(pt.comparator)}track(t){const i=t.doc.key,n=this.W_.get(i);n?0!==t.type&&3===n.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==n.type?this.W_=this.W_.insert(i,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.W_=this.W_.remove(i):1===t.type&&2===n.type?this.W_=this.W_.insert(i,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):At():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,n)=>{t.push(n)}),t}}class fC{constructor(t,i,n,r,s,o,a,l,c){this.query=t,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,i,n,r,s){const o=[];return i.forEach(a=>{o.push({type:0,doc:a})}),new fC(t,i,gC.emptySet(i),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fD(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,n=t.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}}class RQe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class kQe{constructor(){this.queries=_ce(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,n){const r=lt(i),s=r.queries;r.queries=_ce(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(n)})}(this,new He(xe.ABORTED,"Firestore shutting down"))}}function _ce(){return new Ep(e=>Oae(e),fD)}function f8(e,t){return m8.apply(this,arguments)}function m8(){return(m8=(0,J.A)(function*(e,t){const i=lt(e);let n=3;const r=t.query;let s=i.queries.get(r);s?!s.H_()&&t.J_()&&(n=2):(s=new RQe,n=t.J_()?0:1);try{switch(n){case 0:s.z_=yield i.onListen(r,!0);break;case 1:s.z_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(o){const a=pC(o,`Initialization of query '${Z_(t.query)}' failed`);return void t.onError(a)}i.queries.set(r,s),s.j_.push(t),t.Z_(i.onlineState),s.z_&&t.X_(s.z_)&&b8(i)})).apply(this,arguments)}function v8(e,t){return y8.apply(this,arguments)}function y8(){return(y8=(0,J.A)(function*(e,t){const i=lt(e),n=t.query;let r=3;const s=i.queries.get(n);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),0===s.j_.length?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})).apply(this,arguments)}function PQe(e,t){const i=lt(e);let n=!1;for(const r of t){const o=i.queries.get(r.query);if(o){for(const a of o.j_)a.X_(r)&&(n=!0);o.z_=r}}n&&b8(i)}function FQe(e,t,i){const n=lt(e),r=n.queries.get(t);if(r)for(const s of r.j_)s.onError(i);n.queries.delete(t)}function b8(e){e.Y_.forEach(t=>{t.next()})}var _8,Cce;(Cce=_8||(_8={})).ea="default",Cce.Cache="cache";class C8{constructor(t,i,n){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const r of t.docChanges)3!==r.type&&n.push(r);t=new fC(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=fC.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==_8.Cache}}class OQe{constructor(t,i){this.aa=t,this.byteLength=i}ua(){return"metadata"in this.aa}}class wce{constructor(t){this.serializer=t}Es(t){return eh(this.serializer,t)}ds(t){return t.metadata.exists?mle(this.serializer,t.document,!1):Zr.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return js(t)}}class LQe{constructor(t,i,n){this.ca=t,this.localStore=i,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xce(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++i;const n=sn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(t){const i=new Map,n=new wce(this.serializer);for(const r of t)if(r.metadata.queries){const s=n.Es(r.metadata.name);for(const o of r.metadata.queries){const a=(i.get(o)||Oi()).add(s);i.set(o,a)}}return i}complete(){var t=this;return(0,J.A)(function*(){const i=yield function dQe(e,t,i,n){return Hz.apply(this,arguments)}(t.localStore,new wce(t.serializer),t.documents,t.ca.id),n=t.ha(t.documents);for(const r of t.queries)yield uQe(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:i}})()}}function xce(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Sce{constructor(t){this.key=t}}class Dce{constructor(t){this.key=t}}class Mce{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oi(),this.mutatedKeys=Oi(),this.Aa=Nae(t),this.Ra=new gC(this.Aa)}get Va(){return this.Ta}ma(t,i){const n=i?i.fa:new bce,r=i?i.Ra:this.Ra;let s=i?i.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,u)=>{const h=r.get(d),g=mD(this.query,u)?u:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;h&&g?h.data.isEqual(g.data)?m!==y&&(n.track({type:3,doc:g}),_=!0):this.ga(h,g)||(n.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!h&&g?(n.track({type:0,doc:g}),_=!0):h&&!g&&(n.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{Ra:o,fa:n,ns:a,mutatedKeys:s}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,n,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((d,u)=>function(g,m){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return y(g)-y(m)}(d.type,u.type)||this.Aa(d.doc,u.doc)),this.pa(n),r=null!=r&&r;const a=i&&!r?this.ya():[],l=0===this.da.size&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,0!==o.length||c?{snapshot:new fC(this.query,t.Ra,s,o,t.mutatedKeys,0===l,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bce,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Oi(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const i=[];return t.forEach(n=>{this.da.has(n)||i.push(new Dce(n))}),this.da.forEach(n=>{t.has(n)||i.push(new Sce(n))}),i}ba(t){this.Ta=t.Ts,this.da=Oi();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return fC.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class NQe{constructor(t,i,n){this.query=t,this.targetId=i,this.view=n}}class VQe{constructor(t){this.key=t,this.va=!1}}class BQe{constructor(t,i,n,r,s,o){this.localStore=t,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ep(a=>Oae(a),fD),this.Ma=new Map,this.xa=new Set,this.Oa=new Pr(pt.comparator),this.Na=new Map,this.La=new Fz,this.Ba={},this.ka=new Map,this.qa=sy.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function zQe(e,t){return w8.apply(this,arguments)}function w8(){return(w8=(0,J.A)(function*(e,t,i=!0){const n=D2(e);let r;const s=n.Fa.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield Ece(n,t,i,!0),r})).apply(this,arguments)}function GQe(e,t){return x8.apply(this,arguments)}function x8(){return(x8=(0,J.A)(function*(e,t){const i=D2(e);yield Ece(i,t,!0,!1)})).apply(this,arguments)}function Ece(e,t,i,n){return S8.apply(this,arguments)}function S8(){return(S8=(0,J.A)(function*(e,t,i,n){const r=yield aC(e.localStore,Sa(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,i);let a;return n&&(a=yield D8(e,t,s,"current"===o,r.resumeToken)),e.isPrimaryClient&&i&&x2(e.remoteStore,r),a})).apply(this,arguments)}function D8(e,t,i,n,r){return M8.apply(this,arguments)}function M8(){return M8=(0,J.A)(function*(e,t,i,n,r){e.Ka=(u,h,g)=>{return(m=(0,J.A)(function*(_,x,D,M){let k=x.view.ma(D);k.ns&&(k=yield y2(_.localStore,x.query,!1).then(({documents:P})=>x.view.ma(P,k)));const V=M&&M.targetChanges.get(x.targetId),H=M&&null!=M.targetMismatches.get(x.targetId),F=x.view.applyChanges(k,_.isPrimaryClient,V,H);return N8(_,x.targetId,F.wa),F.snapshot}),function y(_,x,D,M){return m.apply(this,arguments)})(e,u,h,g);var m};const s=yield y2(e.localStore,t,!0),o=new Mce(t,s.Ts),a=o.ma(s.documents),l=xD.createSynthesizedTargetChangeForCurrentChange(i,n&&"Offline"!==e.onlineState,r),c=o.applyChanges(a,e.isPrimaryClient,l);N8(e,i,c.wa);const d=new NQe(t,i,o);return e.Fa.set(t,d),e.Ma.has(i)?e.Ma.get(i).push(t):e.Ma.set(i,[t]),c.snapshot}),M8.apply(this,arguments)}function HQe(e,t,i){return E8.apply(this,arguments)}function E8(){return(E8=(0,J.A)(function*(e,t,i){const n=lt(e),r=n.Fa.get(t),s=n.Ma.get(r.targetId);if(s.length>1)return n.Ma.set(r.targetId,s.filter(o=>!fD(o,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lC(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&dC(n.remoteStore,r.targetId),mC(n,r.targetId)}).catch(gf))):(mC(n,r.targetId),yield lC(n.localStore,r.targetId,!0))})).apply(this,arguments)}function jQe(e,t){return I8.apply(this,arguments)}function I8(){return(I8=(0,J.A)(function*(e,t){const i=lt(e),n=i.Fa.get(t),r=i.Ma.get(n.targetId);i.isPrimaryClient&&1===r.length&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),dC(i.remoteStore,n.targetId))})).apply(this,arguments)}function A8(){return(A8=(0,J.A)(function*(e,t,i){const n=K8(e);try{const r=yield function(o,a){const l=lt(o),c=ds.now(),d=a.reduce((g,m)=>g.add(m.key),Oi());let u,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=Ql(),y=Oi();return l.cs.getEntries(g,d).next(_=>{m=_,m.forEach((x,D)=>{D.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,m)).next(_=>{u=_;const x=[];for(const D of a){const M=mZe(D,u.get(D.key).overlayedDocument);null!=M&&x.push(new Ip(D.key,M,bae(M.value.mapValue),hs.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(_=>{h=_;const x=_.applyToLocalDocumentSet(u,y);return l.documentOverlayCache.saveOverlays(g,_.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Bae(u)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Pr(wi)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(n,r.batchId,i),yield Tp(n,r.changes),yield uC(n.remoteStore)}catch(r){const s=pC(r,"Failed to persist write");i.reject(s)}})).apply(this,arguments)}function Ice(e,t){return T8.apply(this,arguments)}function T8(){return(T8=(0,J.A)(function*(e,t){const i=lt(e);try{const n=yield function lQe(e,t){const i=lt(e),n=t.snapshotVersion;let r=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=i.cs.newChangeBuffer({trackRemovals:!0});r=i.os;const a=[];t.targetChanges.forEach((d,u)=>{const h=r.get(u);if(!h)return;a.push(i.Ur.removeMatchingKeys(s,d.removedDocuments,u).next(()=>i.Ur.addMatchingKeys(s,d.addedDocuments,u)));let g=h.withSequenceNumber(s.currentSequenceNumber);var y,_,x;null!==t.targetMismatches.get(u)?g=g.withResumeToken(ks.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),r=r.insert(u,g),_=g,x=d,(0===(y=h).resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0)&&a.push(i.Ur.updateTargetData(s,g))});let l=Ql(),c=Oi();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(nce(s,o,t.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!n.isEqual(Wt.min())){const d=i.Ur.getLastRemoteSnapshotVersion(s).next(u=>i.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(d)}return fe.waitFor(a).next(()=>o.apply(s)).next(()=>i.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(i.os=r,s))}(i.localStore,t);t.targetChanges.forEach((r,s)=>{const o=i.Na.get(s);o&&(Nt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Nt(o.va):r.removedDocuments.size>0&&(Nt(o.va),o.va=!1))}),yield Tp(i,n,t)}catch(n){yield gf(n)}})).apply(this,arguments)}function Ace(e,t,i){const n=lt(e);if(n.isPrimaryClient&&0===i||!n.isPrimaryClient&&1===i){const r=[];n.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=lt(o);l.onlineState=a;let c=!1;l.queries.forEach((d,u)=>{for(const h of u.j_)h.Z_(a)&&(c=!0)}),c&&b8(l)}(n.eventManager,t),r.length&&n.Ca.d_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function WQe(e,t,i){return R8.apply(this,arguments)}function R8(){return(R8=(0,J.A)(function*(e,t,i){const n=lt(e);n.sharedClientState.updateQueryState(t,"rejected",i);const r=n.Na.get(t),s=r&&r.key;if(s){let o=new Pr(pt.comparator);o=o.insert(s,Zr.newNoDocument(s,Wt.min()));const a=Oi().add(s),l=new wD(Wt.min(),new Map,new Pr(wi),o,a);yield Ice(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(t),V8(n)}else yield lC(n.localStore,t,!1).then(()=>mC(n,t,i)).catch(gf)})).apply(this,arguments)}function $Qe(e,t){return k8.apply(this,arguments)}function k8(){return(k8=(0,J.A)(function*(e,t){const i=lt(e),n=t.batch.batchId;try{const r=yield function aQe(e,t){const i=lt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=t.batch.keys(),s=i.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const u=c.batch,h=u.keys();let g=fe.resolve();return h.forEach(m=>{g=g.next(()=>d.getEntry(l,m)).next(y=>{const _=c.docVersions.get(m);Nt(null!==_),y.version.compareTo(_)<0&&(u.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,u))}(i,n,t,s).next(()=>s.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Oi();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>i.localDocuments.getDocuments(n,r))})}(i.localStore,t);L8(i,n,null),O8(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield Tp(i,r)}catch(r){yield gf(r)}})).apply(this,arguments)}function YQe(e,t,i){return P8.apply(this,arguments)}function P8(){return(P8=(0,J.A)(function*(e,t,i){const n=lt(e);try{const r=yield function(o,a){const l=lt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(u=>(Nt(null!==u),d=u.keys(),l.mutationQueue.removeMutationBatch(c,u))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(n.localStore,t);L8(n,t,i),O8(n,t),n.sharedClientState.updateMutationState(t,"rejected",i),yield Tp(n,r)}catch(r){yield gf(r)}})).apply(this,arguments)}function F8(){return(F8=(0,J.A)(function*(e,t){const i=lt(e);Mf(i.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=yield function(o){const a=lt(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(i.localStore);if(-1===n)return void t.resolve();const r=i.ka.get(n)||[];r.push(t),i.ka.set(n,r)}catch(n){const r=pC(n,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function O8(e,t){(e.ka.get(t)||[]).forEach(i=>{i.resolve()}),e.ka.delete(t)}function L8(e,t,i){const n=lt(e);let r=n.Ba[n.currentUser.toKey()];if(r){const s=r.get(t);s&&(i?s.reject(i):s.resolve(),r=r.remove(t)),n.Ba[n.currentUser.toKey()]=r}}function mC(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),i&&e.Ca.$a(n,i);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(n=>{e.La.containsKey(n)||Tce(e,n)})}function Tce(e,t){e.xa.delete(t.path.canonicalString());const i=e.Oa.get(t);null!==i&&(dC(e.remoteStore,i),e.Oa=e.Oa.remove(t),e.Na.delete(i),V8(e))}function N8(e,t,i){for(const n of i)n instanceof Sce?(e.La.addReference(n.key,t),qQe(e,n)):n instanceof Dce?(Ue("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||Tce(e,n.key)):At()}function qQe(e,t){const i=t.key,n=i.path.canonicalString();e.Oa.get(i)||e.xa.has(n)||(Ue("SyncEngine","New document in limbo: "+i),e.xa.add(n),V8(e))}function V8(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const i=new pt(sn.fromString(t)),n=e.qa.next();e.Na.set(n,new VQe(i)),e.Oa=e.Oa.insert(i,n),x2(e.remoteStore,new Ap(Sa(K_(i.path)),n,"TargetPurposeLimboResolution",kc.oe))}}function Tp(e,t,i){return B8.apply(this,arguments)}function B8(){return B8=(0,J.A)(function*(e,t,i){const n=lt(e),r=[],s=[],o=[];var a;n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{o.push(n.Ka(l,t,i).then(c=>{var d;if((c||i)&&n.isPrimaryClient){const u=c?!c.fromCache:null===(d=i?.targetChanges.get(l.targetId))||void 0===d?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(c){r.push(c);const u=Bz.Wi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),n.Ca.d_(r),yield(a=(0,J.A)(function*(c,d){const u=lt(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>fe.forEach(d,g=>fe.forEach(g.$i,m=>u.persistence.referenceDelegate.addReference(h,g.targetId,m)).next(()=>fe.forEach(g.Ui,m=>u.persistence.referenceDelegate.removeReference(h,g.targetId,m)))))}catch(h){if(!ff(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const g=h.targetId;if(!h.fromCache){const m=u.os.get(g),_=m.withLastLimboFreeSnapshotVersion(m.snapshotVersion);u.os=u.os.insert(g,_)}}}),function l(c,d){return a.apply(this,arguments)})(n.localStore,s))}),B8.apply(this,arguments)}function ZQe(e,t){return z8.apply(this,arguments)}function z8(){return(z8=(0,J.A)(function*(e,t){const i=lt(e);if(!i.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const n=yield tce(i.localStore,t);i.currentUser=t,(s=i).ka.forEach(a=>{a.forEach(l=>{l.reject(new He(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),i.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Tp(i,n.hs)}var s})).apply(this,arguments)}function QQe(e,t){const i=lt(e),n=i.Na.get(t);if(n&&n.va)return Oi().add(n.key);{let r=Oi();const s=i.Ma.get(t);if(!s)return r;for(const o of s){const a=i.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function XQe(e,t){return G8.apply(this,arguments)}function G8(){return(G8=(0,J.A)(function*(e,t){const i=lt(e),n=yield y2(i.localStore,t.query,!0),r=t.view.ba(n);return i.isPrimaryClient&&N8(i,t.targetId,r.wa),r})).apply(this,arguments)}function JQe(e,t){return H8.apply(this,arguments)}function H8(){return(H8=(0,J.A)(function*(e,t){const i=lt(e);return sce(i.localStore,t).then(n=>Tp(i,n))})).apply(this,arguments)}function eXe(e,t,i,n){return j8.apply(this,arguments)}function j8(){return(j8=(0,J.A)(function*(e,t,i,n){const r=lt(e),s=yield function(a,l){const c=lt(a),d=lt(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",u=>d.Mn(u,l).next(h=>h?c.localDocuments.getDocuments(u,h):fe.resolve(null)))}(r.localStore,t);var l;null!==s?("pending"===i?yield uC(r.remoteStore):"acknowledged"===i||"rejected"===i?(L8(r,t,n||null),O8(r,t),l=t,lt(lt(r.localStore).mutationQueue).On(l)):At(),yield Tp(r,s)):Ue("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function U8(){return(U8=(0,J.A)(function*(e,t){const i=lt(e);if(D2(i),K8(i),!0===t&&!0!==i.Qa){const n=i.sharedClientState.getAllActiveQueryTargets(),r=yield Rce(i,n.toArray());i.Qa=!0,yield h8(i.remoteStore,!0);for(const s of r)x2(i.remoteStore,s)}else if(!1===t&&!1!==i.Qa){const n=[];let r=Promise.resolve();i.Ma.forEach((s,o)=>{i.sharedClientState.isLocalQueryTarget(o)?n.push(o):r=r.then(()=>(mC(i,o),lC(i.localStore,o,!0))),dC(i.remoteStore,o)}),yield r,yield Rce(i,n),function(o){const a=lt(o);a.Na.forEach((l,c)=>{dC(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new Pr(pt.comparator)}(i),i.Qa=!1,yield h8(i.remoteStore,!1)}})).apply(this,arguments)}function Rce(e,t,i){return W8.apply(this,arguments)}function W8(){return(W8=(0,J.A)(function*(e,t,i){const n=lt(e),r=[],s=[];for(const o of t){let a;const l=n.Ma.get(o);if(l&&0!==l.length){a=yield aC(n.localStore,Sa(l[0]));for(const c of l){const d=n.Fa.get(c),u=yield XQe(n,d);u.snapshot&&s.push(u.snapshot)}}else{const c=yield rce(n.localStore,o);a=yield aC(n.localStore,c),yield D8(n,kce(c),o,!1,a.resumeToken)}r.push(a)}return n.Ca.d_(s),r})).apply(this,arguments)}function kce(e){return Rae(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iXe(e){return i=lt(e).localStore,lt(lt(i).persistence).Qi();var i}function nXe(e,t,i,n){return $8.apply(this,arguments)}function $8(){return($8=(0,J.A)(function*(e,t,i,n){const r=lt(e);if(r.Qa)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const s=r.Ma.get(t);if(s&&s.length>0)switch(i){case"current":case"not-current":{const o=yield sce(r.localStore,Lae(s[0])),a=wD.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,ks.EMPTY_BYTE_STRING);yield Tp(r,o,a);break}case"rejected":yield lC(r.localStore,t,!0),mC(r,t,n);break;default:At()}})).apply(this,arguments)}function rXe(e,t,i){return Y8.apply(this,arguments)}function Y8(){return(Y8=(0,J.A)(function*(e,t,i){const n=D2(e);if(n.Qa){for(const r of t){if(n.Ma.has(r)&&n.sharedClientState.isActiveQueryTarget(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const s=yield rce(n.localStore,r),o=yield aC(n.localStore,s);yield D8(n,kce(s),o.targetId,!1,o.resumeToken),x2(n.remoteStore,o)}for(const r of i)n.Ma.has(r)&&(yield lC(n.localStore,r,!1).then(()=>{dC(n.remoteStore,r),mC(n,r)}).catch(gf))}})).apply(this,arguments)}function D2(e){const t=lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ice.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QQe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WQe.bind(null,t),t.Ca.d_=PQe.bind(null,t.eventManager),t.Ca.$a=FQe.bind(null,t.eventManager),t}function K8(e){const t=lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$Qe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YQe.bind(null,t),t}let vC=(()=>{class e{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var n=this;return(0,J.A)(function*(){n.serializer=PD(i.databaseInfo.databaseId),n.sharedClientState=n.Wa(i),n.persistence=n.Ga(i),yield n.persistence.start(),n.localStore=n.za(i),n.gcScheduler=n.ja(i,n.localStore),n.indexBackfillerScheduler=n.Ha(i,n.localStore)})()}ja(i,n){return null}Ha(i,n){return null}za(i){return ece(this.persistence,new Jle,i.initialUser,this.serializer)}Ga(i){return new Oz(f2.Zr,this.serializer)}Wa(i){return new cce}terminate(){var i=this;return(0,J.A)(function*(){var n,r;null===(n=i.gcScheduler)||void 0===n||n.stop(),null===(r=i.indexBackfillerScheduler)||void 0===r||r.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return e.provider={build:()=>new e},e})();class q8 extends vC{constructor(t,i,n){super(),this.Ja=t,this.cacheSizeBytes=i,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,n=this;return(0,J.A)(function*(){yield i().call(n,t),yield n.Ja.initialize(n,t),yield K8(n.Ja.syncEngine),yield uC(n.Ja.remoteStore),yield n.persistence.yi(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return ece(this.persistence,new Jle,t.initialUser,this.serializer)}ja(t,i){return new Ule(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}Ha(t,i){const n=new Eqe(i,this.persistence);return new Mqe(t.asyncQueue,n)}Ga(t){const i=Vz(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Da.withCacheSize(this.cacheSizeBytes):Da.DEFAULT;return new Nz(this.synchronizeTabs,i,t.clientId,n,t.asyncQueue,uce(),w2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new cce}}class Pce extends q8{constructor(t,i){super(t,i,!1),this.Ja=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,n=this;return(0,J.A)(function*(){yield i().call(n,t);const r=n.Ja.syncEngine;n.sharedClientState instanceof Yz&&(n.sharedClientState.syncEngine={no:eXe.bind(null,r),ro:nXe.bind(null,r),io:rXe.bind(null,r),Qi:iXe.bind(null,r),eo:JQe.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.yi(function(){var s=(0,J.A)(function*(o){yield function tXe(e,t){return U8.apply(this,arguments)}(n.Ja.syncEngine,o),n.gcScheduler&&(o&&!n.gcScheduler.started?n.gcScheduler.start():o||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(o&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():o||n.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}Wa(t){const i=uce();if(!Yz.D(i))throw new He(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Vz(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Yz(i,t.asyncQueue,n,t.clientId,t.initialUser)}}let yC=(()=>{class e{initialize(i,n){var r=this;return(0,J.A)(function*(){r.localStore||(r.localStore=i.localStore,r.sharedClientState=i.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!i.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>Ace(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=ZQe.bind(null,r.syncEngine),yield h8(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(i){return new kQe}createDatastore(i){const n=PD(i.databaseInfo.databaseId),r=new fQe(i.databaseInfo);return new yQe(i.authCredentials,i.appCheckCredentials,r,n)}createRemoteStore(i){return r=this.localStore,s=this.datastore,o=i.asyncQueue,a=n=>Ace(this.syncEngine,n,0),l=dce.D()?new dce:new hQe,new _Qe(r,s,o,a,l);var r,s,o,a,l}createSyncEngine(i,n){return function(s,o,a,l,c,d,u){const h=new BQe(s,o,a,l,c,d);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){var i=this;return(0,J.A)(function*(){var n,r,s;yield(s=(0,J.A)(function*(a){const l=lt(a);Ue("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield cC(l),l.k_.shutdown(),l.q_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(i.remoteStore),null===(n=i.datastore)||void 0===n||n.terminate(),null===(r=i.eventManager)||void 0===r||r.terminate()})()}}return e.provider={build:()=>new e},e})();function Fce(e,t=10240){let i=0;return{read:()=>(0,J.A)(function*(){if(i<e.byteLength){const n={value:e.slice(i,i+t),done:!1};return i+=t,n}return{done:!0}})(),cancel:()=>(0,J.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class M2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Hs("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout(()=>{this.muted||t(i)},0)}}class aXe{constructor(t,i){this.Xa=t,this.serializer=i,this.metadata=new ko,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(n=>{n&&n.ua()?this.metadata.resolve(n.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.aa)}`))},n=>this.metadata.reject(n))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,J.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,J.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,J.A)(function*(){const i=yield t.nu();if(null===i)return null;const n=t.eu.decode(i),r=Number(n);isNaN(r)&&t.ru(`length string (${n}) is not valid number`);const s=yield t.iu(r);return new OQe(JSON.parse(s),i.length+r)})()}su(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}nu(){var t=this;return(0,J.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const i=t.su();i<0&&t.ru("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),n})()}iu(t){var i=this;return(0,J.A)(function*(){for(;i.buffer.length<t;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const n=i.eu.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),n})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,J.A)(function*(){const i=yield t.Xa.read();if(!i.done){const n=new Uint8Array(t.buffer.length+i.value.length);n.set(t.buffer),n.set(i.value,t.buffer.length),t.buffer=n}return i.done})()}}class lXe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,J.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new He(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const n=yield(r=(0,J.A)(function*(o,a){const l=lt(o),c={documents:a.map(g=>SD(l.serializer,g))},d=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,sn.emptyPath(),c,a.length),u=new Map;d.forEach(g=>{const m=function DZe(e,t){return"found"in t?function(n,r){Nt(!!r.found);const s=eh(n,r.found.name),o=js(r.found.updateTime),a=r.found.createTime?js(r.found.createTime):Wt.min(),l=new ta({mapValue:{fields:r.found.fields}});return Zr.newFoundDocument(s,o,a,l)}(e,t):"missing"in t?function(n,r){Nt(!!r.missing),Nt(!!r.readTime);const s=eh(n,r.missing),o=js(r.readTime);return Zr.newNoDocument(s,o)}(e,t):At()}(l.serializer,g);u.set(m.key.toString(),m)});const h=[];return a.forEach(g=>{const m=u.get(g.toString());Nt(!!m),h.push(m)}),h}),function s(o,a){return r.apply(this,arguments)})(i.datastore,t);var r;return n.forEach(r=>i.recordVersion(r)),n})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new eC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,J.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var n;t.mutations.forEach(n=>{i.delete(n.key.toString())}),i.forEach((n,r)=>{const s=pt.fromPath(r);t.mutations.push(new vz(s,t.precondition(s)))}),yield(n=(0,J.A)(function*(s,o){const a=lt(s),l={writes:o.map(c=>DD(a.serializer,c))};yield a.Mo("Commit",a.serializer.databaseId,sn.emptyPath(),l)}),function r(s,o){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw At();i=Wt.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!i.isEqual(n))throw new He(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(Wt.min())?hs.exists(!1):hs.updateTime(i):hs.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(Wt.min()))throw new He(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hs.updateTime(i)}return hs.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class cXe{constructor(t,i,n,r,s){this.asyncQueue=t,this.datastore=i,this.options=n,this.updateFunction=r,this.deferred=s,this._u=n.maxAttempts,this.t_=new qz(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,J.A)(function*(){const i=new lXe(t.datastore),n=t.cu(i);n&&n.then(r=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.lu(s)}))}).catch(r=>{t.lu(r)})}))}cu(t){try{const i=this.updateFunction(t);return!aD(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!ele(i)}return!1}}class dXe{constructor(t,i,n,r,s){var o=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=Ro.UNAUTHENTICATED,this.clientId=Woe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,function(){var a=(0,J.A)(function*(l){Ue("FirestoreClient","Received user=",l.uid),yield o.authCredentialListener(l),o.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(n,a=>(Ue("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(n){const r=pC(n,"Failed to shutdown persistence");i.reject(r)}})),i.promise}}function Z8(e,t){return Q8.apply(this,arguments)}function Q8(){return Q8=(0,J.A)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const i=e.configuration;yield t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener(function(){var r=(0,J.A)(function*(s){n.isEqual(s)||(yield tce(t.localStore,s),n=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}),Q8.apply(this,arguments)}function Oce(e,t){return X8.apply(this,arguments)}function X8(){return(X8=(0,J.A)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const i=yield J8(e);Ue("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,e.configuration),e.setCredentialChangeListener(n=>yce(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>yce(t.remoteStore,r)),e._onlineComponents=t})).apply(this,arguments)}function J8(e){return eG.apply(this,arguments)}function eG(){return(eG=(0,J.A)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Z8(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(r=t).name?r.code===xe.FAILED_PRECONDITION||r.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw t;Tc("Error using user provided cache. Falling back to memory cache: "+t),yield Z8(e,new vC)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield Z8(e,new vC);var r;return e._offlineComponents})).apply(this,arguments)}function E2(e){return tG.apply(this,arguments)}function tG(){return(tG=(0,J.A)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield Oce(e,e._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield Oce(e,new yC))),e._onlineComponents})).apply(this,arguments)}function Lce(e){return J8(e).then(t=>t.persistence)}function bC(e){return J8(e).then(t=>t.localStore)}function Nce(e){return E2(e).then(t=>t.remoteStore)}function iG(e){return E2(e).then(t=>t.syncEngine)}function _C(e){return nG.apply(this,arguments)}function nG(){return(nG=(0,J.A)(function*(e){const t=yield E2(e),i=t.eventManager;return i.onListen=zQe.bind(null,t.syncEngine),i.onUnlisten=HQe.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=GQe.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=jQe.bind(null,t.syncEngine),i})).apply(this,arguments)}function Bce(e,t,i={}){const n=new ko;return e.asyncQueue.enqueueAndForget((0,J.A)(function*(){return function(s,o,a,l,c){const d=new M2({next:h=>{d.Za(),o.enqueueAndForget(()=>v8(s,u));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new He(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&"server"===l.source?c.reject(new He(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new C8(K_(a.path),d,{includeMetadataChanges:!0,_a:!0});return f8(s,u)}(yield _C(e),e.asyncQueue,t,i,n)})),n.promise}function zce(e,t,i={}){const n=new ko;return e.asyncQueue.enqueueAndForget((0,J.A)(function*(){return function(s,o,a,l,c){const d=new M2({next:h=>{d.Za(),o.enqueueAndForget(()=>v8(s,u)),h.fromCache&&"server"===l.source?c.reject(new He(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new C8(a,d,{includeMetadataChanges:!0,_a:!0});return f8(s,u)}(yield _C(e),e.asyncQueue,t,i,n)})),n.promise}function Gce(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Hce=new Map;function rG(e,t,i){if(!i)throw new He(xe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jce(e,t,i,n){if(!0===t&&!0===n)throw new He(xe.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function Uce(e){if(!pt.isDocumentKey(e))throw new He(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Wce(e){if(pt.isDocumentKey(e))throw new He(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function I2(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=(n=e).constructor?n.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var n;return"function"==typeof e?"a function":At()}function Xi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new He(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=I2(e);throw new He(xe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function $ce(e,t){if(t<=0)throw new He(xe.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Yce{constructor(t){var i,n;if(void 0===t.host){if(void 0!==t.ssl)throw new He(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new He(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jce("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Gce(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class OD{constructor(t,i,n,r){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yce({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new He(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yce(t),void 0!==t.credentials&&(this._authCredentials=function(n){if(!n)return new gqe;switch(n.type){case"firstParty":return new yqe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new He(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,J.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=Hce.get(i);n&&(Ue("ComponentProvider","Removing Datastore"),Hce.delete(i),n.terminate())}(this),Promise.resolve()}}class ia{constructor(t,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ia(this.firestore,t,this._query)}}class Qr{constructor(t,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new th(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qr(this.firestore,t,this._key)}}class th extends ia{constructor(t,i,n){super(t,i,K_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qr(this.firestore,null,new pt(t))}withConverter(t){return new th(this.firestore,t,this._path)}}function qce(e,t,...i){if(e=(0,Ln.Ku)(e),rG("collection","path",t),e instanceof OD){const n=sn.fromString(t,...i);return Wce(n),new th(e,null,n)}{if(!(e instanceof Qr||e instanceof th))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sn.fromString(t,...i));return Wce(n),new th(e.firestore,null,n)}}function A2(e,t,...i){if(e=(0,Ln.Ku)(e),1===arguments.length&&(t=Woe.newId()),rG("doc","path",t),e instanceof OD){const n=sn.fromString(t,...i);return Uce(n),new Qr(e,null,new pt(n))}{if(!(e instanceof Qr||e instanceof th))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sn.fromString(t,...i));return Uce(n),new Qr(e.firestore,e instanceof th?e.converter:null,new pt(n))}}function Zce(e,t){return e=(0,Ln.Ku)(e),t=(0,Ln.Ku)(t),(e instanceof Qr||e instanceof th)&&(t instanceof Qr||t instanceof th)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sG(e,t){return e=(0,Ln.Ku)(e),t=(0,Ln.Ku)(t),e instanceof ia&&t instanceof ia&&e.firestore===t.firestore&&fD(e._query,t._query)&&e.converter===t.converter}class Qce{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qz(this,"async_queue_retry"),this.Vu=()=>{const n=w2();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const i=w2();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=w2();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,J.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(i){if(!ff(i))throw i;Ue("AsyncQueue","Operation failed with retryable error: "+i)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const i=this.mu.then(()=>(this.du=!0,t().catch(n=>{throw this.Eu=n,this.du=!1,Hs("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(n)),n}).then(n=>(this.du=!1,n))));return this.mu=i,i}enqueueAfterDelay(t,i,n){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const r=g8.createAndSchedule(this,t,i,n,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&At()}verifyOperationInProgress(){}wu(){var t=this;return(0,J.A)(function*(){let i;do{i=t.mu,yield i}while(i!==t.mu)})()}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function oG(e){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(e)}class xXe{constructor(){this._progressObserver={},this._taskCompletionResolver=new ko,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,n){this._progressObserver={next:t,error:i,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class br extends OD{constructor(t,i,n,r){super(t,i,n,r),this.type="firestore",this._queue=new Qce,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,J.A)(function*(){if(t._firestoreClient){const i=t._firestoreClient.terminate();t._queue=new Qce(i),t._firestoreClient=void 0,yield i}})()}}function ps(e){if(e._terminated)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Xce(e),e._firestoreClient}function Xce(e){var t,i,n;const r=e._freezeSettings(),s=(l=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new qqe(e._databaseId,l,e._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Gce(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;e._componentsProvider||!(null===(i=r.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(n=r.localCache)||void 0===n)&&n._onlineComponentProvider&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new dXe(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(e._componentsProvider))}function aG(){return(aG=(0,J.A)(function*(e){Tc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();Jce(e,yC.provider,{build:i=>new Pce(i,t.cacheSizeBytes)})})).apply(this,arguments)}function Jce(e,t,i){if((e=Xi(e,br))._firestoreClient||e._terminated)throw new He(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new He(xe.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:i},Xce(e)}class ih{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ih(ks.fromBase64String(t))}catch(i){throw new He(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ih(ks.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rp{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new He(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ay{constructor(t){this._methodName=t}}class T2{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new He(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new He(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wi(this._lat,t._lat)||wi(this._long,t._long)}}class R2{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0}(this._values,t._values)}}const FXe=/^__.*__$/;class OXe{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return null!==this.fieldMask?new Ip(t,this.data,this.fieldMask,i,this.fieldTransforms):new J_(t,this.data,i,this.fieldTransforms)}}class ede{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return new Ip(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function tde(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class k2{constructor(t,i,n,r,s,o){this.settings=t,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new k2(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const n=null===(i=this.path)||void 0===i?void 0:i.child(t),r=this.Fu({path:n,xu:!1});return r.Ou(t),r}Nu(t){var i;const n=null===(i=this.path)||void 0===i?void 0:i.child(t),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return O2(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(tde(this.Cu)&&FXe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class LXe{constructor(t,i,n){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=n||PD(t)}Qu(t,i,n,r=!1){return new k2({Cu:t,methodName:i,qu:n,path:qr.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(e){const t=e._freezeSettings(),i=PD(e._databaseId);return new LXe(e._databaseId,!!t.ignoreUndefinedProperties,i)}function P2(e,t,i,n,r,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,i,r);gG("Data must be an object, but it was:",o,n);const a=rde(n,o);let l,c;if(s.merge)l=new Zl(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const u of s.mergeFields){const h=VD(t,u,i);if(!o.contains(h))throw new He(xe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ode(d,h)||d.push(h)}l=new Zl(d),c=o.fieldTransforms.filter(u=>l.covers(u.field))}else l=null,c=o.fieldTransforms;return new OXe(new ta(a),l,c)}class ND extends ay{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ND}}function ide(e,t,i){return new k2({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lG extends ay{_toFieldTransform(t){return new bD(t.path,new Q_)}isEqual(t){return t instanceof lG}}class cG extends ay{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=ide(this,t,!0),n=this.Ku.map(s=>cy(s,i)),r=new Xv(n);return new bD(t.path,r)}isEqual(t){return t instanceof cG&&(0,Ln.bD)(this.Ku,t.Ku)}}class dG extends ay{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=ide(this,t,!0),n=this.Ku.map(s=>cy(s,i)),r=new Jv(n);return new bD(t.path,r)}isEqual(t){return t instanceof dG&&(0,Ln.bD)(this.Ku,t.Ku)}}class uG extends ay{constructor(t,i){super(t),this.$u=i}_toFieldTransform(t){const i=new X_(t.serializer,Hae(t.serializer,this.$u));return new bD(t.path,i)}isEqual(t){return t instanceof uG&&this.$u===t.$u}}function hG(e,t,i,n){const r=e.Qu(1,t,i);gG("Data must be an object, but it was:",r,n);const s=[],o=ta.empty();mf(n,(l,c)=>{const d=F2(t,l,i);c=(0,Ln.Ku)(c);const u=r.Nu(d);if(c instanceof ND)s.push(d);else{const h=cy(c,u);null!=h&&(s.push(d),o.set(d,h))}});const a=new Zl(s);return new ede(o,a,r.fieldTransforms)}function pG(e,t,i,n,r,s){const o=e.Qu(1,t,i),a=[VD(t,n,i)],l=[r];if(s.length%2!=0)throw new He(xe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(VD(t,s[h])),l.push(s[h+1]);const c=[],d=ta.empty();for(let h=a.length-1;h>=0;--h)if(!ode(c,a[h])){const g=a[h];let m=l[h];m=(0,Ln.Ku)(m);const y=o.Nu(g);if(m instanceof ND)c.push(g);else{const _=cy(m,y);null!=_&&(c.push(g),d.set(g,_))}}const u=new Zl(c);return new ede(d,u,o.fieldTransforms)}function nde(e,t,i,n=!1){return cy(i,e.Qu(n?4:3,t))}function cy(e,t){if(sde(e=(0,Ln.Ku)(e)))return gG("Unsupported field value:",t,e),rde(e,t);if(e instanceof ay)return function(n,r){if(!tde(r.Cu))throw r.Bu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const a of n){let l=cy(a,r.Lu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(n,r){if(null===(n=(0,Ln.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Hae(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=ds.fromDate(n);return{timestampValue:tC(r.serializer,s)}}if(n instanceof ds){const s=new ds(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tC(r.serializer,s)}}if(n instanceof T2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ih)return{bytesValue:dle(r.serializer,n._byteString)};if(n instanceof Qr){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xz(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof R2)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:n.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return mz(a.serializer,l)})}}}}};var a;throw r.Bu(`Unsupported field value: ${I2(n)}`)}(e,t)}function rde(e,t){const i={};return lae(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mf(e,(n,r)=>{const s=cy(r,t.Mu(n));null!=s&&(i[n]=s)}),{mapValue:{fields:i}}}function sde(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ds||e instanceof T2||e instanceof ih||e instanceof Qr||e instanceof ay||e instanceof R2)}function gG(e,t,i){if(!sde(i)||"object"!=typeof(r=i)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=I2(i);throw t.Bu("an object"===n?e+" a custom object":e+" "+n)}var r}function VD(e,t,i){if((t=(0,Ln.Ku)(t))instanceof Rp)return t._internalPath;if("string"==typeof t)return F2(e,t);throw O2("Field path arguments must be of type string or ",e,!1,void 0,i)}const NXe=new RegExp("[~\\*/\\[\\]]");function F2(e,t,i){if(t.search(NXe)>=0)throw O2(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new Rp(...t.split("."))._internalPath}catch{throw O2(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function O2(e,t,i,n,r){const s=n&&!n.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${n}`),o&&(l+=` in document ${r}`),l+=")"),new He(xe.INVALID_ARGUMENT,a+e+l)}function ode(e,t){return e.some(i=>i.isEqual(t))}class BD{constructor(t,i,n,r,s){this._firestore=t,this._userDataWriter=i,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new VXe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(L2("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class VXe extends BD{data(){return super.data()}}function L2(e,t){return"string"==typeof t?F2(e,t):t instanceof Rp?t._internalPath:t._delegate._internalPath}function ade(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new He(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fG{}class zD extends fG{}function If(e,t,...i){let n=[];t instanceof fG&&n.push(t),n=n.concat(i),function(s){const o=s.filter(l=>l instanceof CC).length,a=s.filter(l=>l instanceof GD).length;if(o>1||o>0&&a>0)throw new He(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)e=r._apply(e);return e}class GD extends zD{constructor(t,i,n){super(),this._field=t,this._op=i,this._value=n,this.type="where"}static _create(t,i,n){return new GD(t,i,n)}_apply(t){const i=this._parse(t);return ude(t._query,i),new ia(t.firestore,t.converter,gz(t._query,i))}_parse(t){const i=ly(t.firestore);return function(s,o,a,l,c,d,u){let h;if(c.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new He(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){dde(u,d);const g=[];for(const m of u)g.push(cde(l,s,m));h={arrayValue:{values:g}}}else h=cde(l,s,u)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||dde(u,d),h=nde(a,"where",u,"in"===d||"not-in"===d);return on.create(c,d,h)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class CC extends fG{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new CC(t,i)}_parse(t){const i=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return 1===i.length?i[0]:nr.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)ude(o,l),o=gz(o,l)}(t._query,i),new ia(t.firestore,t.converter,gz(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mG extends zD{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new mG(t,i)}_apply(t){const i=function(r,s,o){if(null!==r.startAt)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pD(s,o)}(t._query,this._field,this._direction);return new ia(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Mp(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class N2 extends zD{constructor(t,i,n){super(),this.type=t,this._limit=i,this._limitType=n}static _create(t,i,n){return new N2(t,i,n)}_apply(t){return new ia(t.firestore,t.converter,e2(t._query,this._limit,this._limitType))}}class V2 extends zD{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new V2(t,i,n)}_apply(t){const i=lde(t,this.type,this._docOrFields,this._inclusive);return new ia(t.firestore,t.converter,(s=i,new Mp((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class B2 extends zD{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new B2(t,i,n)}_apply(t){const i=lde(t,this.type,this._docOrFields,this._inclusive);return new ia(t.firestore,t.converter,(s=i,new Mp((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function lde(e,t,i,n){if(i[0]=(0,Ln.Ku)(i[0]),i[0]instanceof BD)return function(s,o,a,l,c){if(!l)throw new He(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const u of q_(s))if(u.field.isKeyField())d.push(Zv(o,l.key));else{const h=l.data.field(u.field);if($k(h))throw new He(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){const g=u.field.canonicalString();throw new He(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(h)}return new Cf(d,c)}(e._query,e.firestore._databaseId,t,i[0]._document,n);{const r=ly(e.firestore);return function(o,a,l,c,d,u){const h=o.explicitOrderBy;if(d.length>h.length)throw new He(xe.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let m=0;m<d.length;m++){const y=d[m];if(h[m].field.isKeyField()){if("string"!=typeof y)throw new He(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!pz(o)&&-1!==y.indexOf("/"))throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const _=o.path.child(sn.fromString(y));if(!pt.isDocumentKey(_))throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const x=new pt(_);g.push(Zv(a,x))}else{const _=nde(l,c,y);g.push(_)}}return new Cf(g,u)}(e._query,e.firestore._databaseId,r,t,i,n)}}function cde(e,t,i){if("string"==typeof(i=(0,Ln.Ku)(i))){if(""===i)throw new He(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pz(t)&&-1!==i.indexOf("/"))throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=t.path.child(sn.fromString(i));if(!pt.isDocumentKey(n))throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Zv(e,new pt(n))}if(i instanceof Qr)return Zv(e,i._key);throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${I2(i)}.`)}function dde(e,t){if(!Array.isArray(e)||0===e.length)throw new He(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ude(e,t){const i=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new He(xe.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class vG{convertValue(t,i="none"){switch(bf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return us(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Dp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw At()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const n={};return mf(t,(r,s)=>{n[r]=this.convertValue(s,i)}),n}convertVectorValue(t){var i,n,r;const s=null===(r=null===(n=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(o=>us(o.doubleValue));return new R2(s)}convertGeoPoint(t){return new T2(us(t.latitude),us(t.longitude))}convertArray(t,i){return(t.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(t,i){switch(i){case"previous":const n=Yk(t);return null==n?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(cD(t));default:return null}}convertTimestamp(t){const i=Sp(t);return new ds(i.seconds,i.nanos)}convertDocumentKey(t,i){const n=sn.fromString(t);Nt(wle(n));const r=new vf(n.get(1),n.get(3)),s=new pt(n.popFirst(5));return r.isEqual(i)||Hs(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),s}}function z2(e,t,i){let n;return n=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,n}class YXe extends vG{constructor(t){super(),this.firestore=t}convertBytes(t){return new ih(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Qr(this.firestore,null,i)}}class dy{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kp extends BD{constructor(t,i,n,r,s,o){super(t,i,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new HD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}}class HD extends kp{data(t={}){return super.data(t)}}class Af{constructor(t,i,n,r){this._firestore=t,this._userDataWriter=i,this._snapshot=r,this.metadata=new dy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(n=>{t.call(i,new HD(this._firestore,this._userDataWriter,n.key,n,new dy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new He(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new HD(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dy(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new HD(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dy(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:qXe(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function qXe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function pde(e,t){return e instanceof kp&&t instanceof kp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Af&&t instanceof Af&&e._firestore===t._firestore&&sG(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Tf extends vG{constructor(t){super(),this.firestore=t}convertBytes(t){return new ih(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Qr(this.firestore,null,i)}}function gde(e,t,i){e=Xi(e,Qr);const n=Xi(e.firestore,br),r=z2(e.converter,t,i);return wC(n,[P2(ly(n),"setDoc",e._key,r,null!==e.converter,i).toMutation(e._key,hs.none())])}function fde(e,t,i,...n){e=Xi(e,Qr);const r=Xi(e.firestore,br),s=ly(r);let o;return o="string"==typeof(t=(0,Ln.Ku)(t))||t instanceof Rp?pG(s,"updateDoc",e._key,t,i,n):hG(s,"updateDoc",e._key,t),wC(r,[o.toMutation(e._key,hs.exists(!0))])}function mde(e,...t){var i,n,r;e=(0,Ln.Ku)(e);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof t[o]||oG(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oG(t[o])){const u=t[o];t[o]=null===(i=u.next)||void 0===i?void 0:i.bind(u),t[o+1]=null===(n=u.error)||void 0===n?void 0:n.bind(u),t[o+2]=null===(r=u.complete)||void 0===r?void 0:r.bind(u)}let l,c,d;if(e instanceof Qr)c=Xi(e.firestore,br),d=K_(e._key.path),l={next:u=>{t[o]&&t[o](yG(c,e,u))},error:t[o+1],complete:t[o+2]};else{const u=Xi(e,ia);c=Xi(u.firestore,br),d=u._query;const h=new Tf(c);l={next:g=>{t[o]&&t[o](new Af(c,h,u,g))},error:t[o+1],complete:t[o+2]},ade(e._query)}return function(h,g,m,y){const _=new M2(y),x=new C8(g,_,m);return h.asyncQueue.enqueueAndForget((0,J.A)(function*(){return f8(yield _C(h),x)})),()=>{_.Za(),h.asyncQueue.enqueueAndForget((0,J.A)(function*(){return v8(yield _C(h),x)}))}}(ps(c),d,a,l)}function wC(e,t){return function(n,r){const s=new ko;return n.asyncQueue.enqueueAndForget((0,J.A)(function*(){return function UQe(e,t,i){return A8.apply(this,arguments)}(yield iG(n),r,s)})),s.promise}(ps(e),t)}function yG(e,t,i){const n=i.docs.get(t._key),r=new Tf(e);return new kp(e,r,t._key,n,new dy(i.hasPendingWrites,i.fromCache),t.converter)}const pJe={maxAttempts:5};class vde{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ly(t)}set(t,i,n){this._verifyNotCommitted();const r=Rf(t,this._firestore),s=z2(r.converter,i,n),o=P2(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,hs.none())),this}update(t,i,n,...r){this._verifyNotCommitted();const s=Rf(t,this._firestore);let o;return o="string"==typeof(i=(0,Ln.Ku)(i))||i instanceof Rp?pG(this._dataReader,"WriteBatch.update",s._key,i,n,r):hG(this._dataReader,"WriteBatch.update",s._key,i),this._mutations.push(o.toMutation(s._key,hs.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Rf(t,this._firestore);return this._mutations=this._mutations.concat(new eC(i._key,hs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rf(e,t){if((e=(0,Ln.Ku)(e)).firestore!==t)throw new He(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class gJe extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=ly(i)}get(i){const n=Rf(i,this._firestore),r=new YXe(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||1!==s.length)return At();const o=s[0];if(o.isFoundDocument())return new BD(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new BD(this._firestore,r,n._key,null,n.converter);throw At()})}set(i,n,r){const s=Rf(i,this._firestore),o=z2(s.converter,n,r),a=P2(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,a),this}update(i,n,r,...s){const o=Rf(i,this._firestore);let a;return a="string"==typeof(n=(0,Ln.Ku)(n))||n instanceof Rp?pG(this._dataReader,"Transaction.update",o._key,n,r,s):hG(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,a),this}delete(i){const n=Rf(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Rf(t,this._firestore),n=new Tf(this._firestore);return super.get(t).then(r=>new kp(this._firestore,n,i._key,r._document,new dy(!1,!1),i.converter))}}function _G(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new He("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Cde(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function wde(){if(!function Yqe(){return typeof atob<"u"}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){z_=x0.SDK_VERSION,(0,x0._registerComponent)(new Poe.uA("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new br(new mqe(n.getProvider("auth-internal")),new bqe(n.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new He(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:i},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,x0.registerVersion)(Hoe,"4.7.3",t),(0,x0.registerVersion)(Hoe,"4.7.3","esm2017")}();class jD{constructor(t){this._delegate=t}static fromBase64String(t){return wde(),new jD(ih.fromBase64String(t))}static fromUint8Array(t){return Cde(),new jD(ih.fromUint8Array(t))}toBase64(){return wde(),this._delegate.toBase64()}toUint8Array(){return Cde(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CG(e){return function SJe(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const n of t)if(n in i&&"function"==typeof i[n])return!0;return!1}(e,["next","error","complete"])}class DJe{enableIndexedDbPersistence(t,i){return function DXe(e,t){Tc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=e._freezeSettings();return Jce(e,yC.provider,{build:n=>new q8(n,i.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function MXe(e){return aG.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function EXe(e){if(e._initialized&&!e._terminated)throw new He(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ko;return e._queue.enqueueAndForgetEvenWhileRestricted((0,J.A)(function*(){try{yield(i=(0,J.A)(function*(r){if(!Zu.D())return Promise.resolve();const s=r+"main";yield Zu.delete(s)}),function n(r){return i.apply(this,arguments)})(Vz(e._databaseId,e._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class xde{constructor(t,i,n){this._delegate=i,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof vf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&Tc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,n={}){!function Kce(e,t,i,n={}){var r;const s=(e=Xi(e,OD))._getSettings(),o=`${t}:${i}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let a,l;if("string"==typeof n.mockUserToken)a=n.mockUserToken,l=Ro.MOCK_USER;else{a=(0,Ln.Fy)(n.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new He(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ro(c)}e._authCredentials=new fqe(new joe(a,l))}}(this._delegate,t,i,n)}enableNetwork(){return function AXe(e){return function uXe(e){return e.asyncQueue.enqueue((0,J.A)(function*(){const t=yield Lce(e),i=yield Nce(e);return t.setNetworkEnabled(!0),function(r){const s=lt(r);return s.L_.delete(0),FD(s)}(i)}))}(ps(e=Xi(e,br)))}(this._delegate)}disableNetwork(){return function TXe(e){return function hXe(e){return e.asyncQueue.enqueue((0,J.A)(function*(){const t=yield Lce(e),i=yield Nce(e);return t.setNetworkEnabled(!1),(n=(0,J.A)(function*(s){const o=lt(s);o.L_.add(0),yield cC(o),o.q_.set("Offline")}),function r(s){return n.apply(this,arguments)})(i);var n}))}(ps(e=Xi(e,br)))}(this._delegate)}enablePersistence(t){let i=!1,n=!1;return t&&(i=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,jce("synchronizeTabs",i,"experimentalForceOwningTab",n)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function IXe(e){return function(i){const n=new ko;return i.asyncQueue.enqueueAndForget((0,J.A)(function*(){return function KQe(e,t){return F8.apply(this,arguments)}(yield iG(i),n)})),n.promise}(ps(e=Xi(e,br)))}(this._delegate)}onSnapshotsInSync(t){return function rJe(e,t){return function mXe(e,t){const i=new M2(t);return e.asyncQueue.enqueueAndForget((0,J.A)(function*(){return r=yield _C(e),s=i,lt(r).Y_.add(s),void s.next();var r,s})),()=>{i.Za(),e.asyncQueue.enqueueAndForget((0,J.A)(function*(){return r=yield _C(e),s=i,void lt(r).Y_.delete(s);var r,s}))}}(ps(e=Xi(e,br)),oG(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new xC(this,qce(this._delegate,t))}catch(i){throw al(i,"collection()","Firestore.collection()")}}doc(t){try{return new bd(this,A2(this._delegate,t))}catch(i){throw al(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ll(this,function wXe(e,t){if(e=Xi(e,OD),rG("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new He(xe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ia(e,null,(n=t,new Mp(sn.emptyPath(),n)));var n}(this._delegate,t))}catch(i){throw al(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function fJe(e,t,i){e=Xi(e,br);const n=Object.assign(Object.assign({},pJe),i);return function(s){if(s.maxAttempts<1)throw new He(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(s,o,a){const l=new ko;return s.asyncQueue.enqueueAndForget((0,J.A)(function*(){const c=yield function Vce(e){return E2(e).then(t=>t.datastore)}(s);new cXe(s.asyncQueue,c,a,o,l).au()})),l.promise}(ps(e),r=>t(new gJe(e,r)),n)}(this._delegate,i=>t(new Sde(this,i)))}batch(){return ps(this._delegate),new Dde(new vde(this._delegate,t=>wC(this._delegate,t)))}loadBundle(t){return function RXe(e,t){const i=ps(e=Xi(e,br)),n=new xXe;return function vXe(e,t,i,n){const r=function(o,a){let l;return l="string"==typeof o?ile().encode(o):o,d=function(d,u){if(d instanceof Uint8Array)return Fce(d,u);if(d instanceof ArrayBuffer)return Fce(new Uint8Array(d),u);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new aXe(d,a);var d}(i,PD(t));e.asyncQueue.enqueueAndForget((0,J.A)(function*(){!function sXe(e,t,i){const n=lt(e);var r;(r=(0,J.A)(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(m,y){const _=lt(m),x=js(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",D=>_.Gr.getBundleMetadata(D,y.id)).then(D=>!!D&&D.createTime.compareTo(x)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(m=c).totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}),Promise.resolve(new Set);l._updateProgress(xce(c));const d=new LQe(c,o.localStore,a.serializer);let u=yield a.Ua();for(;u;){const g=yield d.la(u);g&&l._updateProgress(g),u=yield a.Ua()}const h=yield d.complete();return yield Tp(o,h.Ia,void 0),yield function(m,y){const _=lt(m);return _.persistence.runTransaction("Save bundle","readwrite",x=>_.Gr.saveBundleMetadata(x,y))}(o.localStore,c),l._completeWith(h.progress),Promise.resolve(h.Pa)}catch(c){return Tc("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var m}),function s(o,a,l){return r.apply(this,arguments)})(n,t,i).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}(yield iG(e),r,n)}))}(i,e._databaseId,t,n),n}(this._delegate,t)}namedQuery(t){return function kXe(e,t){return function yXe(e,t){return e.asyncQueue.enqueue((0,J.A)(function*(){return function(n,r){const s=lt(n);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,r))}(yield bC(e),t)}))}(ps(e=Xi(e,br)),t).then(i=>i?new ia(e,null,i.query):null)}(this._delegate,t).then(i=>i?new ll(this,i):null)}}class H2 extends vG{constructor(t){super(),this.firestore=t}convertBytes(t){return new jD(new ih(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return bd.forKey(i,this.firestore,null)}}class Sde{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new H2(t)}get(t){const i=hy(t);return this._delegate.get(i).then(n=>new UD(this._firestore,new kp(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,i.converter)))}set(t,i,n){const r=hy(t);return n?(_G("Transaction.set",n),this._delegate.set(r,i,n)):this._delegate.set(r,i),this}update(t,i,n,...r){const s=hy(t);return 2===arguments.length?this._delegate.update(s,i):this._delegate.update(s,i,n,...r),this}delete(t){const i=hy(t);return this._delegate.delete(i),this}}class Dde{constructor(t){this._delegate=t}set(t,i,n){const r=hy(t);return n?(_G("WriteBatch.set",n),this._delegate.set(r,i,n)):this._delegate.set(r,i),this}update(t,i,n,...r){const s=hy(t);return 2===arguments.length?this._delegate.update(s,i):this._delegate.update(s,i,n,...r),this}delete(t){const i=hy(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class uy{constructor(t,i,n){this._firestore=t,this._userDataWriter=i,this._delegate=n}fromFirestore(t,i){const n=new HD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new WD(this._firestore,n),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const n=uy.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let s=r.get(i);return s||(s=new uy(t,new H2(t),i),r.set(i,s)),s}}uy.INSTANCES=new WeakMap;class bd{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new H2(t)}static forPath(t,i,n){if(t.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new bd(i,new Qr(i._delegate,n,new pt(t)))}static forKey(t,i,n){return new bd(i,new Qr(i._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new xC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new xC(this.firestore,qce(this._delegate,t))}catch(i){throw al(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ln.Ku)(t))instanceof Qr&&Zce(this._delegate,t)}set(t,i){i=_G("DocumentReference.set",i);try{return i?gde(this._delegate,t,i):gde(this._delegate,t)}catch(n){throw al(n,"setDoc()","DocumentReference.set()")}}update(t,i,...n){try{return 1===arguments.length?fde(this._delegate,t):fde(this._delegate,t,i,...n)}catch(r){throw al(r,"updateDoc()","DocumentReference.update()")}}delete(){return function iJe(e){return wC(Xi(e.firestore,br),[new eC(e._key,hs.none())])}(this._delegate)}onSnapshot(...t){const i=Mde(t),n=Ede(t,r=>new UD(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return mde(this._delegate,i,n)}get(t){let i;return i="cache"===t?.source?function QXe(e){e=Xi(e,Qr);const t=Xi(e.firestore,br),i=ps(t),n=new Tf(t);return function pXe(e,t){const i=new ko;return e.asyncQueue.enqueueAndForget((0,J.A)(function*(){return(n=(0,J.A)(function*(s,o,a){try{const l=yield function(d,u){const h=lt(d);return h.persistence.runTransaction("read document","readonly",g=>h.localDocuments.getDocument(g,u))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new He(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=pC(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function r(s,o,a){return n.apply(this,arguments)})(yield bC(e),t,i);var n})),i.promise}(i,e._key).then(r=>new kp(t,n,e._key,r,new dy(null!==r&&r.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===t?.source?function XXe(e){e=Xi(e,Qr);const t=Xi(e.firestore,br);return Bce(ps(t),e._key,{source:"server"}).then(i=>yG(t,e,i))}(this._delegate):function ZXe(e){e=Xi(e,Qr);const t=Xi(e.firestore,br);return Bce(ps(t),e._key).then(i=>yG(t,e,i))}(this._delegate),i.then(n=>new UD(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(t){return new bd(this.firestore,this._delegate.withConverter(t?uy.getInstance(this.firestore,t):null))}}function al(e,t,i){return e.message=e.message.replace(t,i),e}function Mde(e){for(const t of e)if("object"==typeof t&&!CG(t))return t;return{}}function Ede(e,t){var i,n;let r;return r=CG(e[0])?e[0]:CG(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(i=r.error)||void 0===i?void 0:i.bind(r),complete:null===(n=r.complete)||void 0===n?void 0:n.bind(r)}}class UD{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new bd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return pde(this._delegate,t._delegate)}}class WD extends UD{data(t){const i=this._delegate.data(t);return this._delegate._converter||function pqe(e,t){e||At()}(void 0!==i),i}}class ll{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new H2(t)}where(t,i,n){try{return new ll(this.firestore,If(this._delegate,function BXe(e,t,i){const n=t,r=L2("where",e);return GD._create(r,n,i)}(t,i,n)))}catch(r){throw al(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new ll(this.firestore,If(this._delegate,function zXe(e,t="asc"){const i=t,n=L2("orderBy",e);return mG._create(n,i)}(t,i)))}catch(n){throw al(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ll(this.firestore,If(this._delegate,function GXe(e){return $ce("limit",e),N2._create("limit",e,"F")}(t)))}catch(i){throw al(i,"limit()","Query.limit()")}}limitToLast(t){try{return new ll(this.firestore,If(this._delegate,function HXe(e){return $ce("limitToLast",e),N2._create("limitToLast",e,"L")}(t)))}catch(i){throw al(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ll(this.firestore,If(this._delegate,function jXe(...e){return V2._create("startAt",e,!0)}(...t)))}catch(i){throw al(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ll(this.firestore,If(this._delegate,function UXe(...e){return V2._create("startAfter",e,!1)}(...t)))}catch(i){throw al(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ll(this.firestore,If(this._delegate,function WXe(...e){return B2._create("endBefore",e,!1)}(...t)))}catch(i){throw al(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ll(this.firestore,If(this._delegate,function $Xe(...e){return B2._create("endAt",e,!0)}(...t)))}catch(i){throw al(i,"endAt()","Query.endAt()")}}isEqual(t){return sG(this._delegate,t._delegate)}get(t){let i;return i="cache"===t?.source?function eJe(e){e=Xi(e,ia);const t=Xi(e.firestore,br),i=ps(t),n=new Tf(t);return function gXe(e,t){const i=new ko;return e.asyncQueue.enqueueAndForget((0,J.A)(function*(){return(n=(0,J.A)(function*(s,o,a){try{const l=yield y2(s,o,!0),c=new Mce(o,l.Ts),d=c.ma(l.documents),u=c.applyChanges(d,!1);a.resolve(u.snapshot)}catch(l){const c=pC(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function r(s,o,a){return n.apply(this,arguments)})(yield bC(e),t,i);var n})),i.promise}(i,e._query).then(r=>new Af(t,n,e,r))}(this._delegate):"server"===t?.source?function tJe(e){e=Xi(e,ia);const t=Xi(e.firestore,br),i=ps(t),n=new Tf(t);return zce(i,e._query,{source:"server"}).then(r=>new Af(t,n,e,r))}(this._delegate):function JXe(e){e=Xi(e,ia);const t=Xi(e.firestore,br),i=ps(t),n=new Tf(t);return ade(e._query),zce(i,e._query).then(r=>new Af(t,n,e,r))}(this._delegate),i.then(n=>new wG(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...t){const i=Mde(t),n=Ede(t,r=>new wG(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return mde(this._delegate,i,n)}withConverter(t){return new ll(this.firestore,this._delegate.withConverter(t?uy.getInstance(this.firestore,t):null))}}class EJe{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new WD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wG{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new ll(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new WD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new EJe(this._firestore,i))}forEach(t,i){this._delegate.forEach(n=>{t.call(i,new WD(this._firestore,n))})}isEqual(t){return pde(this._delegate,t._delegate)}}class xC extends ll{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new bd(this.firestore,t):null}doc(t){try{return new bd(this.firestore,void 0===t?A2(this._delegate):A2(this._delegate,t))}catch(i){throw al(i,"doc()","CollectionReference.doc()")}}add(t){return function nJe(e,t){const i=Xi(e.firestore,br),n=A2(e),r=z2(e.converter,t);return wC(i,[P2(ly(e.firestore),"addDoc",n._key,r,null!==e.converter,{}).toMutation(n._key,hs.exists(!1))]).then(()=>n)}(this._delegate,t).then(i=>new bd(this.firestore,i))}isEqual(t){return Zce(this._delegate,t._delegate)}withConverter(t){return new xC(this.firestore,this._delegate.withConverter(t?uy.getInstance(this.firestore,t):null))}}function hy(e){return Xi(e,Qr)}class xG{constructor(...t){this._delegate=new Rp(...t)}static documentId(){return new xG(qr.keyField().canonicalString())}isEqual(t){return(t=(0,Ln.Ku)(t))instanceof Rp&&this._delegate._internalPath.isEqual(t._internalPath)}}class py{constructor(t){this._delegate=t}static serverTimestamp(){const t=function vJe(){return new lG("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new py(t)}static delete(){const t=function mJe(){return new ND("deleteField")}();return t._methodName="FieldValue.delete",new py(t)}static arrayUnion(...t){const i=function yJe(...e){return new cG("arrayUnion",e)}(...t);return i._methodName="FieldValue.arrayUnion",new py(i)}static arrayRemove(...t){const i=function bJe(...e){return new dG("arrayRemove",e)}(...t);return i._methodName="FieldValue.arrayRemove",new py(i)}static increment(t){const i=function _Je(e){return new uG("increment",e)}(t);return i._methodName="FieldValue.increment",new py(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const IJe={Firestore:xde,GeoPoint:T2,Timestamp:ds,Blob:jD,Transaction:Sde,WriteBatch:Dde,DocumentReference:bd,DocumentSnapshot:UD,Query:ll,QueryDocumentSnapshot:WD,QuerySnapshot:wG,CollectionReference:xC,FieldPath:xG,FieldValue:py,setLogLevel:function MJe(e){!function hqe(e){pf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function Ide(e,t){return function RJe(e,t=Fm){return new Qt(i=>{let n;return null!=t?t.schedule(()=>{n=e.onSnapshot({includeMetadataChanges:!0},i)}):n=e.onSnapshot({includeMetadataChanges:!0},i),()=>{n?.()}})}(e,t)}function SG(e,t){return Ide(e,t).pipe(nt(i=>({payload:i,type:"query"})))}!function TJe(e){(function AJe(e,t){e.INTERNAL.registerComponent(new Poe.uA("firestore-compat",i=>{const n=i.getProvider("app-compat").getImmediate(),r=i.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},IJe)))})(e,(t,i)=>new xde(t,i,new DJe)),e.registerVersion("@firebase/firestore-compat","0.3.38")}(Hh.A);class Ade{ref;afs;constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const n=this.ref.collection(t),{ref:r,query:s}=Ode(n,i);return new kde(r,s,this.afs)}snapshotChanges(){return function kJe(e,t){return Ide(e,t).pipe(Zs(void 0),X5(),nt(i=>{const[n,r]=i;return r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fc)}valueChanges(t={}){return this.snapshotChanges().pipe(nt(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return U(this.ref.get(t)).pipe(fc)}}function j2(e,t){return SG(e,t).pipe(Zs(void 0),X5(),nt(i=>{const[n,r]=i,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=s.find(u=>u.doc.ref.isEqual(a.ref)),d=n?.payload.docs.find(u=>u.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function Tde(e,t,i){return j2(e,i).pipe(GI((n,r)=>function PJe(e,t,i){return t.forEach(n=>{i.indexOf(n.type)>-1&&(e=function FJe(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return DG(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=e.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return DG(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return DG(e,t.oldIndex,1)}return e}(e,n))}),e}(n,r.map(s=>s.payload),t),[]),cn(),nt(n=>n.map(r=>({type:r.type,payload:r}))))}function DG(e,t,i,...n){const r=e.slice();return r.splice(t,i,...n),r}function Rde(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}class kde{ref;query;afs;constructor(t,i,n){this.ref=t,this.query=i,this.afs=n}stateChanges(t){let i=j2(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe(nt(n=>n.filter(r=>t.indexOf(r.type)>-1)))),i.pipe(Zs(void 0),X5(),Tr(([n,r])=>r.length>0||!n),nt(([,n])=>n),fc)}auditTrail(t){return this.stateChanges(t).pipe(GI((i,n)=>[...i,...n],[]))}snapshotChanges(t){const i=Rde(t);return Tde(this.query,i,this.afs.schedulers.outsideAngular).pipe(fc)}valueChanges(t={}){return SG(this.query,this.afs.schedulers.outsideAngular).pipe(nt(i=>i.payload.docs.map(n=>t.idField?{...n.data(),[t.idField]:n.id}:n.data())),fc)}get(t){return U(this.query.get(t)).pipe(fc)}add(t){return this.ref.add(t)}doc(t){return new Ade(this.ref.doc(t),this.afs)}}class OJe{query;afs;constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?j2(this.query,this.afs.schedulers.outsideAngular).pipe(nt(i=>i.filter(n=>t.indexOf(n.type)>-1)),Tr(i=>i.length>0),fc):j2(this.query,this.afs.schedulers.outsideAngular).pipe(fc)}auditTrail(t){return this.stateChanges(t).pipe(GI((i,n)=>[...i,...n],[]))}snapshotChanges(t){const i=Rde(t);return Tde(this.query,i,this.afs.schedulers.outsideAngular).pipe(fc)}valueChanges(t={}){return SG(this.query,this.afs.schedulers.outsideAngular).pipe(nt(n=>n.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),fc)}get(t){return U(this.query.get(t)).pipe(fc)}}const Pde=new Me("angularfire2.enableFirestorePersistence"),Fde=new Me("angularfire2.firestore.persistenceSettings"),LJe=new Me("angularfire2.firestore.settings"),NJe=new Me("angularfire2.firestore.use-emulator");function Ode(e,t=(i=>i)){return{query:t(e),ref:e}}let VJe=(()=>{class e{schedulers;firestore;persistenceEnabled$;constructor(i,n,r,s,o,a,l,c,d,u,h,g,m,y,_,x,D){this.schedulers=l;const M=$A(i,a,n),k=d;u&&Roe(M,a,h,m,y,_,g,x),[this.firestore,this.persistenceEnabled$]=dN(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{const V=a.runOutsideAngular(()=>M.firestore());if(s&&V.settings(s),k&&V.useEmulator(...k),r&&!FI(o)){const H=()=>{try{return U(V.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(F){return typeof console<"u"&&console.warn(F),ie(!1)}};return[V,a.runOutsideAngular(H)]}return[V,ie(!1)]},[s,k,r])}collection(i,n){let r;r="string"==typeof i?this.firestore.collection(i):i;const{ref:s,query:o}=Ode(r,n),a=this.schedulers.ngZone.run(()=>s);return new kde(a,o,this)}collectionGroup(i,n){const r=n||(o=>o),s=this.firestore.collectionGroup(i);return new OJe(r(s),this)}doc(i){let n;n="string"==typeof i?this.firestore.doc(i):i;const r=this.schedulers.ngZone.run(()=>n);return new Ade(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(n){return new(n||e)(ne(_S),ne(CS,8),ne(Pde,8),ne(LJe,8),ne(Gc),ne(Mt),ne(cN),ne(Fde,8),ne(NJe,8),ne(koe,8),ne(Doe,8),ne(Moe,8),ne(Eoe,8),ne(Ioe,8),ne(Aoe,8),ne(Toe,8),ne(kZ,8))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),BJe=(()=>{class e{constructor(){Hh.A.registerVersion("angularfire",WA.full,"fst-compat")}static enablePersistence(i){return{ngModule:e,providers:[{provide:Pde,useValue:!0},{provide:Fde,useValue:i}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=Mi({type:e});static \u0275inj=pi({providers:[VJe]})}return e})(),zJe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Mi({type:e,bootstrap:[F$e]})}static{this.\u0275inj=pi({providers:[{provide:lZ,useClass:kKe,multi:!0}],imports:[k$,ASe,M$e,voe,ZMe,zL,RMe,Xq,K4e,LT,kVe,TSe,gje,RKe,OEe,cqe,O_,vIe.initializeApp(iN_firebase),BJe,DIe,voe,B1e,H7e,r$e]})}}return e})();iCe().bootstrapModule(zJe).catch(e=>console.error(e))},345:(ul,gs,Pt)=>{Pt.d(gs,{A:()=>Lr});var j=Pt(76),Gt=Pt(362),ft=Pt(742),_e=Pt(41);class Rt{constructor(Lt,Yt){this._delegate=Lt,this.firebase=Yt,(0,ft._addComponent)(Lt,new Gt.uA("app-compat",()=>this,"PUBLIC")),this.container=Lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Lt){this._delegate.automaticDataCollectionEnabled=Lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Lt=>{this._delegate.checkDestroyed(),Lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ft.deleteApp)(this._delegate)))}_getService(Lt,Yt=ft._DEFAULT_ENTRY_NAME){var Nn;this._delegate.checkDestroyed();const dr=this._delegate.container.getProvider(Lt);return!dr.isInitialized()&&"EXPLICIT"===(null===(Nn=dr.getComponent())||void 0===Nn?void 0:Nn.instantiationMode)&&dr.initialize(),dr.getImmediate({identifier:Yt})}_removeServiceInstance(Lt,Yt=ft._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Lt).clearInstance(Yt)}_addComponent(Lt){(0,ft._addComponent)(this._delegate,Lt)}_addOrOverwriteComponent(Lt){(0,ft._addOrOverwriteComponent)(this._delegate,Lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fn=new j.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ie=function di(){const ai=function Sn(ai){const Lt={},Yt={__esModule:!0,initializeApp:function rr(Bt,Qe={}){const it=ft.initializeApp(Bt,Qe);if((0,j.gR)(Lt,it.name))return Lt[it.name];const Ce=new ai(it,Yt);return Lt[it.name]=Ce,Ce},app:dr,registerVersion:ft.registerVersion,setLogLevel:ft.setLogLevel,onLog:ft.onLog,apps:null,SDK_VERSION:ft.SDK_VERSION,INTERNAL:{registerComponent:function Bi(Bt){const Qe=Bt.name,it=Qe.replace("-compat","");if(ft._registerComponent(Bt)&&"PUBLIC"===Bt.type){const Ce=(ri=dr())=>{if("function"!=typeof ri[it])throw fn.create("invalid-app-argument",{appName:Qe});return ri[it]()};void 0!==Bt.serviceProps&&(0,j.zw)(Ce,Bt.serviceProps),Yt[it]=Ce,ai.prototype[it]=function(...ri){return this._getService.bind(this,Qe).apply(this,Bt.multipleInstances?ri:[])}}return"PUBLIC"===Bt.type?Yt[it]:null},removeApp:function Nn(Bt){delete Lt[Bt]},useAsService:function sr(Bt,Qe){return"serverAuth"===Qe?null:Qe},modularAPIs:ft}};function dr(Bt){if(!(0,j.gR)(Lt,Bt=Bt||ft._DEFAULT_ENTRY_NAME))throw fn.create("no-app",{appName:Bt});return Lt[Bt]}return Yt.default=Yt,Object.defineProperty(Yt,"apps",{get:function Yi(){return Object.keys(Lt).map(Bt=>Lt[Bt])}}),dr.App=ai,Yt}(Rt);return ai.INTERNAL=Object.assign(Object.assign({},ai.INTERNAL),{createFirebaseNamespace:di,extendNamespace:function Lt(Yt){(0,j.zw)(ai,Yt)},createSubscribe:j.tD,ErrorFactory:j.FA,deepExtend:j.zw}),ai}(),We=new _e.Vy("@firebase/app-compat");try{const ai=(0,j.mS)();if(void 0!==ai.firebase){We.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Lt=ai.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&We.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Lr=Ie;!function Li(ai){(0,ft.registerVersion)("@firebase/app-compat","0.2.43",ai)}()},742:(ul,gs,Pt)=>{Pt.r(gs),Pt.d(gs,{FirebaseError:()=>_e.g,SDK_VERSION:()=>bo,_DEFAULT_ENTRY_NAME:()=>oe,_addComponent:()=>li,_addOrOverwriteComponent:()=>nt,_apps:()=>je,_clearComponents:()=>ur,_components:()=>Oe,_getProvider:()=>vi,_isFirebaseApp:()=>Vn,_isFirebaseServerApp:()=>Ki,_registerComponent:()=>kt,_removeServiceInstance:()=>mn,_serverApps:()=>be,deleteApp:()=>pl,getApp:()=>ra,getApps:()=>Fc,initializeApp:()=>En,initializeServerApp:()=>Fo,onLog:()=>Cd,registerVersion:()=>so,setLogLevel:()=>fs});var j=Pt(467),Gt=Pt(362),ft=Pt(41),_e=Pt(76),Rt=Pt(749);class dn{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(function fn(at){const Ee=at.getComponent();return"VERSION"===Ee?.type}(U)){const $=U.getImmediate();return`${$.library}/${$.version}`}return null}).filter(U=>U).join(" ")}}const Sn="@firebase/app",di="0.10.13",Ie=new ft.Vy("@firebase/app"),oe="[DEFAULT]",Te={[Sn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},je=new Map,be=new Map,Oe=new Map;function li(at,Ee){try{at.container.addComponent(Ee)}catch(U){Ie.debug(`Component ${Ee.name} failed to register with FirebaseApp ${at.name}`,U)}}function nt(at,Ee){at.container.addOrOverwriteComponent(Ee)}function kt(at){const Ee=at.name;if(Oe.has(Ee))return Ie.debug(`There were multiple attempts to register component ${Ee}.`),!1;Oe.set(Ee,at);for(const U of je.values())li(U,at);for(const U of be.values())li(U,at);return!0}function vi(at,Ee){const U=at.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),at.container.getProvider(Ee)}function mn(at,Ee,U=oe){vi(at,Ee).clearInstance(U)}function Vn(at){return void 0!==at.options}function Ki(at){return void 0!==at.settings}function ur(){Oe.clear()}const ln=new _e.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wr{constructor(Ee,U,$){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=$,this.container.addComponent(new Gt.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}class hl extends wr{constructor(Ee,U,$,X){const ie=void 0!==U.automaticDataCollectionEnabled&&U.automaticDataCollectionEnabled,de={name:$,automaticDataCollectionEnabled:ie};super(void 0!==Ee.apiKey?Ee:Ee.options,de,X),this._serverConfig=Object.assign({automaticDataCollectionEnabled:ie},U),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,U.releaseOnDeref=void 0,so(Sn,di,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ee){this.isDeleted||(this._refCount++,void 0!==Ee&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Ee,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){pl(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ln.create("server-app-deleted")}}const bo="10.14.1";function En(at,Ee={}){let U=at;"object"!=typeof Ee&&(Ee={name:Ee});const $=Object.assign({name:oe,automaticDataCollectionEnabled:!1},Ee),X=$.name;if("string"!=typeof X||!X)throw ln.create("bad-app-name",{appName:String(X)});if(U||(U=(0,_e.T9)()),!U)throw ln.create("no-options");const ie=je.get(X);if(ie){if((0,_e.bD)(U,ie.options)&&(0,_e.bD)($,ie.config))return ie;throw ln.create("duplicate-app",{appName:X})}const de=new Gt.h1(X);for(const Ze of Oe.values())de.addComponent(Ze);const rt=new wr(U,$,de);return je.set(X,rt),rt}function Fo(at,Ee){if((0,_e.Bd)()&&!(0,_e.p7)())throw ln.create("invalid-server-app-environment");let U;void 0===Ee.automaticDataCollectionEnabled&&(Ee.automaticDataCollectionEnabled=!1),U=Vn(at)?at.options:at;const $=Object.assign(Object.assign({},Ee),U);if(void 0!==$.releaseOnDeref&&delete $.releaseOnDeref,void 0!==Ee.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ln.create("finalization-registry-not-supported",{});const ie=""+(cn=JSON.stringify($),[...cn].reduce((pr,Zt)=>Math.imul(31,pr)+Zt.charCodeAt(0)|0,0)),de=be.get(ie);var cn;if(de)return de.incRefCount(Ee.releaseOnDeref),de;const rt=new Gt.h1(ie);for(const cn of Oe.values())rt.addComponent(cn);const Ze=new hl(U,Ee,ie,rt);return be.set(ie,Ze),Ze}function ra(at=oe){const Ee=je.get(at);if(!Ee&&at===oe&&(0,_e.T9)())return En();if(!Ee)throw ln.create("no-app",{appName:at});return Ee}function Fc(){return Array.from(je.values())}function pl(at){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,j.A)(function*(at){let Ee=!1;const U=at.name;je.has(U)?(Ee=!0,je.delete(U)):be.has(U)&&at.decRefCount()<=0&&(be.delete(U),Ee=!0),Ee&&(yield Promise.all(at.container.getProviders().map($=>$.delete())),at.isDeleted=!0)})).apply(this,arguments)}function so(at,Ee,U){var $;let X=null!==($=Te[at])&&void 0!==$?$:at;U&&(X+=`-${U}`);const ie=X.match(/\s|\//),de=Ee.match(/\s|\//);if(ie||de){const rt=[`Unable to register library "${X}" with version "${Ee}":`];return ie&&rt.push(`library name "${X}" contains illegal characters (whitespace or "/")`),ie&&de&&rt.push("and"),de&&rt.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void Ie.warn(rt.join(" "))}kt(new Gt.uA(`${X}-version`,()=>({library:X,version:Ee}),"VERSION"))}function Cd(at,Ee){if(null!==at&&"function"!=typeof at)throw ln.create("invalid-log-argument");(0,ft.Ey)(at,Ee)}function fs(at){(0,ft.He)(at)}const sa="firebase-heartbeat-database",Qn=1,Ws="firebase-heartbeat-store";let Bn=null;function gl(){return Bn||(Bn=(0,Rt.P2)(sa,Qn,{upgrade:(at,Ee)=>{if(0===Ee)try{at.createObjectStore(Ws)}catch(U){console.warn(U)}}}).catch(at=>{throw ln.create("idb-open",{originalErrorMessage:at.message})})),Bn}function _o(){return(_o=(0,j.A)(function*(at){try{const U=(yield gl()).transaction(Ws),$=yield U.objectStore(Ws).get(No(at));return yield U.done,$}catch(Ee){if(Ee instanceof _e.g)Ie.warn(Ee.message);else{const U=ln.create("idb-get",{originalErrorMessage:Ee?.message});Ie.warn(U.message)}}})).apply(this,arguments)}function ms(at,Ee){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,j.A)(function*(at,Ee){try{const $=(yield gl()).transaction(Ws,"readwrite");yield $.objectStore(Ws).put(Ee,No(at)),yield $.done}catch(U){if(U instanceof _e.g)Ie.warn(U.message);else{const $=ln.create("idb-set",{originalErrorMessage:U?.message});Ie.warn($.message)}}})).apply(this,arguments)}function No(at){return`${at.name}!${at.options.appId}`}class vn{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new tc(U),this._heartbeatsCachePromise=this._storage.read().then($=>(this._heartbeatsCache=$,$))}triggerHeartbeat(){var Ee=this;return(0,j.A)(function*(){var U,$;try{const ie=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),de=Ra();return null==(null===(U=Ee._heartbeatsCache)||void 0===U?void 0:U.heartbeats)&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise,null==(null===($=Ee._heartbeatsCache)||void 0===$?void 0:$.heartbeats))||Ee._heartbeatsCache.lastSentHeartbeatDate===de||Ee._heartbeatsCache.heartbeats.some(rt=>rt.date===de)?void 0:(Ee._heartbeatsCache.heartbeats.push({date:de,agent:ie}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(rt=>{const Ze=new Date(rt.date).valueOf();return Date.now()-Ze<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache))}catch(X){Ie.warn(X)}})()}getHeartbeatsHeader(){var Ee=this;return(0,j.A)(function*(){var U;try{if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null==(null===(U=Ee._heartbeatsCache)||void 0===U?void 0:U.heartbeats)||0===Ee._heartbeatsCache.heartbeats.length)return"";const $=Ra(),{heartbeatsToSend:X,unsentEntries:ie}=function ec(at,Ee=1024){const U=[];let $=at.slice();for(const X of at){const ie=U.find(de=>de.agent===X.agent);if(ie){if(ie.dates.push(X.date),wd(U)>Ee){ie.dates.pop();break}}else if(U.push({agent:X.agent,dates:[X.date]}),wd(U)>Ee){U.pop();break}$=$.slice(1)}return{heartbeatsToSend:U,unsentEntries:$}}(Ee._heartbeatsCache.heartbeats),de=(0,_e.Uj)(JSON.stringify({version:2,heartbeats:X}));return Ee._heartbeatsCache.lastSentHeartbeatDate=$,ie.length>0?(Ee._heartbeatsCache.heartbeats=ie,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),de}catch($){return Ie.warn($),""}})()}}function Ra(){return(new Date).toISOString().substring(0,10)}class tc{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,j.A)(function*(){return!!(0,_e.zW)()&&(0,_e.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,j.A)(function*(){if(yield Ee._canUseIndexedDBPromise){const $=yield function Oo(at){return _o.apply(this,arguments)}(Ee.app);return $?.heartbeats?$:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ee){var U=this;return(0,j.A)(function*(){var $;if(yield U._canUseIndexedDBPromise){const ie=yield U.read();return ms(U.app,{lastSentHeartbeatDate:null!==($=Ee.lastSentHeartbeatDate)&&void 0!==$?$:ie.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var U=this;return(0,j.A)(function*(){var $;if(yield U._canUseIndexedDBPromise){const ie=yield U.read();return ms(U.app,{lastSentHeartbeatDate:null!==($=Ee.lastSentHeartbeatDate)&&void 0!==$?$:ie.lastSentHeartbeatDate,heartbeats:[...ie.heartbeats,...Ee.heartbeats]})}})()}}function wd(at){return(0,_e.Uj)(JSON.stringify({version:2,heartbeats:at})).length}!function fl(at){kt(new Gt.uA("platform-logger",Ee=>new dn(Ee),"PRIVATE")),kt(new Gt.uA("heartbeat",Ee=>new vn(Ee),"PRIVATE")),so(Sn,di,at),so(Sn,di,"esm2017"),so("fire-js","")}("")},362:(ul,gs,Pt)=>{Pt.d(gs,{h1:()=>Sn,uA:()=>ft});var j=Pt(467),Gt=Pt(76);class ft{constructor(Ie,We,wt){this.name=Ie,this.instanceFactory=We,this.type=wt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ie){return this.instantiationMode=Ie,this}setMultipleInstances(Ie){return this.multipleInstances=Ie,this}setServiceProps(Ie){return this.serviceProps=Ie,this}setInstanceCreatedCallback(Ie){return this.onInstanceCreated=Ie,this}}const _e="[DEFAULT]";class Rt{constructor(Ie,We){this.name=Ie,this.container=We,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ie){const We=this.normalizeInstanceIdentifier(Ie);if(!this.instancesDeferred.has(We)){const wt=new Gt.cY;if(this.instancesDeferred.set(We,wt),this.isInitialized(We)||this.shouldAutoInitialize())try{const Ii=this.getOrInitializeService({instanceIdentifier:We});Ii&&wt.resolve(Ii)}catch{}}return this.instancesDeferred.get(We).promise}getImmediate(Ie){var We;const wt=this.normalizeInstanceIdentifier(Ie?.identifier),Ii=null!==(We=Ie?.optional)&&void 0!==We&&We;if(!this.isInitialized(wt)&&!this.shouldAutoInitialize()){if(Ii)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:wt})}catch(Li){if(Ii)return null;throw Li}}getComponent(){return this.component}setComponent(Ie){if(Ie.name!==this.name)throw Error(`Mismatching Component ${Ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ie,this.shouldAutoInitialize()){if(function fn(di){return"EAGER"===di.instantiationMode}(Ie))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[We,wt]of this.instancesDeferred.entries()){const Ii=this.normalizeInstanceIdentifier(We);try{const Li=this.getOrInitializeService({instanceIdentifier:Ii});wt.resolve(Li)}catch{}}}}clearInstance(Ie=_e){this.instancesDeferred.delete(Ie),this.instancesOptions.delete(Ie),this.instances.delete(Ie)}delete(){var Ie=this;return(0,j.A)(function*(){const We=Array.from(Ie.instances.values());yield Promise.all([...We.filter(wt=>"INTERNAL"in wt).map(wt=>wt.INTERNAL.delete()),...We.filter(wt=>"_delete"in wt).map(wt=>wt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ie=_e){return this.instances.has(Ie)}getOptions(Ie=_e){return this.instancesOptions.get(Ie)||{}}initialize(Ie={}){const{options:We={}}=Ie,wt=this.normalizeInstanceIdentifier(Ie.instanceIdentifier);if(this.isInitialized(wt))throw Error(`${this.name}(${wt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ii=this.getOrInitializeService({instanceIdentifier:wt,options:We});for(const[Li,Lr]of this.instancesDeferred.entries())wt===this.normalizeInstanceIdentifier(Li)&&Lr.resolve(Ii);return Ii}onInit(Ie,We){var wt;const Ii=this.normalizeInstanceIdentifier(We),Li=null!==(wt=this.onInitCallbacks.get(Ii))&&void 0!==wt?wt:new Set;Li.add(Ie),this.onInitCallbacks.set(Ii,Li);const Lr=this.instances.get(Ii);return Lr&&Ie(Lr,Ii),()=>{Li.delete(Ie)}}invokeOnInitCallbacks(Ie,We){const wt=this.onInitCallbacks.get(We);if(wt)for(const Ii of wt)try{Ii(Ie,We)}catch{}}getOrInitializeService({instanceIdentifier:Ie,options:We={}}){let wt=this.instances.get(Ie);if(!wt&&this.component&&(wt=this.component.instanceFactory(this.container,{instanceIdentifier:(di=Ie,di===_e?void 0:di),options:We}),this.instances.set(Ie,wt),this.instancesOptions.set(Ie,We),this.invokeOnInitCallbacks(wt,Ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ie,wt)}catch{}var di;return wt||null}normalizeInstanceIdentifier(Ie=_e){return this.component?this.component.multipleInstances?Ie:_e:Ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sn{constructor(Ie){this.name=Ie,this.providers=new Map}addComponent(Ie){const We=this.getProvider(Ie.name);if(We.isComponentSet())throw new Error(`Component ${Ie.name} has already been registered with ${this.name}`);We.setComponent(Ie)}addOrOverwriteComponent(Ie){this.getProvider(Ie.name).isComponentSet()&&this.providers.delete(Ie.name),this.addComponent(Ie)}getProvider(Ie){if(this.providers.has(Ie))return this.providers.get(Ie);const We=new Rt(Ie,this);return this.providers.set(Ie,We),We}getProviders(){return Array.from(this.providers.values())}}},52:(ul,gs,Pt)=>{var j=Pt(467),Gt=Pt(742),ft=Pt(362),_e=Pt(76),Rt=Pt(749);const dn="@firebase/installations",fn="0.6.9",Sn=1e4,di=`w:${fn}`,Ie="FIS_v2",We="https://firebaseinstallations.googleapis.com/v1",wt=36e5,ai=new _e.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lt(le){return le instanceof _e.g&&le.code.includes("request-failed")}function Yt({projectId:le}){return`${We}/projects/${le}/installations`}function Nn(le){return{token:le.token,requestStatus:2,expiresIn:Qe(le.expiresIn),creationTime:Date.now()}}function dr(le,ye){return rr.apply(this,arguments)}function rr(){return(rr=(0,j.A)(function*(le,ye){const Ft=(yield ye.json()).error;return ai.create("request-failed",{requestName:le,serverCode:Ft.code,serverMessage:Ft.message,serverStatus:Ft.status})})).apply(this,arguments)}function Yi({apiKey:le}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":le})}function sr(le){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,j.A)(function*(le){const ye=yield le();return ye.status>=500&&ye.status<600?le():ye})).apply(this,arguments)}function Qe(le){return Number(le.replace("s","000"))}function ri(){return(ri=(0,j.A)(function*({appConfig:le,heartbeatServiceProvider:ye},{fid:se}){const Ft=Yt(le),xt=Yi(le),zt=ye.getImmediate({optional:!0});if(zt){const oo=yield zt.getHeartbeatsHeader();oo&&xt.append("x-firebase-client",oo)}const oa={method:"POST",headers:xt,body:JSON.stringify({fid:se,authVersion:Ie,appId:le.appId,sdkVersion:di})},xd=yield sr(()=>fetch(Ft,oa));if(xd.ok){const oo=yield xd.json();return{fid:oo.fid||se,registrationStatus:2,refreshToken:oo.refreshToken,authToken:Nn(oo.authToken)}}throw yield dr("Create Installation",xd)})).apply(this,arguments)}function xi(le){return new Promise(ye=>{setTimeout(ye,le)})}const un=/^[cdef][\w-]{21}$/,Qt="";function Zn(){try{const le=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(le),le[0]=112+le[0]%16;const se=function Us(le){return function Dn(le){return btoa(String.fromCharCode(...le)).replace(/\+/g,"-").replace(/\//g,"_")}(le).substr(0,22)}(le);return un.test(se)?se:Qt}catch{return Qt}}function me(le){return`${le.appName}!${le.appId}`}const we=new Map;function oe(le,ye){const se=me(le);be(se,ye),function Oe(le,ye){const se=function nt(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=le=>{be(le.data.key,le.data.fid)}),li}();se&&se.postMessage({key:le,fid:ye}),function kt(){0===we.size&&li&&(li.close(),li=null)}()}(se,ye)}function be(le,ye){const se=we.get(le);if(se)for(const Ft of se)Ft(ye)}let li=null;const vi="firebase-installations-database",mn=1,Vn="firebase-installations-store";let Ki=null;function ur(){return Ki||(Ki=(0,Rt.P2)(vi,mn,{upgrade:(le,ye)=>{0===ye&&le.createObjectStore(Vn)}})),Ki}function Mn(le,ye){return ln.apply(this,arguments)}function ln(){return(ln=(0,j.A)(function*(le,ye){const se=me(le),xt=(yield ur()).transaction(Vn,"readwrite"),zt=xt.objectStore(Vn),yi=yield zt.get(se);return yield zt.put(ye,se),yield xt.done,(!yi||yi.fid!==ye.fid)&&oe(le,ye.fid),ye})).apply(this,arguments)}function wr(le){return hl.apply(this,arguments)}function hl(){return(hl=(0,j.A)(function*(le){const ye=me(le),Ft=(yield ur()).transaction(Vn,"readwrite");yield Ft.objectStore(Vn).delete(ye),yield Ft.done})).apply(this,arguments)}function bo(le,ye){return En.apply(this,arguments)}function En(){return(En=(0,j.A)(function*(le,ye){const se=me(le),xt=(yield ur()).transaction(Vn,"readwrite"),zt=xt.objectStore(Vn),yi=yield zt.get(se),oa=ye(yi);return void 0===oa?yield zt.delete(se):yield zt.put(oa,se),yield xt.done,oa&&(!yi||yi.fid!==oa.fid)&&oe(le,oa.fid),oa})).apply(this,arguments)}function Fo(le){return ra.apply(this,arguments)}function ra(){return ra=(0,j.A)(function*(le){let ye;const se=yield bo(le.appConfig,Ft=>{const xt=function Fc(le){return Qn(le||{fid:Zn(),registrationStatus:0})}(Ft),zt=function pl(le,ye){if(0===ye.registrationStatus){if(!navigator.onLine)return{installationEntry:ye,registrationPromise:Promise.reject(ai.create("app-offline"))};const se={fid:ye.fid,registrationStatus:1,registrationTime:Date.now()},Ft=function Ta(le,ye){return so.apply(this,arguments)}(le,se);return{installationEntry:se,registrationPromise:Ft}}return 1===ye.registrationStatus?{installationEntry:ye,registrationPromise:Cd(le)}:{installationEntry:ye}}(le,xt);return ye=zt.registrationPromise,zt.installationEntry});return se.fid===Qt?{installationEntry:yield ye}:{installationEntry:se,registrationPromise:ye}}),ra.apply(this,arguments)}function so(){return so=(0,j.A)(function*(le,ye){try{const se=yield function Ce(le,ye){return ri.apply(this,arguments)}(le,ye);return Mn(le.appConfig,se)}catch(se){throw Lt(se)&&409===se.customData.serverCode?yield wr(le.appConfig):yield Mn(le.appConfig,{fid:ye.fid,registrationStatus:0}),se}}),so.apply(this,arguments)}function Cd(le){return fs.apply(this,arguments)}function fs(){return(fs=(0,j.A)(function*(le){let ye=yield sa(le.appConfig);for(;1===ye.registrationStatus;)yield xi(100),ye=yield sa(le.appConfig);if(0===ye.registrationStatus){const{installationEntry:se,registrationPromise:Ft}=yield Fo(le);return Ft||se}return ye})).apply(this,arguments)}function sa(le){return bo(le,ye=>{if(!ye)throw ai.create("installation-not-found");return Qn(ye)})}function Qn(le){return function Ws(le){return 1===le.registrationStatus&&le.registrationTime+Sn<Date.now()}(le)?{fid:le.fid,registrationStatus:0}:le}function gl(){return(gl=(0,j.A)(function*({appConfig:le,heartbeatServiceProvider:ye},se){const Ft=function Oo(le,{fid:ye}){return`${Yt(le)}/${ye}/authTokens:generate`}(le,se),xt=function Bi(le,{refreshToken:ye}){const se=Yi(le);return se.append("Authorization",function it(le){return`${Ie} ${le}`}(ye)),se}(le,se),zt=ye.getImmediate({optional:!0});if(zt){const oo=yield zt.getHeartbeatsHeader();oo&&xt.append("x-firebase-client",oo)}const oa={method:"POST",headers:xt,body:JSON.stringify({installation:{sdkVersion:di,appId:le.appId}})},xd=yield sr(()=>fetch(Ft,oa));if(xd.ok)return Nn(yield xd.json());throw yield dr("Generate Auth Token",xd)})).apply(this,arguments)}function _o(le){return ms.apply(this,arguments)}function ms(){return ms=(0,j.A)(function*(le,ye=!1){let se;const Ft=yield bo(le.appConfig,zt=>{if(!Ra(zt))throw ai.create("not-registered");const yi=zt.authToken;if(!ye&&function ec(le){return 2===le.requestStatus&&!function tc(le){const ye=Date.now();return ye<le.creationTime||le.creationTime+le.expiresIn<ye+wt}(le)}(yi))return zt;if(1===yi.requestStatus)return se=function Lo(le,ye){return No.apply(this,arguments)}(le,ye),zt;{if(!navigator.onLine)throw ai.create("app-offline");const oa=function wd(le){const ye={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},le),{authToken:ye})}(zt);return se=function hr(le,ye){return vn.apply(this,arguments)}(le,oa),oa}});return se?yield se:Ft.authToken}),ms.apply(this,arguments)}function No(){return(No=(0,j.A)(function*(le,ye){let se=yield Jl(le.appConfig);for(;1===se.authToken.requestStatus;)yield xi(100),se=yield Jl(le.appConfig);const Ft=se.authToken;return 0===Ft.requestStatus?_o(le,ye):Ft})).apply(this,arguments)}function Jl(le){return bo(le,ye=>{if(!Ra(ye))throw ai.create("not-registered");return function fl(le){return 1===le.requestStatus&&le.requestTime+Sn<Date.now()}(ye.authToken)?Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}}):ye})}function vn(){return vn=(0,j.A)(function*(le,ye){try{const se=yield function Bn(le,ye){return gl.apply(this,arguments)}(le,ye),Ft=Object.assign(Object.assign({},ye),{authToken:se});return yield Mn(le.appConfig,Ft),se}catch(se){if(!Lt(se)||401!==se.customData.serverCode&&404!==se.customData.serverCode){const Ft=Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}});yield Mn(le.appConfig,Ft)}else yield wr(le.appConfig);throw se}}),vn.apply(this,arguments)}function Ra(le){return void 0!==le&&2===le.registrationStatus}function Ee(){return(Ee=(0,j.A)(function*(le){const ye=le,{installationEntry:se,registrationPromise:Ft}=yield Fo(ye);return Ft?Ft.catch(console.error):_o(ye).catch(console.error),se.fid})).apply(this,arguments)}function $(){return $=(0,j.A)(function*(le,ye=!1){const se=le;return yield function X(le){return ie.apply(this,arguments)}(se),(yield _o(se,ye)).token}),$.apply(this,arguments)}function ie(){return(ie=(0,j.A)(function*(le){const{registrationPromise:ye}=yield Fo(le);ye&&(yield ye)})).apply(this,arguments)}function xs(le){return ai.create("missing-app-config-values",{valueName:le})}const ce="installations",ke=le=>{const ye=le.getProvider("app").getImmediate(),se=function Xt(le){if(!le||!le.options)throw xs("App Configuration");if(!le.name)throw xs("App Name");const ye=["projectId","apiKey","appId"];for(const se of ye)if(!le.options[se])throw xs(se);return{appName:le.name,projectId:le.options.projectId,apiKey:le.options.apiKey,appId:le.options.appId}}(ye);return{app:ye,appConfig:se,heartbeatServiceProvider:(0,Gt._getProvider)(ye,"heartbeat"),_delete:()=>Promise.resolve()}},bt=le=>{const ye=le.getProvider("app").getImmediate(),se=(0,Gt._getProvider)(ye,ce).getImmediate();return{getId:()=>function at(le){return Ee.apply(this,arguments)}(se),getToken:xt=>function U(le){return $.apply(this,arguments)}(se,xt)}};(function hi(){(0,Gt._registerComponent)(new ft.uA(ce,ke,"PUBLIC")),(0,Gt._registerComponent)(new ft.uA("installations-internal",bt,"PRIVATE"))})(),(0,Gt.registerVersion)(dn,fn),(0,Gt.registerVersion)(dn,fn,"esm2017")},41:(ul,gs,Pt)=>{Pt.d(gs,{$b:()=>Gt,Ey:()=>di,He:()=>Sn,Vy:()=>fn});const j=[];var Gt=function(Ie){return Ie[Ie.DEBUG=0]="DEBUG",Ie[Ie.VERBOSE=1]="VERBOSE",Ie[Ie.INFO=2]="INFO",Ie[Ie.WARN=3]="WARN",Ie[Ie.ERROR=4]="ERROR",Ie[Ie.SILENT=5]="SILENT",Ie}(Gt||{});const ft={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},_e=Gt.INFO,Rt={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},dn=(Ie,We,...wt)=>{if(We<Ie.logLevel)return;const Ii=(new Date).toISOString(),Li=Rt[We];if(!Li)throw new Error(`Attempted to log a message with an invalid logType (value: ${We})`);console[Li](`[${Ii}]  ${Ie.name}:`,...wt)};class fn{constructor(We){this.name=We,this._logLevel=_e,this._logHandler=dn,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(We){if(!(We in Gt))throw new TypeError(`Invalid value "${We}" assigned to \`logLevel\``);this._logLevel=We}setLogLevel(We){this._logLevel="string"==typeof We?ft[We]:We}get logHandler(){return this._logHandler}set logHandler(We){if("function"!=typeof We)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=We}get userLogHandler(){return this._userLogHandler}set userLogHandler(We){this._userLogHandler=We}debug(...We){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...We),this._logHandler(this,Gt.DEBUG,...We)}log(...We){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...We),this._logHandler(this,Gt.VERBOSE,...We)}info(...We){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...We),this._logHandler(this,Gt.INFO,...We)}warn(...We){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...We),this._logHandler(this,Gt.WARN,...We)}error(...We){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...We),this._logHandler(this,Gt.ERROR,...We)}}function Sn(Ie){j.forEach(We=>{We.setLogLevel(Ie)})}function di(Ie,We){for(const wt of j){let Ii=null;We&&We.level&&(Ii=ft[We.level]),wt.userLogHandler=null===Ie?null:(Li,Lr,...ai)=>{const Lt=ai.map(Yt=>{if(null==Yt)return null;if("string"==typeof Yt)return Yt;if("number"==typeof Yt||"boolean"==typeof Yt)return Yt.toString();if(Yt instanceof Error)return Yt.message;try{return JSON.stringify(Yt)}catch{return null}}).filter(Yt=>Yt).join(" ");Lr>=(Ii??Li.logLevel)&&Ie({level:Gt[Lr].toLowerCase(),message:Lt,args:ai,type:Li.name})}}}},555:(ul,gs,Pt)=>{Pt.d(gs,{TT:()=>ie,gf:()=>Zt,ni:()=>Xt,xD:()=>xs});var j=Pt(467),ft=(Pt(52),Pt(362)),_e=Pt(749),Rt=Pt(76),dn=Pt(742);const fn="/firebase-messaging-sw.js",Sn="/firebase-cloud-messaging-push-scope",di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ie="https://fcmregistrations.googleapis.com/v1",We="google.c.a.c_id",wt="google.c.a.c_l",Ii="google.c.a.ts";var ai=function(ce){return ce.PUSH_RECEIVED="push-received",ce.NOTIFICATION_CLICKED="notification-clicked",ce}(ai||{});function Lt(ce){const he=new Uint8Array(ce);return btoa(String.fromCharCode(...he)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yt(ce){const ke=(ce+"=".repeat((4-ce.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),bt=atob(ke),hi=new Uint8Array(bt.length);for(let le=0;le<bt.length;++le)hi[le]=bt.charCodeAt(le);return hi}const Nn="fcm_token_details_db",dr=5,rr="fcm_token_object_Store";function Bi(){return Bi=(0,j.A)(function*(ce){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Nn))return null;let he=null;return(yield(0,_e.P2)(Nn,dr,{upgrade:(bt=(0,j.A)(function*(hi,le,ye,se){var Ft;if(le<2||!hi.objectStoreNames.contains(rr))return;const xt=se.objectStore(rr),zt=yield xt.index("fcmSenderId").get(ce);if(yield xt.clear(),zt)if(2===le){const yi=zt;if(!yi.auth||!yi.p256dh||!yi.endpoint)return;he={token:yi.fcmToken,createTime:null!==(Ft=yi.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:yi.auth,p256dh:yi.p256dh,endpoint:yi.endpoint,swScope:yi.swScope,vapidKey:"string"==typeof yi.vapidKey?yi.vapidKey:Lt(yi.vapidKey)}}}else if(3===le){const yi=zt;he={token:yi.fcmToken,createTime:yi.createTime,subscriptionOptions:{auth:Lt(yi.auth),p256dh:Lt(yi.p256dh),endpoint:yi.endpoint,swScope:yi.swScope,vapidKey:Lt(yi.vapidKey)}}}else if(4===le){const yi=zt;he={token:yi.fcmToken,createTime:yi.createTime,subscriptionOptions:{auth:Lt(yi.auth),p256dh:Lt(yi.p256dh),endpoint:yi.endpoint,swScope:yi.swScope,vapidKey:Lt(yi.vapidKey)}}}}),function(le,ye,se,Ft){return bt.apply(this,arguments)})})).close(),yield(0,_e.MR)(Nn),yield(0,_e.MR)("fcm_vapid_details_db"),yield(0,_e.MR)("undefined"),function sr(ce){if(!ce||!ce.subscriptionOptions)return!1;const{subscriptionOptions:he}=ce;return"number"==typeof ce.createTime&&ce.createTime>0&&"string"==typeof ce.token&&ce.token.length>0&&"string"==typeof he.auth&&he.auth.length>0&&"string"==typeof he.p256dh&&he.p256dh.length>0&&"string"==typeof he.endpoint&&he.endpoint.length>0&&"string"==typeof he.swScope&&he.swScope.length>0&&"string"==typeof he.vapidKey&&he.vapidKey.length>0}(he)?he:null;var bt}),Bi.apply(this,arguments)}const Bt="firebase-messaging-database",Qe=1,it="firebase-messaging-store";let Ce=null;function ri(){return Ce||(Ce=(0,_e.P2)(Bt,Qe,{upgrade:(ce,he)=>{0===he&&ce.createObjectStore(it)}})),Ce}function xi(ce){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,j.A)(function*(ce){const he=me(ce),bt=yield(yield ri()).transaction(it).objectStore(it).get(he);if(bt)return bt;{const hi=yield function Yi(ce){return Bi.apply(this,arguments)}(ce.appConfig.senderId);if(hi)return yield un(ce,hi),hi}}),Dn.apply(this,arguments)}function un(ce,he){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,j.A)(function*(ce,he){const ke=me(ce),hi=(yield ri()).transaction(it,"readwrite");return yield hi.objectStore(it).put(he,ke),yield hi.done,he})).apply(this,arguments)}function Us(){return(Us=(0,j.A)(function*(ce){const he=me(ce),bt=(yield ri()).transaction(it,"readwrite");yield bt.objectStore(it).delete(he),yield bt.done})).apply(this,arguments)}function me({appConfig:ce}){return ce.appId}const oe=new Rt.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Te(ce,he){return je.apply(this,arguments)}function je(){return(je=(0,j.A)(function*(ce,he){const ke=yield vi(ce),bt=Vn(he),hi={method:"POST",headers:ke,body:JSON.stringify(bt)};let le;try{le=yield(yield fetch(kt(ce.appConfig),hi)).json()}catch(ye){throw oe.create("token-subscribe-failed",{errorInfo:ye?.toString()})}if(le.error)throw oe.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw oe.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Oe(){return(Oe=(0,j.A)(function*(ce,he){const ke=yield vi(ce),bt=Vn(he.subscriptionOptions),hi={method:"PATCH",headers:ke,body:JSON.stringify(bt)};let le;try{le=yield(yield fetch(`${kt(ce.appConfig)}/${he.token}`,hi)).json()}catch(ye){throw oe.create("token-update-failed",{errorInfo:ye?.toString()})}if(le.error)throw oe.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw oe.create("token-update-no-token");return le.token})).apply(this,arguments)}function li(ce,he){return nt.apply(this,arguments)}function nt(){return(nt=(0,j.A)(function*(ce,he){const bt={method:"DELETE",headers:yield vi(ce)};try{const le=yield(yield fetch(`${kt(ce.appConfig)}/${he}`,bt)).json();if(le.error)throw oe.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(hi){throw oe.create("token-unsubscribe-failed",{errorInfo:hi?.toString()})}})).apply(this,arguments)}function kt({projectId:ce}){return`${Ie}/projects/${ce}/registrations`}function vi(ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,j.A)(function*({appConfig:ce,installations:he}){const ke=yield he.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ce.apiKey,"x-goog-firebase-installations-auth":`FIS ${ke}`})})).apply(this,arguments)}function Vn({p256dh:ce,auth:he,endpoint:ke,vapidKey:bt}){const hi={web:{endpoint:ke,auth:he,p256dh:ce}};return bt!==di&&(hi.web.applicationPubKey=bt),hi}const Ki=6048e5;function Mn(){return Mn=(0,j.A)(function*(ce){const he=yield function ra(ce,he){return Fc.apply(this,arguments)}(ce.swRegistration,ce.vapidKey),ke={vapidKey:ce.vapidKey,swScope:ce.swRegistration.scope,endpoint:he.endpoint,auth:Lt(he.getKey("auth")),p256dh:Lt(he.getKey("p256dh"))},bt=yield xi(ce.firebaseDependencies);if(bt){if(function pl(ce,he){return he.vapidKey===ce.vapidKey&&he.endpoint===ce.endpoint&&he.auth===ce.auth&&he.p256dh===ce.p256dh}(bt.subscriptionOptions,ke))return Date.now()>=bt.createTime+Ki?function hl(ce,he){return bo.apply(this,arguments)}(ce,{token:bt.token,createTime:Date.now(),subscriptionOptions:ke}):bt.token;try{yield li(ce.firebaseDependencies,bt.token)}catch(hi){console.warn(hi)}return En(ce.firebaseDependencies,ke)}return En(ce.firebaseDependencies,ke)}),Mn.apply(this,arguments)}function wr(){return wr=(0,j.A)(function*(ce){const he=yield xi(ce.firebaseDependencies);he&&(yield li(ce.firebaseDependencies,he.token),yield function Zn(ce){return Us.apply(this,arguments)}(ce.firebaseDependencies));const ke=yield ce.swRegistration.pushManager.getSubscription();return!ke||ke.unsubscribe()}),wr.apply(this,arguments)}function bo(){return bo=(0,j.A)(function*(ce,he){try{const ke=yield function be(ce,he){return Oe.apply(this,arguments)}(ce.firebaseDependencies,he),bt=Object.assign(Object.assign({},he),{token:ke,createTime:Date.now()});return yield un(ce.firebaseDependencies,bt),ke}catch(ke){throw ke}}),bo.apply(this,arguments)}function En(ce,he){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,j.A)(function*(ce,he){const bt={token:yield Te(ce,he),createTime:Date.now(),subscriptionOptions:he};return yield un(ce,bt),bt.token})).apply(this,arguments)}function Fc(){return(Fc=(0,j.A)(function*(ce,he){return(yield ce.pushManager.getSubscription())||ce.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yt(he)})})).apply(this,arguments)}function Ta(ce){const he={from:ce.from,collapseKey:ce.collapse_key,messageId:ce.fcmMessageId};return function so(ce,he){if(!he.notification)return;ce.notification={};const ke=he.notification.title;ke&&(ce.notification.title=ke);const bt=he.notification.body;bt&&(ce.notification.body=bt);const hi=he.notification.image;hi&&(ce.notification.image=hi);const le=he.notification.icon;le&&(ce.notification.icon=le)}(he,ce),function Cd(ce,he){he.data&&(ce.data=he.data)}(he,ce),function fs(ce,he){var ke,bt,hi,le,ye;if(!(he.fcmOptions||null!==(ke=he.notification)&&void 0!==ke&&ke.click_action))return;ce.fcmOptions={};const se=null!==(hi=null===(bt=he.fcmOptions)||void 0===bt?void 0:bt.link)&&void 0!==hi?hi:null===(le=he.notification)||void 0===le?void 0:le.click_action;se&&(ce.fcmOptions.link=se);const Ft=null===(ye=he.fcmOptions)||void 0===ye?void 0:ye.analytics_label;Ft&&(ce.fcmOptions.analyticsLabel=Ft)}(he,ce),he}function Bn(ce){return oe.create("missing-app-config-values",{valueName:ce})}!function Qn(ce,he){const ke=[];for(let bt=0;bt<ce.length;bt++)ke.push(ce.charAt(bt)),bt<he.length&&ke.push(he.charAt(bt));ke.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gl{constructor(he,ke,bt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const hi=function Ws(ce){if(!ce||!ce.options)throw Bn("App Configuration Object");if(!ce.name)throw Bn("App Name");const he=["projectId","apiKey","appId","messagingSenderId"],{options:ke}=ce;for(const bt of he)if(!ke[bt])throw Bn(bt);return{appName:ce.name,projectId:ke.projectId,apiKey:ke.apiKey,appId:ke.appId,senderId:ke.messagingSenderId}}(he);this.firebaseDependencies={app:he,appConfig:hi,installations:ke,analyticsProvider:bt}}_delete(){return Promise.resolve()}}function Oo(ce){return _o.apply(this,arguments)}function _o(){return(_o=(0,j.A)(function*(ce){try{ce.swRegistration=yield navigator.serviceWorker.register(fn,{scope:Sn}),ce.swRegistration.update().catch(()=>{})}catch(he){throw oe.create("failed-service-worker-registration",{browserErrorMessage:he?.message})}})).apply(this,arguments)}function Lo(){return(Lo=(0,j.A)(function*(ce,he){if(!he&&!ce.swRegistration&&(yield Oo(ce)),he||!ce.swRegistration){if(!(he instanceof ServiceWorkerRegistration))throw oe.create("invalid-sw-registration");ce.swRegistration=he}})).apply(this,arguments)}function Jl(){return(Jl=(0,j.A)(function*(ce,he){he?ce.vapidKey=he:ce.vapidKey||(ce.vapidKey=di)})).apply(this,arguments)}function hr(ce,he){return vn.apply(this,arguments)}function vn(){return vn=(0,j.A)(function*(ce,he){if(!navigator)throw oe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw oe.create("permission-blocked");return yield function No(ce,he){return Jl.apply(this,arguments)}(ce,he?.vapidKey),yield function ms(ce,he){return Lo.apply(this,arguments)}(ce,he?.serviceWorkerRegistration),function ur(ce){return Mn.apply(this,arguments)}(ce)}),vn.apply(this,arguments)}function ec(){return(ec=(0,j.A)(function*(ce,he,ke){const bt=function tc(ce){switch(ce){case ai.NOTIFICATION_CLICKED:return"notification_open";case ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(he);(yield ce.firebaseDependencies.analyticsProvider.get()).logEvent(bt,{message_id:ke[We],message_name:ke[wt],message_time:ke[Ii],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fl(){return fl=(0,j.A)(function*(ce,he){const ke=he.data;if(!ke.isFirebaseMessaging)return;ce.onMessageHandler&&ke.messageType===ai.PUSH_RECEIVED&&("function"==typeof ce.onMessageHandler?ce.onMessageHandler(Ta(ke)):ce.onMessageHandler.next(Ta(ke)));const bt=ke.data;(function sa(ce){return"object"==typeof ce&&!!ce&&We in ce})(bt)&&"1"===bt["google.c.a.e"]&&(yield function Ra(ce,he,ke){return ec.apply(this,arguments)}(ce,ke.messageType,bt))}),fl.apply(this,arguments)}const at="@firebase/messaging",Ee="0.12.12",U=ce=>{const he=new gl(ce.getProvider("app").getImmediate(),ce.getProvider("installations-internal").getImmediate(),ce.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ke=>function wd(ce,he){return fl.apply(this,arguments)}(he,ke)),he},$=ce=>{const he=ce.getProvider("messaging").getImmediate();return{getToken:bt=>hr(he,bt)}};function ie(){return de.apply(this,arguments)}function de(){return(de=(0,j.A)(function*(){try{yield(0,Rt.eX)()}catch{return!1}return typeof window<"u"&&(0,Rt.zW)()&&(0,Rt.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ze(){return Ze=(0,j.A)(function*(ce){if(!navigator)throw oe.create("only-available-in-window");return ce.swRegistration||(yield Oo(ce)),function ln(ce){return wr.apply(this,arguments)}(ce)}),Ze.apply(this,arguments)}function Zt(ce,he){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,j.A)(function*(ce,he){return hr(ce=(0,Rt.Ku)(ce),he)})).apply(this,arguments)}function Xt(ce){return function rt(ce){return Ze.apply(this,arguments)}(ce=(0,Rt.Ku)(ce))}function xs(ce,he){return function cn(ce,he){if(!navigator)throw oe.create("only-available-in-window");return ce.onMessageHandler=he,()=>{ce.onMessageHandler=null}}(ce=(0,Rt.Ku)(ce),he)}!function X(){(0,dn._registerComponent)(new ft.uA("messaging",U,"PUBLIC")),(0,dn._registerComponent)(new ft.uA("messaging-internal",$,"PRIVATE")),(0,dn.registerVersion)(at,Ee),(0,dn.registerVersion)(at,Ee,"esm2017")}()},955:(ul,gs,Pt)=>{var j=Pt(467),Gt=Pt(345),ft=Pt(742),_e=Pt(76),Rt=Pt(41),dn=Pt(635),fn=Pt(362);const di={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Lr=function Ii(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ai=function Li(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lt=new _e.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nn=new Rt.Vy("@firebase/auth");function rr(b,...p){Nn.logLevel<=Rt.$b.ERROR&&Nn.error(`Auth (${ft.SDK_VERSION}): ${b}`,...p)}function Yi(b,...p){throw it(b,...p)}function Bi(b,...p){return it(b,...p)}function sr(b,p,f){const C=Object.assign(Object.assign({},ai()),{[p]:f});return new _e.FA("auth","Firebase",C).create(p,{appName:b.name})}function Bt(b){return sr(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qe(b,p,f){if(!(p instanceof f))throw f.name!==p.constructor.name&&Yi(b,"argument-error"),sr(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(b,...p){if("string"!=typeof b){const f=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(f,...C)}return Lt.create(b,...p)}function Ce(b,p,...f){if(!b)throw it(p,...f)}function ri(b){const p="INTERNAL ASSERTION FAILED: "+b;throw rr(p),new Error(p)}function xi(b,p){b||ri(p)}function Dn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function un(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class me{constructor(p,f){this.shortDelay=p,this.longDelay=f,xi(f>p,"Short delay should be less than long delay!"),this.isMobile=(0,_e.jZ)()||(0,_e.lV)()}get(){return function Zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(un()||(0,_e.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function we(b,p){xi(b.emulator,"Emulator should always be set here");const{url:f}=b.emulator;return p?`${f}${p.startsWith("/")?p.slice(1):p}`:f}class oe{static initialize(p,f,C){this.fetchImpl=p,f&&(this.headersImpl=f),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new me(3e4,6e4);function be(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Oe(b,p,f,C){return li.apply(this,arguments)}function li(){return(li=(0,j.A)(function*(b,p,f,C,A={}){return nt(b,A,(0,j.A)(function*(){let z={},re={};C&&("GET"===p?re=C:z={body:JSON.stringify(C)});const ue=(0,_e.Am)(Object.assign({key:b.config.apiKey},re)).slice(1),Ae=yield b._getAdditionalHeaders();Ae["Content-Type"]="application/json",b.languageCode&&(Ae["X-Firebase-Locale"]=b.languageCode);const ot=Object.assign({method:p,headers:Ae},z);return(0,_e.c1)()||(ot.referrerPolicy="no-referrer"),oe.fetch()(Vn(b,b.config.apiHost,f,ue),ot)}))})).apply(this,arguments)}function nt(b,p,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,j.A)(function*(b,p,f){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},Te),p);try{const A=new ur(b),z=yield Promise.race([f(),A.promise]);A.clearNetworkTimeout();const re=yield z.json();if("needConfirmation"in re)throw Mn(b,"account-exists-with-different-credential",re);if(z.ok&&!("errorMessage"in re))return re;{const ue=z.ok?re.errorMessage:re.error.message,[Ae,ot]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Mn(b,"credential-already-in-use",re);if("EMAIL_EXISTS"===Ae)throw Mn(b,"email-already-in-use",re);if("USER_DISABLED"===Ae)throw Mn(b,"user-disabled",re);const Dt=C[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw sr(b,Dt,ot);Yi(b,Dt)}}catch(A){if(A instanceof _e.g)throw A;Yi(b,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function vi(b,p,f,C){return mn.apply(this,arguments)}function mn(){return(mn=(0,j.A)(function*(b,p,f,C,A={}){const z=yield Oe(b,p,f,C,A);return"mfaPendingCredential"in z&&Yi(b,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function Vn(b,p,f,C){const A=`${p}${f}?${C}`;return b.config.emulator?we(b.config,A):`${b.config.apiScheme}://${A}`}function Ki(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ur{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((f,C)=>{this.timer=setTimeout(()=>C(Bi(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(b,p,f){const C={appName:b.name};f.email&&(C.email=f.email),f.phoneNumber&&(C.phoneNumber=f.phoneNumber);const A=Bi(b,p,C);return A.customData._tokenResponse=f,A}function ln(b){return void 0!==b&&void 0!==b.getResponse}function wr(b){return void 0!==b&&void 0!==b.enterprise}class hl{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===p)return Ki(f.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function En(){return(En=(0,j.A)(function*(b){return(yield Oe(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fo(b,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,j.A)(function*(b,p){return Oe(b,"GET","/v2/recaptchaConfig",be(b,p))})).apply(this,arguments)}function pl(){return(pl=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function so(){return(so=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cd(b,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function sa(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Bn(){return(Bn=(0,j.A)(function*(b,p=!1){const f=(0,_e.Ku)(b),C=yield f.getIdToken(p),A=Oo(C);Ce(A&&A.exp&&A.auth_time&&A.iat,f.auth,"internal-error");const z="object"==typeof A.firebase?A.firebase:void 0,re=z?.sign_in_provider;return{claims:A,token:C,authTime:sa(gl(A.auth_time)),issuedAtTime:sa(gl(A.iat)),expirationTime:sa(gl(A.exp)),signInProvider:re||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function gl(b){return 1e3*Number(b)}function Oo(b){const[p,f,C]=b.split(".");if(void 0===p||void 0===f||void 0===C)return rr("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,_e.u)(f);return A?JSON.parse(A):(rr("Failed to decode base64 JWT payload"),null)}catch(A){return rr("Caught error parsing JWT payload as JSON",A?.toString()),null}}function _o(b){const p=Oo(b);return Ce(p,"internal-error"),Ce(typeof p.exp<"u","internal-error"),Ce(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function ms(b,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,j.A)(function*(b,p,f=!1){if(f)return p;try{return yield p}catch(C){throw C instanceof _e.g&&function No({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class Jl{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var f;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var f=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,j.A)(function*(){yield f.iteration()}),C)}iteration(){var p=this;return(0,j.A)(function*(){try{yield p.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&p.schedule(!0))}p.schedule()})()}}class hr{constructor(p,f){this.createdAt=p,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=sa(this.lastLoginAt),this.creationTime=sa(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vn(b){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,j.A)(function*(b){var p;const f=b.auth,C=yield b.getIdToken(),A=yield ms(b,Cd(f,{idToken:C}));Ce(A?.users.length,f,"internal-error");const z=A.users[0];b._notifyReloadListener(z);const re=null!==(p=z.providerUserInfo)&&void 0!==p&&p.length?fl(z.providerUserInfo):[],ue=function wd(b,p){return[...b.filter(C=>!p.some(A=>A.providerId===C.providerId)),...p]}(b.providerData,re),Dt=!!b.isAnonymous&&!(b.email&&z.passwordHash||ue?.length),St={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:ue,metadata:new hr(z.createdAt,z.lastLoginAt),isAnonymous:Dt};Object.assign(b,St)})).apply(this,arguments)}function tc(){return(tc=(0,j.A)(function*(b){const p=(0,_e.Ku)(b);yield vn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function fl(b){return b.map(p=>{var{providerId:f}=p,C=(0,dn.Tt)(p,["providerId"]);return{providerId:f,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ee(){return(Ee=(0,j.A)(function*(b,p){const f=yield nt(b,{},(0,j.A)(function*(){const C=(0,_e.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:z}=b.config,re=Vn(b,A,"/v1/token",`key=${z}`),ue=yield b._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(re,{method:"POST",headers:ue,body:C})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function $(){return($=(0,j.A)(function*(b,p){return Oe(b,"POST","/v2/accounts:revokeToken",be(b,p))})).apply(this,arguments)}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ce(p.idToken,"internal-error"),Ce(typeof p.idToken<"u","internal-error"),Ce(typeof p.refreshToken<"u","internal-error");const f="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):_o(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,f)}updateFromIdToken(p){Ce(0!==p.length,"internal-error");const f=_o(p);this.updateTokensAndExpiration(p,null,f)}getToken(p,f=!1){var C=this;return(0,j.A)(function*(){return f||!C.accessToken||C.isExpired?(Ce(C.refreshToken,p,"user-token-expired"),C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null):C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,f){var C=this;return(0,j.A)(function*(){const{accessToken:A,refreshToken:z,expiresIn:re}=yield function at(b,p){return Ee.apply(this,arguments)}(p,f);C.updateTokensAndExpiration(A,z,Number(re))})()}updateTokensAndExpiration(p,f,C){this.refreshToken=f||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,f){const{refreshToken:C,accessToken:A,expirationTime:z}=f,re=new X;return C&&(Ce("string"==typeof C,"internal-error",{appName:p}),re.refreshToken=C),A&&(Ce("string"==typeof A,"internal-error",{appName:p}),re.accessToken=A),z&&(Ce("number"==typeof z,"internal-error",{appName:p}),re.expirationTime=z),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return ri("not implemented")}}function ie(b,p){Ce("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class de{constructor(p){var{uid:f,auth:C,stsTokenManager:A}=p,z=(0,dn.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new hr(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(p){var f=this;return(0,j.A)(function*(){const C=yield ms(f,f.stsTokenManager.getToken(f.auth,p));return Ce(C,f.auth,"internal-error"),f.accessToken!==C&&(f.accessToken=C,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),C})()}getIdTokenResult(p){return function Ws(b){return Bn.apply(this,arguments)}(this,p)}reload(){return function ec(b){return tc.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ce(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(f=>Object.assign({},f)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const f=new de(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(p){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,f=!1){var C=this;return(0,j.A)(function*(){let A=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),A=!0),f&&(yield vn(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,j.A)(function*(){if((0,ft._isFirebaseServerApp)(p.auth.app))return Promise.reject(Bt(p.auth));const f=yield p.getIdToken();return yield ms(p,function Fc(b,p){return pl.apply(this,arguments)}(p.auth,{idToken:f})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,f){var C,A,z,re,ue,Ae,ot,Dt;const St=null!==(C=f.displayName)&&void 0!==C?C:void 0,Br=null!==(A=f.email)&&void 0!==A?A:void 0,oc=null!==(z=f.phoneNumber)&&void 0!==z?z:void 0,wh=null!==(re=f.photoURL)&&void 0!==re?re:void 0,Nw=null!==(ue=f.tenantId)&&void 0!==ue?ue:void 0,Vw=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,Bw=null!==(ot=f.createdAt)&&void 0!==ot?ot:void 0,lF=null!==(Dt=f.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:vb,emailVerified:cF,isAnonymous:bE,providerData:zw,stsTokenManager:yb}=f;Ce(vb&&yb,p,"internal-error");const LH=X.fromJSON(this.name,yb);Ce("string"==typeof vb,p,"internal-error"),ie(St,p.name),ie(Br,p.name),Ce("boolean"==typeof cF,p,"internal-error"),Ce("boolean"==typeof bE,p,"internal-error"),ie(oc,p.name),ie(wh,p.name),ie(Nw,p.name),ie(Vw,p.name),ie(Bw,p.name),ie(lF,p.name);const _E=new de({uid:vb,auth:p,email:Br,emailVerified:cF,displayName:St,isAnonymous:bE,photoURL:wh,phoneNumber:oc,tenantId:Nw,stsTokenManager:LH,createdAt:Bw,lastLoginAt:lF});return zw&&Array.isArray(zw)&&(_E.providerData=zw.map(Gw=>Object.assign({},Gw))),Vw&&(_E._redirectEventId=Vw),_E}static _fromIdTokenResponse(p,f,C=!1){return(0,j.A)(function*(){const A=new X;A.updateFromServerResponse(f);const z=new de({uid:f.localId,auth:p,stsTokenManager:A,isAnonymous:C});return yield vn(z),z})()}static _fromGetAccountInfoResponse(p,f,C){return(0,j.A)(function*(){const A=f.users[0];Ce(void 0!==A.localId,"internal-error");const z=void 0!==A.providerUserInfo?fl(A.providerUserInfo):[],re=!(A.email&&A.passwordHash||z?.length),ue=new X;ue.updateFromIdToken(C);const Ae=new de({uid:A.localId,auth:p,stsTokenManager:ue,isAnonymous:re}),ot={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:z,metadata:new hr(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash||z?.length)};return Object.assign(Ae,ot),Ae})()}}const rt=new Map;function Ze(b){xi(b instanceof Function,"Expected a class definition");let p=rt.get(b);return p?(xi(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,rt.set(b,p),p)}const pr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,j.A)(function*(){return!0})()}_set(f,C){var A=this;return(0,j.A)(function*(){A.storage[f]=C})()}_get(f){var C=this;return(0,j.A)(function*(){const A=C.storage[f];return void 0===A?null:A})()}_remove(f){var C=this;return(0,j.A)(function*(){delete C.storage[f]})()}_addListener(f,C){}_removeListener(f,C){}}return b.type="NONE",b})();function Zt(b,p,f){return`firebase:${b}:${p}:${f}`}class Nr{constructor(p,f,C){this.persistence=p,this.auth=f,this.userKey=C;const{config:A,name:z}=this.auth;this.fullUserKey=Zt(this.userKey,A.apiKey,z),this.fullPersistenceKey=Zt("persistence",A.apiKey,z),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,j.A)(function*(){const f=yield p.persistence._get(p.fullUserKey);return f?de._fromJSON(p.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var f=this;return(0,j.A)(function*(){if(f.persistence===p)return;const C=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=p,C?f.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,f,C="authUser"){return(0,j.A)(function*(){if(!f.length)return new Nr(Ze(pr),p,C);const A=(yield Promise.all(f.map(function(){var ot=(0,j.A)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let z=A[0]||Ze(pr);const re=Zt(C,p.config.apiKey,p.name);let ue=null;for(const ot of f)try{const Dt=yield ot._get(re);if(Dt){const St=de._fromJSON(p,Dt);ot!==z&&(ue=St),z=ot;break}}catch{}const Ae=A.filter(ot=>ot._shouldAllowMigration);return z._shouldAllowMigration&&Ae.length?(z=Ae[0],ue&&(yield z._set(re,ue.toJSON())),yield Promise.all(f.map(function(){var ot=(0,j.A)(function*(Dt){if(Dt!==z)try{yield Dt._remove(re)}catch{}});return function(Dt){return ot.apply(this,arguments)}}())),new Nr(z,p,C)):new Nr(z,p,C)})()}}function Xt(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ke(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(xs(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(hi(p))return"Blackberry";if(le(p))return"Webos";if(ce(p))return"Safari";if((p.includes("chrome/")||he(p))&&!p.includes("edge/"))return"Chrome";if(bt(p))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function xs(b=(0,_e.ZQ)()){return/firefox\//i.test(b)}function ce(b=(0,_e.ZQ)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function he(b=(0,_e.ZQ)()){return/crios\//i.test(b)}function ke(b=(0,_e.ZQ)()){return/iemobile/i.test(b)}function bt(b=(0,_e.ZQ)()){return/android/i.test(b)}function hi(b=(0,_e.ZQ)()){return/blackberry/i.test(b)}function le(b=(0,_e.ZQ)()){return/webos/i.test(b)}function ye(b=(0,_e.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function zt(b=(0,_e.ZQ)()){return ye(b)||bt(b)||le(b)||hi(b)||/windows phone/i.test(b)||ke(b)}function yi(b,p=[]){let f;switch(b){case"Browser":f=Xt((0,_e.ZQ)());break;case"Worker":f=`${Xt((0,_e.ZQ)())}-${b}`;break;default:f=b}const C=p.length?p.join(","):"FirebaseCore-web";return`${f}/JsCore/${ft.SDK_VERSION}/${C}`}class oa{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,f){const C=z=>new Promise((re,ue)=>{try{re(p(z))}catch(Ae){ue(Ae)}});C.onAbort=f,this.queue.push(C);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var f=this;return(0,j.A)(function*(){if(f.auth.currentUser===p)return;const C=[];try{for(const A of f.queue)yield A(p),A.onAbort&&C.push(A.onAbort)}catch(A){C.reverse();for(const z of C)try{z()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}function oo(){return(oo=(0,j.A)(function*(b,p={}){return Oe(b,"GET","/v2/passwordPolicy",be(b,p))})).apply(this,arguments)}class iH{constructor(p){var f,C,A,z;const re=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=re.minPasswordLength)&&void 0!==f?f:6,re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=re.maxPasswordLength),void 0!==re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=re.containsLowercaseCharacter),void 0!==re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=re.containsUppercaseCharacter),void 0!==re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=re.containsNumericCharacter),void 0!==re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=re.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(A=null===(C=p.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==A?A:"",this.forceUpgradeOnSignin=null!==(z=p.forceUpgradeOnSignin)&&void 0!==z&&z,this.schemaVersion=p.schemaVersion}validatePassword(p){var f,C,A,z,re,ue;const Ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Ae),this.validatePasswordCharacterOptions(p,Ae),Ae.isValid&&(Ae.isValid=null===(f=Ae.meetsMinPasswordLength)||void 0===f||f),Ae.isValid&&(Ae.isValid=null===(C=Ae.meetsMaxPasswordLength)||void 0===C||C),Ae.isValid&&(Ae.isValid=null===(A=Ae.containsLowercaseLetter)||void 0===A||A),Ae.isValid&&(Ae.isValid=null===(z=Ae.containsUppercaseLetter)||void 0===z||z),Ae.isValid&&(Ae.isValid=null===(re=Ae.containsNumericCharacter)||void 0===re||re),Ae.isValid&&(Ae.isValid=null===(ue=Ae.containsNonAlphanumericCharacter)||void 0===ue||ue),Ae}validatePasswordLengthOptions(p,f){const C=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;C&&(f.meetsMinPasswordLength=p.length>=C),A&&(f.meetsMaxPasswordLength=p.length<=A)}validatePasswordCharacterOptions(p,f){let C;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let A=0;A<p.length;A++)C=p.charAt(A),this.updatePasswordCharacterOptionsStatuses(f,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(p,f,C,A,z){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=z))}}class cP{constructor(p,f,C,A){this.app=p,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=C,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tu(this),this.idTokenSubscription=new tu(this),this.beforeStateQueue=new oa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,f){var C=this;return f&&(this._popupRedirectResolver=Ze(f)),this._initializationPromise=this.queue((0,j.A)(function*(){var A,z;if(!C._deleted&&(C.persistenceManager=yield Nr.create(C,p),!C._deleted)){if(null!==(A=C._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(f),C.lastNotifiedUid=(null===(z=C.currentUser)||void 0===z?void 0:z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,j.A)(function*(){if(p._deleted)return;const f=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||f){if(p.currentUser&&f&&p.currentUser.uid===f.uid)return p._currentUser._assign(f),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(f,!0)}})()}initializeCurrentUserFromIdToken(p){var f=this;return(0,j.A)(function*(){try{const C=yield Cd(f,{idToken:p}),A=yield de._fromGetAccountInfoResponse(f,C,p);yield f.directlySetCurrentUser(A)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield f.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var f=this;return(0,j.A)(function*(){var C;if((0,ft._isFirebaseServerApp)(f.app)){const ue=f.app.settings.authIdToken;return ue?new Promise(Ae=>{setTimeout(()=>f.initializeCurrentUserFromIdToken(ue).then(Ae,Ae))}):f.directlySetCurrentUser(null)}const A=yield f.assertedPersistence.getCurrentUser();let z=A,re=!1;if(p&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ue=null===(C=f.redirectUser)||void 0===C?void 0:C._redirectEventId,Ae=z?._redirectEventId,ot=yield f.tryRedirectSignIn(p);(!ue||ue===Ae)&&ot?.user&&(z=ot.user,re=!0)}if(!z)return f.directlySetCurrentUser(null);if(!z._redirectEventId){if(re)try{yield f.beforeStateQueue.runMiddleware(z)}catch(ue){z=A,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ue))}return z?f.reloadAndSetCurrentUserOrClear(z):f.directlySetCurrentUser(null)}return Ce(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===z._redirectEventId?f.directlySetCurrentUser(z):f.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(p){var f=this;return(0,j.A)(function*(){let C=null;try{C=yield f._popupRedirectResolver._completeRedirectFn(f,p,!0)}catch{yield f._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var f=this;return(0,j.A)(function*(){try{yield vn(p)}catch(C){if("auth/network-request-failed"!==C?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Us(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,j.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var f=this;return(0,j.A)(function*(){if((0,ft._isFirebaseServerApp)(f.app))return Promise.reject(Bt(f));const C=p?(0,_e.Ku)(p):null;return C&&Ce(C.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(C&&C._clone(f))})()}_updateCurrentUser(p,f=!1){var C=this;return(0,j.A)(function*(){if(!C._deleted)return p&&Ce(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),f||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,j.A)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,j.A)(function*(){return(0,ft._isFirebaseServerApp)(p.app)?Promise.reject(Bt(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var f=this;return(0,ft._isFirebaseServerApp)(this.app)?Promise.reject(Bt(this)):this.queue((0,j.A)(function*(){yield f.assertedPersistence.setPersistence(Ze(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var f=this;return(0,j.A)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const C=f._getPasswordPolicyInternal();return C.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,j.A)(function*(){const f=yield function xd(b){return oo.apply(this,arguments)}(p),C=new iH(f);null===p.tenantId?p._projectPasswordPolicy=C:p._tenantPasswordPolicies[p.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new _e.FA("auth","Firebase",p())}onAuthStateChanged(p,f,C){return this.registerStateListener(this.authStateSubscription,p,f,C)}beforeAuthStateChanged(p,f){return this.beforeStateQueue.pushCallback(p,f)}onIdTokenChanged(p,f,C){return this.registerStateListener(this.idTokenSubscription,p,f,C)}authStateReady(){return new Promise((p,f)=>{if(this.currentUser)p();else{const C=this.onAuthStateChanged(()=>{C(),p()},f)}})}revokeAccessToken(p){var f=this;return(0,j.A)(function*(){if(f.currentUser){const C=yield f.currentUser.getIdToken(),A={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:C};null!=f.tenantId&&(A.tenantId=f.tenantId),yield function U(b,p){return $.apply(this,arguments)}(f,A)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,f){var C=this;return(0,j.A)(function*(){const A=yield C.getOrInitRedirectPersistenceManager(f);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var f=this;return(0,j.A)(function*(){if(!f.redirectPersistenceManager){const C=p&&Ze(p)||f._popupRedirectResolver;Ce(C,f,"argument-error"),f.redirectPersistenceManager=yield Nr.create(f,[Ze(C._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(p){var f=this;return(0,j.A)(function*(){var C,A;return f._isInitialized&&(yield f.queue((0,j.A)(function*(){}))),(null===(C=f._currentUser)||void 0===C?void 0:C._redirectEventId)===p?f._currentUser:(null===(A=f.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?f.redirectUser:null})()}_persistUserIfCurrent(p){var f=this;return(0,j.A)(function*(){if(p===f.currentUser)return f.queue((0,j.A)(function*(){return f.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(f=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,f,C,A){if(this._deleted)return()=>{};const z="function"==typeof f?f:f.next.bind(f);let re=!1;const ue=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(ue,this,"internal-error"),ue.then(()=>{re||z(this.currentUser)}),"function"==typeof f){const Ae=p.addObserver(f,C,A);return()=>{re=!0,Ae()}}{const Ae=p.addObserver(f);return()=>{re=!0,Ae()}}}directlySetCurrentUser(p){var f=this;return(0,j.A)(function*(){f.currentUser&&f.currentUser!==p&&f._currentUser._stopProactiveRefresh(),p&&f.isProactiveRefreshEnabled&&p._startProactiveRefresh(),f.currentUser=p,p?yield f.assertedPersistence.setCurrentUser(p):yield f.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,j.A)(function*(){var f;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(f=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();A&&(C["X-Firebase-Client"]=A);const z=yield p._getAppCheckToken();return z&&(C["X-Firebase-AppCheck"]=z),C})()}_getAppCheckToken(){var p=this;return(0,j.A)(function*(){var f;const C=yield null===(f=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return C?.error&&function dr(b,...p){Nn.logLevel<=Rt.$b.WARN&&Nn.warn(`Auth (${ft.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function xr(b){return(0,_e.Ku)(b)}class tu{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,_e.tD)(f=>this.observer=f)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wy={loadJS:()=>(0,j.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cM(b){return wy.loadJS(b)}function dM(b){return`__${b}${Math.floor(1e6*Math.random())}`}class ci{constructor(p){this.type="recaptcha-enterprise",this.auth=xr(p)}verify(p="verify",f=!1){var C=this;return(0,j.A)(function*(){function z(){return z=(0,j.A)(function*(ue){if(!f){if(null==ue.tenantId&&null!=ue._agentRecaptchaConfig)return ue._agentRecaptchaConfig.siteKey;if(null!=ue.tenantId&&void 0!==ue._tenantRecaptchaConfigs[ue.tenantId])return ue._tenantRecaptchaConfigs[ue.tenantId].siteKey}return new Promise(function(){var Ae=(0,j.A)(function*(ot,Dt){Fo(ue,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(St=>{if(void 0!==St.recaptchaKey){const Br=new hl(St);return null==ue.tenantId?ue._agentRecaptchaConfig=Br:ue._tenantRecaptchaConfigs[ue.tenantId]=Br,ot(Br.siteKey)}Dt(new Error("recaptcha Enterprise site key undefined"))}).catch(St=>{Dt(St)})});return function(ot,Dt){return Ae.apply(this,arguments)}}())}),z.apply(this,arguments)}function re(ue,Ae,ot){const Dt=window.grecaptcha;wr(Dt)?Dt.enterprise.ready(()=>{Dt.enterprise.execute(ue,{action:p}).then(St=>{Ae(St)}).catch(()=>{Ae("NO_RECAPTCHA")})}):ot(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ue,Ae)=>{(function A(ue){return z.apply(this,arguments)})(C.auth).then(ot=>{if(!f&&wr(window.grecaptcha))re(ot,ue,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));let Dt=function dP(){return wy.recaptchaEnterpriseScript}();0!==Dt.length&&(Dt+=ot),cM(Dt).then(()=>{re(ot,ue,Ae)}).catch(St=>{Ae(St)})}}).catch(ot=>{Ae(ot)})})})()}}function uP(b,p,f){return uM.apply(this,arguments)}function uM(){return(uM=(0,j.A)(function*(b,p,f,C=!1){const A=new ci(b);let z;try{z=yield A.verify(f)}catch{z=yield A.verify(f,!0)}const re=Object.assign({},p);return Object.assign(re,C?{captchaResp:z}:{captchaResponse:z}),Object.assign(re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),re})).apply(this,arguments)}function xy(b,p,f,C){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,j.A)(function*(b,p,f,C){var A;if(null!==(A=b._getRecaptchaConfig())&&void 0!==A&&A.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const z=yield uP(b,p,f,"getOobCode"===f);return C(b,z)}return C(b,p).catch(function(){var z=(0,j.A)(function*(re){if("auth/missing-recaptcha-token"===re.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ue=yield uP(b,p,f,"getOobCode"===f);return C(b,ue)}return Promise.reject(re)});return function(re){return z.apply(this,arguments)}}())}),Pe.apply(this,arguments)}function hM(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Nf(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class sh{constructor(p,f){this.providerId=p,this.signInMethod=f}toJSON(){return ri("not implemented")}_getIdTokenResponse(p){return ri("not implemented")}_linkToIdToken(p,f){return ri("not implemented")}_getReauthenticationResolver(p){return ri("not implemented")}}function pM(b,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:resetPassword",be(b,p))})).apply(this,arguments)}function My(){return(My=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function aa(b,p){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function zn(){return(zn=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",be(b,p))})).apply(this,arguments)}function cH(b,p){return gM.apply(this,arguments)}function gM(){return(gM=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signInWithPassword",be(b,p))})).apply(this,arguments)}function Me(b,p){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:sendOobCode",be(b,p))})).apply(this,arguments)}function Iy(){return(Iy=(0,j.A)(function*(b,p){return Me(b,p)})).apply(this,arguments)}function FC(b,p){return OC.apply(this,arguments)}function OC(){return(OC=(0,j.A)(function*(b,p){return Me(b,p)})).apply(this,arguments)}function LC(b,p){return fM.apply(this,arguments)}function fM(){return(fM=(0,j.A)(function*(b,p){return Me(b,p)})).apply(this,arguments)}function mM(){return(mM=(0,j.A)(function*(b,p){return Me(b,p)})).apply(this,arguments)}function vM(){return(vM=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signInWithEmailLink",be(b,p))})).apply(this,arguments)}function zf(){return(zf=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signInWithEmailLink",be(b,p))})).apply(this,arguments)}class iu extends sh{constructor(p,f,C,A=null){super("password",C),this._email=p,this._password=f,this._tenantId=A}static _fromEmailAndPassword(p,f){return new iu(p,f,"password")}static _fromEmailAndCode(p,f,C=null){return new iu(p,f,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const f="string"==typeof p?JSON.parse(p):p;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(p){var f=this;return(0,j.A)(function*(){switch(f.signInMethod){case"password":return xy(p,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cH);case"emailLink":return function uH(b,p){return vM.apply(this,arguments)}(p,{email:f._email,oobCode:f._password});default:Yi(p,"internal-error")}})()}_linkToIdToken(p,f){var C=this;return(0,j.A)(function*(){switch(C.signInMethod){case"password":return xy(p,{idToken:f,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aa);case"emailLink":return function Bf(b,p){return zf.apply(this,arguments)}(p,{idToken:f,email:C._email,oobCode:C._password});default:Yi(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Sd(b,p){return NC.apply(this,arguments)}function NC(){return(NC=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signInWithIdp",be(b,p))})).apply(this,arguments)}class ic extends sh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const f=new ic(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(f.idToken=p.idToken),p.accessToken&&(f.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(f.nonce=p.nonce),p.pendingToken&&(f.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(f.accessToken=p.oauthToken,f.secret=p.oauthTokenSecret):Yi("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const f="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A}=f,z=(0,dn.Tt)(f,["providerId","signInMethod"]);if(!C||!A)return null;const re=new ic(C,A);return re.idToken=z.idToken||void 0,re.accessToken=z.accessToken||void 0,re.secret=z.secret,re.nonce=z.nonce,re.pendingToken=z.pendingToken||null,re}_getIdTokenResponse(p){return Sd(p,this.buildRequest())}_linkToIdToken(p,f){const C=this.buildRequest();return C.idToken=f,Sd(p,C)}_getReauthenticationResolver(p){const f=this.buildRequest();return f.autoCreate=!1,Sd(p,f)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),p.postBody=(0,_e.Am)(f)}return p}}function VC(){return(VC=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:sendVerificationCode",be(b,p))})).apply(this,arguments)}function BC(){return(BC=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signInWithPhoneNumber",be(b,p))})).apply(this,arguments)}function Ay(){return(Ay=(0,j.A)(function*(b,p){const f=yield vi(b,"POST","/v1/accounts:signInWithPhoneNumber",be(b,p));if(f.temporaryProof)throw Mn(b,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const ze={USER_NOT_FOUND:"user-not-found"};function Gf(){return(Gf=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signInWithPhoneNumber",be(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ze)})).apply(this,arguments)}class nc extends sh{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,f){return new nc({verificationId:p,verificationCode:f})}static _fromTokenResponse(p,f){return new nc({phoneNumber:p,temporaryProof:f})}_getIdTokenResponse(p){return function nu(b,p){return BC.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,f){return function ne(b,p){return Ay.apply(this,arguments)}(p,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ty(b,p){return Gf.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:f,verificationId:C,verificationCode:A}=this.params;return p&&f?{temporaryProof:p,phoneNumber:f}:{sessionInfo:C,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:f,verificationCode:C,phoneNumber:A,temporaryProof:z}=p;return C||f||A||z?new nc({verificationId:f,verificationCode:C,phoneNumber:A,temporaryProof:z}):null}}class Hf{constructor(p){var f,C,A,z,re,ue;const Ae=(0,_e.I9)((0,_e.hp)(p)),ot=null!==(f=Ae.apiKey)&&void 0!==f?f:null,Dt=null!==(C=Ae.oobCode)&&void 0!==C?C:null,St=function gP(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ae.mode)&&void 0!==A?A:null);Ce(ot&&Dt&&St,"argument-error"),this.apiKey=ot,this.operation=St,this.code=Dt,this.continueUrl=null!==(z=Ae.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(re=Ae.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(ue=Ae.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const f=function fP(b){const p=(0,_e.I9)((0,_e.hp)(b)).link,f=p?(0,_e.I9)((0,_e.hp)(p)).deep_link_id:null,C=(0,_e.I9)((0,_e.hp)(b)).deep_link_id;return(C?(0,_e.I9)((0,_e.hp)(C)).link:null)||C||f||p||b}(p);try{return new Hf(f)}catch{return null}}}let Np=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(f,C){return iu._fromEmailAndPassword(f,C)}static credentialWithLink(f,C){const A=Hf.parseLink(C);return Ce(A,"argument-error"),iu._fromEmailAndCode(f,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ss{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Bo extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class zi extends Bo{static credentialFromJSON(p){const f="string"==typeof p?JSON.parse(p):p;return Ce("providerId"in f&&"signInMethod"in f,"argument-error"),ic._fromParams(f)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ce(p.idToken||p.accessToken,"argument-error"),ic._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return zi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return zi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:f,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:z,nonce:re,providerId:ue}=p;if(!C&&!A&&!f&&!z||!ue)return null;try{return new zi(ue)._credential({idToken:f,accessToken:C,nonce:re,pendingToken:z})}catch{return null}}}let jf=(()=>{class b extends Bo{constructor(){super("facebook.com")}static credential(f){return ic._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return b.credential(f.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ry=(()=>{class b extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(f,C){return ic._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:C})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:C,oauthAccessToken:A}=f;if(!C&&!A)return null;try{return b.credential(C,A)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ky=(()=>{class b extends Bo{constructor(){super("github.com")}static credential(f){return ic._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return b.credential(f.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class la extends sh{constructor(p,f){super(p,p),this.pendingToken=f}_getIdTokenResponse(p){return Sd(p,this.buildRequest())}_linkToIdToken(p,f){const C=this.buildRequest();return C.idToken=f,Sd(p,C)}_getReauthenticationResolver(p){const f=this.buildRequest();return f.autoCreate=!1,Sd(p,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const f="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A,pendingToken:z}=f;return C&&A&&z&&C===A?new la(C,z):null}static _create(p,f){return new la(p,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wf extends Ss{constructor(p){Ce(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wf.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wf.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const f=la.fromJSON(p);return Ce(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:f,providerId:C}=p;if(!f||!C)return null;try{return la._create(C,f)}catch{return null}}}let zC=(()=>{class b extends Bo{constructor(){super("twitter.com")}static credential(f,C){return ic._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:C})}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=f;if(!C||!A)return null;try{return b.credential(C,A)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Py(b,p){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signUp",be(b,p))})).apply(this,arguments)}class ka{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,f,C,A=!1){return(0,j.A)(function*(){const z=yield de._fromIdTokenResponse(p,C,A),re=Vp(C);return new ka({user:z,providerId:re,_tokenResponse:C,operationType:f})})()}static _forOperation(p,f,C){return(0,j.A)(function*(){yield p._updateTokensIfNecessary(C,!0);const A=Vp(C);return new ka({user:p,providerId:A,_tokenResponse:C,operationType:f})})()}}function Vp(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Oy(){return(Oy=(0,j.A)(function*(b){var p;if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const f=xr(b);if(yield f._initializationPromise,null!==(p=f.currentUser)&&void 0!==p&&p.isAnonymous)return new ka({user:f.currentUser,providerId:null,operationType:"signIn"});const C=yield Py(f,{returnSecureToken:!0}),A=yield ka._fromIdTokenResponse(f,"signIn",C,!0);return yield f._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ly extends _e.g{constructor(p,f,C,A){var z;super(f.code,f.message),this.operationType=C,this.user=A,Object.setPrototypeOf(this,Ly.prototype),this.customData={appName:p.name,tenantId:null!==(z=p.tenantId)&&void 0!==z?z:void 0,_serverResponse:f.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,f,C,A){return new Ly(p,f,C,A)}}function GC(b,p,f,C){return("reauthenticate"===p?f._getReauthenticationResolver(b):f._getIdTokenResponse(b)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Ly._fromErrorAndOperation(b,z,p,C):z})}function _M(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Pa(){return Pa=(0,j.A)(function*(b,p){const f=(0,_e.Ku)(b);yield Vy(!0,f,p);const{providerUserInfo:C}=yield function Ta(b,p){return so.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[p]}),A=_M(C||[]);return f.providerData=f.providerData.filter(z=>A.has(z.providerId)),A.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Pa.apply(this,arguments)}function HC(b,p){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,j.A)(function*(b,p,f=!1){const C=yield ms(b,p._linkToIdToken(b.auth,yield b.getIdToken()),f);return ka._forOperation(b,"link",C)})).apply(this,arguments)}function Vy(b,p,f){return jC.apply(this,arguments)}function jC(){return(jC=(0,j.A)(function*(b,p,f){yield vn(p);const A=!1===b?"provider-already-linked":"no-such-provider";Ce(_M(p.providerData).has(f)===b,p.auth,A)})).apply(this,arguments)}function CM(b,p){return UC.apply(this,arguments)}function UC(){return(UC=(0,j.A)(function*(b,p,f=!1){const{auth:C}=b;if((0,ft._isFirebaseServerApp)(C.app))return Promise.reject(Bt(C));const A="reauthenticate";try{const z=yield ms(b,GC(C,A,p,b),f);Ce(z.idToken,C,"internal-error");const re=Oo(z.idToken);Ce(re,C,"internal-error");const{sub:ue}=re;return Ce(b.uid===ue,C,"user-mismatch"),ka._forOperation(b,A,z)}catch(z){throw"auth/user-not-found"===z?.code&&Yi(C,"user-mismatch"),z}})).apply(this,arguments)}function WC(b,p){return $C.apply(this,arguments)}function $C(){return($C=(0,j.A)(function*(b,p,f=!1){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const C="signIn",A=yield GC(b,C,p),z=yield ka._fromIdTokenResponse(b,C,A);return f||(yield b._updateCurrentUser(z.user)),z})).apply(this,arguments)}function By(b,p){return YC.apply(this,arguments)}function YC(){return(YC=(0,j.A)(function*(b,p){return WC(xr(b),p)})).apply(this,arguments)}function Be(b,p){return KC.apply(this,arguments)}function KC(){return(KC=(0,j.A)(function*(b,p){const f=(0,_e.Ku)(b);return yield Vy(!1,f,p.providerId),HC(f,p)})).apply(this,arguments)}function wM(b,p){return qC.apply(this,arguments)}function qC(){return(qC=(0,j.A)(function*(b,p){return CM((0,_e.Ku)(b),p)})).apply(this,arguments)}function ZC(){return(ZC=(0,j.A)(function*(b,p){return vi(b,"POST","/v1/accounts:signInWithCustomToken",be(b,p))})).apply(this,arguments)}function tt(){return tt=(0,j.A)(function*(b,p){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const f=xr(b),C=yield function Mi(b,p){return ZC.apply(this,arguments)}(f,{token:p,returnSecureToken:!0}),A=yield ka._fromIdTokenResponse(f,"signIn",C);return yield f._updateCurrentUser(A.user),A}),tt.apply(this,arguments)}class $s{constructor(p,f){this.factorId=p,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(p,f){return"phoneInfo"in f?qi._fromServerResponse(p,f):"totpInfo"in f?Os._fromServerResponse(p,f):Yi(p,"internal-error")}}class qi extends $s{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,f){return new qi(f)}}class Os extends $s{constructor(p){super("totp",p)}static _fromServerResponse(p,f){return new Os(f)}}function Ys(b,p,f){var C;Ce((null===(C=f.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),Ce(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=f.url,p.dynamicLinkDomain=f.dynamicLinkDomain,p.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ce(f.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=f.iOS.bundleId),f.android&&(Ce(f.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=f.android.installApp,p.androidMinimumVersionCode=f.android.minimumVersion,p.androidPackageName=f.android.packageName)}function su(b){return zo.apply(this,arguments)}function zo(){return(zo=(0,j.A)(function*(b){const p=xr(b);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function zy(){return(zy=(0,j.A)(function*(b,p,f){const C=xr(b),A={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};f&&Ys(C,A,f),yield xy(C,A,"getOobCode",FC)})).apply(this,arguments)}function QC(){return QC=(0,j.A)(function*(b,p,f){yield pM((0,_e.Ku)(b),{oobCode:p,newPassword:f}).catch(function(){var C=(0,j.A)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&su(b),A});return function(A){return C.apply(this,arguments)}}())}),QC.apply(this,arguments)}function Sr(){return Sr=(0,j.A)(function*(b,p){yield function lH(b,p){return zn.apply(this,arguments)}((0,_e.Ku)(b),{oobCode:p})}),Sr.apply(this,arguments)}function vt(b,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,j.A)(function*(b,p){const f=(0,_e.Ku)(b),C=yield pM(f,{oobCode:p}),A=C.requestType;switch(Ce(A,f,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(C.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(C.mfaInfo,f,"internal-error");default:Ce(C.email,f,"internal-error")}let z=null;return C.mfaInfo&&(z=$s._fromServerResponse(xr(f),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:z},operation:A}})).apply(this,arguments)}function Fa(){return(Fa=(0,j.A)(function*(b,p){const{data:f}=yield vt((0,_e.Ku)(b),p);return f.email})).apply(this,arguments)}function Ks(){return(Ks=(0,j.A)(function*(b,p,f){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const C=xr(b),re=yield xy(C,{returnSecureToken:!0,email:p,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Py).catch(Ae=>{throw"auth/password-does-not-meet-requirements"===Ae.code&&su(b),Ae}),ue=yield ka._fromIdTokenResponse(C,"signIn",re);return yield C._updateCurrentUser(ue.user),ue})).apply(this,arguments)}function Oc(){return(Oc=(0,j.A)(function*(b,p,f){const C=xr(b),A={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function z(re,ue){Ce(ue.handleCodeInApp,C,"argument-error"),ue&&Ys(C,re,ue)})(A,f),yield xy(C,A,"getOobCode",LC)})).apply(this,arguments)}function oh(){return(oh=(0,j.A)(function*(b,p,f){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const C=(0,_e.Ku)(b),A=Np.credentialWithLink(p,f||Dn());return Ce(A._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),By(C,A)})).apply(this,arguments)}function ou(){return(ou=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:createAuthUri",be(b,p))})).apply(this,arguments)}function ah(){return ah=(0,j.A)(function*(b,p){const C={identifier:p,continueUri:un()?Dn():"http://localhost"},{signinMethods:A}=yield function DM(b,p){return ou.apply(this,arguments)}((0,_e.Ku)(b),C);return A||[]}),ah.apply(this,arguments)}function vl(){return vl=(0,j.A)(function*(b,p){const f=(0,_e.Ku)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Ys(f.auth,A,p);const{email:z}=yield function PC(b,p){return Iy.apply(this,arguments)}(f.auth,A);z!==b.email&&(yield b.reload())}),vl.apply(this,arguments)}function Hy(){return Hy=(0,j.A)(function*(b,p,f){const C=(0,_e.Ku)(b),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};f&&Ys(C.auth,z,f);const{email:re}=yield function dH(b,p){return mM.apply(this,arguments)}(C.auth,z);re!==b.email&&(yield b.reload())}),Hy.apply(this,arguments)}function rc(){return(rc=(0,j.A)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lh(){return lh=(0,j.A)(function*(b,{displayName:p,photoURL:f}){if(void 0===p&&void 0===f)return;const C=(0,_e.Ku)(b),z={idToken:yield C.getIdToken(),displayName:p,photoUrl:f,returnSecureToken:!0},re=yield ms(C,function au(b,p){return rc.apply(this,arguments)}(C.auth,z));C.displayName=re.displayName||null,C.photoURL=re.photoUrl||null;const ue=C.providerData.find(({providerId:Ae})=>"password"===Ae);ue&&(ue.displayName=C.displayName,ue.photoURL=C.photoURL),yield C._updateTokensIfNecessary(re)}),lh.apply(this,arguments)}function jy(b,p,f){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,j.A)(function*(b,p,f){const{auth:C}=b,z={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(z.email=p),f&&(z.password=f);const re=yield ms(b,function kC(b,p){return My.apply(this,arguments)}(C,z));yield b._updateTokensIfNecessary(re,!0)}),Uy.apply(this,arguments)}class Dd{constructor(p,f,C={}){this.isNewUser=p,this.providerId=f,this.profile=C}}class ch extends Dd{constructor(p,f,C,A){super(p,f,C),this.username=A}}class qf extends Dd{constructor(p,f){super(p,"facebook.com",f)}}class ao extends ch{constructor(p,f){super(p,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class pH extends Dd{constructor(p,f){super(p,"google.com",f)}}class ca extends ch{constructor(p,f,C){super(p,"twitter.com",f,C)}}function Go(b){const{user:p,_tokenResponse:f}=b;return p.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Lc(b){var p,f;if(!b)return null;const{providerId:C}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},z=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const re=null===(f=null===(p=Oo(b.idToken))||void 0===p?void 0:p.firebase)||void 0===f?void 0:f.sign_in_provider;if(re)return new Dd(z,"anonymous"!==re&&"custom"!==re?re:null)}if(!C)return null;switch(C){case"facebook.com":return new qf(z,A);case"github.com":return new ao(z,A);case"google.com":return new pH(z,A);case"twitter.com":return new ca(z,A,b.screenName||null);case"custom":case"anonymous":return new Dd(z,null);default:return new Dd(z,C,A)}}(f)}class jp{constructor(p,f,C){this.type=p,this.credential=f,this.user=C}static _fromIdtoken(p,f){return new jp("enroll",p,f)}static _fromMfaPendingCredential(p){return new jp("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var f,C;if(p?.multiFactorSession){if(null!==(f=p.multiFactorSession)&&void 0!==f&&f.pendingCredential)return jp._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return jp._fromIdtoken(p.multiFactorSession.idToken)}return null}}class IM{constructor(p,f,C){this.session=p,this.hints=f,this.signInResolver=C}static _fromError(p,f){const C=xr(p),A=f.customData._serverResponse,z=(A.mfaInfo||[]).map(ue=>$s._fromServerResponse(C,ue));Ce(A.mfaPendingCredential,C,"internal-error");const re=jp._fromMfaPendingCredential(A.mfaPendingCredential);return new IM(re,z,function(){var ue=(0,j.A)(function*(Ae){const ot=yield Ae._process(C,re);delete A.mfaInfo,delete A.mfaPendingCredential;const Dt=Object.assign(Object.assign({},A),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(f.operationType){case"signIn":const St=yield ka._fromIdTokenResponse(C,f.operationType,Dt);return yield C._updateCurrentUser(St.user),St;case"reauthenticate":return Ce(f.user,C,"internal-error"),ka._forOperation(f.user,f.operationType,Dt);default:Yi(C,"internal-error")}});return function(Ae){return ue.apply(this,arguments)}}())}resolveSignIn(p){var f=this;return(0,j.A)(function*(){return f.signInResolver(p)})()}}class AM{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(C=>$s._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new AM(p)}getSession(){var p=this;return(0,j.A)(function*(){return jp._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,f){var C=this;return(0,j.A)(function*(){const A=p,z=yield C.getSession(),re=yield ms(C.user,A._process(C.user.auth,z,f));return yield C.user._updateTokensIfNecessary(re),C.user.reload()})()}unenroll(p){var f=this;return(0,j.A)(function*(){const C="string"==typeof p?p:p.uid,A=yield f.user.getIdToken();try{const z=yield ms(f.user,function CH(b,p){return Oe(b,"POST","/v2/accounts/mfaEnrollment:withdraw",be(b,p))}(f.user.auth,{idToken:A,mfaEnrollmentId:C}));f.enrolledFactors=f.enrolledFactors.filter(({uid:re})=>re!==C),yield f.user._updateTokensIfNecessary(z),yield f.user.reload()}catch(z){throw z}})()}}const Wy=new WeakMap,ew="__sak";class bP{constructor(p,f){this.storageRetriever=p,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ew,"1"),this.storage.removeItem(ew),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,f){return this.storage.setItem(p,JSON.stringify(f)),Promise.resolve()}_get(p){const f=this.storage.getItem(p);return Promise.resolve(f?JSON.parse(f):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const tw=(()=>{class b extends bP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,C)=>this.onStorageEvent(f,C),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),z=this.localCache[C];A!==z&&f(C,z,A)}}onStorageEvent(f,C=!1){if(!f.key)return void this.forAllChangedKeys((ue,Ae,ot)=>{this.notifyListeners(ue,ot)});const A=f.key;C?this.detachListener():this.stopPolling();const z=()=>{const ue=this.storage.getItem(A);!C&&this.localCache[A]===ue||this.notifyListeners(A,ue)},re=this.storage.getItem(A);!function xt(){return(0,_e.lT)()&&10===document.documentMode}()||re===f.newValue||f.newValue===f.oldValue?z():setTimeout(z,10)}notifyListeners(f,C){this.localCache[f]=C;const A=this.listeners[f];if(A)for(const z of Array.from(A))z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,C){var A=()=>super._set,z=this;return(0,j.A)(function*(){yield A().call(z,f,C),z.localCache[f]=JSON.stringify(C)})()}_get(f){var C=()=>super._get,A=this;return(0,j.A)(function*(){const z=yield C().call(A,f);return A.localCache[f]=JSON.stringify(z),z})()}_remove(f){var C=()=>super._remove,A=this;return(0,j.A)(function*(){yield C().call(A,f),delete A.localCache[f]})()}}return b.type="LOCAL",b})(),Mr=(()=>{class b extends bP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,C){}_removeListener(f,C){}}return b.type="SESSION",b})();let yl=(()=>{class b{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const C=this.receivers.find(z=>z.isListeningto(f));if(C)return C;const A=new b(f);return this.receivers.push(A),A}isListeningto(f){return this.eventTarget===f}handleEvent(f){var C=this;return(0,j.A)(function*(){const A=f,{eventId:z,eventType:re,data:ue}=A.data,Ae=C.handlersMap[re];if(!Ae?.size)return;A.ports[0].postMessage({status:"ack",eventId:z,eventType:re});const ot=Array.from(Ae).map(function(){var St=(0,j.A)(function*(Br){return Br(A.origin,ue)});return function(Br){return St.apply(this,arguments)}}()),Dt=yield function $y(b){return Promise.all(b.map(function(){var p=(0,j.A)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(C){return{fulfilled:!1,reason:C}}});return function(f){return p.apply(this,arguments)}}()))}(ot);A.ports[0].postMessage({status:"done",eventId:z,eventType:re,response:Dt})})()}_subscribe(f,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(C)}_unsubscribe(f,C){this.handlersMap[f]&&C&&this.handlersMap[f].delete(C),(!C||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Up(b="",p=10){let f="";for(let C=0;C<p;C++)f+=Math.floor(10*Math.random());return b+f}class RM{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,f,C=50){var A=this;return(0,j.A)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let re,ue;return new Promise((Ae,ot)=>{const Dt=Up("",20);z.port1.start();const St=setTimeout(()=>{ot(new Error("unsupported_event"))},C);ue={messageChannel:z,onMessage(Br){const oc=Br;if(oc.data.eventId===Dt)switch(oc.data.status){case"ack":clearTimeout(St),re=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),Ae(oc.data.response);break;default:clearTimeout(St),clearTimeout(re),ot(new Error("invalid_response"))}}},A.handlers.add(ue),z.port1.addEventListener("message",ue.onMessage),A.target.postMessage({eventType:p,eventId:Dt,data:f},[z.port2])}).finally(()=>{ue&&A.removeMessageHandler(ue)})})()}}function bs(){return window}function Zf(){return typeof bs().WorkerGlobalScope<"u"&&"function"==typeof bs().importScripts}function Qf(){return(Qf=(0,j.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const nw="firebaseLocalStorageDb",hh="firebaseLocalStorage",Wp="fbase_key";class Nc{constructor(p){this.request=p}toPromise(){return new Promise((p,f)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Xf(b,p){return b.transaction([hh],p?"readwrite":"readonly").objectStore(hh)}function LM(){const b=indexedDB.open(nw,1);return new Promise((p,f)=>{b.addEventListener("error",()=>{f(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(hh,{keyPath:Wp})}catch(A){f(A)}}),b.addEventListener("success",(0,j.A)(function*(){const C=b.result;C.objectStoreNames.contains(hh)?p(C):(C.close(),yield function xH(){const b=indexedDB.deleteDatabase(nw);return new Nc(b).toPromise()}(),p(yield LM()))}))})}function _P(b,p,f){return rw.apply(this,arguments)}function rw(){return(rw=(0,j.A)(function*(b,p,f){const C=Xf(b,!0).put({[Wp]:p,value:f});return new Nc(C).toPromise()})).apply(this,arguments)}function NM(){return(NM=(0,j.A)(function*(b,p){const f=Xf(b,!1).get(p),C=yield new Nc(f).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function sw(b,p){const f=Xf(b,!0).delete(p);return new Nc(f).toPromise()}const Jf=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,j.A)(function*(){return f.db||(f.db=yield LM()),f.db})()}_withRetries(f){var C=this;return(0,j.A)(function*(){let A=0;for(;;)try{const z=yield C._openDb();return yield f(z)}catch(z){if(A++>3)throw z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,j.A)(function*(){return Zf()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,j.A)(function*(){f.receiver=yl._getInstance(function FM(){return Zf()?self:null}()),f.receiver._subscribe("keyChanged",function(){var C=(0,j.A)(function*(A,z){return{keyProcessed:(yield f._poll()).includes(z.key)}});return function(A,z){return C.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var C=(0,j.A)(function*(A,z){return["keyChanged"]});return function(A,z){return C.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,j.A)(function*(){var C,A;if(f.activeServiceWorker=yield function PM(){return Qf.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new RM(f.activeServiceWorker);const z=yield f.sender._send("ping",{},800);z&&null!==(C=z[0])&&void 0!==C&&C.fulfilled&&null!==(A=z[0])&&void 0!==A&&A.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var C=this;return(0,j.A)(function*(){if(C.sender&&C.activeServiceWorker&&function iw(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:f},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,j.A)(function*(){try{if(!indexedDB)return!1;const f=yield LM();return yield _P(f,ew,"1"),yield sw(f,ew),!0}catch{}return!1})()}_withPendingWrite(f){var C=this;return(0,j.A)(function*(){C.pendingWrites++;try{yield f()}finally{C.pendingWrites--}})()}_set(f,C){var A=this;return(0,j.A)(function*(){return A._withPendingWrite((0,j.A)(function*(){return yield A._withRetries(z=>_P(z,f,C)),A.localCache[f]=C,A.notifyServiceWorker(f)}))})()}_get(f){var C=this;return(0,j.A)(function*(){const A=yield C._withRetries(z=>function CP(b,p){return NM.apply(this,arguments)}(z,f));return C.localCache[f]=A,A})()}_remove(f){var C=this;return(0,j.A)(function*(){return C._withPendingWrite((0,j.A)(function*(){return yield C._withRetries(A=>sw(A,f)),delete C.localCache[f],C.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,j.A)(function*(){const C=yield f._withRetries(re=>{const ue=Xf(re,!1).getAll();return new Nc(ue).toPromise()});if(!C)return[];if(0!==f.pendingWrites)return[];const A=[],z=new Set;if(0!==C.length)for(const{fbase_key:re,value:ue}of C)z.add(re),JSON.stringify(f.localCache[re])!==JSON.stringify(ue)&&(f.notifyListeners(re,ue),A.push(re));for(const re of Object.keys(f.localCache))f.localCache[re]&&!z.has(re)&&(f.notifyListeners(re,null),A.push(re));return A})()}notifyListeners(f,C){this.localCache[f]=C;const A=this.listeners[f];if(A)for(const z of Array.from(A))z(C)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,j.A)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Yy=1e12;class DP{constructor(p){this.auth=p,this.counter=Yy,this._widgets=new Map}render(p,f){const C=this.counter;return this._widgets.set(C,new GM(p,this.auth.name,f||{})),this.counter++,C}reset(p){var f;const C=p||Yy;null===(f=this._widgets.get(C))||void 0===f||f.delete(),this._widgets.delete(C)}getResponse(p){var f;return(null===(f=this._widgets.get(p||Yy))||void 0===f?void 0:f.getResponse())||""}execute(p){var f=this;return(0,j.A)(function*(){var C;return null===(C=f._widgets.get(p||Yy))||void 0===C||C.execute(),""})()}}class GM{constructor(p,f,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;Ce(A,"argument-error",{appName:f}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function MP(b){const p=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)p.push(f.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":f}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ky=dM("rcb"),EP=new me(3e4,6e4);class DH{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=bs().grecaptcha)||void 0===p||!p.render)}load(p,f=""){return Ce(function IP(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(f),p,"argument-error"),this.shouldResolveImmediately(f)&&ln(bs().grecaptcha)?Promise.resolve(bs().grecaptcha):new Promise((C,A)=>{const z=bs().setTimeout(()=>{A(Bi(p,"network-request-failed"))},EP.get());bs()[Ky]=()=>{bs().clearTimeout(z),delete bs()[Ky];const ue=bs().grecaptcha;if(!ue||!ln(ue))return void A(Bi(p,"internal-error"));const Ae=ue.render;ue.render=(ot,Dt)=>{const St=Ae(ot,Dt);return this.counter++,St},this.hostLanguage=f,C(ue)},cM(`${function rH(){return wy.recaptchaV2Script}()}?${(0,_e.Am)({onload:Ky,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(z),A(Bi(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var f;return!(null===(f=bs().grecaptcha)||void 0===f||!f.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xn{load(p){return(0,j.A)(function*(){return new DP(p)})()}clearedOneInstance(){}}const aw="recaptcha",AP={theme:"light",type:"image"};class TP{constructor(p,f,C=Object.assign({},AP)){this.parameters=C,this.type=aw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xr(p),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;Ce(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xn:new DH,this.validateStartingState()}verify(){var p=this;return(0,j.A)(function*(){p.assertNotDestroyed();const f=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(f)||new Promise(z=>{const re=ue=>{ue&&(p.tokenChangeListeners.delete(re),z(ue))};p.tokenChangeListeners.add(re),p.isInvisible&&C.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return f=>{if(this.tokenChangeListeners.forEach(C=>C(f)),"function"==typeof p)p(f);else if("string"==typeof p){const C=bs()[p];"function"==typeof C&&C(f)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,j.A)(function*(){if(yield p.init(),!p.widgetId){let f=p.container;if(!p.isInvisible){const C=document.createElement("div");f.appendChild(C),f=C}p.widgetId=p.getAssertedRecaptcha().render(f,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,j.A)(function*(){Ce(un()&&!Zf(),p.auth,"internal-error"),yield function HM(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const f=yield function bo(b){return En.apply(this,arguments)}(p.auth);Ce(f,p.auth,"internal-error"),p.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qy{constructor(p,f){this.verificationId=p,this.onConfirmation=f}confirm(p){const f=nc._fromVerification(this.verificationId,p);return this.onConfirmation(f)}}function em(){return(em=(0,j.A)(function*(b,p,f){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const C=xr(b),A=yield In(C,p,(0,_e.Ku)(f));return new qy(A,z=>By(C,z))})).apply(this,arguments)}function bl(){return(bl=(0,j.A)(function*(b,p,f){const C=(0,_e.Ku)(b);yield Vy(!1,C,"phone");const A=yield In(C.auth,p,(0,_e.Ku)(f));return new qy(A,z=>Be(C,z))})).apply(this,arguments)}function Zy(){return(Zy=(0,j.A)(function*(b,p,f){const C=(0,_e.Ku)(b);if((0,ft._isFirebaseServerApp)(C.auth.app))return Promise.reject(Bt(C.auth));const A=yield In(C.auth,p,(0,_e.Ku)(f));return new qy(A,z=>wM(C,z))})).apply(this,arguments)}function In(b,p,f){return tm.apply(this,arguments)}function tm(){return tm=(0,j.A)(function*(b,p,f){var C;const A=yield f.verify();try{let z;if(Ce("string"==typeof A,b,"argument-error"),Ce(f.type===aw,b,"argument-error"),z="string"==typeof p?{phoneNumber:p}:p,"session"in z){const re=z.session;if("phoneNumber"in z)return Ce("enroll"===re.type,b,"internal-error"),(yield function yH(b,p){return Oe(b,"POST","/v2/accounts/mfaEnrollment:start",be(b,p))}(b,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Ce("signin"===re.type,b,"internal-error");const ue=(null===(C=z.multiFactorHint)||void 0===C?void 0:C.uid)||z.multiFactorUid;return Ce(ue,b,"missing-multi-factor-info"),(yield function SH(b,p){return Oe(b,"POST","/v2/accounts/mfaSignIn:start",be(b,p))}(b,{mfaPendingCredential:re.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield function Lp(b,p){return VC.apply(this,arguments)}(b,{phoneNumber:z.phoneNumber,recaptchaToken:A});return re}}finally{f._reset()}}),tm.apply(this,arguments)}function Co(){return(Co=(0,j.A)(function*(b,p){const f=(0,_e.Ku)(b);if((0,ft._isFirebaseServerApp)(f.auth.app))return Promise.reject(Bt(f.auth));yield HC(f,p)})).apply(this,arguments)}let im=(()=>{class b{constructor(f){this.providerId=b.PROVIDER_ID,this.auth=xr(f)}verifyPhoneNumber(f,C){return In(this.auth,f,(0,_e.Ku)(C))}static credential(f,C){return nc._fromVerification(f,C)}static credentialFromResult(f){return b.credentialFromTaggedObject(f)}static credentialFromError(f){return b.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:C,temporaryProof:A}=f;return C&&A?nc._fromTokenResponse(C,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function lu(b,p){return p?Ze(p):(Ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class cu extends sh{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Sd(p,this._buildIdpRequest())}_linkToIdToken(p,f){return Sd(p,this._buildIdpRequest(f))}_getReauthenticationResolver(p){return Sd(p,this._buildIdpRequest())}_buildIdpRequest(p){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(f.idToken=p),f}}function La(b){return WC(b.auth,new cu(b),b.bypassAuthState)}function PP(b){const{auth:p,user:f}=b;return Ce(f,p,"internal-error"),CM(f,new cu(b),b.bypassAuthState)}function FP(b){return lw.apply(this,arguments)}function lw(){return(lw=(0,j.A)(function*(b){const{auth:p,user:f}=b;return Ce(f,p,"internal-error"),HC(f,new cu(b),b.bypassAuthState)})).apply(this,arguments)}class Md{constructor(p,f,C,A,z=!1){this.auth=p,this.resolver=C,this.user=A,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var p=this;return new Promise(function(){var f=(0,j.A)(function*(C,A){p.pendingPromise={resolve:C,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(z){p.reject(z)}});return function(C,A){return f.apply(this,arguments)}}())}onAuthEvent(p){var f=this;return(0,j.A)(function*(){const{urlResponse:C,sessionId:A,postBody:z,tenantId:re,error:ue,type:Ae}=p;if(ue)return void f.reject(ue);const ot={auth:f.auth,requestUri:C,sessionId:A,tenantId:re||void 0,postBody:z||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(ot))}catch(Dt){f.reject(Dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return La;case"linkViaPopup":case"linkViaRedirect":return FP;case"reauthViaPopup":case"reauthViaRedirect":return PP;default:Yi(this.auth,"internal-error")}}resolve(p){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UM=new me(2e3,1e4);function Xy(){return(Xy=(0,j.A)(function*(b,p,f){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bi(b,"operation-not-supported-in-this-environment"));const C=xr(b);Qe(b,p,Ss);const A=lu(C,f);return new eb(C,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Jy(){return(Jy=(0,j.A)(function*(b,p,f){const C=(0,_e.Ku)(b);if((0,ft._isFirebaseServerApp)(C.auth.app))return Promise.reject(Bi(C.auth,"operation-not-supported-in-this-environment"));Qe(C.auth,p,Ss);const A=lu(C.auth,f);return new eb(C.auth,"reauthViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}function si(){return(si=(0,j.A)(function*(b,p,f){const C=(0,_e.Ku)(b);Qe(C.auth,p,Ss);const A=lu(C.auth,f);return new eb(C.auth,"linkViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}let eb=(()=>{class b extends Md{constructor(f,C,A,z,re){super(f,C,z,re),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var f=this;return(0,j.A)(function*(){const C=yield f.execute();return Ce(C,f.auth,"internal-error"),C})()}onExecution(){var f=this;return(0,j.A)(function*(){xi(1===f.filter.length,"Popup operations only handle one event");const C=Up();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],C),f.authWindow.associatedEvent=C,f.resolver._originValidation(f.auth).catch(A=>{f.reject(A)}),f.resolver._isIframeWebStorageSupported(f.auth,A=>{A||f.reject(Bi(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const f=()=>{var C,A;this.pollId=null!==(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,UM.get())};f()}}return b.currentPopupAction=null,b})();const MH="pendingRedirect",nm=new Map;class NP extends Md{constructor(p,f,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,f=this;return(0,j.A)(function*(){let C=nm.get(f.auth._key());if(!C){try{const z=(yield function VP(b,p){return tb.apply(this,arguments)}(f.resolver,f.auth))?yield p().call(f):null;C=()=>Promise.resolve(z)}catch(A){C=()=>Promise.reject(A)}nm.set(f.auth._key(),C)}return f.bypassAuthState||nm.set(f.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var f=()=>super.onAuthEvent,C=this;return(0,j.A)(function*(){if("signInViaRedirect"===p.type)return f().call(C,p);if("unknown"!==p.type){if(p.eventId){const A=yield C.auth._redirectUserForId(p.eventId);if(A)return C.user=A,f().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,j.A)(function*(){})()}cleanUp(){}}function tb(){return(tb=(0,j.A)(function*(b,p){const f=YM(p),C=$M(b);if(!(yield C._isAvailable()))return!1;const A="true"===(yield C._get(f));return yield C._remove(f),A})).apply(this,arguments)}function du(b,p){return cw.apply(this,arguments)}function cw(){return(cw=(0,j.A)(function*(b,p){return $M(b)._set(YM(p),"true")})).apply(this,arguments)}function dw(b,p){nm.set(b._key(),p)}function $M(b){return Ze(b._redirectPersistence)}function YM(b){return Zt(MH,b.config.apiKey,b.name)}function Ge(b,p,f){return function en(b,p,f){return Le.apply(this,arguments)}(b,p,f)}function Le(){return(Le=(0,j.A)(function*(b,p,f){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const C=xr(b);Qe(b,p,Ss),yield C._initializationPromise;const A=lu(C,f);return yield du(A,C),A._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Ve(b,p,f){return function lo(b,p,f){return ib.apply(this,arguments)}(b,p,f)}function ib(){return(ib=(0,j.A)(function*(b,p,f){const C=(0,_e.Ku)(b);if(Qe(C.auth,p,Ss),(0,ft._isFirebaseServerApp)(C.auth.app))return Promise.reject(Bt(C.auth));yield C.auth._initializationPromise;const A=lu(C.auth,f);yield du(A,C.auth);const z=yield wo(C);return A._openRedirect(C.auth,p,"reauthViaRedirect",z)})).apply(this,arguments)}function rm(b,p,f){return function Vc(b,p,f){return sm.apply(this,arguments)}(b,p,f)}function sm(){return(sm=(0,j.A)(function*(b,p,f){const C=(0,_e.Ku)(b);Qe(C.auth,p,Ss),yield C.auth._initializationPromise;const A=lu(C.auth,f);yield Vy(!1,C,p.providerId),yield du(A,C.auth);const z=yield wo(C);return A._openRedirect(C.auth,p,"linkViaRedirect",z)})).apply(this,arguments)}function hw(){return(hw=(0,j.A)(function*(b,p){return yield xr(b)._initializationPromise,pw(b,p,!1)})).apply(this,arguments)}function pw(b,p){return nb.apply(this,arguments)}function nb(){return(nb=(0,j.A)(function*(b,p,f=!1){if((0,ft._isFirebaseServerApp)(b.app))return Promise.reject(Bt(b));const C=xr(b),A=lu(C,p),re=yield new NP(C,A,f).execute();return re&&!f&&(delete re.user._redirectEventId,yield C._persistUserIfCurrent(re.user),yield C._setRedirectUser(null,p)),re})).apply(this,arguments)}function wo(b){return sc.apply(this,arguments)}function sc(){return(sc=(0,j.A)(function*(b){const p=Up(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class ph{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let f=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(f=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ZM(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qM(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=p,f=!0)),f}sendToConsumer(p,f){var C;if(p.error&&!qM(p)){const A=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";f.onError(Bi(this.auth,A))}else f.onAuthEvent(p)}isEventForConsumer(p,f){const C=null===f.eventId||!!p.eventId&&p.eventId===f.eventId;return f.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bc(p))}saveEventToCache(p){this.cachedEventUids.add(Bc(p)),this.lastProcessedEventTime=Date.now()}}function Bc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function qM({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function QM(b){return gw.apply(this,arguments)}function gw(){return(gw=(0,j.A)(function*(b,p={}){return Oe(b,"GET","/v1/projects",p)})).apply(this,arguments)}const fw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mw=/^https?/;function om(){return(om=(0,j.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield QM(b);for(const f of p)try{if(zP(f))return}catch{}Yi(b,"unauthorized-domain")})).apply(this,arguments)}function zP(b){const p=Dn(),{protocol:f,hostname:C}=new URL(p);if(b.startsWith("chrome-extension://")){const re=new URL(b);return""===re.hostname&&""===C?"chrome-extension:"===f&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===f&&re.hostname===C}if(!mw.test(f))return!1;if(fw.test(b))return C===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const JM=new me(3e4,6e4);function rb(){const b=bs().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let f=0;f<b.CP.length;f++)b.CP[f]=null}let am=null;const iE=new me(5e3,15e3),vw="__/auth/iframe",GP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ho=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gh(b){const p=b.config;Ce(p.authDomain,b,"auth-domain-config-required");const f=p.emulator?we(p,GP):`https://${b.config.authDomain}/${vw}`,C={apiKey:p.apiKey,appName:b.name,v:ft.SDK_VERSION},A=Ho.get(b.config.apiHost);A&&(C.eid=A);const z=b._getFrameworks();return z.length&&(C.fw=z.join(",")),`${f}?${(0,_e.Am)(C).slice(1)}`}function ki(){return ki=(0,j.A)(function*(b){const p=yield function tE(b){return am=am||function eE(b){return new Promise((p,f)=>{var C,A,z;function re(){rb(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{rb(),f(Bi(b,"network-request-failed"))},timeout:JM.get()})}if(null!==(A=null===(C=bs().gapi)||void 0===C?void 0:C.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(z=bs().gapi)||void 0===z||!z.load){const ue=dM("iframefcb");return bs()[ue]=()=>{gapi.load?re():f(Bi(b,"network-request-failed"))},cM(`${function sH(){return wy.gapiScript}()}?onload=${ue}`).catch(Ae=>f(Ae))}re()}}).catch(p=>{throw am=null,p})}(b),am}(b),f=bs().gapi;return Ce(f,b,"internal-error"),p.open({where:document.body,url:gh(b),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},C=>new Promise(function(){var A=(0,j.A)(function*(z,re){yield C.restyle({setHideOnLeave:!1});const ue=Bi(b,"network-request-failed"),Ae=bs().setTimeout(()=>{re(ue)},iE.get());function ot(){bs().clearTimeout(Ae),z(C)}C.ping(ot).then(ot,()=>{re(ue)})});return function(z,re){return A.apply(this,arguments)}}()))}),ki.apply(this,arguments)}const jP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lm{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const sb="__/auth/handler",ob="emulator/auth/handler",ab=encodeURIComponent("fac");function cm(b,p,f,C,A,z){return lb.apply(this,arguments)}function lb(){return(lb=(0,j.A)(function*(b,p,f,C,A,z){Ce(b.config.authDomain,b,"auth-domain-config-required"),Ce(b.config.apiKey,b,"invalid-api-key");const re={apiKey:b.config.apiKey,appName:b.name,authType:f,redirectUrl:C,v:ft.SDK_VERSION,eventId:A};if(p instanceof Ss){p.setDefaultLanguage(b.languageCode),re.providerId=p.providerId||"",(0,_e.Im)(p.getCustomParameters())||(re.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Dt,St]of Object.entries(z||{}))re[Dt]=St}if(p instanceof Bo){const Dt=p.getScopes().filter(St=>""!==St);Dt.length>0&&(re.scopes=Dt.join(","))}b.tenantId&&(re.tid=b.tenantId);const ue=re;for(const Dt of Object.keys(ue))void 0===ue[Dt]&&delete ue[Dt];const Ae=yield b._getAppCheckToken(),ot=Ae?`#${ab}=${encodeURIComponent(Ae)}`:"";return`${function sE({config:b}){return b.emulator?we(b,ob):`https://${b.authDomain}/${sb}`}(b)}?${(0,_e.Am)(ue).slice(1)}${ot}`})).apply(this,arguments)}const yw="webStorageSupport",Yp=class $p{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mr,this._completeRedirectFn=pw,this._overrideRedirectResult=dw}_openPopup(p,f,C,A){var z=this;return(0,j.A)(function*(){var re;xi(null===(re=z.eventManagers[p._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const ue=yield cm(p,f,C,Dn(),A);return function uu(b,p,f,C=500,A=600){const z=Math.max((window.screen.availHeight-A)/2,0).toString(),re=Math.max((window.screen.availWidth-C)/2,0).toString();let ue="";const Ae=Object.assign(Object.assign({},jP),{width:C.toString(),height:A.toString(),top:z,left:re}),ot=(0,_e.ZQ)().toLowerCase();f&&(ue=he(ot)?"_blank":f),xs(ot)&&(p=p||"http://localhost",Ae.scrollbars="yes");const Dt=Object.entries(Ae).reduce((Br,[oc,wh])=>`${Br}${oc}=${wh},`,"");if(function Ft(b=(0,_e.ZQ)()){var p;return ye(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ot)&&"_self"!==ue)return function WP(b,p){const f=document.createElement("a");f.href=b,f.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(C)}(p||"",ue),new lm(null);const St=window.open(p||"",ue,Dt);Ce(St,b,"popup-blocked");try{St.focus()}catch{}return new lm(St)}(p,ue,Up())})()}_openRedirect(p,f,C,A){var z=this;return(0,j.A)(function*(){return yield z._originValidation(p),function kM(b){bs().location.href=b}(yield cm(p,f,C,Dn(),A)),new Promise(()=>{})})()}_initialize(p){const f=p._key();if(this.eventManagers[f]){const{manager:A,promise:z}=this.eventManagers[f];return A?Promise.resolve(A):(xi(z,"If manager is not set, promise should be"),z)}const C=this.initAndGetManager(p);return this.eventManagers[f]={promise:C},C.catch(()=>{delete this.eventManagers[f]}),C}initAndGetManager(p){var f=this;return(0,j.A)(function*(){const C=yield function Vr(b){return ki.apply(this,arguments)}(p),A=new ph(p);return C.register("authEvent",z=>(Ce(z?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[p._key()]={manager:A},f.iframes[p._key()]=C,A})()}_isIframeWebStorageSupported(p,f){this.iframes[p._key()].send(yw,{type:yw},A=>{var z;const re=null===(z=A?.[0])||void 0===z?void 0:z[yw];void 0!==re&&f(!!re),Yi(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const f=p._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function XM(b){return om.apply(this,arguments)}(p)),this.originValidationPromises[f]}get _shouldInitProactively(){return zt()||ce()||ye()}};class oE{constructor(p){this.factorId=p}_process(p,f,C){switch(f.type){case"enroll":return this._finalizeEnroll(p,f.credential,C);case"signin":return this._finalizeSignIn(p,f.credential);default:return ri("unexpected MultiFactorSessionType")}}}class aE extends oE{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new aE(p)}_finalizeEnroll(p,f,C){return function bH(b,p){return Oe(b,"POST","/v2/accounts/mfaEnrollment:finalize",be(b,p))}(p,{idToken:f,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,f){return function xP(b,p){return Oe(b,"POST","/v2/accounts/mfaSignIn:finalize",be(b,p))}(p,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bw=(()=>{class b{constructor(){}static assertion(f){return aE._fromCredential(f)}}return b.FACTOR_ID="phone",b})();var $P="@firebase/auth";class dm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var f=this;return(0,j.A)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const f=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,f),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const f=this.internalListeners.get(p);f&&(this.internalListeners.delete(p),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xo(){return window}(0,_e.XA)("authIdTokenMaxAge"),function nH(b){wy=b}({loadJS:b=>new Promise((p,f)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=p,C.onerror=A=>{const z=Bi("internal-error");z.customData=A,f(z)},C.type="text/javascript",C.charset="UTF-8",function ZP(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function um(b){(0,ft._registerComponent)(new fn.uA("auth",(p,{options:f})=>{const C=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),z=p.getProvider("app-check-internal"),{apiKey:re,authDomain:ue}=C.options;Ce(re&&!re.includes(":"),"invalid-api-key",{appName:C.name});const Ae={apiKey:re,authDomain:ue,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(b)},ot=new cP(C,A,z,Ae);return function hP(b,p){const f=p?.persistence||[],C=(Array.isArray(f)?f:[f]).map(Ze);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(C,p?.popupRedirectResolver)}(ot,f),ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,f,C)=>{p.getProvider("auth-internal").initialize()})),(0,ft._registerComponent)(new fn.uA("auth-internal",p=>{const f=xr(p.getProvider("auth").getImmediate());return new dm(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ft.registerVersion)($P,"1.7.9",function YP(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,ft.registerVersion)($P,"1.7.9","esm2017")}("Browser");function hm(){return hm=(0,j.A)(function*(b,p,f){var C;const{BuildInfo:A}=xo();xi(p.sessionId,"AuthEvent did not contain a session ID");const z=yield function hE(b){return pb.apply(this,arguments)}(p.sessionId),re={};return ye()?re.ibi=A.packageName:bt()?re.apn=A.packageName:Yi(b,"operation-not-supported-in-this-environment"),A.displayName&&(re.appDisplayName=A.displayName),re.sessionId=z,cm(b,f,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,re)}),hm.apply(this,arguments)}function Kp(){return(Kp=(0,j.A)(function*(b){const{BuildInfo:p}=xo(),f={};ye()?f.iosBundleId=p.packageName:bt()?f.androidPackageName=p.packageName:Yi(b,"operation-not-supported-in-this-environment"),yield QM(b,f)})).apply(this,arguments)}function hb(){return(hb=(0,j.A)(function*(b,p,f){const{cordova:C}=xo();let A=()=>{};try{yield new Promise((z,re)=>{let ue=null;function Ae(){var St;z();const Br=null===(St=C.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof Br&&Br(),"function"==typeof f?.close&&f.close()}function ot(){ue||(ue=window.setTimeout(()=>{re(Bi(b,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===document?.visibilityState&&ot()}p.addPassiveListener(Ae),document.addEventListener("resume",ot,!1),bt()&&document.addEventListener("visibilitychange",Dt,!1),A=()=>{p.removePassiveListener(Ae),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Dt,!1),ue&&window.clearTimeout(ue)}})}finally{A()}})).apply(this,arguments)}function pb(){return(pb=(0,j.A)(function*(b){const p=function JP(b){if(xi(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),f=new Uint8Array(p);for(let C=0;C<b.length;C++)f[C]=b.charCodeAt(C);return f}(b),f=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(f)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class fh extends ph{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInitialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInitialized(),this.passiveListeners.forEach(f=>f(p)),super.onEvent(p)}initialized(){var p=this;return(0,j.A)(function*(){yield p.initPromise})()}}function Sw(b){return mh.apply(this,arguments)}function mh(){return(mh=(0,j.A)(function*(b){const p=yield Dw()._get(An(b));return p&&(yield Dw()._remove(An(b))),p})).apply(this,arguments)}function jo(){const b=[];for(let f=0;f<20;f++){const C=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return b.join("")}function Dw(){return Ze(tw)}function An(b){return Zt("authEvent",b.config.apiKey,b.name)}function pm(b){if(!b?.includes("?"))return{};const[p,...f]=b.split("?");return(0,_e.I9)(f.join("?"))}const Zp=class qp{constructor(){this._redirectPersistence=Mr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pw,this._overrideRedirectResult=dw}_initialize(p){var f=this;return(0,j.A)(function*(){const C=p._key();let A=f.eventManagers.get(C);return A||(A=new fh(p),f.eventManagers.set(C,A),f.attachCallbackListeners(p,A)),A})()}_openPopup(p){Yi(p,"operation-not-supported-in-this-environment")}_openRedirect(p,f,C,A){var z=this;return(0,j.A)(function*(){!function uE(b){var p,f,C,A,z,re,ue,Ae,ot,Dt;const St=xo();Ce("function"==typeof(null===(p=St?.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(typeof(null===(f=St?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(z=null===(A=null===(C=St?.cordova)||void 0===C?void 0:C.plugins)||void 0===A?void 0:A.browsertab)||void 0===z?void 0:z.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Ae=null===(ue=null===(re=St?.cordova)||void 0===re?void 0:re.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Ae?void 0:Ae.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Dt=null===(ot=St?.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Dt?void 0:Dt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const re=yield z._initialize(p);yield re.initialized(),re.resetRedirect(),function BP(){nm.clear()}(),yield z._originValidation(p);const ue=function eF(b,p,f=null){return{type:p,eventId:f,urlResponse:null,sessionId:jo(),postBody:null,tenantId:b.tenantId,error:Bi(b,"no-auth-event")}}(p,C,A);yield function pE(b,p){return Dw()._set(An(b),p)}(p,ue);const Ae=yield function ub(b,p,f){return hm.apply(this,arguments)}(p,ue,f),ot=yield function xw(b){const{cordova:p}=xo();return new Promise(f=>{p.plugins.browsertab.isAvailable(C=>{let A=null;C?p.plugins.browsertab.openUrl(b):A=p.InAppBrowser.open(b,function se(b=(0,_e.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),f(A)})})}(Ae);return function XP(b,p,f){return hb.apply(this,arguments)}(p,re,ot)})()}_isIframeWebStorageSupported(p,f){throw new Error("Method not implemented.")}_originValidation(p){const f=p._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function dE(b){return Kp.apply(this,arguments)}(p)),this.originValidationPromises[f]}attachCallbackListeners(p,f){const{universalLinks:C,handleOpenURL:A,BuildInfo:z}=xo(),re=setTimeout((0,j.A)(function*(){yield Sw(p),f.onEvent(vh())}),500),ue=function(){var Dt=(0,j.A)(function*(St){clearTimeout(re);const Br=yield Sw(p);let oc=null;Br&&St?.url&&(oc=function tF(b,p){var f,C;const A=function iF(b){const p=pm(b),f=p.link?decodeURIComponent(p.link):void 0,C=pm(f).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return pm(A).link||A||C||f||b}(p);if(A.includes("/__/auth/callback")){const z=pm(A),re=z.firebaseError?function Mw(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(z.firebaseError)):null,ue=null===(C=null===(f=re?.code)||void 0===f?void 0:f.split("auth/"))||void 0===C?void 0:C[1],Ae=ue?Bi(ue):null;return Ae?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:A,postBody:null}}return null}(Br,St.url)),f.onEvent(oc||vh())});return function(Br){return Dt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ue);const Ae=A,ot=`${z.packageName.toLowerCase()}://`;xo().handleOpenURL=function(){var Dt=(0,j.A)(function*(St){if(St.toLowerCase().startsWith(ot)&&ue({url:St}),"function"==typeof Ae)try{Ae(St)}catch(Br){console.error(Br)}});return function(St){return Dt.apply(this,arguments)}}()}};function vh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Bi("no-auth-event")}}function gm(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function nF(b=(0,_e.ZQ)()){return!("file:"!==gm()&&"ionic:"!==gm()&&"capacitor:"!==gm()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function yh(){try{const b=self.localStorage,p=Up();if(b)return b.setItem(p,"1"),b.removeItem(p),!function kH(b=(0,_e.ZQ)()){return function TH(){return(0,_e.lT)()&&11===document?.documentMode}()||function RH(b=(0,_e.ZQ)()){return/Edge\/\d+/.test(b)}(b)}()||(0,_e.zW)()}catch{return Iw()&&(0,_e.zW)()}return!1}function Iw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Aw(){return(function IH(){return"http:"===gm()||"https:"===gm()}()||(0,_e.sr)()||nF())&&!function AH(){return(0,_e.lV)()||(0,_e.Ll)()}()&&yh()&&!Iw()}function Ds(){return nF()&&typeof document<"u"}function bh(){return(bh=(0,j.A)(function*(){return!!Ds()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},zc=Ce,Tw="persistence";function _h(b){return Rw.apply(this,arguments)}function Rw(){return(Rw=(0,j.A)(function*(b){yield b._initializationPromise;const p=fE(),f=Zt(Tw,b.config.apiKey,b.name);p&&p.setItem(f,b._getPersistence())})).apply(this,arguments)}function fE(){var b;try{return(null===(b=function sF(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const FH=Ce;class Ms{constructor(){this.browserResolver=Ze(Yp),this.cordovaResolver=Ze(Zp),this.underlyingResolver=null,this._redirectPersistence=Mr,this._completeRedirectFn=pw,this._overrideRedirectResult=dw}_initialize(p){var f=this;return(0,j.A)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,f,C,A){var z=this;return(0,j.A)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(p,f,C,A)})()}_openRedirect(p,f,C,A){var z=this;return(0,j.A)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(p,f,C,A)})()}_isIframeWebStorageSupported(p,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,f)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ds()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return FH(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,j.A)(function*(){if(p.underlyingResolver)return;const f=yield function rF(){return bh.apply(this,arguments)}();p.underlyingResolver=f?p.cordovaResolver:p.browserResolver})()}}function mb(b){return b.unwrap()}function OH(b){return vE(b)}function vE(b){const{_tokenResponse:p}=b instanceof _e.g?b.customData:b;if(!p)return null;if(!(b instanceof _e.g)&&"temporaryProof"in p&&"phoneNumber"in p)return im.credentialFromResult(b);const f=p.providerId;if(!f||f===di.PASSWORD)return null;let C;switch(f){case di.GOOGLE:C=Ry;break;case di.FACEBOOK:C=jf;break;case di.GITHUB:C=ky;break;case di.TWITTER:C=zC;break;default:const{oauthIdToken:A,oauthAccessToken:z,oauthTokenSecret:re,pendingToken:ue,nonce:Ae}=p;return z||re||A||ue?ue?f.startsWith("saml.")?la._create(f,ue):ic._fromParams({providerId:f,signInMethod:f,pendingToken:ue,idToken:A,accessToken:z}):new zi(f).credential({idToken:A,accessToken:z,rawNonce:Ae}):null}return b instanceof _e.g?C.credentialFromError(b):C.credentialFromResult(b)}function da(b,p){return p.catch(f=>{throw f instanceof _e.g&&function mE(b,p){var f;const C=null===(f=p.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new oF(b,function vH(b,p){var f;const C=(0,_e.Ku)(b),A=p;return Ce(p.customData.operationType,C,"argument-error"),Ce(null===(f=A.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,C,"argument-error"),IM._fromError(C,A)}(b,p));else if(C){const A=vE(p),z=p;A&&(z.credential=A,z.tenantId=C.tenantId||void 0,z.email=C.email||void 0,z.phoneNumber=C.phoneNumber||void 0)}}(b,f),f}).then(f=>{const A=f.user;return{operationType:f.operationType,credential:OH(f),additionalUserInfo:Go(f),user:Id.getOrCreate(A)}})}function kw(b,p){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,j.A)(function*(b,p){const f=yield p;return{verificationId:f.verificationId,confirm:C=>da(b,f.confirm(C))}})).apply(this,arguments)}class oF{constructor(p,f){this.resolver=f,this.auth=function Xp(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return da(mb(this.auth),this.resolver.resolveSignIn(p))}}class Id{constructor(p){this._delegate=p,this.multiFactor=function TM(b){const p=(0,_e.Ku)(b);return Wy.has(p)||Wy.set(p,AM._fromUser(p)),Wy.get(p)}(p)}static getOrCreate(p){return Id.USER_MAP.has(p)||Id.USER_MAP.set(p,new Id(p)),Id.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var f=this;return(0,j.A)(function*(){return da(f.auth,Be(f._delegate,p))})()}linkWithPhoneNumber(p,f){var C=this;return(0,j.A)(function*(){return kw(C.auth,function kP(b,p,f){return bl.apply(this,arguments)}(C._delegate,p,f))})()}linkWithPopup(p){var f=this;return(0,j.A)(function*(){return da(f.auth,function LP(b,p,f){return si.apply(this,arguments)}(f._delegate,p,Ms))})()}linkWithRedirect(p){var f=this;return(0,j.A)(function*(){return yield _h(xr(f.auth)),rm(f._delegate,p,Ms)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var f=this;return(0,j.A)(function*(){return da(f.auth,wM(f._delegate,p))})()}reauthenticateWithPhoneNumber(p,f){return kw(this.auth,function jM(b,p,f){return Zy.apply(this,arguments)}(this._delegate,p,f))}reauthenticateWithPopup(p){return da(this.auth,function WM(b,p,f){return Jy.apply(this,arguments)}(this._delegate,p,Ms))}reauthenticateWithRedirect(p){var f=this;return(0,j.A)(function*(){return yield _h(xr(f.auth)),Ve(f._delegate,p,Ms)})()}sendEmailVerification(p){return function Gp(b,p){return vl.apply(this,arguments)}(this._delegate,p)}unlink(p){var f=this;return(0,j.A)(function*(){return yield function mP(b,p){return Pa.apply(this,arguments)}(f._delegate,p),f})()}updateEmail(p){return function Gi(b,p){const f=(0,_e.Ku)(b);return(0,ft._isFirebaseServerApp)(f.auth.app)?Promise.reject(Bt(f.auth)):jy(f,p,null)}(this._delegate,p)}updatePassword(p){return function hH(b,p){return jy((0,_e.Ku)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Qy(b,p){return Co.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Kf(b,p){return lh.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,f){return function Yf(b,p,f){return Hy.apply(this,arguments)}(this._delegate,p,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Id.USER_MAP=new WeakMap;const Ch=Ce;let fm=(()=>{class b{constructor(f,C){if(this.app=f,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=f.options;Ch(A,"invalid-api-key",{appName:f.name}),Ch(A,"invalid-api-key",{appName:f.name});const z=typeof window<"u"?Ms:void 0;this._delegate=C.initialize({options:{persistence:_l(A,f.name),popupRedirectResolver:z}}),this._delegate._updateErrorMap(Lr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Id.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,C){!function TC(b,p,f){const C=xr(b);Ce(C._canInitEmulator,C,"emulator-config-failed"),Ce(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const A=!!f?.disableWarnings,z=hM(p),{host:re,port:ue}=function Dy(b){const p=hM(b),f=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!f)return{host:"",port:null};const C=f[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(C);if(A){const z=A[1];return{host:z,port:Nf(C.substr(z.length+1))}}{const[z,re]=C.split(":");return{host:z,port:Nf(re)}}}(p);C.config.emulator={url:`${z}//${re}${null===ue?"":`:${ue}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:re,port:ue,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function RC(){function b(){const p=document.createElement("p"),f=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,f,C)}applyActionCode(f){return function vP(b,p){return Sr.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return vt(this._delegate,f)}confirmPasswordReset(f,C){return function Gy(b,p,f){return QC.apply(this,arguments)}(this._delegate,f,C)}createUserWithEmailAndPassword(f,C){var A=this;return(0,j.A)(function*(){return da(A._delegate,function $f(b,p,f){return Ks.apply(this,arguments)}(A._delegate,f,C))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function ys(b,p){return ah.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function zp(b,p){const f=Hf.parseLink(p);return"EMAIL_SIGNIN"===f?.operation}(0,f)}getRedirectResult(){var f=this;return(0,j.A)(function*(){Ch(Aw(),f._delegate,"operation-not-supported-in-this-environment");const C=yield function uw(b,p){return hw.apply(this,arguments)}(f._delegate,Ms);return C?da(f._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function gE(b,p){xr(b)._logFramework(p)}(this._delegate,f)}onAuthStateChanged(f,C,A){const{next:z,error:re,complete:ue}=Fw(f,C,A);return this._delegate.onAuthStateChanged(z,re,ue)}onIdTokenChanged(f,C,A){const{next:z,error:re,complete:ue}=Fw(f,C,A);return this._delegate.onIdTokenChanged(z,re,ue)}sendSignInLinkToEmail(f,C){return function vs(b,p,f){return Oc.apply(this,arguments)}(this._delegate,f,C)}sendPasswordResetEmail(f,C){return function SM(b,p,f){return zy.apply(this,arguments)}(this._delegate,f,C||void 0)}setPersistence(f){var C=this;return(0,j.A)(function*(){let A;switch(function fb(b,p){zc(Object.values(Er).includes(p),b,"invalid-persistence-type"),(0,_e.lV)()?zc(p!==Er.SESSION,b,"unsupported-persistence-type"):(0,_e.Ll)()?zc(p===Er.NONE,b,"unsupported-persistence-type"):Iw()?zc(p===Er.NONE||p===Er.LOCAL&&(0,_e.zW)(),b,"unsupported-persistence-type"):zc(p===Er.NONE||yh(),b,"unsupported-persistence-type")}(C._delegate,f),f){case Er.SESSION:A=Mr;break;case Er.LOCAL:A=(yield Ze(Jf)._isAvailable())?Jf:tw;break;case Er.NONE:A=pr;break;default:return Yi("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return da(this._delegate,function bM(b){return Oy.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return da(this._delegate,By(this._delegate,f))}signInWithCustomToken(f){return da(this._delegate,function xM(b,p){return tt.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,C){return da(this._delegate,function Bp(b,p,f){return(0,ft._isFirebaseServerApp)(b.app)?Promise.reject(Bt(b)):By((0,_e.Ku)(b),Np.credential(p,f)).catch(function(){var C=(0,j.A)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&su(b),A});return function(A){return C.apply(this,arguments)}}())}(this._delegate,f,C))}signInWithEmailLink(f,C){return da(this._delegate,function _i(b,p,f){return oh.apply(this,arguments)}(this._delegate,f,C))}signInWithPhoneNumber(f,C){return kw(this._delegate,function RP(b,p,f){return em.apply(this,arguments)}(this._delegate,f,C))}signInWithPopup(f){var C=this;return(0,j.A)(function*(){return Ch(Aw(),C._delegate,"operation-not-supported-in-this-environment"),da(C._delegate,function OP(b,p,f){return Xy.apply(this,arguments)}(C._delegate,f,Ms))})()}signInWithRedirect(f){var C=this;return(0,j.A)(function*(){return Ch(Aw(),C._delegate,"operation-not-supported-in-this-environment"),yield _h(C._delegate),Ge(C._delegate,f,Ms)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Dr(b,p){return Fa.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Er,b})();function Fw(b,p,f){let C=b;"function"!=typeof b&&({next:C,error:p,complete:f}=b);const A=C;return{next:re=>A(re&&Id.getOrCreate(re)),error:p,complete:f}}function _l(b,p){const f=function PH(b,p){const f=fE();if(!f)return[];const C=Zt(Tw,b,p);switch(f.getItem(C)){case Er.NONE:return[pr];case Er.LOCAL:return[Jf,Mr];case Er.SESSION:return[Mr];default:return[]}}(b,p);if(typeof self<"u"&&!f.includes(Jf)&&f.push(Jf),typeof window<"u")for(const C of[tw,Mr])f.includes(C)||f.push(C);return f.includes(pr)||f.push(pr),f}class Ow{constructor(){this.providerId="phone",this._delegate=new im(mb(Gt.A.auth()))}static credential(p,f){return im.credential(p,f)}verifyPhoneNumber(p,f){return this._delegate.verifyPhoneNumber(p,f)}unwrap(){return this._delegate}}Ow.PHONE_SIGN_IN_METHOD=im.PHONE_SIGN_IN_METHOD,Ow.PROVIDER_ID=im.PROVIDER_ID;const hu=Ce;class aF{constructor(p,f,C=Gt.A.app()){var A;hu(null===(A=C.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new TP(C.auth(),p,f),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lw(b){b.INTERNAL.registerComponent(new fn.uA("auth-compat",p=>{const f=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new fm(f,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Np,FacebookAuthProvider:jf,GithubAuthProvider:ky,GoogleAuthProvider:Ry,OAuthProvider:zi,SAMLAuthProvider:Wf,PhoneAuthProvider:Ow,PhoneMultiFactorGenerator:bw,RecaptchaVerifier:aF,TwitterAuthProvider:zC,Auth:fm,AuthCredential:sh,Error:_e.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.5.14")}(Gt.A)},749:(ul,gs,Pt)=>{Pt.d(gs,{MR:()=>rr,P2:()=>dr});var j=Pt(467);const Gt=(Qe,it)=>it.some(Ce=>Qe instanceof Ce);let ft,_e;const fn=new WeakMap,Sn=new WeakMap,di=new WeakMap,Ie=new WeakMap,We=new WeakMap;let Li={get(Qe,it,Ce){if(Qe instanceof IDBTransaction){if("done"===it)return Sn.get(Qe);if("objectStoreNames"===it)return Qe.objectStoreNames||di.get(Qe);if("store"===it)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return Yt(Qe[it])},set:(Qe,it,Ce)=>(Qe[it]=Ce,!0),has:(Qe,it)=>Qe instanceof IDBTransaction&&("done"===it||"store"===it)||it in Qe};function Lt(Qe){return"function"==typeof Qe?function ai(Qe){return Qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dn(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Qe)?function(...it){return Qe.apply(Nn(this),it),Yt(fn.get(this))}:function(...it){return Yt(Qe.apply(Nn(this),it))}:function(it,...Ce){const ri=Qe.call(Nn(this),it,...Ce);return di.set(ri,it.sort?it.sort():[it]),Yt(ri)}}(Qe):(Qe instanceof IDBTransaction&&function Ii(Qe){if(Sn.has(Qe))return;const it=new Promise((Ce,ri)=>{const xi=()=>{Qe.removeEventListener("complete",Dn),Qe.removeEventListener("error",un),Qe.removeEventListener("abort",un)},Dn=()=>{Ce(),xi()},un=()=>{ri(Qe.error||new DOMException("AbortError","AbortError")),xi()};Qe.addEventListener("complete",Dn),Qe.addEventListener("error",un),Qe.addEventListener("abort",un)});Sn.set(Qe,it)}(Qe),Gt(Qe,function Rt(){return ft||(ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Qe,Li):Qe)}function Yt(Qe){if(Qe instanceof IDBRequest)return function wt(Qe){const it=new Promise((Ce,ri)=>{const xi=()=>{Qe.removeEventListener("success",Dn),Qe.removeEventListener("error",un)},Dn=()=>{Ce(Yt(Qe.result)),xi()},un=()=>{ri(Qe.error),xi()};Qe.addEventListener("success",Dn),Qe.addEventListener("error",un)});return it.then(Ce=>{Ce instanceof IDBCursor&&fn.set(Ce,Qe)}).catch(()=>{}),We.set(it,Qe),it}(Qe);if(Ie.has(Qe))return Ie.get(Qe);const it=Lt(Qe);return it!==Qe&&(Ie.set(Qe,it),We.set(it,Qe)),it}const Nn=Qe=>We.get(Qe);function dr(Qe,it,{blocked:Ce,upgrade:ri,blocking:xi,terminated:Dn}={}){const un=indexedDB.open(Qe,it),Qt=Yt(un);return ri&&un.addEventListener("upgradeneeded",Zn=>{ri(Yt(un.result),Zn.oldVersion,Zn.newVersion,Yt(un.transaction),Zn)}),Ce&&un.addEventListener("blocked",Zn=>Ce(Zn.oldVersion,Zn.newVersion,Zn)),Qt.then(Zn=>{Dn&&Zn.addEventListener("close",()=>Dn()),xi&&Zn.addEventListener("versionchange",Us=>xi(Us.oldVersion,Us.newVersion,Us))}).catch(()=>{}),Qt}function rr(Qe,{blocked:it}={}){const Ce=indexedDB.deleteDatabase(Qe);return it&&Ce.addEventListener("blocked",ri=>it(ri.oldVersion,ri)),Yt(Ce).then(()=>{})}const Yi=["get","getKey","getAll","getAllKeys","count"],Bi=["put","add","delete","clear"],sr=new Map;function Bt(Qe,it){if(!(Qe instanceof IDBDatabase)||it in Qe||"string"!=typeof it)return;if(sr.get(it))return sr.get(it);const Ce=it.replace(/FromIndex$/,""),ri=it!==Ce,xi=Bi.includes(Ce);if(!(Ce in(ri?IDBIndex:IDBObjectStore).prototype)||!xi&&!Yi.includes(Ce))return;const Dn=function(){var un=(0,j.A)(function*(Qt,...Zn){const Us=this.transaction(Qt,xi?"readwrite":"readonly");let me=Us.store;return ri&&(me=me.index(Zn.shift())),(yield Promise.all([me[Ce](...Zn),xi&&Us.done]))[0]});return function(Zn){return un.apply(this,arguments)}}();return sr.set(it,Dn),Dn}!function Lr(Qe){Li=Qe(Li)}(Qe=>({...Qe,get:(it,Ce,ri)=>Bt(it,Ce)||Qe.get(it,Ce,ri),has:(it,Ce)=>!!Bt(it,Ce)||Qe.has(it,Ce)}))},467:(ul,gs,Pt)=>{function j(ft,_e,Rt,dn,fn,Sn,di){try{var Ie=ft[Sn](di),We=Ie.value}catch(wt){return void Rt(wt)}Ie.done?_e(We):Promise.resolve(We).then(dn,fn)}function Gt(ft){return function(){var _e=this,Rt=arguments;return new Promise(function(dn,fn){var Sn=ft.apply(_e,Rt);function di(We){j(Sn,dn,fn,di,Ie,"next",We)}function Ie(We){j(Sn,dn,fn,di,Ie,"throw",We)}di(void 0)})}}Pt.d(gs,{A:()=>Gt})},635:(ul,gs,Pt)=>{function _e(me,we){var oe={};for(var Te in me)Object.prototype.hasOwnProperty.call(me,Te)&&we.indexOf(Te)<0&&(oe[Te]=me[Te]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Te=Object.getOwnPropertySymbols(me);je<Te.length;je++)we.indexOf(Te[je])<0&&Object.prototype.propertyIsEnumerable.call(me,Te[je])&&(oe[Te[je]]=me[Te[je]])}return oe}function wt(me,we,oe,Te){return new(oe||(oe=Promise))(function(be,Oe){function li(vi){try{kt(Te.next(vi))}catch(mn){Oe(mn)}}function nt(vi){try{kt(Te.throw(vi))}catch(mn){Oe(mn)}}function kt(vi){vi.done?be(vi.value):function je(be){return be instanceof oe?be:new oe(function(Oe){Oe(be)})}(vi.value).then(li,nt)}kt((Te=Te.apply(me,we||[])).next())})}function rr(me){return this instanceof rr?(this.v=me,this):new rr(me)}function Yi(me,we,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Te=oe.apply(me,we||[]),be=[];return je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),li("next"),li("throw"),li("return",function Oe(Ki){return function(ur){return Promise.resolve(ur).then(Ki,mn)}}),je[Symbol.asyncIterator]=function(){return this},je;function li(Ki,ur){Te[Ki]&&(je[Ki]=function(Mn){return new Promise(function(ln,wr){be.push([Ki,Mn,ln,wr])>1||nt(Ki,Mn)})},ur&&(je[Ki]=ur(je[Ki])))}function nt(Ki,ur){try{!function kt(Ki){Ki.value instanceof rr?Promise.resolve(Ki.value.v).then(vi,mn):Vn(be[0][2],Ki)}(Te[Ki](ur))}catch(Mn){Vn(be[0][3],Mn)}}function vi(Ki){nt("next",Ki)}function mn(Ki){nt("throw",Ki)}function Vn(Ki,ur){Ki(ur),be.shift(),be.length&&nt(be[0][0],be[0][1])}}function sr(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,we=me[Symbol.asyncIterator];return we?we.call(me):(me=function ai(me){var we="function"==typeof Symbol&&Symbol.iterator,oe=we&&me[we],Te=0;if(oe)return oe.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Te>=me.length&&(me=void 0),{value:me&&me[Te++],done:!me}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),oe={},Te("next"),Te("throw"),Te("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function Te(be){oe[be]=me[be]&&function(Oe){return new Promise(function(li,nt){!function je(be,Oe,li,nt){Promise.resolve(nt).then(function(kt){be({value:kt,done:li})},Oe)}(li,nt,(Oe=me[be](Oe)).done,Oe.value)})}}}Pt.d(gs,{AQ:()=>Yi,N3:()=>rr,Tt:()=>_e,sH:()=>wt,xN:()=>sr}),"function"==typeof SuppressedError&&SuppressedError}},ul=>{ul(ul.s=65)}]);